<section class="content-header">
	<h1>
		<span>角色权限</span>
		<small>角色授权</small>
	</h1>
</section>

<section class="content">
	<div class="row">
		<div class="col-md-6">
			<!-- Horizontal Form -->
			<div class="box box-info">
				<div class="box-header with-border">
					<h3 class="box-title">角色授权</h3>
				</div>
				<!-- /.box-header -->
				<!-- form start -->
				<form class="form-horizontal ">
					<div class="box-body ajax_load_role_menu_list">
						
						<div class="form-group">
							<label for="inputPassword3" class="col-sm-2 control-label">角色</label>

							<div class="col-sm-10">
								<select class="form-control" style="width: 100%;" tabindex="-1" aria-hidden="true">
									<option selected="selected">系统管理员</option>
									<option>管理员</option>
									<option>普通用户</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<label for="inputPassword3" class="col-sm-2 control-label">状态</label>

							<div class="col-sm-10">
								<select class="form-control" style="width: 100%;" tabindex="-1" aria-hidden="true">
									<option selected="selected">正常</option>
									<option>禁用</option>
								</select>
							</div>
						</div>
					</div>
					<div class="box-footer text-center">
						<button type="button" class="btn btn-default" onclick="fun_to_link('pages/role/role_list.html')"><i class="fa fa-reply"></i> 返回</button>&nbsp;&nbsp;
						<button type="button" class="btn btn-info bg-olive"><i class="fa fa-save"></i> 保存</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</section>


<script type="text/javascript">
	ajax_load_role_menu_list();
	function ajax_load_role_menu_list(){
		$.basic_zyl.get_data_cross_domain({
			url: api_path + "/system/menu/query_by_json.html",
			data: {"pageSize": 1000},
			callback: function(d) {
				$(".ajax_load_role_menu_list").html(template(document.getElementById('t:ajax_load_role_menu_list').innerHTML, d));
			}
		});
	}
</script>
<script type="text/html" id="t:ajax_load_role_menu_list">
<div class="form-group">
	<label for="inputEmail3" class="col-sm-2 control-label">角色名称</label>

	<div class="col-sm-10">
		<input type="email" disabled="disabled" class="form-control" id="inputEmail3" placeholder="角色名称" value="<%=window._role_name%>">
	</div>
</div>
<div class="form-group">
	<label for="inputPassword3" class="col-sm-2 control-label">权限菜单</label>

	<div class="col-sm-10">
		<%for(var i=0;i<datas.length;i++){var item=datas[i];%>
			<div>
				<label class="menu_parent"><input type="checkbox" /> <%=item.menuName%>&nbsp;&nbsp;&nbsp;</label>
				<%for(var j=0;j<item.childrens.length;j++){var jitem=item.childrens[j];%>
					<label class="menu_child"><input type="checkbox" /> <%=jitem.menuName%></label>
				<%}%>
			</div>
		<%}%>
	</div>
</div>
</script>