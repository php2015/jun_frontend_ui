<section class="sidebar">
	<ul class="sidebar-menu ajax_load_menu1" data-widget="tree"></ul>
</section>

<script type="text/javascript">
	fun_ajax_load_menu();

	function fun_ajax_load_menu() {
		$.basic_zyl.get_data_cross_domain({
			url: api_path + "/system/menu/query_by_json.html",
			data: {
				"pageSize": 1000
			},
			callback: function(d) {
				$(".ajax_load_menu1").html(template(document.getElementById('t:ajax_load_menu').innerHTML, d));
				fun_ajax_load_user_info();
			}
		});
	}
	function fun_ajax_load_user_info(){
		$.basic_zyl.get_data_cross_domain({
			url: api_path + "/user/info/detail.html",
			data: {"id":_user_id},
			callback: function(d) {
				$(".ajax_load_user_head").attr("src",d.data.userHead);
				$(".ajax_load_user_name").html(d.data.userNickName);
			}
		});
	}
</script>
<script type="text/html" id="t:ajax_load_menu">
	<div class="user-panel">
		<div class="pull-left image">
			<img src="" class="img-circle ajax_load_user_head" alt="User Image">
		</div>
		<div class="pull-left info">
			<p class="ajax_load_user_name"></p>
			<a href="#"><i class="fa fa-circle text-success"></i> Online</a>
		</div>
	</div>
	<li class="header">主菜单</li>
	<%for(var i=0;i<datas.length;i++){var item=datas[i];%>
	<%if(item.childrens.length==0){%>
	<li>
		<a href="javascript:void(0);" onclick="fun_to_link('<%=item.menuLink%>',this);" data-url="<%=item.menuLink%>"><i class="fa <%=item.menuIcon%>"></i> <span><%=item.menuName%></span></a>
	</li>
	<%}else{%>
	<li class="treeview">
		<a href="#">
			<i class="fa <%=item.menuIcon%>"></i> <span><%=item.menuName%></span>
			<span class="pull-right-container">
	          <i class="fa fa-angle-left pull-right"></i>
	        </span>
		</a>
		<ul class="treeview-menu">
			<%for(var j=0;j<item.childrens.length;j++){var jitem=item.childrens[j];%>
			<li>
				<a href="javascript:void(0);" onclick="fun_to_link('<%=jitem.menuLink%>',this);" data-url="<%=item.menuLink%>"><i class="fa fa-circle-o"></i>
					<%=jitem.menuName%>
				</a>
			</li>
			<%}%>
		</ul>
	</li>
	<%}%>
	<%}%>
</script>