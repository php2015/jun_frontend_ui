<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>

<script type="text/javascript">
	function addDataToSessionStorage(data) {
		sessionStorage.setItem(new Date().getTime(), data);
	}
	
	function addDataToLocalStorage(data) {
		localStorage.setItem(new Date().getTime(), data);
	}
	
	function refreshData() {
		var tableSession = document.getElementById("tableSession");
		var tableLocal = document.getElementById("tableLocal");
		
		tableSession.innerHTML ="";
		tableLocal.innerHTML ="";
		
		for(var i = 0; i < sessionStorage.length; i++){
			var key = sessionStorage.key(i);
			var value = sessionStorage.getItem(key);
			
			tableSession.innerHTML += "<tr><td>" +key+ "</td><td>" +value+ "</td></tr>";
		}
		
		for(var i = 0; i < localStorage.length; i++){
			var key = localStorage.key(i);
			var value = localStorage.getItem(key);
			
			tableLocal.innerHTML += "<tr><td>" +key+ "</td><td>" +value+ "</td></tr>";
		}
	}
</script>
</head>
<body>
	<input type="text" name="demoData" id="demoData"/> 
	<hr>

	<h3>sessionStorage</h3>
	<input type="button" value="添加到会话缓存里面" onclick="addDataToSessionStorage(document.getElementById('demoData').value);alert('ok');"/>
	<hr>
	
	<h3>localStorage</h3>	
	<input type="button" value="添加到本地缓存里面" onclick="addDataToLocalStorage(document.getElementById('demoData').value);alert('ok');"/>	
	<hr>
	
	<h3>缓存数据</h3>
	<input type="button" value="刷新本地缓存数据" onclick="refreshData();">
	
	<h3>会话缓存</h3>
	<table id="tableSession">
		<tr>
			<th>key</th>
			<th>value</th>
		</tr>
	</table>
	
	<h3>本地缓存</h3>
	<table id="tableLocal">
		<tr>
			<th>key</th>
			<th>value</th>
		</tr>
	</table>
</body>
</html>