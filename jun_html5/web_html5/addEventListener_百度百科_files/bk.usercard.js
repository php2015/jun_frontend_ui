easy=(function(){var A=function(_,B){var A;for(A in B){if(B.hasOwnProperty(A)){_[A]=B[A];}}return _;},D=function(B,A){var _=Array.prototype.slice.call(arguments,2);return function(){return B.apply(A,_);};},C=function(B,A){var _=Array.prototype.slice.call(arguments,2);return function(C){var D=C||window.event,E=Array.prototype.concat(D,_);return B.apply(A,E);};},_=function(_){return typeof _=="string"?document.getElementById(_):_;},B={isGecko:/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),isStrict:document.compatMode=="CSS1Compat",isOpera:window.opera!=undefined,isWebkit:/webkit/i.test(navigator.userAgent)};if(/msie (\d+\.\d)/i.test(navigator.userAgent)){B.ie=document.documentMode||parseFloat(RegExp.$1);}if(/firefox\/(\d+\.\d)/i.test(navigator.userAgent)){B.firefox=parseFloat(RegExp.$1);}if(/chrome\/(\d+\.\d)/i.test(navigator.userAgent)){B.chrome=parseFloat(RegExp.$1);}if(/opera\/(\d+\.\d)/i.test(navigator.userAgent)){B.opera=parseFloat(RegExp.$1);}if((/(\d+\.\d)(\.\d)?\s+safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent))){B.safari=parseFloat(RegExp.$1);}return{extend:A,bind:D,bindWithEvent:C,browser:B,g:_};}());easy.fx=function(A){var _=function(){};this.options=easy.extend({duration:500,animate:true,selector:"",from:[],to:[],onStart:function(){return true;},onAnimate:_,onStop:_,toggle:false,transition:function(A,B,C,_){return C*A/_+B;}},A);this.timer=null;};easy.fx.prototype={animate:function(_){var B=new Date().getTime()+_,A=this;A.timer=window.setInterval(function(){var _=new Date().getTime();if(_<B){var C=B-_,D=A.computeStyle(C);baidu.setStyles(A.options.selector,D);A.options.onAnimate.call(null,_,B,D);}else{A.stop();}},30);},start:function(){window.clearTimeout(this.timer);this.timer=null;var _=this.options.onStart.call();if(!this.options.animate){this.stop();}else{if(_){this.animate(this.options.duration);}}},stop:function(){window.clearTimeout(this.timer);this.timer=null;var D=this.options,B=D.to.length,_={},C;for(C=0;C<B;++C){_[D.to[C][0]]=D.to[C][1]+(D.to[C][2]==1?"px":0);}baidu.setStyles(D.selector,_);D.onStop.call();if(D.toggle){var A=D.to;D.to=D.from;D.from=A;}},computeStyle:function(A){var C={},G=this.options,E=G.to.length,F;for(F=0;F<E;++F){var D=G.from[F],_=G.to[F],B=D[0];C[B]=G.transition(A,_[1],D[1]-_[1],G.duration)+(G.from[F][2]==1?"px":0);}return C;}};(function(){var N,O,S,B,C,X,E,W,M,V,P,R=false,H="http://baike.baidu.com/history/id=",G='<div><span>\u767e\u79d1\u9ad8\u624b</span>\u90fd\u662f\u4ece\u96f6\u5b66\u8d77\u7684\u3002</div><div class="indent">\u6211\u5c31\u662f\u6b63\u5728\u5b66\u4e60\u7684<span>\u6f5c\u529b\u6d3e\uff01</span></div>';function T(B,_){switch(B){case"ucInfo":U(_);break;case"ucRole":D(function(){return _&&_.length>0;},Q,_,C);break;case"ucBadge":D(function(){return _&&_.length>0;},J,_,X);break;case"ucHonor":D(function(){return!!_;},A,_,W);break;case"ucGoingTask":L(_);break;case"ucGdVer":D(function(){return!!_;},I,_,M);break;case"ucDefault":Y(_);break;case"ucEdit":K(_);break;}}function U(A){var _=bkuc.user.getUserAvatar(A.avatar,A.level);O.innerHTML='<img width="84px" height="84px" src="'+_+'" />';S.innerHTML=A.userName;S.href="http://passport.baidu.com/?business&aid=7&default_tab=2&un="+A.userName+"#3";S.target="_blank";B.innerHTML='<a class="usercardtitle level'+A.level+'" title="'+A.userTitle+'" target="_blank" href="http://www.baidu.com/search/baike_help.html#&#30334;&#31185;&#31215;&#20998;&#20307;&#31995;">\u7b49\u7ea7'+A.level+"</a>";}function Q(E){var B=E.length;if(B==0){return;}var _=[];_.push("<ul>");var D;for(D=0;D<B;++D){var A=E[D];_.push('<li><img width="16px" height="16px" src="'+A.src+'" /><a target="_blank" href="'+A.href+'">'+A.name+"</a></li>");}_.push("</ul>");C.innerHTML=_.join("");}function J(C){var B=C.length;if(B==0){return;}var _=[];_.push("<ul>");var D;for(D=0;D<B;++D){var A=C[D];if(A.id!=null){_.push('<li><img width="38px" height="38px" src="'+A.SmallIcon+'" title="'+A.Name+'" /></li>');}}_.push("</ul>");X.innerHTML=_.join("");}function A(_){if(_==1){W.innerHTML='\u6211\u7684\u8363\u8a89\uff1a<a target="_blank" href="/starlist/">\u767e\u79d1\u4e4b\u661f</a>';}}function L(_){var C=_.length;if(C==0){return;}var A=[];A.push('<ul class="fix">');var D;for(D=0;D<C;++D){var B=_[D];A.push('<li class="going-task-li"><a target="_blank" href="'+B.href+'"><img width="16px" height="16px" src="'+B.img+'" title="'+B.tip+'" /></a></li>');}A.push("</ul>");E.innerHTML='<div class="fl">\u6b63\u5728\u53c2\u52a0\u7684\u4efb\u52a1\uff1a</div>'+A.join("");}function I(_){var A=baidu.string.subByte(_.lemmaTitle,22);M.innerHTML='\u6211\u7684\u4f18\u8d28\u7248\u672c\uff1a<a target="_blank" title="'+_.lemmaTitle+'" href="'+(H+_.id)+'">'+A+"</a>";}function Y(_){V.innerHTML='<div class="book"></div><div class="msg">'+_+"</div>";}function K(_){P.innerHTML="\u901a\u8fc7\u7248\u672c\u6570\uff1a"+_.passCount+"&nbsp;&nbsp;&nbsp;&nbsp;\u7248\u672c\u901a\u8fc7\u7387\uff1a"+_.passRatio+"%";}function F(){N=baidu.q("user-card")[0];O=baidu.q("uc-pic")[0];S=baidu.q("uc-id")[0];B=baidu.q("uc-level")[0];C=baidu.q("uc-role")[0];X=baidu.q("uc-badge")[0];E=baidu.q("uc-going-task")[0];W=baidu.q("uc-honor")[0];M=baidu.q("uc-gq")[0];V=baidu.q("uc-default")[0];P=baidu.q("uc-edit")[0];}function _(_){if(!R){F();R=true;}U(_.userInfo);D(function(){return _.roleInfo&&_.roleInfo.length>0;},Q,_.roleInfo,C);D(function(){return _.badgeInfo&&_.badgeInfo.length>0;},J,_.badgeInfo,X);D(function(){return!!_.honorInfo;},A,_.honorInfo,W);D(function(){return _.ongoingTaskInfo&&_.ongoingTaskInfo.length>0;},L,_.ongoingTaskInfo,E);D(function(){return!!_.gdVerInfo;},I,_.gdVerInfo,M);D(function(){return!_.roleInfo&&!_.badgeInfo&&!_.honorInfo&&!_.ongoingTaskInfo&&!_.gdVerInfo;},Y,G,V);D(function(){return _.editInfo;},K,_.editInfo,P);}function D(C,B,A,_){condition=C();if(condition){B(A);_.style.display="block";if(B!=Y&&B!=K&&V.style.display!="none"){V.style.display="none";}}else{_.style.display="none";}}usercard={setContent:T,buildCard:_};}());bk=bk||{};bk.moduleLoader=function(){var _=[],A=0,C=function(F,C){var E=document.createElement("link"),B=0,D=document.styleSheets.length;if(baidu.browser.ie){E.onload=_;}function _(){if(B){return;}if("function"==typeof C){C();B=1;}}document.getElementsByTagName("head")[0].appendChild(E);E.type="text/css";E.rel="stylesheet";E.href=F;if(!baidu.browser.ie){var A=window.setInterval(function(){var _=document.styleSheets.length;if(_>D&&E.sheet&&!B){window.clearInterval(A);if("function"==typeof C){window.setTimeout(C,100);B=1;}}},40);}};function E(F,A){var E=D(F),B=E=="css"?C:baidu.sio.callByBrowser;_.push({url:F,func:B,callback:A});}function B(){var E=_.length;if(A==E){return;}var C=_[A],D=null;if(A<E){if(C.callback){D=function(){C.callback();B();};}else{D=function(){B();};}}A++;C.func(C.url,D);}function D(A){var _=A.lastIndexOf(".");if(_<0){return null;}return A.slice(_+1);}baidu.extend(this,{add:E,load:B});};(function(){var P={};usercard.addCardInfo=T;var A=['<div class="user-card fix">','<div class="top-bg"></div>','<div class="card-body fix">','<div class="uc-l">','<div class="uc-pic"></div>','<div class="uc-name"><a class="uc-id" href=""></a></div>','<div class="uc-level"></div>',"</div>",'<div class="uc-r">','<div class="uc-items">','<div class="uc-role fix"></div>','<div class="uc-badge fix"></div>','<div class="uc-honor"></div>','<div class="uc-going-task fix"></div>','<div class="uc-gq"></div>','<div class="uc-default"></div>','<div class="uc-edit"></div>',"</div>",'<span class="pillar"></span>',"</div>","</div>","</div>"].join(""),M="/api/usercard/info?",K="http://baike.bdimg.com/static/usercenter/css/release/bk.usercard.css?t=20120315125647",J="http://baike.bdimg.com/static/usercenter/js/public/bkuc.js?t=20120315125647",Q,I,U=false,N,R,O,D;function S(_){if(P[_]){usercard.buildCard(P[_]);D.start();}else{var A=M+baidu.url.jsonToQuery({userName:encodeURIComponent(_),r:Math.random(),callback:"usercard.addCardInfo"});baidu.sio.callByBrowser(A,function(){if(P[_]){usercard.buildCard(P[_]);D.start();if(nslog){nslog(window.location.href,453);}}});}}function G(K){var _=K,A=_.offsetHeight,G=baidu.dom.getPosition(_),D=G.left,H=G.top,F=baidu.page.getViewWidth(),J=baidu.page.getViewHeight(),C={l:baidu.page.getScrollLeft(),t:baidu.page.getScrollTop()},E=0,B=0;E=D-6;B=H+A;if(E>F+C.l-Q){E=F+C.l-Q-6;}if(B>J+C.t-I){B=H-I;}O.style.left=E+"px";O.style.top=B+"px";}function L(_){if(U){return;}O.style.left="-500px";U=false;}function H(A,_){U=true;baidu.dom.setStyle(R,"opacity",0);if(P[_]){O.style.backgroundImage="none";}else{O.style.backgroundImage="url(http://baike.bdimg.com/static/usercenter/images/usercard/loading.gif)";}G(A);S(_);}function C(){clearTimeout(N);U=false;N=setTimeout(L,200);}function B(_,B){var A=baidu.event.get(_);baidu.event.stop(_);var C=A.target;clearTimeout(N);N=setTimeout(function(){H(C,B);},700);}function T(A){if(A&&A.userInfo&&A.userInfo.userName){var _=A.userInfo.userName;A.editInfo={passCount:A.userInfo.passCount,passRatio:A.userInfo.passRatio};P[_]=A;}}function F(){if(baidu.browser.ie==6){try{document.execCommand("BackgroundImageCache",false,true);}catch(B){}}O=document.createElement("div");O.id="usercard-wrap";O.innerHTML=A;document.body.appendChild(O);Q=352;I=O.offsetHeight;R=baidu.dom.first(O);baidu.dom.setStyle(R,"opacity",0);baidu.each(baidu.q("usercard",document.body,"a"),function(A){_(A);});baidu.on(O,"mouseover",function(){U=true;});baidu.on(O,"mouseout",C);D=new easy.fx({duration:350,selector:R,from:[["opacity",0,0]],to:[["opacity",1,0]],transition:function(A,B,C,_){return-C*(A/=_)*(A-2)+B;}});}function _(A){var _=A.innerHTML;if(_){baidu.on(A,"mouseover",function(A){B(A||window.event,_);});baidu.on(A,"mouseout",C);}}usercard.bindTrigger=_;(function E(){var _=new bk.moduleLoader();if(typeof bkuc=="undefined"){_.add(J);_.load();}baidu.page.loadCssFile(K);F();}());}());