<!DOCTYPE html>
<!-- saved from url=(0050)http://www.whatwg.org/specs/web-apps/current-work/ -->
<html lang="en-US-x-hixie"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>HTML Standard</title><script>
   var loadTimer = new Date();
   var current_revision = "r" + "$Revision: 7105 $".substr(11);
   current_revision = current_revision.substr(0, current_revision.length - 2);
   var last_known_revision = current_revision;
   function getCookie(name) {
     var params = location.search.substr(1).split("&");
     for (var index = 0; index < params.length; index++) {
       if (params[index] == name)
         return "1";
       var data = params[index].split("=");
       if (data[0] == name)
         return unescape(data[1]);
     }
     var cookies = document.cookie.split("; ");
     for (var index = 0; index < cookies.length; index++) {
       var data = cookies[index].split("=");
       if (data[0] == name)
         return unescape(data[1]);
     }
     return null;
   }
   var currentAlert;
   var currentAlertTimeout;
   function showAlert(s, href) {
     if (!currentAlert) {
       currentAlert = document.createElement('div');
       currentAlert.id = 'alert';
       var x = document.createElement('button');
       x.textContent = '\u2573';
       x.onclick = closeAlert2;
       currentAlert.appendChild(x);
       currentAlert.appendChild(document.createElement('span'));
       currentAlert.onmousemove = function () {
         clearTimeout(currentAlertTimeout);
         currentAlert.className = '';
         currentAlertTimeout = setTimeout(closeAlert, 10000);
       }
       document.body.appendChild(currentAlert);
     } else {
       clearTimeout(currentAlertTimeout);
       currentAlert.className = '';
     }
     currentAlert.lastChild.textContent = s + ' ';
     if (href) {
       var link = document.createElement('a');
       link.href = href;
       link.textContent = href;
       currentAlert.lastChild.appendChild(link);
     }
     currentAlertTimeout = setTimeout(closeAlert, 10000);
   }
   function closeAlert() {
     clearTimeout(currentAlertTimeout);
     if (currentAlert) {
       currentAlert.className = 'closed';
       currentAlertTimeout = setTimeout(closeAlert2, 3000);
     }
   }
   function closeAlert2() {
     clearTimeout(currentAlertTimeout);
     if (currentAlert) {
       currentAlert.parentNode.removeChild(currentAlert);
       currentAlert = null;
     }
   }
   window.addEventListener('keydown', function (event) {
     if (event.keyCode == 27) {
       if (currentAlert)
         closeAlert2();
     } else {
       closeAlert();
     }
   }, false);
   window.addEventListener('scroll', function (event) {
     closeAlert();
   }, false);
   function load(script) {
     var e = document.createElement('script');
     e.setAttribute('src', 'http://www.whatwg.org/specs/web-apps/current-work/' + script + '?' + encodeURIComponent(location) + '&' + encodeURIComponent(document.referrer));
     document.body.appendChild(e);
   }
  </script><link href="http://www.whatwg.org/style/specification" rel="stylesheet"><link href="http://www.whatwg.org/images/icon" rel="icon"><style>
   .proposal { border: blue solid; padding: 1em; }
   .bad, .bad *:not(.XXX) { color: gray; border-color: gray; background: transparent; }
   #updatesStatus { display: none; }
   #updatesStatus.relevant { display: block; position: fixed; right: 1em; top: 1em; padding: 0.5em; font: bold small sans-serif; min-width: 25em; width: 30%; max-width: 40em; height: auto; border: ridge 4px gray; background: #EEEEEE; color: black; }
   div.head .logo { width: 11em; margin-bottom: 20em; }
   #configUI { position: absolute; z-index: 20; top: 10em; right: 0; width: 11em; padding: 0 0.5em 0 0.5em; font-size: small; background: gray; background: rgba(32,32,32,0.9); color: white; border-radius: 1em 0 0 1em; -moz-border-radius: 1em 0 0 1em; }
   #configUI p { margin: 0.75em 0; padding: 0.3em; }
   #configUI p label { display: block; }
   #configUI #updateUI, #configUI .loginUI { text-align: center; }
   #configUI input[type=button] { display: block; margin: auto; }
   #configUI :link, #configUI :visited { color: white; }
   #configUI :link:hover, #configUI :visited:hover { background: transparent; }
   #reviewer { position: fixed; bottom: 0; right: 0; padding: 0.15em 0.25em 0em 0.5em; white-space: nowrap; overflow: hidden; z-index: 30; background: gray; background: rgba(32,32,32,0.9); color: white; border-radius: 1em 0 0 0; -moz-border-radius: 1em 0 0 0; max-width: 90%; }
   #reviewer input { max-width: 50%; }
   #reviewer * { font-size: small; }
   #reviewer.off > :not(:first-child) { display: none; }
   #alert { position: fixed; top: 20%; left: 20%; right: 20%; font-size: 2em; padding: 0.5em; z-index: 40; background: gray; background: rgba(32,32,32,0.9); color: white; border-radius: 1em; -moz-border-radius: 1em; -webkit-transition: opacity 1s linear; }
   #alert.closed { opacity: 0; }
   #alert button { position: absolute; top: -1em; right: 2em; border-radius: 1em 1em 0 0; border: none; line-height: 0.9; color: white; background: rgb(64,64,64); font-size: 0.6em; font-weight: 900; cursor: pointer; }
   #alert :link, #alert :visited { color: white; }
   #alert :link:hover, #alert :visited:hover { background: transparent; }
   @media print { #configUI { display: none; } }
   .rfc2119 { font-variant: small-caps; text-shadow: 0 0 0.5em yellow; position: static; }
   .rfc2119::after { position: absolute; left: 0; width: 25px; text-align: center; color: yellow; text-shadow: 0.075em 0.075em 0.2em black; }
   .rfc2119.m\ust::after { content: '\2605'; }
   .rfc2119.s\hould::after { content: '\2606'; }
   [hidden] { display: none; }
  </style><style type="text/css">

   .applies thead th > * { display: block; }
   .applies thead code { display: block; }
   .applies tbody th { whitespace: nowrap; }
   .applies td { text-align: center; }
   .applies .yes { background: yellow; }

   .matrix, .matrix td { border: hidden; text-align: right; }
   .matrix { margin-left: 2em; }

   .dice-example { border-collapse: collapse; border-style: hidden solid solid hidden; border-width: thin; margin-left: 3em; }
   .dice-example caption { width: 30em; font-size: smaller; font-style: italic; padding: 0.75em 0; text-align: left; }
   .dice-example td, .dice-example th { border: solid thin; width: 1.35em; height: 1.05em; text-align: center; padding: 0; }

   td.eg { border-width: thin; text-align: center; }

   #table-example-1 { border: solid thin; border-collapse: collapse; margin-left: 3em; }
   #table-example-1 * { font-family: "Essays1743", serif; line-height: 1.01em; }
   #table-example-1 caption { padding-bottom: 0.5em; }
   #table-example-1 thead, #table-example-1 tbody { border: none; }
   #table-example-1 th, #table-example-1 td { border: solid thin; }
   #table-example-1 th { font-weight: normal; }
   #table-example-1 td { border-style: none solid; vertical-align: top; }
   #table-example-1 th { padding: 0.5em; vertical-align: middle; text-align: center; }
   #table-example-1 tbody tr:first-child td { padding-top: 0.5em; }
   #table-example-1 tbody tr:last-child td { padding-bottom: 1.5em; }
   #table-example-1 tbody td:first-child { padding-left: 2.5em; padding-right: 0; width: 9em; }
   #table-example-1 tbody td:first-child::after { content: leader(". "); }
   #table-example-1 tbody td { padding-left: 2em; padding-right: 2em; }
   #table-example-1 tbody td:first-child + td { width: 10em; }
   #table-example-1 tbody td:first-child + td ~ td { width: 2.5em; }
   #table-example-1 tbody td:first-child + td + td + td ~ td { width: 1.25em; }

   .apple-table-examples { border: none; border-collapse: separate; border-spacing: 1.5em 0em; width: 40em; margin-left: 3em; }
   .apple-table-examples * { font-family: "Times", serif; }
   .apple-table-examples td, .apple-table-examples th { border: none; white-space: nowrap; padding-top: 0; padding-bottom: 0; }
   .apple-table-examples tbody th:first-child { border-left: none; width: 100%; }
   .apple-table-examples thead th:first-child ~ th { font-size: smaller; font-weight: bolder; border-bottom: solid 2px; text-align: center; }
   .apple-table-examples tbody th::after, .apple-table-examples tfoot th::after { content: leader(". ") }
   .apple-table-examples tbody th, .apple-table-examples tfoot th { font: inherit; text-align: left; }
   .apple-table-examples td { text-align: right; vertical-align: top; }
   .apple-table-examples.e1 tbody tr:last-child td { border-bottom: solid 1px; }
   .apple-table-examples.e1 tbody + tbody tr:last-child td { border-bottom: double 3px; }
   .apple-table-examples.e2 th[scope=row] { padding-left: 1em; }
   .apple-table-examples sup { line-height: 0; }

   .details-example img { vertical-align: top; }

   #base64-table {
     white-space: nowrap;
     font-size: 0.6em;
     column-width: 6em;
     column-count: 5;
     column-gap: 1em;
     -moz-column-width: 6em;
     -moz-column-count: 5;
     -moz-column-gap: 1em;
     -webkit-column-width: 6em;
     -webkit-column-count: 5;
     -webkit-column-gap: 1em;
   }
   #base64-table thead { display: none; }
   #base64-table * { border: none; }
   #base64-table tbody td:first-child:after { content: ':'; }
   #base64-table tbody td:last-child { text-align: right; }

   #named-character-references-table {
     white-space: nowrap;
     font-size: 0.6em;
     column-width: 30em;
     column-gap: 1em;
     -moz-column-width: 30em;
     -moz-column-gap: 1em;
     -webkit-column-width: 30em;
     -webkit-column-gap: 1em;
   }
   #named-character-references-table > table > tbody > tr > td:first-child + td,
   #named-character-references-table > table > tbody > tr > td:last-child { text-align: center; }
   #named-character-references-table > table > tbody > tr > td:last-child:hover > span { position: absolute; top: auto; left: auto; margin-left: 0.5em; line-height: 1.2; font-size: 5em; border: outset; padding: 0.25em 0.5em; background: white; width: 1.25em; height: auto; text-align: center; }
   #named-character-references-table > table > tbody > tr#entity-CounterClockwiseContourIntegral > td:first-child { font-size: 0.5em; }

   .glyph.control { color: red; }

   @font-face {
     font-family: 'Essays1743';
     src: url('http://www.whatwg.org/specs/web-apps/current-work/fonts/Essays1743.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-weight: bold;
     src: url('http://www.whatwg.org/specs/web-apps/current-work/fonts/Essays1743-Bold.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-style: italic;
     src: url('http://www.whatwg.org/specs/web-apps/current-work/fonts/Essays1743-Italic.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-style: italic;
     font-weight: bold;
     src: url('http://www.whatwg.org/specs/web-apps/current-work/fonts/Essays1743-BoldItalic.ttf');
   }

  </style><link href="data:text/css," rel="stylesheet" title="Normal"><link href="data:text/css,.impl%20{%20background:%20pink;%20}" rel="stylesheet alternate" title="Highlight implementation-only prose"><link href="http://www.whatwg.org/specs/web-apps/current-work/status.css" rel="stylesheet"><script>
   var startedInit = 0;
   function init() {
     startedInit = 1;
     if (location.search == '?slow-browser')
       return;
     var configUI = document.createElement('div');
     configUI.id = 'configUI';
     document.body.appendChild(configUI);
     load('reviewer.js');
     if (document.documentElement.className == "" || document.documentElement.className == "split index")
       load('toc.js');
     load('updater.js');
     load('dfn.js');
     load('status.js');
     if (getCookie('profile') == '1')
       document.getElementsByTagName('h2')[0].textContent += '; load: ' + (new Date() - loadTimer) + 'ms';
   }
   if (document.documentElement.className == "")
     setTimeout(function () {
       if (!startedInit)
         showAlert("Too slow? Try reading the multipage copy of the spec instead:", "http://whatwg.org/html");
     }, 6000);
  </script></head><body onload="init()">

  <header class="head" id="head"><p><a class="logo" href="http://www.whatwg.org/"><img alt="WHATWG" height="101" src="./HTML Standard_files/logo" width="101"></a></p>
   <hgroup><h1 class="allcaps">HTML</h1>
    <h2 class="no-num no-toc">Living Standard — Last Updated 15 May 2012</h2>
   </hgroup><dl><dt><strong>Web developer edition:</strong></dt>
    <dd><strong><a href="http://developers.whatwg.org/">http://developers.whatwg.org/</a></strong></dd>
    <dt>Multiple-page version:</dt>
    <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/">http://whatwg.org/html</a></dd>
    <dt>One-page version:</dt>
    <dd><a href="./HTML Standard_files/HTML Standard.htm">http://whatwg.org/c</a></dd>
    <dt>Participate:</dt>
    <dd><a href="http://www.whatwg.org/mailing-list">whatwg@whatwg.org</a></dd>
    <dd><a href="http://forums.whatwg.org/">http://forums.whatwg.org/</a></dd>
    <dd><a href="http://wiki.whatwg.org/wiki/IRC">IRC: #whatwg on Freenode</a></dd>
    <dt>FAQ:</dt>
    <dd><a href="http://wiki.whatwg.org/wiki/FAQ">http://wiki.whatwg.org/wiki/FAQ</a></dd>
    <dt>Version history:</dt>
    <dd>Twitter updates: <a href="http://twitter.com/WHATWG">http://twitter.com/WHATWG</a></dd>
    <dd>Commit-Watchers mailing list: <a href="http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org">http://lists.whatwg.org/listinfo.cgi/commit-watchers-whatwg.org</a></dd>
    <dd>Interactive Web interface: <a href="http://html5.org/tools/web-apps-tracker">http://html5.org/tools/web-apps-tracker</a></dd>
    <dd>Subversion interface: <a href="http://svn.whatwg.org/">http://svn.whatwg.org/</a></dd>
    <dt>Issues:</dt>
    <dd>To view the open bugs: <a href="http://www.w3.org/Bugs/Public/buglist.cgi?query_format=advanced&short_desc_type=allwordssubstr&short_desc=&long_desc_type=allwordssubstr&long_desc=&bug_file_loc_type=allwordssubstr&bug_file_loc=&status_whiteboard_type=allwordssubstr&status_whiteboard=&keywords_type=allwords&keywords=&bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&emailassigned_to1=1&emailtype1=exact&email1=ian%40hixie.ch&emailtype2=substring&email2=&bugidtype=include&bug_id=&votes=&chfieldfrom=&chfieldto=Now&chfieldvalue=&cmdtype=doit&order=Reuse+same+sort+as+last+time&field0-0-0=noop&type0-0-0=noop&value0-0-0=">HTML bug list</a></dd>
    <dd>To file bugs, use the "submit review comments" feature at the bottom of the window</dd>
    <dd>To send feedback by e-mail: <a href="http://www.whatwg.org/mailing-list">whatwg@whatwg.org</a></dd>
    <dd>To view and vote on e-mail feedback: <a href="http://www.whatwg.org/issues/">http://www.whatwg.org/issues/</a></dd>
    <dt>Editor:</dt>
    <dd>Ian Hickson, Google, ian@hixie.ch</dd>
   </dl><p class="copyright">© Copyright 2004-2011 Apple Computer, Inc.,
   Mozilla Foundation, and Opera Software ASA.</p>
   <p class="copyright">You are granted a license to use, reproduce
   and create derivative works of this document.</p>
  </header><hr><h2 class="no-num no-toc" id="contents">Table of contents</h2>
  
<!--begin-toc-->
<ol class="toc">
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction"><span class="secno">1 </span>Introduction</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#abstract"><span class="secno">1.1 </span>Where does this specification fit?</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#is-this-html5?"><span class="secno">1.2 </span>Is this HTML5?</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#background"><span class="secno">1.3 </span>Background</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#audience"><span class="secno">1.4 </span>Audience</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#scope"><span class="secno">1.5 </span>Scope</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#history-1"><span class="secno">1.6 </span>History</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#design-notes"><span class="secno">1.7 </span>Design notes</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#serializability-of-script-execution"><span class="secno">1.7.1 </span>Serializability of script execution</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#compliance-with-other-specifications"><span class="secno">1.7.2 </span>Compliance with other specifications</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#html-vs-xhtml"><span class="secno">1.8 </span>HTML vs XHTML</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#structure-of-this-specification"><span class="secno">1.9 </span>Structure of this specification</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#how-to-read-this-specification"><span class="secno">1.9.1 </span>How to read this specification</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#typographic-conventions"><span class="secno">1.9.2 </span>Typographic conventions</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-quick-introduction-to-html"><span class="secno">1.10 </span>A quick introduction to HTML</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#writing-secure-applications-with-html"><span class="secno">1.10.1 </span>Writing secure applications with HTML</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#common-pitfalls-to-avoid-when-using-the-scripting-apis"><span class="secno">1.10.2 </span>Common pitfalls to avoid when using the scripting APIs</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#conformance-requirements-for-authors"><span class="secno">1.11 </span>Conformance requirements for authors</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#presentational-markup"><span class="secno">1.11.1 </span>Presentational markup</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-errors"><span class="secno">1.11.2 </span>Syntax errors</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#restrictions-on-content-models-and-on-attribute-values"><span class="secno">1.11.3 </span>Restrictions on content models and on attribute values</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#recommended-reading"><span class="secno">1.12 </span>Recommended reading</a></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#infrastructure"><span class="secno">2 </span>Common infrastructure</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#terminology"><span class="secno">2.1 </span>Terminology</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#resources"><span class="secno">2.1.1 </span>Resources</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#xml"><span class="secno">2.1.2 </span>XML</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trees"><span class="secno">2.1.3 </span>DOM trees</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#scripting-0"><span class="secno">2.1.4 </span>Scripting</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#plugins"><span class="secno">2.1.5 </span>Plugins</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#character-encodings"><span class="secno">2.1.6 </span>Character encodings</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#conformance-requirements"><span class="secno">2.2 </span>Conformance requirements</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#conformance-classes"><span class="secno">2.2.1 </span>Conformance classes</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dependencies"><span class="secno">2.2.2 </span>Dependencies</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#extensibility"><span class="secno">2.2.3 </span>Extensibility</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitivity-and-string-comparison"><span class="secno">2.3 </span>Case-sensitivity and string comparison</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#utf-8"><span class="secno">2.4 </span>UTF-8</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#common-microsyntaxes"><span class="secno">2.5 </span>Common microsyntaxes</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#common-parser-idioms"><span class="secno">2.5.1 </span>Common parser idioms</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attributes"><span class="secno">2.5.2 </span>Boolean attributes</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#keywords-and-enumerated-attributes"><span class="secno">2.5.3 </span>Keywords and enumerated attributes</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#numbers"><span class="secno">2.5.4 </span>Numbers</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#signed-integers"><span class="secno">2.5.4.1 </span>Signed integers</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#non-negative-integers"><span class="secno">2.5.4.2 </span>Non-negative integers</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#floating-point-numbers"><span class="secno">2.5.4.3 </span>Floating-point numbers</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#percentages-and-dimensions"><span class="secno">2.5.4.4 </span>Percentages and lengths</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#lists-of-integers"><span class="secno">2.5.4.5 </span>Lists of integers</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#lists-of-dimensions"><span class="secno">2.5.4.6 </span>Lists of dimensions</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dates-and-times"><span class="secno">2.5.5 </span>Dates and times</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#months"><span class="secno">2.5.5.1 </span>Months</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dates"><span class="secno">2.5.5.2 </span>Dates</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#yearless-dates"><span class="secno">2.5.5.3 </span>Yearless dates</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#times"><span class="secno">2.5.5.4 </span>Times</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#local-dates-and-times"><span class="secno">2.5.5.5 </span>Local dates and times</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#time-zones"><span class="secno">2.5.5.6 </span>Time zones</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-dates-and-times"><span class="secno">2.5.5.7 </span>Global dates and times</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#weeks"><span class="secno">2.5.5.8 </span>Weeks</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#durations"><span class="secno">2.5.5.9 </span>Durations</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#vaguer-moments-in-time"><span class="secno">2.5.5.10 </span>Vaguer moments in time</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#colors"><span class="secno">2.5.6 </span>Colors</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#space-separated-tokens"><span class="secno">2.5.7 </span>Space-separated tokens</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#comma-separated-tokens"><span class="secno">2.5.8 </span>Comma-separated tokens</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-references"><span class="secno">2.5.9 </span>References</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#mq"><span class="secno">2.5.10 </span>Media queries</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#urls"><span class="secno">2.6 </span>URLs</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#terminology-0"><span class="secno">2.6.1 </span>Terminology</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-urls"><span class="secno">2.6.2 </span>Parsing URLs</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#resolving-urls"><span class="secno">2.6.3 </span>Resolving URLs</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-manipulation-and-creation"><span class="secno">2.6.4 </span>URL manipulation and creation</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dynamic-changes-to-base-urls"><span class="secno">2.6.5 </span>Dynamic changes to base URLs</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#interfaces-for-url-manipulation"><span class="secno">2.6.6 </span>Interfaces for URL manipulation</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#fetching-resources"><span class="secno">2.7 </span>Fetching resources</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-http-equivalent"><span class="secno">2.7.1 </span>Protocol concepts</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#encrypted-http-and-related-security-concerns"><span class="secno">2.7.2 </span>Encrypted HTTP and related security concerns</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type-sniffing"><span class="secno">2.7.3 </span>Determining the type of a resource</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#extracting-encodings-from-meta-elements"><span class="secno">2.7.4 </span>Extracting encodings from <code>meta</code> elements</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-settings-attributes"><span class="secno">2.7.5 </span>CORS settings attributes</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-enabled-fetch"><span class="secno">2.7.6 </span>CORS-enabled fetch</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#common-dom-interfaces"><span class="secno">2.8 </span>Common DOM interfaces</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#reflecting-content-attributes-in-idl-attributes"><span class="secno">2.8.1 </span>Reflecting content attributes in IDL attributes</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#collections-0"><span class="secno">2.8.2 </span>Collections</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection-0"><span class="secno">2.8.2.1 </span>HTMLAllCollection</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlformcontrolscollection-0"><span class="secno">2.8.2.2 </span>HTMLFormControlsCollection</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection-0"><span class="secno">2.8.2.3 </span>HTMLOptionsCollection</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlpropertiescollection-0"><span class="secno">2.8.2.4 </span>HTMLPropertiesCollection</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap-0"><span class="secno">2.8.3 </span>DOMStringMap</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap-0"><span class="secno">2.8.4 </span>DOMElementMap</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#transferable-objects"><span class="secno">2.8.5 </span>Transferable objects</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#safe-passing-of-structured-data"><span class="secno">2.8.6 </span>Safe passing of structured data</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-feature-strings"><span class="secno">2.8.7 </span>DOM feature strings</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#garbage-collection"><span class="secno">2.8.8 </span>Garbage collection</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#namespaces"><span class="secno">2.9 </span>Namespaces</a></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom"><span class="secno">3 </span>Semantics, structure, and APIs of HTML documents</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#documents"><span class="secno">3.1 </span>Documents</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#documents-in-the-dom"><span class="secno">3.1.1 </span>Documents in the DOM</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-document"><span class="secno">3.1.2 </span>Security</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#resource-metadata-management"><span class="secno">3.1.3 </span>Resource metadata management</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tree-accessors"><span class="secno">3.1.4 </span>DOM tree accessors</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#loading-xml-documents"><span class="secno">3.1.5 </span>Loading XML documents</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#elements"><span class="secno">3.2 </span>Elements</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#semantics-0"><span class="secno">3.2.1 </span>Semantics</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#elements-in-the-dom"><span class="secno">3.2.2 </span>Elements in the DOM</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes"><span class="secno">3.2.3 </span>Global attributes</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute"><span class="secno">3.2.3.1 </span>The <code>id</code> attribute</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute"><span class="secno">3.2.3.2 </span>The <code>title</code> attribute</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-lang-and-xml:lang-attributes"><span class="secno">3.2.3.3 </span>The <code title="attr-lang">lang</code> and <code title="attr-xml-lang">xml:lang</code> attributes</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-translate-attribute"><span class="secno">3.2.3.4 </span>The <code title="attr-translate">translate</code> attribute</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xml:base-attribute-(xml-only)"><span class="secno">3.2.3.5 </span>The <code>xml:base</code>
  attribute (XML only)</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute"><span class="secno">3.2.3.6 </span>The <code>dir</code> attribute</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes"><span class="secno">3.2.3.7 </span>The <code>class</code> attribute</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute"><span class="secno">3.2.3.8 </span>The <code>style</code> attribute</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedding-custom-non-visible-data-with-the-data-*-attributes"><span class="secno">3.2.3.9 </span>Embedding custom non-visible data with the <code title="attr-data-*">data-*</code> attributes</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-definitions"><span class="secno">3.2.4 </span>Element definitions</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attributes"><span class="secno">3.2.4.1 </span>Attributes</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#content-models"><span class="secno">3.2.5 </span>Content models</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#kinds-of-content"><span class="secno">3.2.5.1 </span>Kinds of content</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content-0"><span class="secno">3.2.5.1.1 </span>Metadata content</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content-0"><span class="secno">3.2.5.1.2 </span>Flow content</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content-0"><span class="secno">3.2.5.1.3 </span>Sectioning content</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content-0"><span class="secno">3.2.5.1.4 </span>Heading content</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content-0"><span class="secno">3.2.5.1.5 </span>Phrasing content</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content-0"><span class="secno">3.2.5.1.6 </span>Embedded content</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content-0"><span class="secno">3.2.5.1.7 </span>Interactive content</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content-0"><span class="secno">3.2.5.1.8 </span>Palpable content</a></li></ol></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent-content-models"><span class="secno">3.2.5.2 </span>Transparent content models</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraphs"><span class="secno">3.2.5.3 </span>Paragraphs</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#requirements-relating-to-bidirectional-algorithm-formatting-characters"><span class="secno">3.2.6 </span>Requirements relating to bidirectional-algorithm formatting
  characters</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#wai-aria"><span class="secno">3.2.7 </span>WAI-ARIA</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#interactions-with-xpath-and-xslt"><span class="secno">3.3 </span>Interactions with XPath and XSLT</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dynamic-markup-insertion"><span class="secno">3.4 </span>Dynamic markup insertion</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#opening-the-input-stream"><span class="secno">3.4.1 </span>Opening the input stream</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#closing-the-input-stream"><span class="secno">3.4.2 </span>Closing the input stream</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#document.write()"><span class="secno">3.4.3 </span><code title="dom-document-write">document.write()</code></a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#document.writeln()"><span class="secno">3.4.4 </span><code title="dom-document-writeln">document.writeln()</code></a></li></ol></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#semantics"><span class="secno">4 </span>The elements of HTML</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-root-element"><span class="secno">4.1 </span>The root element</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element"><span class="secno">4.1.1 </span>The <code>html</code> element</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#document-metadata"><span class="secno">4.2 </span>Document metadata</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element"><span class="secno">4.2.1 </span>The <code>head</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element"><span class="secno">4.2.2 </span>The <code>title</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element"><span class="secno">4.2.3 </span>The <code>base</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element"><span class="secno">4.2.4 </span>The <code>link</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element"><span class="secno">4.2.5 </span>The <code>meta</code> element</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#standard-metadata-names"><span class="secno">4.2.5.1 </span>Standard metadata names</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#other-metadata-names"><span class="secno">4.2.5.2 </span>Other metadata names</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#pragma-directives"><span class="secno">4.2.5.3 </span>Pragma directives</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#other-pragma-directives"><span class="secno">4.2.5.4 </span>Other pragma directives</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#charset"><span class="secno">4.2.5.5 </span>Specifying the document's character encoding</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element"><span class="secno">4.2.6 </span>The <code>style</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#styling"><span class="secno">4.2.7 </span>Styling</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#scripting-1"><span class="secno">4.3 </span>Scripting</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element"><span class="secno">4.3.1 </span>The <code>script</code> element</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#scriptingLanguages"><span class="secno">4.3.1.1 </span>Scripting languages</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#restrictions-for-contents-of-script-elements"><span class="secno">4.3.1.2 </span>Restrictions for contents of <code>script</code> elements</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#inline-documentation-for-external-scripts"><span class="secno">4.3.1.3 </span>Inline documentation for external scripts</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#scriptTagXSLT"><span class="secno">4.3.1.4 </span>Interaction of <code>script</code> elements and XSLT</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element"><span class="secno">4.3.2 </span>The <code>noscript</code> element</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sections"><span class="secno">4.4 </span>Sections</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element"><span class="secno">4.4.1 </span>The <code>body</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element"><span class="secno">4.4.2 </span>The <code>section</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element"><span class="secno">4.4.3 </span>The <code>nav</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element"><span class="secno">4.4.4 </span>The <code>article</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element"><span class="secno">4.4.5 </span>The <code>aside</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements"><span class="secno">4.4.6 </span>The <code>h1</code>, <code>h2</code>, <code>h3</code>, <code>h4</code>, <code>h5</code>, and <code>h6</code> elements</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element"><span class="secno">4.4.7 </span>The <code>hgroup</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element"><span class="secno">4.4.8 </span>The <code>header</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element"><span class="secno">4.4.9 </span>The <code>footer</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element"><span class="secno">4.4.10 </span>The <code>address</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#headings-and-sections"><span class="secno">4.4.11 </span>Headings and sections</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#outlines"><span class="secno">4.4.11.1 </span>Creating an outline</a></li></ol></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#grouping-content"><span class="secno">4.5 </span>Grouping content</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element"><span class="secno">4.5.1 </span>The <code>p</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element"><span class="secno">4.5.2 </span>The <code>hr</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element"><span class="secno">4.5.3 </span>The <code>pre</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element"><span class="secno">4.5.4 </span>The <code>blockquote</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element"><span class="secno">4.5.5 </span>The <code>ol</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element"><span class="secno">4.5.6 </span>The <code>ul</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element"><span class="secno">4.5.7 </span>The <code>li</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element"><span class="secno">4.5.8 </span>The <code>dl</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element"><span class="secno">4.5.9 </span>The <code>dt</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element"><span class="secno">4.5.10 </span>The <code>dd</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element"><span class="secno">4.5.11 </span>The <code>figure</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element"><span class="secno">4.5.12 </span>The <code>figcaption</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element"><span class="secno">4.5.13 </span>The <code>div</code> element</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-level-semantics"><span class="secno">4.6 </span>Text-level semantics</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element"><span class="secno">4.6.1 </span>The <code>a</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element"><span class="secno">4.6.2 </span>The <code>em</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element"><span class="secno">4.6.3 </span>The <code>strong</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element"><span class="secno">4.6.4 </span>The <code>small</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-s-element"><span class="secno">4.6.5 </span>The <code>s</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element"><span class="secno">4.6.6 </span>The <code>cite</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element"><span class="secno">4.6.7 </span>The <code>q</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element"><span class="secno">4.6.8 </span>The <code>dfn</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element"><span class="secno">4.6.9 </span>The <code>abbr</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-data-element"><span class="secno">4.6.10 </span>The <code>data</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element"><span class="secno">4.6.11 </span>The <code>time</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-code-element"><span class="secno">4.6.12 </span>The <code>code</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element"><span class="secno">4.6.13 </span>The <code>var</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element"><span class="secno">4.6.14 </span>The <code>samp</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element"><span class="secno">4.6.15 </span>The <code>kbd</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements"><span class="secno">4.6.16 </span>The <code>sub</code> and <code>sup</code> elements</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element"><span class="secno">4.6.17 </span>The <code>i</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element"><span class="secno">4.6.18 </span>The <code>b</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element"><span class="secno">4.6.19 </span>The <code>u</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element"><span class="secno">4.6.20 </span>The <code>mark</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element"><span class="secno">4.6.21 </span>The <code>ruby</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element"><span class="secno">4.6.22 </span>The <code>rt</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element"><span class="secno">4.6.23 </span>The <code>rp</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element"><span class="secno">4.6.24 </span>The <code>bdi</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdo-element"><span class="secno">4.6.25 </span>The <code>bdo</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element"><span class="secno">4.6.26 </span>The <code>span</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element"><span class="secno">4.6.27 </span>The <code>br</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-wbr-element"><span class="secno">4.6.28 </span>The <code>wbr</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#usage-summary"><span class="secno">4.6.29 </span>Usage summary</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#edits"><span class="secno">4.7 </span>Edits</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element"><span class="secno">4.7.1 </span>The <code>ins</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element"><span class="secno">4.7.2 </span>The <code>del</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attributes-common-to-ins-and-del-elements"><span class="secno">4.7.3 </span>Attributes common to <code>ins</code> and <code>del</code> elements</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#edits-and-paragraphs"><span class="secno">4.7.4 </span>Edits and paragraphs</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#edits-and-lists"><span class="secno">4.7.5 </span>Edits and lists</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#edits-and-tables"><span class="secno">4.7.6 </span>Edits and tables</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content-1"><span class="secno">4.8 </span>Embedded content</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element"><span class="secno">4.8.1 </span>The <code>img</code> element</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#alt"><span class="secno">4.8.1.1 </span>Requirements for providing text to act as an alternative for images</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#general-guidelines"><span class="secno">4.8.1.1.1 </span>General guidelines</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-link-or-button-containing-nothing-but-the-image"><span class="secno">4.8.1.1.2 </span>A link or button containing nothing but the image</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-phrase-or-paragraph-with-an-alternative-graphical-representation:-charts,-diagrams,-graphs,-maps,-illustrations"><span class="secno">4.8.1.1.3 </span>A phrase or paragraph with an alternative graphical representation: charts, diagrams, graphs, maps, illustrations</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-short-phrase-or-label-with-an-alternative-graphical-representation:-icons,-logos"><span class="secno">4.8.1.1.4 </span>A short phrase or label with an alternative graphical representation: icons, logos</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-that-has-been-rendered-to-a-graphic-for-typographical-effect"><span class="secno">4.8.1.1.5 </span>Text that has been rendered to a graphic for typographical effect</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-graphical-representation-of-some-of-the-surrounding-text"><span class="secno">4.8.1.1.6 </span>A graphical representation of some of the surrounding text</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-purely-decorative-image-that-doesn't-add-any-information"><span class="secno">4.8.1.1.7 </span>A purely decorative image that doesn't add any information</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-group-of-images-that-form-a-single-larger-picture-with-no-links"><span class="secno">4.8.1.1.8 </span>A group of images that form a single larger picture with no links</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-group-of-images-that-form-a-single-larger-picture-with-links"><span class="secno">4.8.1.1.9 </span>A group of images that form a single larger picture with links</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-key-part-of-the-content"><span class="secno">4.8.1.1.10 </span>A key part of the content</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#an-image-not-intended-for-the-user"><span class="secno">4.8.1.1.11 </span>An image not intended for the user</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#an-image-in-an-e-mail-or-private-document-intended-for-a-specific-person-who-is-known-to-be-able-to-view-images"><span class="secno">4.8.1.1.12 </span>An image in an e-mail or private document intended for a specific person who is known to be able to view images</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#guidance-for-markup-generators"><span class="secno">4.8.1.1.13 </span>Guidance for markup generators</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#guidance-for-conformance-checkers"><span class="secno">4.8.1.1.14 </span>Guidance for conformance checkers</a></li></ol></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element"><span class="secno">4.8.2 </span>The <code>iframe</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element"><span class="secno">4.8.3 </span>The <code>embed</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element"><span class="secno">4.8.4 </span>The <code>object</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-param-element"><span class="secno">4.8.5 </span>The <code>param</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element"><span class="secno">4.8.6 </span>The <code>video</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element"><span class="secno">4.8.7 </span>The <code>audio</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element"><span class="secno">4.8.8 </span>The <code>source</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element"><span class="secno">4.8.9 </span>The <code>track</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-elements"><span class="secno">4.8.10 </span>Media elements</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#error-codes"><span class="secno">4.8.10.1 </span>Error codes</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#location-of-the-media-resource"><span class="secno">4.8.10.2 </span>Location of the media resource</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-types"><span class="secno">4.8.10.3 </span>MIME types</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#network-states"><span class="secno">4.8.10.4 </span>Network states</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#loading-the-media-resource"><span class="secno">4.8.10.5 </span>Loading the media resource</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#offsets-into-the-media-resource"><span class="secno">4.8.10.6 </span>Offsets into the media resource</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#ready-states"><span class="secno">4.8.10.7 </span>Ready states</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#playing-the-media-resource"><span class="secno">4.8.10.8 </span>Playing the media resource</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#seeking"><span class="secno">4.8.10.9 </span>Seeking</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resources-with-multiple-media-tracks"><span class="secno">4.8.10.10 </span>Media resources with multiple media tracks</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist-and-videotracklist-objects"><span class="secno">4.8.10.10.1 </span><code>AudioTrackList</code> and <code>VideoTrackList</code> objects</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#selecting-specific-audio-and-video-tracks-declaratively"><span class="secno">4.8.10.10.2 </span>Selecting specific audio and video tracks declaratively</a></li></ol></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronising-multiple-media-elements"><span class="secno">4.8.10.11 </span>Synchronising multiple media elements</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-0"><span class="secno">4.8.10.11.1 </span>Introduction</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controllers"><span class="secno">4.8.10.11.2 </span>Media controllers</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#assigning-a-media-controller-declaratively"><span class="secno">4.8.10.11.3 </span>Assigning a media controller declaratively</a></li></ol></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#timed-text-tracks"><span class="secno">4.8.10.12 </span>Timed text tracks</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-model"><span class="secno">4.8.10.12.1 </span>Text track model</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sourcing-in-band-text-tracks"><span class="secno">4.8.10.12.2 </span>Sourcing in-band text tracks</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sourcing-out-of-band-text-tracks"><span class="secno">4.8.10.12.3 </span>Sourcing out-of-band text tracks</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#guidelines-for-exposing-cues-in-various-formats-as-text-track-cues"><span class="secno">4.8.10.12.4 </span>Guidelines for exposing cues in various formats as
  text track cues</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-api"><span class="secno">4.8.10.12.5 </span>Text track API</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-tracks-describing-chapters"><span class="secno">4.8.10.12.6 </span>Text tracks describing chapters</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#cue-events"><span class="secno">4.8.10.12.7 </span>Event definitions</a></li></ol></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#user-interface"><span class="secno">4.8.10.13 </span>User interface</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#time-ranges"><span class="secno">4.8.10.14 </span>Time ranges</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-definitions"><span class="secno">4.8.10.15 </span>Event definitions</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediaevents"><span class="secno">4.8.10.16 </span>Event summary</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-and-privacy-considerations"><span class="secno">4.8.10.17 </span>Security and privacy considerations</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#best-practices-for-authors-using-media-elements"><span class="secno">4.8.10.18 </span>Best practices for authors using media elements</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#best-practices-for-implementors-of-media-elements"><span class="secno">4.8.10.19 </span>Best practices for implementors of media elements</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element"><span class="secno">4.8.11 </span>The <code>canvas</code> element</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#2dcontext"><span class="secno">4.8.11.1 </span>The 2D context</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-state"><span class="secno">4.8.11.1.1 </span>The canvas state</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle-objects"><span class="secno">4.8.11.1.2 </span><code>DrawingStyle</code> objects</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#line-styles"><span class="secno">4.8.11.1.3 </span>Line styles</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-styles"><span class="secno">4.8.11.1.4 </span>Text styles</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#building-paths"><span class="secno">4.8.11.1.5 </span>Building paths</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#path-objects"><span class="secno">4.8.11.1.6 </span><code>Path</code> objects</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations"><span class="secno">4.8.11.1.7 </span>Transformations</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#fill-and-stroke-styles"><span class="secno">4.8.11.1.8 </span>Fill and stroke styles</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawing-rectangles-to-the-canvas"><span class="secno">4.8.11.1.9 </span>Drawing rectangles to the canvas</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawing-text-to-the-canvas"><span class="secno">4.8.11.1.10 </span>Drawing text to the canvas</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawing-paths-to-the-canvas"><span class="secno">4.8.11.1.11 </span>Drawing paths to the canvas</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawing-images-to-the-canvas"><span class="secno">4.8.11.1.12 </span>Drawing images to the canvas</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-regions"><span class="secno">4.8.11.1.13 </span>Hit regions</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#pixel-manipulation"><span class="secno">4.8.11.1.14 </span>Pixel manipulation</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#compositing"><span class="secno">4.8.11.1.15 </span>Compositing</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#shadows"><span class="secno">4.8.11.1.16 </span>Shadows</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawing-model"><span class="secno">4.8.11.1.17 </span>Drawing model</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#best-practices"><span class="secno">4.8.11.1.18 </span>Best practices</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#examples"><span class="secno">4.8.11.1.19 </span>Examples</a></li></ol></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#color-spaces-and-color-correction"><span class="secno">4.8.11.2 </span>Color spaces and color correction</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-with-canvas-elements"><span class="secno">4.8.11.3 </span>Security with <code>canvas</code> elements</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element"><span class="secno">4.8.12 </span>The <code>map</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element"><span class="secno">4.8.13 </span>The <code>area</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#image-maps"><span class="secno">4.8.14 </span>Image maps</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#authoring"><span class="secno">4.8.14.1 </span>Authoring</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#processing-model"><span class="secno">4.8.14.2 </span>Processing model</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#mathml"><span class="secno">4.8.15 </span>MathML</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#svg-0"><span class="secno">4.8.16 </span>SVG</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dimension-attributes"><span class="secno">4.8.17 </span>Dimension attributes</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#tabular-data"><span class="secno">4.9 </span>Tabular data</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element"><span class="secno">4.9.1 </span>The <code>table</code> element</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#table-descriptions-techniques"><span class="secno">4.9.1.1 </span>Techniques for describing tables</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#table-layout-techniques"><span class="secno">4.9.1.2 </span>Techniques for table layout</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element"><span class="secno">4.9.2 </span>The <code>caption</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element"><span class="secno">4.9.3 </span>The <code>colgroup</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element"><span class="secno">4.9.4 </span>The <code>col</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element"><span class="secno">4.9.5 </span>The <code>tbody</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element"><span class="secno">4.9.6 </span>The <code>thead</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element"><span class="secno">4.9.7 </span>The <code>tfoot</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element"><span class="secno">4.9.8 </span>The <code>tr</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element"><span class="secno">4.9.9 </span>The <code>td</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element"><span class="secno">4.9.10 </span>The <code>th</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attributes-common-to-td-and-th-elements"><span class="secno">4.9.11 </span>Attributes common to <code>td</code> and <code>th</code> elements</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#processing-model-0"><span class="secno">4.9.12 </span>Processing model</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#forming-a-table"><span class="secno">4.9.12.1 </span>Forming a table</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#header-and-data-cell-semantics"><span class="secno">4.9.12.2 </span>Forming relationships between data cells and header cells</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#examples-0"><span class="secno">4.9.13 </span>Examples</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#forms"><span class="secno">4.10 </span>Forms</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-1"><span class="secno">4.10.1 </span>Introduction</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#writing-a-form's-user-interface"><span class="secno">4.10.1.1 </span>Writing a form's user interface</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#implementing-the-server-side-processing-for-a-form"><span class="secno">4.10.1.2 </span>Implementing the server-side processing for a form</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#configuring-a-form-to-communicate-with-a-server"><span class="secno">4.10.1.3 </span>Configuring a form to communicate with a server</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#client-side-form-validation"><span class="secno">4.10.1.4 </span>Client-side form validation</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#input-author-notes"><span class="secno">4.10.1.5 </span>Date, time, and number formats</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#categories"><span class="secno">4.10.2 </span>Categories</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element"><span class="secno">4.10.3 </span>The <code>form</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-fieldset-element"><span class="secno">4.10.4 </span>The <code>fieldset</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-legend-element"><span class="secno">4.10.5 </span>The <code>legend</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-label-element"><span class="secno">4.10.6 </span>The <code>label</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element"><span class="secno">4.10.7 </span>The <code>input</code> element</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#states-of-the-type-attribute"><span class="secno">4.10.7.1 </span>States of the <code title="attr-input-type">type</code> attribute</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#hidden-state-(type=hidden)"><span class="secno">4.10.7.1.1 </span>Hidden state (<code title="">type=hidden</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-(type=text)-state-and-search-state-(type=search)"><span class="secno">4.10.7.1.2 </span>Text (<code title="">type=text</code>) state and Search state (<code title="">type=search</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#telephone-state-(type=tel)"><span class="secno">4.10.7.1.3 </span>Telephone state (<code title="">type=tel</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-state-(type=url)"><span class="secno">4.10.7.1.4 </span>URL state (<code title="">type=url</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#e-mail-state-(type=email)"><span class="secno">4.10.7.1.5 </span>E-mail state (<code title="">type=email</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#password-state-(type=password)"><span class="secno">4.10.7.1.6 </span>Password state (<code title="">type=password</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#date-and-time-state-(type=datetime)"><span class="secno">4.10.7.1.7 </span>Date and Time state (<code title="">type=datetime</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#date-state-(type=date)"><span class="secno">4.10.7.1.8 </span>Date state (<code title="">type=date</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#month-state-(type=month)"><span class="secno">4.10.7.1.9 </span>Month state (<code title="">type=month</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#week-state-(type=week)"><span class="secno">4.10.7.1.10 </span>Week state (<code title="">type=week</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#time-state-(type=time)"><span class="secno">4.10.7.1.11 </span>Time state (<code title="">type=time</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#local-date-and-time-state-(type=datetime-local)"><span class="secno">4.10.7.1.12 </span>Local Date and Time state (<code title="">type=datetime-local</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#number-state-(type=number)"><span class="secno">4.10.7.1.13 </span>Number state (<code title="">type=number</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#range-state-(type=range)"><span class="secno">4.10.7.1.14 </span>Range state (<code title="">type=range</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#color-state-(type=color)"><span class="secno">4.10.7.1.15 </span>Color state (<code title="">type=color</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#checkbox-state-(type=checkbox)"><span class="secno">4.10.7.1.16 </span>Checkbox state (<code title="">type=checkbox</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#radio-button-state-(type=radio)"><span class="secno">4.10.7.1.17 </span>Radio Button state (<code title="">type=radio</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#file-upload-state-(type=file)"><span class="secno">4.10.7.1.18 </span>File Upload state (<code title="">type=file</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#submit-button-state-(type=submit)"><span class="secno">4.10.7.1.19 </span>Submit Button state (<code title="">type=submit</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#image-button-state-(type=image)"><span class="secno">4.10.7.1.20 </span>Image Button state (<code title="">type=image</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#reset-button-state-(type=reset)"><span class="secno">4.10.7.1.21 </span>Reset Button state (<code title="">type=reset</code>)</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#button-state-(type=button)"><span class="secno">4.10.7.1.22 </span>Button state (<code title="">type=button</code>)</a></li></ol></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#input-impl-notes"><span class="secno">4.10.7.2 </span>Implemention notes regarding localization of form controls</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#common-input-element-attributes"><span class="secno">4.10.7.3 </span>Common <code>input</code> element attributes</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-autocomplete-attribute"><span class="secno">4.10.7.3.1 </span>The <code title="attr-input-autocomplete">autocomplete</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dirname-attribute"><span class="secno">4.10.7.3.2 </span>The <code title="attr-input-dirname">dirname</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-list-attribute"><span class="secno">4.10.7.3.3 </span>The <code title="attr-input-list">list</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-readonly-attribute"><span class="secno">4.10.7.3.4 </span>The <code title="attr-input-readonly">readonly</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-size-attribute"><span class="secno">4.10.7.3.5 </span>The <code title="attr-input-size">size</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-required-attribute"><span class="secno">4.10.7.3.6 </span>The <code title="attr-input-required">required</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-multiple-attribute"><span class="secno">4.10.7.3.7 </span>The <code title="attr-input-multiple">multiple</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-maxlength-attribute"><span class="secno">4.10.7.3.8 </span>The <code title="attr-input-maxlength">maxlength</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pattern-attribute"><span class="secno">4.10.7.3.9 </span>The <code title="attr-input-pattern">pattern</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-min-and-max-attributes"><span class="secno">4.10.7.3.10 </span>The <code title="attr-input-min">min</code> and <code title="attr-input-max">max</code> attributes</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-step-attribute"><span class="secno">4.10.7.3.11 </span>The <code title="attr-input-step">step</code> attribute</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-placeholder-attribute"><span class="secno">4.10.7.3.12 </span>The <code title="attr-input-placeholder">placeholder</code> attribute</a></li></ol></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#common-input-element-apis"><span class="secno">4.10.7.4 </span>Common <code>input</code> element APIs</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#common-event-behaviors"><span class="secno">4.10.7.5 </span>Common event behaviors</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element"><span class="secno">4.10.8 </span>The <code>button</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element"><span class="secno">4.10.9 </span>The <code>select</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-datalist-element"><span class="secno">4.10.10 </span>The <code>datalist</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-optgroup-element"><span class="secno">4.10.11 </span>The <code>optgroup</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-option-element"><span class="secno">4.10.12 </span>The <code>option</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element"><span class="secno">4.10.13 </span>The <code>textarea</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-keygen-element"><span class="secno">4.10.14 </span>The <code>keygen</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-output-element"><span class="secno">4.10.15 </span>The <code>output</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-progress-element"><span class="secno">4.10.16 </span>The <code>progress</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meter-element"><span class="secno">4.10.17 </span>The <code>meter</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#association-of-controls-and-forms"><span class="secno">4.10.18 </span>Association of controls and forms</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attributes-common-to-form-controls"><span class="secno">4.10.19 </span>Attributes common to form controls</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#naming-form-controls"><span class="secno">4.10.19.1 </span>Naming form controls</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#enabling-and-disabling-form-controls"><span class="secno">4.10.19.2 </span>Enabling and disabling form controls</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-form-control's-value"><span class="secno">4.10.19.3 </span>A form control's value</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#autofocusing-a-form-control"><span class="secno">4.10.19.4 </span>Autofocusing a form control</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#limiting-user-input-length"><span class="secno">4.10.19.5 </span>Limiting user input length</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#form-submission-0"><span class="secno">4.10.19.6 </span>Form submission</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#submitting-element-directionality"><span class="secno">4.10.19.7 </span>Submitting element directionality</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#textFieldSelection"><span class="secno">4.10.20 </span>APIs for the text field selections</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#constraints"><span class="secno">4.10.21 </span>Constraints</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#definitions"><span class="secno">4.10.21.1 </span>Definitions</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#constraint-validation"><span class="secno">4.10.21.2 </span>Constraint validation</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-constraint-validation-api"><span class="secno">4.10.21.3 </span>The constraint validation API</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-forms"><span class="secno">4.10.21.4 </span>Security</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#form-submission"><span class="secno">4.10.22 </span>Form submission</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-2"><span class="secno">4.10.22.1 </span>Introduction</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#implicit-submission"><span class="secno">4.10.22.2 </span>Implicit submission</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#form-submission-algorithm"><span class="secno">4.10.22.3 </span>Form submission algorithm</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#constructing-form-data-set"><span class="secno">4.10.22.4 </span>Constructing the form data set</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-encoded-form-data"><span class="secno">4.10.22.5 </span>URL-encoded form data</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#multipart-form-data"><span class="secno">4.10.22.6 </span>Multipart form data</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#plain-text-form-data"><span class="secno">4.10.22.7 </span>Plain text form data</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#resetting-a-form"><span class="secno">4.10.23 </span>Resetting a form</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-elements"><span class="secno">4.11 </span>Interactive elements</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element"><span class="secno">4.11.1 </span>The <code>details</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-summary-element"><span class="secno">4.11.2 </span>The <code>summary</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-command-element"><span class="secno">4.11.3 </span>The <code>command</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element"><span class="secno">4.11.4 </span>The <code>menu</code> element</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#menus-intro"><span class="secno">4.11.4.1 </span>Introduction</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#building-menus-and-toolbars"><span class="secno">4.11.4.2 </span>Building menus and toolbars</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#context-menus"><span class="secno">4.11.4.3 </span>Context menus</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#toolbars"><span class="secno">4.11.4.4 </span>Toolbars</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#commands"><span class="secno">4.11.5 </span>Commands</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-a-element-to-define-a-command"><span class="secno">4.11.5.1 </span>Using the <code>a</code> element to define a command</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-button-element-to-define-a-command"><span class="secno">4.11.5.2 </span>Using the <code>button</code> element to define a command</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-input-element-to-define-a-command"><span class="secno">4.11.5.3 </span>Using the <code>input</code> element to define a command</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-option-element-to-define-a-command"><span class="secno">4.11.5.4 </span>Using the <code>option</code> element to define a command</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-command-element-to-define-a-command"><span class="secno">4.11.5.5 </span>Using the <code>command</code> element to define
  a command</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-command-attribute-on-command-elements-to-define-a-command-indirectly"><span class="secno">4.11.5.6 </span>Using the <code title="attr-command-command">command</code> attribute on <code>command</code> elements to define a command indirectly</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-accesskey-attribute-on-a-label-element-to-define-a-command"><span class="secno">4.11.5.7 </span>Using the <code title="attr-accesskey">accesskey</code> attribute on a <code>label</code> element to define a command</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-accesskey-attribute-on-a-legend-element-to-define-a-command"><span class="secno">4.11.5.8 </span>Using the <code title="attr-accesskey">accesskey</code> attribute on a <code>legend</code> element to define a command</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-accesskey-attribute-to-define-a-command-on-other-elements"><span class="secno">4.11.5.9 </span>Using the <code title="attr-accesskey">accesskey</code> attribute to define a command on other elements</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dialog-element"><span class="secno">4.11.6 </span>The <code>dialog</code> element</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#anchor-points"><span class="secno">4.11.6.1 </span>Anchor points</a></li></ol></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#links"><span class="secno">4.12 </span>Links</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-3"><span class="secno">4.12.1 </span>Introduction</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#links-created-by-a-and-area-elements"><span class="secno">4.12.2 </span>Links created by <code>a</code> and <code>area</code> elements</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#following-hyperlinks-0"><span class="secno">4.12.3 </span>Following hyperlinks</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#downloading-resources"><span class="secno">4.12.4 </span>Downloading resources</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink-auditing"><span class="secno">4.12.4.1 </span>Hyperlink auditing</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#linkTypes"><span class="secno">4.12.5 </span>Link types</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rel-alternate"><span class="secno">4.12.5.1 </span>Link type "<code>alternate</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-author"><span class="secno">4.12.5.2 </span>Link type "<code>author</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-bookmark"><span class="secno">4.12.5.3 </span>Link type "<code>bookmark</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-help"><span class="secno">4.12.5.4 </span>Link type "<code>help</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rel-icon"><span class="secno">4.12.5.5 </span>Link type "<code>icon</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-license"><span class="secno">4.12.5.6 </span>Link type "<code>license</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-nofollow"><span class="secno">4.12.5.7 </span>Link type "<code>nofollow</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-noreferrer"><span class="secno">4.12.5.8 </span>Link type "<code>noreferrer</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-prefetch"><span class="secno">4.12.5.9 </span>Link type "<code>prefetch</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-search"><span class="secno">4.12.5.10 </span>Link type "<code>search</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-stylesheet"><span class="secno">4.12.5.11 </span>Link type "<code>stylesheet</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-tag"><span class="secno">4.12.5.12 </span>Link type "<code>tag</code>"</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sequential-link-types"><span class="secno">4.12.5.13 </span>Sequential link types</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-next"><span class="secno">4.12.5.13.1 </span>Link type "<code>next</code>"</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-prev"><span class="secno">4.12.5.13.2 </span>Link type "<code>prev</code>"</a></li></ol></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#other-link-types"><span class="secno">4.12.5.14 </span>Other link types</a></li></ol></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#common-idioms"><span class="secno">4.13 </span>Common idioms without dedicated elements</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-main-part-of-the-content"><span class="secno">4.13.1 </span>The main part of the content</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rel-up"><span class="secno">4.13.2 </span>Bread crumb navigation</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#tag-clouds"><span class="secno">4.13.3 </span>Tag clouds</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#conversations"><span class="secno">4.13.4 </span>Conversations</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#footnotes"><span class="secno">4.13.5 </span>Footnotes</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#selectors"><span class="secno">4.14 </span>Matching HTML elements using selectors</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitivity"><span class="secno">4.14.1 </span>Case-sensitivity</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#pseudo-classes"><span class="secno">4.14.2 </span>Pseudo-classes</a></li></ol></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#microdata"><span class="secno">5 </span>Microdata</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-4"><span class="secno">5.1 </span>Introduction</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#overview"><span class="secno">5.1.1 </span>Overview</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-basic-syntax"><span class="secno">5.1.2 </span>The basic syntax</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#typed-items"><span class="secno">5.1.3 </span>Typed items</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-identifiers-for-items"><span class="secno">5.1.4 </span>Global identifiers for items</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#selecting-names-when-defining-vocabularies"><span class="secno">5.1.5 </span>Selecting names when defining vocabularies</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#using-the-microdata-dom-api"><span class="secno">5.1.6 </span>Using the microdata DOM API</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#encoding-microdata"><span class="secno">5.2 </span>Encoding microdata</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-microdata-model"><span class="secno">5.2.1 </span>The microdata model</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#items"><span class="secno">5.2.2 </span>Items</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute"><span class="secno">5.2.3 </span>Names: the <code>itemprop</code> attribute</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#values"><span class="secno">5.2.4 </span>Values</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#associating-names-with-items"><span class="secno">5.2.5 </span>Associating names with items</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#microdata-and-other-namespaces"><span class="secno">5.2.6 </span>Microdata and other namespaces</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#microdata-dom-api"><span class="secno">5.3 </span>Microdata DOM API</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#mdvocabs"><span class="secno">5.4 </span>Microdata vocabularies</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#vcard"><span class="secno">5.4.1 </span>vCard</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#conversion-to-vcard"><span class="secno">5.4.1.1 </span>Conversion to vCard</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#examples-1"><span class="secno">5.4.1.2 </span>Examples</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#vevent"><span class="secno">5.4.2 </span>vEvent</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#conversion-to-icalendar"><span class="secno">5.4.2.1 </span>Conversion to iCalendar</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#examples-2"><span class="secno">5.4.2.2 </span>Examples</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#licensing-works"><span class="secno">5.4.3 </span>Licensing works</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#examples-3"><span class="secno">5.4.3.1 </span>Examples</a></li></ol></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#converting-html-to-other-formats"><span class="secno">5.5 </span>Converting HTML to other formats</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#json"><span class="secno">5.5.1 </span>JSON</a></li></ol></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#browsers"><span class="secno">6 </span>Loading Web pages</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#windows"><span class="secno">6.1 </span>Browsing contexts</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-contexts"><span class="secno">6.1.1 </span>Nested browsing contexts</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#navigating-nested-browsing-contexts-in-the-dom"><span class="secno">6.1.1.1 </span>Navigating nested browsing contexts in the DOM</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#auxiliary-browsing-contexts"><span class="secno">6.1.2 </span>Auxiliary browsing contexts</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#navigating-auxiliary-browsing-contexts-in-the-dom"><span class="secno">6.1.2.1 </span>Navigating auxiliary browsing contexts in the DOM</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#secondary-browsing-contexts"><span class="secno">6.1.3 </span>Secondary browsing contexts</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-nav"><span class="secno">6.1.4 </span>Security</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#groupings-of-browsing-contexts"><span class="secno">6.1.5 </span>Groupings of browsing contexts</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-names"><span class="secno">6.1.6 </span>Browsing context names</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-window-object"><span class="secno">6.2 </span>The <code>Window</code> object</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-window"><span class="secno">6.2.1 </span>Security</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#apis-for-creating-and-navigating-browsing-contexts-by-name"><span class="secno">6.2.2 </span>APIs for creating and navigating browsing contexts by name</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#accessing-other-browsing-contexts"><span class="secno">6.2.3 </span>Accessing other browsing contexts</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#named-access-on-the-window-object"><span class="secno">6.2.4 </span>Named access on the <code>Window</code> object</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#garbage-collection-and-browsing-contexts"><span class="secno">6.2.5 </span>Garbage collection and browsing contexts</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#browser-interface-elements"><span class="secno">6.2.6 </span>Browser interface elements</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-windowproxy-object"><span class="secno">6.2.7 </span>The <code>WindowProxy</code> object</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#origin-0"><span class="secno">6.3 </span>Origin</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#relaxing-the-same-origin-restriction"><span class="secno">6.3.1 </span>Relaxing the same-origin restriction</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxing"><span class="secno">6.4 </span>Sandboxing</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#history"><span class="secno">6.5 </span>Session history and navigation</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-session-history-of-browsing-contexts"><span class="secno">6.5.1 </span>The session history of browsing contexts</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-history-interface"><span class="secno">6.5.2 </span>The <code>History</code> interface</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-location-interface"><span class="secno">6.5.3 </span>The <code>Location</code> interface</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-location"><span class="secno">6.5.3.1 </span>Security</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#history-notes"><span class="secno">6.5.4 </span>Implementation notes for session history</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-the-web"><span class="secno">6.6 </span>Browsing the Web</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#navigating-across-documents"><span class="secno">6.6.1 </span>Navigating across documents</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#read-html"><span class="secno">6.6.2 </span>Page load processing model for HTML files</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#read-xml"><span class="secno">6.6.3 </span>Page load processing model for XML files</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#read-text"><span class="secno">6.6.4 </span>Page load processing model for text files</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#read-multipart-x-mixed-replace"><span class="secno">6.6.5 </span>Page load processing model for <code>multipart/x-mixed-replace</code> resources</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#read-media"><span class="secno">6.6.6 </span>Page load processing model for media</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#read-plugin"><span class="secno">6.6.7 </span>Page load processing model for content that uses plugins</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#read-ua-inline"><span class="secno">6.6.8 </span>Page load processing model for inline content that doesn't have a DOM</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#scroll-to-fragid"><span class="secno">6.6.9 </span>Navigating to a fragment identifier</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#history-traversal"><span class="secno">6.6.10 </span>History traversal</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-definitions-0"><span class="secno">6.6.10.1 </span>Event definitions</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#unloading-documents"><span class="secno">6.6.11 </span>Unloading documents</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-definition"><span class="secno">6.6.11.1 </span>Event definition</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#aborting-a-document-load"><span class="secno">6.6.12 </span>Aborting a document load</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#offline"><span class="secno">6.7 </span>Offline Web applications</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-5"><span class="secno">6.7.1 </span>Introduction</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#appcacheevents"><span class="secno">6.7.1.1 </span>Event summary</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#appcache"><span class="secno">6.7.2 </span>Application caches</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#manifests"><span class="secno">6.7.3 </span>The cache manifest syntax</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#some-sample-manifests"><span class="secno">6.7.3.1 </span>Some sample manifests</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#writing-cache-manifests"><span class="secno">6.7.3.2 </span>Writing cache manifests</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-cache-manifests"><span class="secno">6.7.3.3 </span>Parsing cache manifests</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#downloading-or-updating-an-application-cache"><span class="secno">6.7.4 </span>Downloading or updating an application cache</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-application-cache-selection-algorithm"><span class="secno">6.7.5 </span>The application cache selection algorithm</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#changesToNetworkingModel"><span class="secno">6.7.6 </span>Changes to the networking model</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#expiring-application-caches"><span class="secno">6.7.7 </span>Expiring application caches</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#disk-space"><span class="secno">6.7.8 </span>Disk space</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#application-cache-api"><span class="secno">6.7.9 </span>Application cache API</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#browser-state"><span class="secno">6.7.10 </span>Browser state</a></li></ol></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#webappapis"><span class="secno">7 </span>Web application APIs</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#scripting"><span class="secno">7.1 </span>Scripting</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-6"><span class="secno">7.1.1 </span>Introduction</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#enabling-and-disabling-scripting"><span class="secno">7.1.2 </span>Enabling and disabling scripting</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#processing-model-1"><span class="secno">7.1.3 </span>Processing model</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#definitions-0"><span class="secno">7.1.3.1 </span>Definitions</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#calling-scripts"><span class="secno">7.1.3.2 </span>Calling scripts</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#creating-scripts"><span class="secno">7.1.3.3 </span>Creating scripts</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#killing-scripts"><span class="secno">7.1.3.4 </span>Killing scripts</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#runtime-script-errors"><span class="secno">7.1.3.5 </span>Runtime script errors</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#runtime-script-errors-in-documents"><span class="secno">7.1.3.5.1 </span>Runtime script errors in documents</a></li></ol></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loops"><span class="secno">7.1.4 </span>Event loops</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#definitions-1"><span class="secno">7.1.4.1 </span>Definitions</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#processing-model-2"><span class="secno">7.1.4.2 </span>Processing model</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#generic-task-sources"><span class="secno">7.1.4.3 </span>Generic task sources</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#javascript-protocol"><span class="secno">7.1.5 </span>The <code title="">javascript:</code> URL scheme</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#events"><span class="secno">7.1.6 </span>Events</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-attributes"><span class="secno">7.1.6.1 </span>Event handlers</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers-on-elements,-document-objects,-and-window-objects"><span class="secno">7.1.6.2 </span>Event handlers on elements, <code>Document</code> objects, and <code>Window</code> objects</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-firing"><span class="secno">7.1.6.3 </span>Event firing</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#events-and-the-window-object"><span class="secno">7.1.6.4 </span>Events and the <code>Window</code> object</a></li></ol></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#atob"><span class="secno">7.2 </span>Base64 utility methods</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#timers"><span class="secno">7.3 </span>Timers</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#user-prompts"><span class="secno">7.4 </span>User prompts</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#simple-dialogs"><span class="secno">7.4.1 </span>Simple dialogs</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#printing"><span class="secno">7.4.2 </span>Printing</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dialogs-implemented-using-separate-documents"><span class="secno">7.4.3 </span>Dialogs implemented using separate documents</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#system-state-and-capabilities"><span class="secno">7.5 </span>System state and capabilities</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-navigator-object"><span class="secno">7.5.1 </span>The <code>Navigator</code> object</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#client-identification"><span class="secno">7.5.1.1 </span>Client identification</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#custom-handlers"><span class="secno">7.5.1.2 </span>Custom scheme and content handlers</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-and-privacy"><span class="secno">7.5.1.3 </span>Security and privacy</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sample-handler-impl"><span class="secno">7.5.1.4 </span>Sample user interface</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#manually-releasing-the-storage-mutex"><span class="secno">7.5.1.5 </span>Manually releasing the storage mutex</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-external-interface"><span class="secno">7.5.2 </span>The <code>External</code> interface</a></li></ol></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#editing"><span class="secno">8 </span>User interaction</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hidden-attribute"><span class="secno">8.1 </span>The <code>hidden</code> attribute</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#inert-subtrees"><span class="secno">8.2 </span>Inert subtrees</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-inert-attribute"><span class="secno">8.2.1 </span>The <code>inert</code> attribute</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#activation"><span class="secno">8.3 </span>Activation</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#focus"><span class="secno">8.4 </span>Focus</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sequential-focus-navigation-and-the-tabindex-attribute"><span class="secno">8.4.1 </span>Sequential focus navigation and the <code title="attr-tabindex">tabindex</code> attribute</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#focus-management"><span class="secno">8.4.2 </span>Focus management</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#document-level-focus-apis"><span class="secno">8.4.3 </span>Document-level focus APIs</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-level-focus-apis"><span class="secno">8.4.4 </span>Element-level focus APIs</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#assigning-keyboard-shortcuts"><span class="secno">8.5 </span>Assigning keyboard shortcuts</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-7"><span class="secno">8.5.1 </span>Introduction</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-accesskey-attribute"><span class="secno">8.5.2 </span>The <code>accesskey</code> attribute</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#processing-model-3"><span class="secno">8.5.3 </span>Processing model</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#editing-0"><span class="secno">8.6 </span>Editing</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#contenteditable"><span class="secno">8.6.1 </span>Making document regions editable: The <code title="attr-contenteditable">contenteditable</code> content
  attribute</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#making-entire-documents-editable:-the-designmode-idl-attribute"><span class="secno">8.6.2 </span>Making entire documents editable: The <code title="dom-document-designMode">designMode</code> IDL attribute</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#best-practices-for-in-page-editors"><span class="secno">8.6.3 </span>Best practices for in-page editors</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#editing-apis"><span class="secno">8.6.4 </span>Editing APIs</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#spelling-and-grammar-checking"><span class="secno">8.6.5 </span>Spelling and grammar checking</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dnd"><span class="secno">8.7 </span>Drag and drop</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-8"><span class="secno">8.7.1 </span>Introduction</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-drag-data-store"><span class="secno">8.7.2 </span>The drag data store</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-datatransfer-interface"><span class="secno">8.7.3 </span>The <code>DataTransfer</code> interface</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-datatransferitemlist-interface"><span class="secno">8.7.3.1 </span>The <code>DataTransferItemList</code> interface</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-datatransferitem-interface"><span class="secno">8.7.3.2 </span>The <code>DataTransferItem</code> interface</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dragevent-interface"><span class="secno">8.7.4 </span>The <code>DragEvent</code> interface</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#drag-and-drop-processing-model"><span class="secno">8.7.5 </span>Drag-and-drop processing model</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dndevents"><span class="secno">8.7.6 </span>Events summary</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-draggable-attribute"><span class="secno">8.7.7 </span>The <code>draggable</code> attribute</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dropzone-attribute"><span class="secno">8.7.8 </span>The <code>dropzone</code> attribute</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-risks-in-the-drag-and-drop-model"><span class="secno">8.7.9 </span>Security risks in the drag-and-drop model</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-search-apis"><span class="secno">8.8 </span>Text search APIs</a></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#workers"><span class="secno">9 </span>Web workers</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-9"><span class="secno">9.1 </span>Introduction</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#scope-0"><span class="secno">9.1.1 </span>Scope</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#examples-4"><span class="secno">9.1.2 </span>Examples</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#a-background-number-crunching-worker"><span class="secno">9.1.2.1 </span>A background number-crunching worker</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#worker-used-for-background-i/o"><span class="secno">9.1.2.2 </span>Worker used for background I/O</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#shared-workers-introduction"><span class="secno">9.1.2.3 </span>Shared workers introduction</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#shared-state-using-a-shared-worker"><span class="secno">9.1.2.4 </span>Shared state using a shared worker</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#delegation"><span class="secno">9.1.2.5 </span>Delegation</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#tutorials"><span class="secno">9.1.3 </span>Tutorials</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#creating-a-dedicated-worker"><span class="secno">9.1.3.1 </span>Creating a dedicated worker</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#communicating-with-a-dedicated-worker"><span class="secno">9.1.3.2 </span>Communicating with a dedicated worker</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#shared-workers"><span class="secno">9.1.3.3 </span>Shared workers</a></li></ol></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#infrastructure-0"><span class="secno">9.2 </span>Infrastructure</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-global-scope"><span class="secno">9.2.1 </span>The global scope</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-workerglobalscope-common-interface"><span class="secno">9.2.1.1 </span>The <code>WorkerGlobalScope</code> common interface</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dedicated-workers-and-the-dedicatedworkerglobalscope-interface"><span class="secno">9.2.1.2 </span>Dedicated workers and the <code>DedicatedWorkerGlobalScope</code> interface</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#shared-workers-and-the-sharedworkerglobalscope-interface"><span class="secno">9.2.1.3 </span>Shared workers and the <code>SharedWorkerGlobalScope</code> interface</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#origins-of-workers"><span class="secno">9.2.2 </span>Origins of workers</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-event-loop"><span class="secno">9.2.3 </span>The event loop</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-worker's-lifetime"><span class="secno">9.2.4 </span>The worker's lifetime</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#processing-model-4"><span class="secno">9.2.5 </span>Processing model</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#runtime-script-errors-0"><span class="secno">9.2.6 </span>Runtime script errors</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#creating-workers"><span class="secno">9.2.7 </span>Creating workers</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abstractworker-abstract-interface"><span class="secno">9.2.7.1 </span>The <code>AbstractWorker</code> abstract interface</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dedicated-workers-and-the-worker-interface"><span class="secno">9.2.7.2 </span>Dedicated workers and the <code>Worker</code> interface</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#shared-workers-and-the-sharedworker-interface"><span class="secno">9.2.7.3 </span>Shared workers and the <code>SharedWorker</code> interface</a></li></ol></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#apis-available-to-workers"><span class="secno">9.3 </span>APIs available to workers</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#importing-scripts-and-libraries"><span class="secno">9.3.1 </span>Importing scripts and libraries</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-workernavigator-object"><span class="secno">9.3.2 </span>The <code>WorkerNavigator</code> object</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#interface-objects-and-constructors"><span class="secno">9.3.3 </span>Interface objects and constructors</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#worker-locations"><span class="secno">9.3.4 </span>Worker locations</a></li></ol></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#comms"><span class="secno">10 </span>Communication</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-definitions-1"><span class="secno">10.1 </span>Event definitions</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#server-sent-events"><span class="secno">10.2 </span>Server-sent events</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#server-sent-events-intro"><span class="secno">10.2.1 </span>Introduction</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-eventsource-interface"><span class="secno">10.2.2 </span>The <code>EventSource</code> interface</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#processing-model-5"><span class="secno">10.2.3 </span>Processing model</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-an-event-stream"><span class="secno">10.2.4 </span>Parsing an event stream</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-stream-interpretation"><span class="secno">10.2.5 </span>Interpreting an event stream</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#notes"><span class="secno">10.2.6 </span>Notes</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#eventsource-push"><span class="secno">10.2.7 </span>Connectionless push and other features</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#garbage-collection-0"><span class="secno">10.2.8 </span>Garbage collection</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#iana-considerations"><span class="secno">10.2.9 </span>IANA considerations</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/event-stream"><span class="secno">10.2.9.1 </span><code>text/event-stream</code></a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#last-event-id"><span class="secno">10.2.9.2 </span><code>Last-Event-ID</code></a></li></ol></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#network"><span class="secno">10.3 </span>Web sockets</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#network-intro"><span class="secno">10.3.1 </span>Introduction</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-websocket-interface"><span class="secno">10.3.2 </span>The <code>WebSocket</code> interface</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#feedback-from-the-protocol"><span class="secno">10.3.3 </span>Feedback from the protocol</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping-and-pong-frames"><span class="secno">10.3.4 </span>Ping and Pong frames</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-websocket-urls"><span class="secno">10.3.5 </span>Parsing WebSocket URLs</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-definitions-2"><span class="secno">10.3.6 </span>Event definitions</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#garbage-collection-1"><span class="secno">10.3.7 </span>Garbage collection</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#web-messaging"><span class="secno">10.4 </span>Cross-document messaging</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-10"><span class="secno">10.4.1 </span>Introduction</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-postmsg"><span class="secno">10.4.2 </span>Security</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#authors"><span class="secno">10.4.2.1 </span>Authors</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#user-agents"><span class="secno">10.4.2.2 </span>User agents</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#posting-messages"><span class="secno">10.4.3 </span>Posting messages</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#channel-messaging"><span class="secno">10.5 </span>Channel messaging</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-11"><span class="secno">10.5.1 </span>Introduction</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#ports-as-the-basis-of-an-object-capability-model-on-the-web"><span class="secno">10.5.1.1 </span>Ports as the basis of an object-capability model on the Web</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#ports-as-the-basis-of-abstracting-out-service-implementations"><span class="secno">10.5.1.2 </span>Ports as the basis of abstracting out service implementations</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#message-channels"><span class="secno">10.5.2 </span>Message channels</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#message-ports"><span class="secno">10.5.3 </span>Message ports</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#ports-and-garbage-collection"><span class="secno">10.5.3.1 </span>Ports and garbage collection</a></li></ol></li></ol></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#webstorage"><span class="secno">11 </span>Web storage</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-12"><span class="secno">11.1 </span>Introduction</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#storage"><span class="secno">11.2 </span>The API</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-storage-interface"><span class="secno">11.2.1 </span>The <code>Storage</code> interface</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sessionstorage-attribute"><span class="secno">11.2.2 </span>The <code title="dom-sessionStorage">sessionStorage</code> attribute</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-localstorage-attribute"><span class="secno">11.2.3 </span>The <code title="dom-localStorage">localStorage</code> attribute</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-localStorage"><span class="secno">11.2.3.1 </span>Security</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-storage-event"><span class="secno">11.2.4 </span>The <code title="event-storage">storage</code> event</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-definition-0"><span class="secno">11.2.4.1 </span>Event definition</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#threads"><span class="secno">11.2.5 </span>Threads</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#disk-space-0"><span class="secno">11.3 </span>Disk space</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#privacy"><span class="secno">11.4 </span>Privacy</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#user-tracking"><span class="secno">11.4.1 </span>User tracking</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sensitivity-of-data"><span class="secno">11.4.2 </span>Sensitivity of data</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#security-storage"><span class="secno">11.5 </span>Security</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#dns-spoofing-attacks"><span class="secno">11.5.1 </span>DNS spoofing attacks</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#cross-directory-attacks"><span class="secno">11.5.2 </span>Cross-directory attacks</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#implementation-risks"><span class="secno">11.5.3 </span>Implementation risks</a></li></ol></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax"><span class="secno">12 </span>The HTML syntax</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#writing"><span class="secno">12.1 </span>Writing HTML documents</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-doctype"><span class="secno">12.1.1 </span>The DOCTYPE</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#elements-0"><span class="secno">12.1.2 </span>Elements</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#start-tags"><span class="secno">12.1.2.1 </span>Start tags</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#end-tags"><span class="secno">12.1.2.2 </span>End tags</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attributes-0"><span class="secno">12.1.2.3 </span>Attributes</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#optional-tags"><span class="secno">12.1.2.4 </span>Optional tags</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-restrictions"><span class="secno">12.1.2.5 </span>Restrictions on content models</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#cdata-rcdata-restrictions"><span class="secno">12.1.2.6 </span>Restrictions on the contents of raw text and RCDATA elements</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-0"><span class="secno">12.1.3 </span>Text</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#newlines"><span class="secno">12.1.3.1 </span>Newlines</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#character-references"><span class="secno">12.1.4 </span>Character references</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#cdata-sections"><span class="secno">12.1.5 </span>CDATA sections</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#comments"><span class="secno">12.1.6 </span>Comments</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing"><span class="secno">12.2 </span>Parsing HTML documents</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#overview-of-the-parsing-model"><span class="secno">12.2.1 </span>Overview of the parsing model</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-byte-stream"><span class="secno">12.2.2 </span>The input byte stream</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#determining-the-character-encoding"><span class="secno">12.2.2.1 </span>Determining the character encoding</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#character-encodings-0"><span class="secno">12.2.2.2 </span>Character encodings</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#changing-the-encoding-while-parsing"><span class="secno">12.2.2.3 </span>Changing the encoding while parsing</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#preprocessing-the-input-stream"><span class="secno">12.2.2.4 </span>Preprocessing the input stream</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-state"><span class="secno">12.2.3 </span>Parse state</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-insertion-mode"><span class="secno">12.2.3.1 </span>The insertion mode</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-stack-of-open-elements"><span class="secno">12.2.3.2 </span>The stack of open elements</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-list-of-active-formatting-elements"><span class="secno">12.2.3.3 </span>The list of active formatting elements</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-element-pointers"><span class="secno">12.2.3.4 </span>The element pointers</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#other-parsing-state-flags"><span class="secno">12.2.3.5 </span>Other parsing state flags</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#tokenization"><span class="secno">12.2.4 </span>Tokenization</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#data-state"><span class="secno">12.2.4.1 </span>Data state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#character-reference-in-data-state"><span class="secno">12.2.4.2 </span>Character reference in data state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rcdata-state"><span class="secno">12.2.4.3 </span>RCDATA state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#character-reference-in-rcdata-state"><span class="secno">12.2.4.4 </span>Character reference in RCDATA state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rawtext-state"><span class="secno">12.2.4.5 </span>RAWTEXT state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-state"><span class="secno">12.2.4.6 </span>Script data state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#plaintext-state"><span class="secno">12.2.4.7 </span>PLAINTEXT state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#tag-open-state"><span class="secno">12.2.4.8 </span>Tag open state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#end-tag-open-state"><span class="secno">12.2.4.9 </span>End tag open state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#tag-name-state"><span class="secno">12.2.4.10 </span>Tag name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rcdata-less-than-sign-state"><span class="secno">12.2.4.11 </span>RCDATA less-than sign state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rcdata-end-tag-open-state"><span class="secno">12.2.4.12 </span>RCDATA end tag open state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rcdata-end-tag-name-state"><span class="secno">12.2.4.13 </span>RCDATA end tag name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rawtext-less-than-sign-state"><span class="secno">12.2.4.14 </span>RAWTEXT less-than sign state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rawtext-end-tag-open-state"><span class="secno">12.2.4.15 </span>RAWTEXT end tag open state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rawtext-end-tag-name-state"><span class="secno">12.2.4.16 </span>RAWTEXT end tag name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-less-than-sign-state"><span class="secno">12.2.4.17 </span>Script data less-than sign state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-end-tag-open-state"><span class="secno">12.2.4.18 </span>Script data end tag open state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-end-tag-name-state"><span class="secno">12.2.4.19 </span>Script data end tag name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-escape-start-state"><span class="secno">12.2.4.20 </span>Script data escape start state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-escape-start-dash-state"><span class="secno">12.2.4.21 </span>Script data escape start dash state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-escaped-state"><span class="secno">12.2.4.22 </span>Script data escaped state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-escaped-dash-state"><span class="secno">12.2.4.23 </span>Script data escaped dash state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-escaped-dash-dash-state"><span class="secno">12.2.4.24 </span>Script data escaped dash dash state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-escaped-less-than-sign-state"><span class="secno">12.2.4.25 </span>Script data escaped less-than sign state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-escaped-end-tag-open-state"><span class="secno">12.2.4.26 </span>Script data escaped end tag open state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-escaped-end-tag-name-state"><span class="secno">12.2.4.27 </span>Script data escaped end tag name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-double-escape-start-state"><span class="secno">12.2.4.28 </span>Script data double escape start state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-double-escaped-state"><span class="secno">12.2.4.29 </span>Script data double escaped state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-double-escaped-dash-state"><span class="secno">12.2.4.30 </span>Script data double escaped dash state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-double-escaped-dash-dash-state"><span class="secno">12.2.4.31 </span>Script data double escaped dash dash state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-double-escaped-less-than-sign-state"><span class="secno">12.2.4.32 </span>Script data double escaped less-than sign state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#script-data-double-escape-end-state"><span class="secno">12.2.4.33 </span>Script data double escape end state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#before-attribute-name-state"><span class="secno">12.2.4.34 </span>Before attribute name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attribute-name-state"><span class="secno">12.2.4.35 </span>Attribute name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#after-attribute-name-state"><span class="secno">12.2.4.36 </span>After attribute name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#before-attribute-value-state"><span class="secno">12.2.4.37 </span>Before attribute value state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attribute-value-(double-quoted)-state"><span class="secno">12.2.4.38 </span>Attribute value (double-quoted) state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attribute-value-(single-quoted)-state"><span class="secno">12.2.4.39 </span>Attribute value (single-quoted) state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attribute-value-(unquoted)-state"><span class="secno">12.2.4.40 </span>Attribute value (unquoted) state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#character-reference-in-attribute-value-state"><span class="secno">12.2.4.41 </span>Character reference in attribute value state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#after-attribute-value-(quoted)-state"><span class="secno">12.2.4.42 </span>After attribute value (quoted) state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#self-closing-start-tag-state"><span class="secno">12.2.4.43 </span>Self-closing start tag state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#bogus-comment-state"><span class="secno">12.2.4.44 </span>Bogus comment state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#markup-declaration-open-state"><span class="secno">12.2.4.45 </span>Markup declaration open state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#comment-start-state"><span class="secno">12.2.4.46 </span>Comment start state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#comment-start-dash-state"><span class="secno">12.2.4.47 </span>Comment start dash state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#comment-state"><span class="secno">12.2.4.48 </span>Comment state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#comment-end-dash-state"><span class="secno">12.2.4.49 </span>Comment end dash state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#comment-end-state"><span class="secno">12.2.4.50 </span>Comment end state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#comment-end-bang-state"><span class="secno">12.2.4.51 </span>Comment end bang state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#doctype-state"><span class="secno">12.2.4.52 </span>DOCTYPE state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#before-doctype-name-state"><span class="secno">12.2.4.53 </span>Before DOCTYPE name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#doctype-name-state"><span class="secno">12.2.4.54 </span>DOCTYPE name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#after-doctype-name-state"><span class="secno">12.2.4.55 </span>After DOCTYPE name state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#after-doctype-public-keyword-state"><span class="secno">12.2.4.56 </span>After DOCTYPE public keyword state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#before-doctype-public-identifier-state"><span class="secno">12.2.4.57 </span>Before DOCTYPE public identifier state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#doctype-public-identifier-(double-quoted)-state"><span class="secno">12.2.4.58 </span>DOCTYPE public identifier (double-quoted) state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#doctype-public-identifier-(single-quoted)-state"><span class="secno">12.2.4.59 </span>DOCTYPE public identifier (single-quoted) state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#after-doctype-public-identifier-state"><span class="secno">12.2.4.60 </span>After DOCTYPE public identifier state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#between-doctype-public-and-system-identifiers-state"><span class="secno">12.2.4.61 </span>Between DOCTYPE public and system identifiers state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#after-doctype-system-keyword-state"><span class="secno">12.2.4.62 </span>After DOCTYPE system keyword state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#before-doctype-system-identifier-state"><span class="secno">12.2.4.63 </span>Before DOCTYPE system identifier state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#doctype-system-identifier-(double-quoted)-state"><span class="secno">12.2.4.64 </span>DOCTYPE system identifier (double-quoted) state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#doctype-system-identifier-(single-quoted)-state"><span class="secno">12.2.4.65 </span>DOCTYPE system identifier (single-quoted) state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#after-doctype-system-identifier-state"><span class="secno">12.2.4.66 </span>After DOCTYPE system identifier state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#bogus-doctype-state"><span class="secno">12.2.4.67 </span>Bogus DOCTYPE state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#cdata-section-state"><span class="secno">12.2.4.68 </span>CDATA section state</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#tokenizing-character-references"><span class="secno">12.2.4.69 </span>Tokenizing character references</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-construction"><span class="secno">12.2.5 </span>Tree construction</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#creating-and-inserting-elements"><span class="secno">12.2.5.1 </span>Creating and inserting elements</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#closing-elements-that-have-implied-end-tags"><span class="secno">12.2.5.2 </span>Closing elements that have implied end tags</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#foster-parenting"><span class="secno">12.2.5.3 </span>Foster parenting</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-inhtml"><span class="secno">12.2.5.4 </span>The rules for parsing tokens in HTML content</a>
        <ol>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-initial-insertion-mode"><span class="secno">12.2.5.4.1 </span>The "initial" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-before-html-insertion-mode"><span class="secno">12.2.5.4.2 </span>The "before html" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-before-head-insertion-mode"><span class="secno">12.2.5.4.3 </span>The "before head" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-inhead"><span class="secno">12.2.5.4.4 </span>The "in head" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-inheadnoscript"><span class="secno">12.2.5.4.5 </span>The "in head noscript" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-after-head-insertion-mode"><span class="secno">12.2.5.4.6 </span>The "after head" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-inbody"><span class="secno">12.2.5.4.7 </span>The "in body" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-incdata"><span class="secno">12.2.5.4.8 </span>The "text" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-intable"><span class="secno">12.2.5.4.9 </span>The "in table" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-intabletext"><span class="secno">12.2.5.4.10 </span>The "in table text" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-incaption"><span class="secno">12.2.5.4.11 </span>The "in caption" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-incolgroup"><span class="secno">12.2.5.4.12 </span>The "in column group" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-intbody"><span class="secno">12.2.5.4.13 </span>The "in table body" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-intr"><span class="secno">12.2.5.4.14 </span>The "in row" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-intd"><span class="secno">12.2.5.4.15 </span>The "in cell" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-inselect"><span class="secno">12.2.5.4.16 </span>The "in select" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-inselectintable"><span class="secno">12.2.5.4.17 </span>The "in select in table" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-afterbody"><span class="secno">12.2.5.4.18 </span>The "after body" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-inframeset"><span class="secno">12.2.5.4.19 </span>The "in frameset" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-afterframeset"><span class="secno">12.2.5.4.20 </span>The "after frameset" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-after-after-body-insertion-mode"><span class="secno">12.2.5.4.21 </span>The "after after body" insertion mode</a></li>
         <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-after-after-frameset-insertion-mode"><span class="secno">12.2.5.4.22 </span>The "after after frameset" insertion mode</a></li></ol></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-main-inforeign"><span class="secno">12.2.5.5 </span>The rules for parsing tokens in foreign content</a></li></ol></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-end"><span class="secno">12.2.6 </span>The end</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#coercing-an-html-dom-into-an-infoset"><span class="secno">12.2.7 </span>Coercing an HTML DOM into an infoset</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#an-introduction-to-error-handling-and-strange-cases-in-the-parser"><span class="secno">12.2.8 </span>An introduction to error handling and strange cases in the parser</a>
      <ol>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#misnested-tags:-b-i-/b-/i"><span class="secno">12.2.8.1 </span>Misnested tags: &lt;b&gt;&lt;i&gt;&lt;/b&gt;&lt;/i&gt;</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#misnested-tags:-b-p-/b-/p"><span class="secno">12.2.8.2 </span>Misnested tags: &lt;b&gt;&lt;p&gt;&lt;/b&gt;&lt;/p&gt;</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#unexpected-markup-in-tables"><span class="secno">12.2.8.3 </span>Unexpected markup in tables</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#scripts-that-modify-the-page-as-it-is-being-parsed"><span class="secno">12.2.8.4 </span>Scripts that modify the page as it is being parsed</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-execution-of-scripts-that-are-moving-across-multiple-documents"><span class="secno">12.2.8.5 </span>The execution of scripts that are moving across multiple documents</a></li>
       <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#unclosed-formatting-elements"><span class="secno">12.2.8.6 </span>Unclosed formatting elements</a></li></ol></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#serializing-html-fragments"><span class="secno">12.3 </span>Serializing HTML fragments</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-html-fragments"><span class="secno">12.4 </span>Parsing HTML fragments</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#named-character-references"><span class="secno">12.5 </span>Named character references</a></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xhtml-syntax"><span class="secno">13 </span>The XHTML syntax</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#writing-xhtml-documents"><span class="secno">13.1 </span>Writing XHTML documents</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-xhtml-documents"><span class="secno">13.2 </span>Parsing XHTML documents</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#serializing-xhtml-fragments"><span class="secno">13.3 </span>Serializing XHTML fragments</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#parsing-xhtml-fragments"><span class="secno">13.4 </span>Parsing XHTML fragments</a></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#rendering"><span class="secno">14 </span>Rendering</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-13"><span class="secno">14.1 </span>Introduction</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-css-user-agent-style-sheet-and-presentational-hints"><span class="secno">14.2 </span>The CSS user agent style sheet and presentational hints</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#non-replaced-elements"><span class="secno">14.3 </span>Non-replaced elements</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#hidden-elements"><span class="secno">14.3.1 </span>Hidden elements</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-page"><span class="secno">14.3.2 </span>The page</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content-1"><span class="secno">14.3.3 </span>Flow content</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content-1"><span class="secno">14.3.4 </span>Phrasing content</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#bidirectional-text"><span class="secno">14.3.5 </span>Bidirectional text</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#quotes"><span class="secno">14.3.6 </span>Quotes</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sections-and-headings"><span class="secno">14.3.7 </span>Sections and headings</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#lists"><span class="secno">14.3.8 </span>Lists</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#tables"><span class="secno">14.3.9 </span>Tables</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#form-controls"><span class="secno">14.3.10 </span>Form controls</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element-0"><span class="secno">14.3.11 </span>The <code>hr</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-fieldset-element-0"><span class="secno">14.3.12 </span>The <code>fieldset</code> element</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#replaced-elements"><span class="secno">14.4 </span>Replaced elements</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content-2"><span class="secno">14.4.1 </span>Embedded content</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#images"><span class="secno">14.4.2 </span>Images</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#attributes-for-embedded-content-and-images"><span class="secno">14.4.3 </span>Attributes for embedded content and images</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#image-maps-0"><span class="secno">14.4.4 </span>Image maps</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#toolbars-0"><span class="secno">14.4.5 </span>Toolbars</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#bindings"><span class="secno">14.5 </span>Bindings</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#introduction-14"><span class="secno">14.5.1 </span>Introduction</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element-0"><span class="secno">14.5.2 </span>The <code>button</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element-0"><span class="secno">14.5.3 </span>The <code>details</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element-as-a-text-entry-widget"><span class="secno">14.5.4 </span>The <code>input</code> element as a text entry widget</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element-as-domain-specific-widgets"><span class="secno">14.5.5 </span>The <code>input</code> element as domain-specific widgets</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element-as-a-range-control"><span class="secno">14.5.6 </span>The <code>input</code> element as a range control</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element-as-a-color-well"><span class="secno">14.5.7 </span>The <code>input</code> element as a color well</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element-as-a-checkbox-and-radio-button-widgets"><span class="secno">14.5.8 </span>The <code>input</code> element as a checkbox and radio button widgets</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element-as-a-file-upload-control"><span class="secno">14.5.9 </span>The <code>input</code> element as a file upload control</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element-as-a-button"><span class="secno">14.5.10 </span>The <code>input</code> element as a button</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-marquee-element-0"><span class="secno">14.5.11 </span>The <code>marquee</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meter-element-0"><span class="secno">14.5.12 </span>The <code>meter</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-progress-element-0"><span class="secno">14.5.13 </span>The <code>progress</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element-0"><span class="secno">14.5.14 </span>The <code>select</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element-0"><span class="secno">14.5.15 </span>The <code>textarea</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-keygen-element-0"><span class="secno">14.5.16 </span>The <code>keygen</code> element</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#frames-and-framesets"><span class="secno">14.6 </span>Frames and framesets</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-media"><span class="secno">14.7 </span>Interactive media</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#links,-forms,-and-navigation"><span class="secno">14.7.1 </span>Links, forms, and navigation</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute-0"><span class="secno">14.7.2 </span>The <code title="attr-title">title</code> attribute</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#editing-hosts"><span class="secno">14.7.3 </span>Editing hosts</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-rendered-in-native-user-interfaces"><span class="secno">14.7.4 </span>Text rendered in native user interfaces</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#print-media"><span class="secno">14.8 </span>Print media</a></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#obsolete"><span class="secno">15 </span>Obsolete features</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#obsolete-but-conforming-features"><span class="secno">15.1 </span>Obsolete but conforming features</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#warnings-for-obsolete-but-conforming-features"><span class="secno">15.1.1 </span>Warnings for obsolete but conforming features</a></li></ol></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#non-conforming-features"><span class="secno">15.2 </span>Non-conforming features</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#requirements-for-implementations"><span class="secno">15.3 </span>Requirements for implementations</a>
    <ol>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-applet-element"><span class="secno">15.3.1 </span>The <code>applet</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-marquee-element"><span class="secno">15.3.2 </span>The <code>marquee</code> element</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#frames"><span class="secno">15.3.3 </span>Frames</a></li>
     <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#other-elements,-attributes-and-apis"><span class="secno">15.3.4 </span>Other elements, attributes and APIs</a></li></ol></li></ol></li>
 <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#iana"><span class="secno">16 </span>IANA considerations</a>
  <ol>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html"><span class="secno">16.1 </span><code>text/html</code></a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#multipart/x-mixed-replace"><span class="secno">16.2 </span><code>multipart/x-mixed-replace</code></a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#application/xhtml+xml"><span class="secno">16.3 </span><code>application/xhtml+xml</code></a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#application/x-www-form-urlencoded"><span class="secno">16.4 </span><code>application/x-www-form-urlencoded</code></a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/cache-manifest"><span class="secno">16.5 </span><code>text/cache-manifest</code></a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/ping"><span class="secno">16.6 </span><code>text/ping</code></a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#application/microdata+json"><span class="secno">16.7 </span><code>application/microdata+json</code></a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping-from"><span class="secno">16.8 </span><code>Ping-From</code></a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping-to"><span class="secno">16.9 </span><code>Ping-To</code></a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#http+aes-scheme"><span class="secno">16.10 </span><code>http+aes</code> scheme</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#https+aes-scheme"><span class="secno">16.11 </span><code>https+aes</code> scheme</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#web+-scheme-prefix"><span class="secno">16.12 </span><code>web+</code> scheme prefix</a></li></ol></li>
 <li><a class="no-num" href="http://www.whatwg.org/specs/web-apps/current-work/#index">Index</a>
  <ol>
   <li><a class="no-num" href="http://www.whatwg.org/specs/web-apps/current-work/#elements-1">Elements</a></li>
   <li><a class="no-num" href="http://www.whatwg.org/specs/web-apps/current-work/#element-content-categories">Element content categories</a></li>
   <li><a class="no-num" href="http://www.whatwg.org/specs/web-apps/current-work/#attributes-1">Attributes</a></li>
   <li><a class="no-num" href="http://www.whatwg.org/specs/web-apps/current-work/#interfaces">Interfaces</a></li></ol></li>
 <li><a class="no-num" href="http://www.whatwg.org/specs/web-apps/current-work/#references">References</a></li>
 <li><a class="no-num" href="http://www.whatwg.org/specs/web-apps/current-work/#acknowledgements">Acknowledgements</a></li></ol>
<!--end-toc-->
  <hr><!-- An advisory for those reading this source. --><!-- In this specification, there are a number of comments (like
        this one) that have three consecutive Xs. These indicate known
        problems that are expected to be resolved in the future. --><!-- There are also comments with the string "v2", "v3", "v4", or
        higher numbers. These indicate ideas for future versions of
        the specification that have not yet been included, usually
        because it's too early (one has to move slowly lest the
        browser vendors get overwhelmed with changes). --><!-- Finally, there may also be some known issues in this
        specification marked with the following punctuation: --><!--!--><!-- These are issues that are known to the editor but cannot be
        currently fixed because they were introduced by W3C decisions.
        In theory we could fork the WHATWG copy of the spec, but doing
        so would introduce normative differences between the W3C and
        WHATWG specs and these issues are not worth the hassle that
        this would cause. We'll probably be able to fix them some day,
        but for now we are living with them. --><h2 id="introduction"><span class="secno">1 </span>Introduction</h2>




  <h3 id="abstract"><span class="secno">1.1 </span>Where does this specification fit?</h3>

  <p>This specification defines a big part of the Web platform, in
  lots of detail. Its place in the Web platform specification stack
  relative to other specifications can be best summed up as
  follows:</p>

  <p><img alt="It consists of everything else, above such core technologies as HTTP, URI/IRIs, DOM Core, XML, Unicode, and ECMAScript; below presentation-layer technologies like CSS, XBL, and the NPAPI; and to the side of technologies like Geolocation, SVG, MathML, and XHR." height="359" src="./HTML Standard_files/abstract.png" width="398"></p>



  <h3 id="is-this-html5?"><span class="secno">1.2 </span>Is this HTML5?</h3><!--VERSION-->

  <p><i>This section is non-normative.</i></p>

  <p>In short: Yes.</p>

  <p>In more length: The term "HTML5" is widely used as a buzzword to
  refer to modern Web technologies, many of which (though by no means
  all) are developed at the WHATWG, in some cases in conjunction with
  the W3C and IETF.</p>


  <p>The WHATWG work is all published in one specification

  (the one you are reading right now),


  parts of which are republished in a variety of other forms,
  including an edition optimized for Web developers

  (known as <a href="http://developers.whatwg.org/">HTML5</a>).



  </p><p>The W3C also publishes parts of this specification as separate
  documents. One of these parts is called "HTML5"; it is a subset of

  this specification (the HTML Living Standard).

  </p>

<!--
  <p>The WHATWG specification is a continuously maintained living
  standard, with maturity managed at a very granular per-section
  scale, indicated by markers in the left margin; this is intended to
  model the way in which specifications are approached in practice by
  implementors and authors alike. The W3C specifications follow a more
  traditional style, with versioned releases of the specification, and
  with maturity management being done only at the document level; this
  means that the W3C specifications have version numbers (e.g.
  "HTML5") and necessarily go through periods of "feature freeze"
  where new features are not added, so that the specifications can as
  a whole reach a more mature state.</p>
-->


  <h6 class="no-toc" id="how-do-the-whatwg-and-w3c-specifications-differ?"><span class="secno">1.2.1 </span>How do the WHATWG and W3C specifications differ?</h6>

  <p>The features present in both the WHATWG and W3C specifications
  are specified using identical text, except for the following (mostly
  editorial) differences:</p><!--FORK-->

  <ul><!--
   <li>Instead of this section, the W3C HTML specification has a
   different paragraph explaining the difference between the W3C and
   WHATWG versions of HTML.</li>
--><!-- in the status section --><li>The W3C HTML specification refers to the technology as HTML5,
   rather than just HTML.</li><!--VERSION-->

   <li>Examples that use features from HTML5 are not present in the
   W3C specifications since the W3C specifications are published as
   HTML4 due to <a href="http://www.w3.org/2005/07/pubrules?uimode=filter&uri=#format">W3C
   publication policies</a>.</li><!--HTML4POLICE-->

   <li>The W3C HTML specification omits an example as part of a
   compromise intended to resolve larger issues of divergence between
   the specifications.</li>

   <li>The W3C HTML specification defines conformance for documents in
   a more traditional (version-orientated) way, because of <a href="http://lists.w3.org/Archives/Public/public-html/2011Mar/0574.html">a
   working group decision from March 2011</a>. This specification, in
   part driven by its versionless development model, instead uses a
   conformance definition that more closely models how specifications
   are used in practice.</li><!--CONFORMANCE-->

   <li>The W3C HTML specification omits a paragraph of implementation
   advice because of <a href="http://lists.w3.org/Archives/Public/public-html/2010Jun/0001.html">a
   working group decision from June 2010</a>.</li>

   <li>The W3C HTML specification includes a paragraph of advice
   redundant with the ARIA specifications because of <a href="http://lists.w3.org/Archives/Public/public-html/2011Mar/0244.html">a
   working group decision from March 2011</a>.</li>

   <li>The W3C HTML specification gives incomplete advice regarding
   the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute and instead
   references other documents on the matter because of <a href="http://lists.w3.org/Archives/Public/public-html/2011Mar/0691.html">a
   working group decision from March 2011</a>.</li>

   <li>The W3C HTML specification includes a link to an incomplete
   document that contradicts this specification because of <a href="http://lists.w3.org/Archives/Public/public-html/2011Feb/0407.html">a
   working group decision from February 2011</a>.</li><!--HPAAIG-->

   <li>The W3C HTML specification has different prose regarding the
   use of tables for layout purposes because of <a href="http://lists.w3.org/Archives/Public/public-html/2011Mar/0245.html">a
   working group decision from March 2011</a>. In contrast, this
   specification unambiguously disallows the use of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>
   elements for layout purposes.</li>

   <li>The W3C HTML specification requires authors who are writing
   HTML e-mails with images to people they know can see the images
   (e.g. a wife sending her husband photos of their child) to
   nonetheless include textual alternatives to those images, because
   of <a href="http://lists.w3.org/Archives/Public/public-html/2011Apr/0451.html">a
   working group decision from April 2011</a>.</li>

   <li>The W3C HTML specification does not state that the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code>
   attribute is its <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>, because of <a href="http://lists.w3.org/Archives/Public/public-html/2011Apr/0452.html">a
   working group decision from April 2011</a>.</li>

   <li>The W3C HTML specification is missing a clause that requires
   conformance checkers to discourage cargo-cult accessibility
   authoring because of <a href="http://lists.w3.org/Archives/Public/public-html/2011May/0018.html">a
   working group chair decision from May 2011</a>.</li><!--bug
   11557-->

   <li>The W3C HTML specification is missing some conformance
   constraints that would make documents misusing <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>
   invalid, because of <a href="http://lists.w3.org/Archives/Public/public-html/2011Jun/0083.html">a
   working group chair decision from June 2011</a>.</li><!--bug
   12906-->

   <li>The W3C HTML specification contradicts the ARIA specification
   because of a <a href="http://lists.w3.org/Archives/Public/public-html/2012Feb/0066.html">working
   group chair request from February
   2012</a>.</li><!--HIDDENARIA--><!--FORK-->

   <li>The W3C HTML specification does not define the term <a href="http://www.whatwg.org/specs/web-apps/current-work/#rel-sidebar-hyperlink" title="rel-sidebar-hyperlink">sidebar hyperlink</a>, forcing the
   definition of the <code title="rel-sidebar">sidebar</code> link
   type in the microformats wiki to rely on this copy of the spec
   instead, because of a <a href="http://lists.w3.org/Archives/Public/public-html/2012Jan/0131.html">working
   group chair decision from November 2011</a>.</li>

   <li>The W3C HTML specification omits a number of suggestions
   regarding using the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code>
   attribute, and makes using the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute for captions
   non-conforming in certain specific cases, because of a number of
   working group chair decisions from March 2012:
   <a href="http://lists.w3.org/Archives/Public/public-html/2012Mar/0555.html">first</a>,
   <a href="http://lists.w3.org/Archives/Public/public-html/2012Mar/0731.html">second</a>,
   <a href="http://lists.w3.org/Archives/Public/public-html/2012Mar/0785.html">third</a>.
   </li><!--FORK--><!--TITLE-->

   <li>The W3C HTML specification omits some advice about how to
   remove focus outlines in an accessible manner (instead only urging
   authors not to remove them without giving an alternative to address
   the "they're ugly" use case), because of a <a href="http://lists.w3.org/Archives/Public/public-html/2012Mar/0786.html">working
   group chair decision from March 2012</a>.</li>

   <li>The W3C HTML specification uses the term "caption file" in
   place of "WebVTT file" in certain places, because of a <a href="http://lists.w3.org/Archives/Public/public-html/2012Mar/0557.html">working
   group chair decision from March 2012</a>.</li>

  </ul><p>The following sections are only published in the WHATWG
  specifications and are not currently available anywhere else:</p>

  <ul><li>New hyperlink features: the <code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code> attribute to make download links and the <code title="attr-hyperlink-ping"><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping">ping</a></code> attribute for <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink-auditing">hyperlink auditing</a>.</li> <!--DOWNLOAD--><!--PING-->
   <li>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code> attribute for responsive images.</li>
   <li>The <code title="attr-inert"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-inert-attribute">inert</a></code> global attribute to disable subtrees.</li><!--INERT-->
   <li>The <code title="attr-fs-method-dialog-keyword"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fs-method-dialog-keyword">dialog</a></code> keyword on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code> element's <code title="attr-fs-method"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fs-method">method</a></code> attribute, for a simpler way to close dialogs.</li><!--FORM-DIALOG-->
   <li>The <code title="dom-document-cssElementMap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-csselementmap">cssElementMap</a></code> feature for defining <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-element-reference-identifier" title="CSS element reference identifier">CSS element reference identifiers</a>.</li> <!--CSSREF-->
   <li>An experimental specification of the legacy <code title="dom-find"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-find">window.find()</a></code> API.</li><!--FIND-->
   <li>Some predefined <a href="http://www.whatwg.org/specs/web-apps/current-work/#mdvocabs">Microdata vocabularies</a>.</li>
   <li>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-data-element">data</a></code> element for marking up machine-readable data.</li><!--DATA--><!--FORK-->
   <li>The <code title="scheme-http+aes"><a href="http://www.whatwg.org/specs/web-apps/current-work/#http+aes-scheme">http+aes:</a></code> and <code title="scheme-http+aes"><a href="http://www.whatwg.org/specs/web-apps/current-work/#http+aes-scheme">https+aes:</a></code> schemes.</li><!--FORK-->
  </ul><!--
  <p>Features that are part of the WHATWG HTML Living Standard
  specification but that are currently published as separate
  specifications as well, and are not included in the W3C HTML5
  specification, consist of:</p>

  <ul>
   <li><a href="#2dcontext">Canvas 2D Graphics Context</a>--><!--2DCONTEXT--><!--
   <li><a href="#microdata">Microdata</a>--><!--MD--><!--
   <li><a href="#crossDocumentMessages">Cross-document messaging</a> (also known as Communications)--><!--POSTMSG--><!--
   <li><a href="#channel-messaging">Channel messaging</a> (also known as Communications)--><!--POSTMSG--><!--
  </ul>
--><!--
  <h6 class="no-toc">What else is HTML5?</h6>

  <p>Features that are not currently published or maintained by the
  WHATWG but that are sometimes considered to be informally part of
  "HTML5" include:</p>

  <ul>
   <li><a href="http://tools.ietf.org/html/rfc6455">WebSocket protocol</a>
   <li><a href="http://tools.ietf.org/html/draft-abarth-mime-sniff">Media Type Sniffing</a>
   <li><a href="http://tools.ietf.org/html/rfc6454">The Web Origin Concept</a>
   <li><a href="http://dev.w3.org/geo/api/spec-source.html">Geolocation API</a>
   <li><a href="http://www.w3.org/TR/SVG/">SVG</a>
   <li><a href="http://www.w3.org/TR/MathML/">MathML</a>
   <li><a href="http://dev.w3.org/2006/webapi/XMLHttpRequest-2/">XMLHttpRequest</a>
   <li>Parts of <a href="http://www.w3.org/Style/CSS/current-work">CSS</a>
   <li><a href="http://dev.w3.org/html5/webvtt/">WebVTT</a>
  </ul>
--><!--
  <p>The <a href="#forms">forms</a> part of this specification was
  previously published separately in a specification known as Web
  Forms 2. The <a href="#workers">Web Workers</a> section was also
  previously published as a separate document.</p>
--><!--
  <p>See also <a
  href="http://wiki.whatwg.org/wiki/FAQ#What_are_the_various_versions_of_the_spec.3F">the
  relevant FAQ entry</a>.</p>
--><!--VERSION--><h3 id="background"><span class="secno">1.3 </span>Background</h3>

  <p><i>This section is non-normative.</i></p>

  <p>The World Wide Web's markup language has always been HTML. HTML
  was primarily designed as a language for semantically describing
  scientific documents, although its general design and adaptations
  over the years have enabled it to be used to describe a number of
  other types of documents.</p>

  <p>The main area that has not been adequately addressed by HTML is a
  vague subject referred to as Web Applications. This specification
  attempts to rectify this, while at the same time updating the HTML
  specifications to address issues raised in the past few years.</p>


  <h3 id="audience"><span class="secno">1.4 </span>Audience</h3>

  <p><i>This section is non-normative.</i></p>

  <p>This specification is intended for authors of documents and
  scripts that use the features defined in this specification<span class="impl">, implementors of tools that operate on pages that use
  the features defined in this specification, and individuals wishing
  to establish the correctness of documents or implementations with
  respect to the requirements of this specification</span>.</p>

  <p>This document is probably not suited to readers who do not
  already have at least a passing familiarity with Web technologies,
  as in places it sacrifices clarity for precision, and brevity for
  completeness. More approachable tutorials and authoring guides can
  provide a gentler introduction to the topic.</p>

  <p>In particular, familiarity with the basics of DOM Core and DOM
  Events is necessary for a complete understanding of some of the more
  technical parts of this specification. An understanding of Web IDL,
  HTTP, XML, Unicode, character encodings, JavaScript, and CSS will
  also be helpful in places but is not essential.</p>


  <h3 id="scope"><span class="secno">1.5 </span>Scope</h3>

  <p><i>This section is non-normative.</i></p>

  <p>This specification is limited to providing a semantic-level
  markup language and associated semantic-level scripting APIs for
  authoring accessible pages on the Web ranging from static documents
  to dynamic applications.</p>

  <p>The scope of this specification does not include providing
  mechanisms for media-specific customization of presentation
  (although default rendering rules for Web browsers are included at
  the end of this specification, and several mechanisms for hooking
  into CSS are provided as part of the language).</p>

  <p>The scope of this specification is not to describe an entire
  operating system. In particular, hardware configuration software,
  image manipulation tools, and applications that users would be
  expected to use with high-end workstations on a daily basis are out
  of scope. In terms of applications, this specification is targeted
  specifically at applications that would be expected to be used by
  users on an occasional basis, or regularly but from disparate
  locations, with low CPU requirements. For instance online purchasing
  systems, searching systems, games (especially multiplayer online
  games), public telephone books or address books, communications
  software (e-mail clients, instant messaging clients, discussion
  software), document editing software, etc.</p>


  <h3 id="history-1"><span class="secno">1.6 </span>History</h3>

  <p><i>This section is non-normative.</i></p>

  <p>For its first five years (1990-1995), HTML went through a number
  of revisions and experienced a number of extensions, primarily
  hosted first at CERN, and then at the IETF.</p>

  <p>With the creation of the W3C, HTML's development changed venue
  again. A first abortive attempt at extending HTML in 1995 known as
  HTML 3.0 then made way to a more pragmatic approach known as HTML
  3.2, which was completed in 1997. HTML4 quickly followed later that
  same year.</p>

  <p>The following year, the W3C membership decided to stop evolving
  HTML and instead begin work on an XML-based equivalent, called
  XHTML. <!-- http://www.w3.org/MarkUp/future/#summary --> This effort
  started with a reformulation of HTML4 in XML, known as XHTML 1.0,
  which added no new features except the new serialization, and which
  was completed in 2000. After XHTML 1.0, the W3C's focus turned to
  making it easier for other working groups to extend XHTML, under the
  banner of XHTML Modularization. In parallel with this, the W3C also
  worked on a new language that was not compatible with the earlier
  HTML and XHTML languages, calling it XHTML2.</p>

  <p>Around the time that HTML's evolution was stopped in 1998, parts
  of the API for HTML developed by browser vendors were specified and
  published under the name DOM Level 1 (in 1998) and DOM Level 2 Core
  and DOM Level 2 HTML (starting in 2000 and culminating in
  2003). These efforts then petered out, with some DOM Level 3
  specifications published in 2004 but the working group being closed
  before all the Level 3 drafts were completed.</p>

  <p>In 2003, the publication of XForms, a technology which was
  positioned as the next generation of Web forms, sparked a renewed
  interest in evolving HTML itself, rather than finding replacements
  for it. This interest was borne from the realization that XML's
  deployment as a Web technology was limited to entirely new
  technologies (like RSS and later Atom), rather than as a replacement
  for existing deployed technologies (like HTML).</p>

  <p>A proof of concept to show that it was possible to extend HTML4's
  forms to provide many of the features that XForms 1.0 introduced,
  without requiring browsers to implement rendering engines that were
  incompatible with existing HTML Web pages, was the first result of
  this renewed interest. At this early stage, while the draft was
  already publicly available, and input was already being solicited
  from all sources, the specification was only under Opera Software's
  copyright.</p>

  <p>The idea that HTML's evolution should be reopened was tested at a
  W3C workshop in 2004, where some of the principles that underlie the
  HTML5 work (described below), as well as the aforementioned early
  draft proposal covering just forms-related features, were presented
  to the W3C jointly by Mozilla and Opera. The proposal was rejected
  on the grounds that the proposal conflicted with the previously
  chosen direction for the Web's evolution; the W3C staff and
  membership voted to continue developing XML-based replacements
  instead.</p>

  <p>Shortly thereafter, Apple, Mozilla, and Opera jointly announced
  their intent to continue working on the effort under the umbrella of
  a new venue called the WHATWG. A public mailing list was created,
  and the draft was moved to the WHATWG site. The copyright was
  subsequently amended to be jointly owned by all three vendors, and
  to allow reuse of the specification.</p>

  <p>The WHATWG was based on several core principles, in particular
  that technologies need to be backwards compatible, that
  specifications and implementations need to match even if this means
  changing the specification rather than the implementations, and that
  specifications need to be detailed enough that implementations can
  achieve complete interoperability without reverse-engineering each
  other.</p>

  <p>The latter requirement in particular required that the scope of
  the HTML5 specification include what had previously been specified
  in three separate documents: HTML4, XHTML1, and DOM2 HTML. It also
  meant including significantly more detail than had previously been
  considered the norm.</p>

  <p>In 2006, the W3C indicated an interest to participate in the
  development of HTML5 after all, and in 2007 formed a working group
  chartered to work with the WHATWG on the development of the HTML5
  specification. Apple, Mozilla, and Opera allowed the W3C to publish
  the specification under the W3C copyright, while keeping a version
  with the less restrictive license on the WHATWG site.</p>

  <p>Since then, both groups have been working together.</p>


  <p>A separate document has been published by the W3C HTML working
  group to document the differences between the HTML specified in this
  document and the language described in the HTML4 specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTMLDIFF">[HTMLDIFF]</a></p>




  <h3 id="design-notes"><span class="secno">1.7 </span>Design notes</h3>

  <p><i>This section is non-normative.</i></p>

  <p>It must be admitted that many aspects of HTML appear at first
  glance to be nonsensical and inconsistent.</p>

  <p>HTML, its supporting DOM APIs, as well as many of its supporting
  technologies, have been developed over a period of several decades
  by a wide array of people with different priorities who, in many
  cases, did not know of each other's existence.</p>

  <p>Features have thus arisen from many sources, and have not always
  been designed in especially consistent ways. Furthermore, because of
  the unique characteristics of the Web, implementation bugs have
  often become de-facto, and now de-jure, standards, as content is
  often unintentionally written in ways that rely on them before they
  can be fixed.</p>

  <p>Despite all this, efforts have been made to adhere to certain
  design goals. These are described in the next few subsections.</p>


  <h4 id="serializability-of-script-execution"><span class="secno">1.7.1 </span>Serializability of script execution</h4>

  <p><i>This section is non-normative.</i></p>

  <p>To avoid exposing Web authors to the complexities of
  multithreading, the HTML and DOM APIs are designed such that no
  script can ever detect the simultaneous execution of other
  scripts. Even with <a href="http://www.whatwg.org/specs/web-apps/current-work/#worker" title="Worker">workers</a>, the intent
  is that the behavior of implementations can be thought of as
  completely serializing the execution of all scripts in all <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context" title="browsing context">browsing contexts</a>.</p>

  <p class="note">The <code title="dom-navigator-yieldForStorageUpdates"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-navigator-yieldforstorageupdates">navigator.yieldForStorageUpdates()</a></code>
  method, in this model, is equivalent to allowing other scripts to
  run while the calling script is blocked.</p>


  <h4 id="compliance-with-other-specifications"><span class="secno">1.7.2 </span>Compliance with other specifications</h4>

  <p><i>This section is non-normative.</i></p>

  <p>This specification interacts with and relies on a wide variety of
  other specifications. In certain circumstances, unfortunately,
  conflicting needs have led to this specification violating the
  requirements of these other specifications. Whenever this has
  occurred, the transgressions have each been noted as a "<dfn id="willful-violation">willful
  violation</dfn>", and the reason for the violation has been
  noted.</p>




  <h3 id="html-vs-xhtml"><span class="secno">1.8 </span>HTML vs XHTML</h3>

  <p><i>This section is non-normative.</i></p>

  <p>This specification defines an abstract language for describing
  documents and applications, and some APIs for interacting with
  in-memory representations of resources that use this language.</p>

  <p>The in-memory representation is known as "DOM HTML", or "the DOM"
  for short.</p>

  <p>There are various concrete syntaxes that can be used to transmit
  resources that use this abstract language, two of which are defined
  in this specification.</p>

  <p>The first such concrete syntax is the HTML syntax. This is the
  format suggested for most authors. It is compatible with most legacy
  Web browsers. If a document is transmitted with the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html">text/html</a></code> <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a>, then it will be
  processed as an HTML document by Web browsers.

  This specification defines the latest HTML syntax, known simply as
  "HTML".
  <!--VERSION-->

  </p>

  <p>The second concrete syntax is the XHTML syntax, which is an
  application of XML. When a document is transmitted with an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-mime-type">XML
  MIME type</a>, such as <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#application/xhtml+xml">application/xhtml+xml</a></code>, then
  it is treated as an XML document by Web browsers, to be parsed by an
  XML processor. Authors are reminded that the processing for XML and
  HTML differs; in particular, even minor syntax errors will prevent a
  document labeled as XML from being rendered fully, whereas they
  would be ignored in the HTML syntax.

  This specification defines the latest XHTML syntax, known simply as
  "XHTML".
  <!--VERSION-->

  </p>

  <p>The DOM, the HTML syntax, and the XHTML syntax cannot all
  represent the same content. For example, namespaces cannot be
  represented using the HTML syntax, but they are supported in the DOM
  and in the XHTML syntax. Similarly, documents that use the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> feature can be represented using the HTML
  syntax, but cannot be represented with the DOM or in the XHTML
  syntax. Comments that contain the string "<code title="">--&gt;</code>" can only be represented in the DOM, not in
  the HTML and XHTML syntaxes.</p>


  <h3 id="structure-of-this-specification"><span class="secno">1.9 </span>Structure of this specification</h3>

  <p><i>This section is non-normative.</i></p>

  <p>This specification is divided into the following major
  sections:</p>

  <dl><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#infrastructure">Common infrastructure</a></dt>

   <dd>The conformance classes, algorithms, definitions, and the
   common underpinnings of the rest of the specification.</dd>


   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom">Semantics, structure, and APIs of HTML documents</a></dt>

   <dd>Documents are built from elements. These elements form a tree
   using the DOM. This section defines the features of this DOM, as
   well as introducing the features common to all elements, and the
   concepts used in defining elements.</dd>


   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#semantics">The elements of HTML</a></dt>

   <dd>Each element has a predefined meaning, which is explained in
   this section. Rules for authors on how to use the element<span class="impl">, along with user agent requirements for how to handle
   each element,</span> are also given.</dd>

<!--MD-->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#microdata">Microdata</a></dt>

   <dd>This specification introduces a mechanism for adding
   machine-readable annotations to documents, so that tools can
   extract trees of name-value pairs from the document. This section
   describes this mechanism<span class="impl"> and some algorithms
   that can be used to convert HTML documents into other
   formats</span>.

   This section also defines some Microdata vocabularies for contact
   information, calendar events, and licensing works.

   </dd>
<!--MD-->

   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#browsers">Loading Web pages</a></dt>

   <dd>HTML documents do not exist in a vacuum — this section
   defines many of the features that affect environments that deal
   with multiple pages.</dd>

   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#webappapis">Web application APIs</a></dt>

   <dd>This section introduces basic features for scripting of
   applications in HTML.</dd>

   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#editing">User interaction</a></dt>

   <dd>HTML documents can provide a number of mechanisms for users to
   interact with and modify content, which are described in this
   section.</dd>


   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#workers">Web workers</a></dt>

   <dd>This specification defines an API for background threads in
   JavaScript.</dd>



   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#webstorage">Web storage</a></dt>

   <dd>This specification defines a client-side storage mechanism
   based on name-value pairs.</dd>


<!--POSTMSG-->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#comms">The communication APIs</a></dt>

   <dd>This section describes some mechanisms that applications
   written in HTML can use to communicate with other applications from
   different domains running on the same client.

   It also introduces a server-push event stream mechanism, and a
   two-way full-duplex socket protocol for scripts.

   </dd>
<!--POSTMSG-->


   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">The HTML syntax</a></dt>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#xhtml">The XHTML syntax</a></dt>

   <dd>All of these features would be for naught if they couldn't be
   represented in a serialized form and sent to other people, and so
   these sections define the syntaxes of HTML and XHTML, along with
   rules for how to parse content using those syntaxes.</dd>


  </dl><p>There are also some appendices, defining <a href="http://www.whatwg.org/specs/web-apps/current-work/#rendering">rendering rules</a> for Web browsers and listing
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#obsolete">obsolete features</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#iana">IANA
  considerations</a>.</p>



  <h4 id="how-to-read-this-specification"><span class="secno">1.9.1 </span>How to read this specification</h4>

  <p>This specification should be read like all other specifications.
  First, it should be read cover-to-cover, multiple times. Then, it
  should be read backwards at least once. Then it should be read by
  picking random sections from the contents list and following all the
  cross-references.</p>

  <p>As described in the conformance requirements section below, this
  specification describes conformance criteria for a variety of
  conformance classes. In particular, there are conformance
  requirements that apply to <em>producers</em>, for example authors
  and the documents they create, and there are conformance
  requirements that apply to <em>consumers</em>, for example Web
  browsers. They can be distinguished by what they are requiring: a
  requirement on a producer states what is allowed, while a
  requirement on a consumer states how software is to act.</p>

  <div class="example">

   <p>For example, "the <code title="">foo</code> attribute's value
   must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-integer">valid integer</a>" is a requirement on
   producers, as it lays out the allowed values; in contrast, the
   requirement "the <code title="">foo</code> attribute's value must
   be parsed using the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-integers">rules for parsing integers</a>" is a
   requirement on consumers, as it describes how to process the
   content.</p>

  </div>

  <p><strong>Requirements on producers have no bearing whatsoever on
  consumers.</strong></p>

  <div class="example">

   <p>Continuing the above example, a requirement stating that a
   particular attribute's value is constrained to being a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-integer">valid
   integer</a> emphatically does <em>not</em> imply anything about
   the requirements on consumers. It might be that the consumers are
   in fact required to treat the attribute as an opaque string,
   completely unaffected by whether the value conforms to the
   requirements or not. It might be (as in the previous example) that
   the consumers are required to parse the value using specific rules
   that define how invalid (non-numeric in this case) values are to be
   processed.</p>

  </div>



  <h4 id="typographic-conventions"><span class="secno">1.9.2 </span>Typographic conventions</h4>

  <p>This is a definition, requirement, or explanation.</p>

  <p class="note">This is a note.</p>

  <p class="example">This is an example.</p>

  <p class="XXX">This is an open issue.</p>

  <p class="warning">This is a warning.</p>

  <pre class="idl extract">interface <dfn title="">Example</dfn> {
  // this is an IDL definition
};</pre>

  <dl class="domintro"><dt><var title="">variable</var> = <var title="">object</var> . <code title="">method</code>( [ <var title="">optionalArgument</var> ] )</dt>

   <dd>

    <p>This is a note to authors describing the usage of an interface.</p>

   </dd>

  </dl><pre class="css">/* this is a CSS fragment */</pre>

  <p>The defining instance of a term is marked up like <dfn id="x-this" title="x-this">this</dfn>. Uses of that term are marked up like
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#x-this" title="x-this">this</a> or like <i title="x-this"><a href="http://www.whatwg.org/specs/web-apps/current-work/#x-this">this</a></i>.</p>

  <p>The defining instance of an element, attribute, or API is marked
  up like <dfn id="x-that" title="x-that"><code>this</code></dfn>. References to
  that element, attribute, or API are marked up like <code title="x-that"><a href="http://www.whatwg.org/specs/web-apps/current-work/#x-that">this</a></code>.</p>

  <p>Other code fragments are marked up <code title="">like
  this</code>.</p>

  <p>Variables are marked up like <var title="">this</var>.</p>

  <p class="impl">This is an implementation requirement.</p>



  <h3 id="a-quick-introduction-to-html"><span class="secno">1.10 </span>A quick introduction to HTML</h3>

  <p><i>This section is non-normative.</i></p>

  <p>A basic HTML document looks like this:</p>

  <pre id="intro-early-example">&lt;!DOCTYPE html&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Sample page&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;h1&gt;Sample page&lt;/h1&gt;
  &lt;p&gt;This is a &lt;a href="demo.html"&gt;simple&lt;/a&gt; sample.&lt;/p&gt;
  &lt;!-- this is a comment --&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  <p>HTML documents consist of a tree of elements and text. Each
  element is denoted in the source by a <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-start-tag" title="syntax-start-tag">start tag</a>, such as "<code title="">&lt;body&gt;</code>", and an <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-end-tag" title="syntax-end-tag">end
  tag</a>, such as "<code title="">&lt;/body&gt;</code>". (Certain
  start tags and end tags can in certain cases be <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-tag-omission" title="syntax-tag-omission">omitted</a> and are implied by other
  tags.)</p>

  <p>Tags have to be nested such that elements are all completely
  within each other, without overlapping:</p>

  <pre class="bad">&lt;p&gt;This is &lt;em&gt;very &lt;strong&gt;wrong&lt;/em&gt;!&lt;/strong&gt;&lt;/p&gt;</pre>
  <pre>&lt;p&gt;This &lt;em&gt;is &lt;strong&gt;correct&lt;/strong&gt;.&lt;/em&gt;&lt;/p&gt;</pre>

  <p>This specification defines a set of elements that can be used in
  HTML, along with rules about the ways in which the elements can be
  nested.</p>

  <p>Elements can have attributes, which control how the elements
  work. In the example below, there is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a>,
  formed using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element and its <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute:</p>

  <pre>&lt;a href="demo.html"&gt;simple&lt;/a&gt;</pre>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-attributes" title="syntax-attributes">Attributes</a> are placed
  inside the start tag, and consist of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-attribute-name" title="syntax-attribute-name">name</a> and a <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-attribute-value" title="syntax-attribute-value">value</a>, separated by an "<code title="">=</code>" character. The attribute value can remain <a href="http://www.whatwg.org/specs/web-apps/current-work/#unquoted">unquoted</a> if it doesn't contain <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a> or any of <code title="">"</code> <code title="">'</code> <code title="">`</code>
  <code title="">=</code> <code title="">&lt;</code> or <code title="">&gt;</code>. Otherwise, it has to be quoted using either
  single or double quotes. The value, along with the "<code title="">=</code>" character, can be omitted altogether if the value
  is the empty string.</p>

  <pre>&lt;!-- empty attributes --&gt;
&lt;input name=address disabled&gt;
&lt;input name=address disabled=""&gt;

&lt;!-- attributes with a value --&gt;
&lt;input name=address maxlength=200&gt;
&lt;input name=address maxlength='200'&gt;
&lt;input name=address maxlength="200"&gt;</pre>

  <p>HTML user agents (e.g. Web browsers) then <i>parse</i> this
  markup, turning it into a DOM (Document Object Model) tree. A DOM
  tree is an in-memory representation of a document.</p>

  <p>DOM trees contain several kinds of nodes, in particular a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#documenttype">DocumentType</a></code> node, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a></code> nodes,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#comment-0">Comment</a></code> nodes, and in some
  cases <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#processinginstruction">ProcessingInstruction</a></code> nodes.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#intro-early-example">markup snippet at the top of
  this section</a> would be turned into the following DOM tree:</p>

  <ul class="domTree"><li class="t10">DOCTYPE: <code title="">html</code></li><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code><ul><li class="t3"><code>#text</code>: <span title="">⏎␣␣</span></li><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code><ul><li class="t3"><code>#text</code>: <span title="">Sample page</span></li></ul></li><li class="t3"><code>#text</code>: <span title="">⏎␣</span></li></ul></li><li class="t3"><code>#text</code>: <span title="">⏎␣</span></li><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code><ul><li class="t3"><code>#text</code>: <span title="">⏎␣␣</span></li><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code><ul><li class="t3"><code>#text</code>: <span title="">Sample page</span></li></ul></li><li class="t3"><code>#text</code>: <span title="">⏎␣␣</span></li><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code><ul><li class="t3"><code>#text</code>: <span title="">This is a <!--grammar-check-override--></span></li><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> <span class="t2" title=""><code class="attribute name">href</code>="<code class="attribute value">demo.html</code>"</span><ul><li class="t3"><code>#text</code>: <span title="">simple</span></li></ul></li><li class="t3"><code>#text</code>: <span title=""> sample.</span></li></ul></li><li class="t3"><code>#text</code>: <span title="">⏎␣␣</span></li><li class="t8"><code>#comment</code>: <span title=""> this is a comment </span></li><li class="t3"><code>#text</code>: <span title="">⏎␣⏎</span></li></ul></li></ul></li></ul><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a> of this tree is the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> element, which is the element always found at the
  root of HTML documents. It contains two elements, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code>
  and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code>, as well as a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node between
  them.</p>

  <p>There are many more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes in the DOM tree than
  one would initially expect, because the source contains a number of
  spaces (represented here by "␣") and line breaks ("⏎")
  that all end up as <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes in the DOM. However, for
  historical reasons not all of the spaces and line breaks in the
  original markup appear in the DOM. In particular, all the whitespace
  before <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> start tag ends up being dropped silently,
  and all the whitespace after the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> end tag ends up
  placed at the end of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code>.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element contains a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code>
  element, which itself contains a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node with the
  text "Sample page". Similarly, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element
  contains an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> element, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element, and a
  comment.</p>

  <hr><p>This DOM tree can be manipulated from scripts in the
  page. Scripts (typically in JavaScript) are small programs that can
  be embedded using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element or using
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-content-attributes">event handler content attributes</a>. For example, here is
  a form with a script that sets the value of the form's
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-output-element">output</a></code> element to say "Hello World":</p>

  <pre>&lt;<a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-form-name" title="attr-form-name">name</a>="main"&gt;
 Result: &lt;<a href="http://www.whatwg.org/specs/web-apps/current-work/#the-output-element">output</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fe-name" title="attr-fe-name">name</a>="result"&gt;&lt;/output&gt;
 &lt;<a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a>&gt;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#document" title="Document">document</a>.<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-forms" title="dom-document-forms">forms</a>.main.<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-form-elements" title="dom-form-elements">elements</a>.result.<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-output-value" title="dom-output-value">value</a> = 'Hello World';
 &lt;/script&gt;
&lt;/form&gt;</pre>

  <p>Each element in the DOM tree is represented by an object, and
  these objects have APIs so that they can be manipulated. For
  instance, a link (e.g. the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element in the tree above)
  can have its "<code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code>"
  attribute changed in several ways:</p>

  <pre>var a = <a href="http://www.whatwg.org/specs/web-apps/current-work/#document" title="Document">document</a>.<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-links" title="dom-document-links">links</a>[0]; // obtain the first link in the document
a.<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-href" title="dom-a-href">href</a> = 'sample.html'; // change the destination URL of the link
a.<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-protocol" title="dom-uda-protocol">protocol</a> = 'https'; // change just the scheme part of the URL
a.setAttribute('href', 'http://example.com/'); // change the content attribute directly</pre>

  <p>Since DOM trees are used as the way to represent HTML documents
  when they are processed and presented by implementations (especially
  interactive implementations like Web browsers), this specification
  is mostly phrased in terms of DOM trees, instead of the markup
  described above.</p>

  <hr><p>HTML documents represent a media-independent description of
  interactive content. HTML documents might be rendered to a screen,
  or through a speech synthesizer, or on a braille display. To
  influence exactly how such rendering takes place, authors can use a
  styling language such as CSS.</p>

  <p>In the following example, the page has been made yellow-on-blue
  using CSS.</p>

  <pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Sample styled page&lt;/title&gt;
  &lt;style&gt;
   body { background: navy; color: yellow; }
  &lt;/style&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;h1&gt;Sample styled page&lt;/h1&gt;
  &lt;p&gt;This page is just a demo.&lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  <p>For more details on how to use HTML, authors are encouraged to
  consult tutorials and guides. Some of the examples included in this
  specification might also be of use, but the novice author is
  cautioned that this specification, by necessity, defines the
  language with a level of detail that might be difficult to
  understand at first.</p>

<!--ADD-TOPIC:Security-->
  <h4 id="writing-secure-applications-with-html"><span class="secno">1.10.1 </span>Writing secure applications with HTML</h4>

  <p><i>This section is non-normative.</i></p>

  <p>When HTML is used to create interactive sites, care needs to be
  taken to avoid introducing vulnerabilities through which attackers
  can compromise the integrity of the site itself or of the site's
  users.</p>

  <p>A comprehensive study of this matter is beyond the scope of this
  document, and authors are strongly encouraged to study the matter in
  more detail. However, this section attempts to provide a quick
  introduction to some common pitfalls in HTML application
  development.</p>

  <p>The security model of the Web is based on the concept of
  "origins", and correspondingly many of the potential attacks on the
  Web involve cross-origin actions. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsORIGIN">[ORIGIN]</a></p>

  <dl><dt>Not validating user input</dt>
   <dt>Cross-site scripting (XSS)</dt>
   <dt>SQL injection</dt>

   <dd>

    <p>When accepting untrusted input, e.g. user-generated content
    such as text comments, values in URL parameters, messages from
    third-party sites, etc, it is imperative that the data be
    validated before use, and properly escaped when displayed. Failing
    to do this can allow a hostile user to perform a variety of
    attacks, ranging from the potentially benign, such as providing
    bogus user information like a negative age, to the serious, such
    as running scripts every time a user looks at a page that includes
    the information, potentially propagating the attack in the
    process, to the catastrophic, such as deleting all data in the
    server.</p>

    <p>When writing filters to validate user input, it is imperative
    that filters always be whitelist-based, allowing known-safe
    constructs and disallowing all other input. Blacklist-based
    filters that disallow known-bad inputs and allow everything else
    are not secure, as not everything that is bad is yet known (for
    example, because it might be invented in the future).</p>

    <div class="example">

     <p>For example, suppose a page looked at its URL's query string
     to determine what to display, and the site then redirected the
     user to that page to display a message, as in:</p>

     <pre>&lt;ul&gt;
 &lt;li&gt;&lt;a href="message.cgi?say=Hello"&gt;Say Hello&lt;/a&gt;
 &lt;li&gt;&lt;a href="message.cgi?say=Welcome"&gt;Say Welcome&lt;/a&gt;
 &lt;li&gt;&lt;a href="message.cgi?say=Kittens"&gt;Say Kittens&lt;/a&gt;
&lt;/ul&gt;</pre>

     <p>If the message was just displayed to the user without
     escaping, a hostile attacker could then craft a URL that
     contained a script element:</p>

     <pre>http://example.com/message.cgi?say=%3Cscript%3Ealert%28%27Oh%20no%21%27%29%3C/script%3E</pre>

     <p>If the attacker then convinced a victim user to visit this
     page, a script of the attacker's choosing would run on the page.
     Such a script could do any number of hostile actions, limited
     only by what the site offers: if the site is an e-commerce shop,
     for instance, such a script could cause the user to unknowingly
     make arbitrarily many unwanted purchases.</p>

     <p>This is called a cross-site scripting attack.</p>

    </div>

    <p>There are many constructs that can be used to try to trick a
    site into executing code. Here are some that authors are
    encouraged to consider when writing whitelist filters:</p>

    <ul><li>When allowing harmless-seeming elements like
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>, it is important to whitelist any provided
     attributes as well. If one allowed all attributes then an
     attacker could, for instance, use the <code title="handler-onload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onload">onload</a></code> attribute to run arbitrary
     script.</li>

     <li>When allowing URLs to be provided (e.g. for links), the
     scheme of each URL also needs to be explicitly whitelisted, as
     there are many schemes that can be abused. The most prominent
     example is "<code title="javascript-protocol">javascript:</code>", but user agents
     can implement (and indeed, have historically implemented)
     others.</li> <!-- IE had vbscript:, Netscape had livescript:,
     etc. -->

     <li>Allowing a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> element to be inserted means any
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements in the page with relative links can
     be hijacked, and similarly that any form submissions can get
     redirected to a hostile site.</li>

    </ul></dd>


   <dt>Cross-site request forgery (CSRF)</dt>

   <dd>

    <p>If a site allows a user to make form submissions with
    user-specific side-effects, for example posting messages on a
    forum under the user's name, making purchases, or applying for a
    passport, it is important to verify that the request was made by
    the user intentionally, rather than by another site tricking the
    user into making the request unknowingly.</p>

    <p>This problem exists because HTML forms can be submitted to
    other origins.</p>

    <p>Sites can prevent such attacks by populating forms with
    user-specific hidden tokens, or by checking <code title="http-origin">Origin</code> headers on all requests.</p>

   </dd>



   <dt>Clickjacking</dt>

   <dd>

    <p>A page that provides users with an interface to perform actions
    that the user might not wish to perform needs to be designed so as
    to avoid the possibility that users can be tricked into activating
    the interface.</p>

    <p>One way that a user could be so tricked is if a hostile site
    places the victim site in a small <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> and then
    convinces the user to click, for instance by having the user play
    a reaction game. Once the user is playing the game, the hostile
    site can quickly position the iframe under the mouse cursor just
    as the user is about to click, thus tricking the user into
    clicking the victim site's interface.</p>

    <p>To avoid this, sites that do not expect to be used in frames
    are encouraged to only enable their interface if they detect that
    they are not in a frame (e.g. by comparing the <code title="dom-window"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-window">window</a></code> object to the value of the <code title="dom-top"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-top">top</a></code> attribute).</p>

   </dd>

  </dl><!--REMOVE-TOPIC:Security--><h4 id="common-pitfalls-to-avoid-when-using-the-scripting-apis"><span class="secno">1.10.2 </span>Common pitfalls to avoid when using the scripting APIs</h4>

  <p><i>This section is non-normative.</i></p>

  <p>Scripts in HTML have "run-to-completion" semantics, meaning that
  the browser will generally run the script uninterrupted before doing
  anything else, such as firing further events or continuing to parse
  the document.</p>

  <p>On the other hand, parsing of HTML files happens asynchronously
  and incrementally, meaning that the parser can pause at any point to
  let scripts run. This is generally a good thing, but it does mean
  that authors need to be careful to avoid hooking event handlers
  after the events could have possibly fired.</p>

  <p>There are two techniques for doing this reliably: use <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-content-attributes">event
  handler content attributes</a>, or create the element and add the
  event handlers in the same script. The latter is safe because, as
  mentioned earlier, scripts are run to completion before further
  events can fire.</p>

  <div class="example">

   <p>One way this could manifest itself is with <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>
   elements and the <code title="event-load">load</code> event. The
   event could fire as soon as the element has been parsed, especially
   if the image has already been cached (which is common).</p>

   <p>Here, the author uses the <code title="handler-onload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onload">onload</a></code> handler on an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>
   element to catch the <code title="event-load">load</code> event:</p>

   <pre>&lt;img src="games.png" alt="Games" onload="gamesLogoHasLoaded(event)"&gt;</pre>

   <p>If the element is being added by script, then so long as the
   event handlers are added in the same script, the event will still
   not be missed:</p>

   <pre>&lt;script&gt;
 var img = new Image();
 img.src = 'games.png';
 img.alt = 'Games';
 img.onload = gamesLogoHasLoaded;
 // img.addEventListener('load', gamesLogoHasLoaded, false); // would work also
&lt;/script&gt;</pre>

   <p>However, if the author first created the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>
   element and then in a separate script added the event listeners,
   there's a chance that the <code title="event-load">load</code>
   event would be fired in between, leading it to be missed:</p>

   <pre class="bad">&lt;!-- Do not use this style, it has a race condition! --&gt;
 &lt;img id="games" src="games.png" alt="Games"&gt;
 &lt;!-- the 'load' event might fire here while the parser is taking a
      break, in which case you will not see it! --&gt;
 &lt;script&gt;
  var img = document.getElementById('games');
  img.onload = gamesLogoHasLoaded; // might never fire!
 &lt;/script&gt;</pre>

  </div>



  <h3 id="conformance-requirements-for-authors"><span class="secno">1.11 </span>Conformance requirements for authors</h3>

  <p><i>This section is non-normative.</i></p>

  <p>Unlike previous versions of the HTML specification, this
  specification defines in some detail the required processing for
  invalid documents as well as valid documents.</p> <!-- This has led
  to some questioning the purpose of conformance criteria: if there is
  no ambiguity in how something will be processed, why disallow it? -->

  <p>However, even though the processing of invalid content is in most
  cases well-defined, conformance requirements for documents are still
  important: in practice, interoperability (the situation in which all
  implementations process particular content in a reliable and
  identical or equivalent way) is not the only goal of document
  conformance requirements. This section details some of the more
  common reasons for still distinguishing between a conforming
  document and one with errors.</p>


  <h4 id="presentational-markup"><span class="secno">1.11.1 </span>Presentational markup</h4>

  <p><i>This section is non-normative.</i></p>

  <p>The majority of presentational features from previous versions of
  HTML are no longer allowed. Presentational markup in general has
  been found to have a number of problems:</p>

  <dl><dt>The use of presentational elements leads to poorer accessibility</dt>

   <dd>

    <p>While it is possible to use presentational markup in a way that
    provides users of assistive technologies (ATs) with an acceptable
    experience (e.g. using ARIA), doing so is significantly more
    difficult than doing so when using semantically-appropriate
    markup. Furthermore, even using such techniques doesn't help make
    pages accessible for non-AT non-graphical users, such as users of
    text-mode browsers.</p>

    <p>Using media-independent markup, on the other hand, provides an
    easy way for documents to be authored in such a way that they work
    for more users (e.g. text browsers).</p>

   </dd>


   <dt>Higher cost of maintenance</dt>

   <dd>

    <p>It is significantly easier to maintain a site written in such a
    way that the markup is style-independent. For example, changing
    the color of a site that uses <code>&lt;font&nbsp;color=""&gt;</code>
    throughout requires changes across the entire site, whereas a
    similar change to a site based on CSS can be done by changing a
    single file.</p>

   </dd>


   <dt>Larger document sizes</dt>

   <dd>

    <p>Presentational markup tends to be much more redundant, and thus
    results in larger document sizes.</p>

   </dd>

  </dl><p>For those reasons, presentational markup has been removed from
  HTML in this version. This change should not come as a surprise;
  HTML4 deprecated presentational markup many years ago and provided a
  mode (HTML4 Transitional) to help authors move away from
  presentational markup; later, XHTML 1.1 went further and obsoleted
  those features altogether.</p>

  <p>The only remaining presentational markup features in HTML are the
  <code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code> attribute and the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element. Use of the <code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code> attribute is somewhat discouraged in
  production environments, but it can be useful for rapid prototyping
  (where its rules can be directly moved into a separate style sheet
  later) and for providing specific styles in unusual cases where a
  separate style sheet would be inconvenient. Similarly, the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element can be useful in syndication or for
  page-specific styles, but in general an external style sheet is
  likely to be more convenient when the styles apply to multiple
  pages.</p>

  <p>It is also worth noting that some elements that were previously
  presentational have been redefined in this specification to be
  media-independent: <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element">hr</a></code>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-s-element">s</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element">u</a></code>.</p>


  <h4 id="syntax-errors"><span class="secno">1.11.2 </span>Syntax errors</h4>

  <p><i>This section is non-normative.</i></p>

  <p>The syntax of HTML is constrained to avoid a wide variety of
  problems.</p>

  <dl><dt>Unintuitive error-handling behavior</dt>

   <dd>

    <p>Certain invalid syntax constructs, when parsed, result in DOM
    trees that are highly unintuitive.</p>

    <div class="example">

     <p>For example, the following markup fragment results in a DOM
     with an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element">hr</a></code> element that is an <em>earlier</em>
     sibling of the corresponding <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element:</p>

     <pre class="bad">&lt;table&gt;&lt;hr&gt;...</pre>

    </div>

   </dd>


   <dt>Errors with optional error recovery</dt>

   <dd>

    <p>To allow user agents to be used in controlled environments
    without having to implement the more bizarre and convoluted error
    handling rules, user agents are permitted to fail whenever
    encountering a <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-error">parse error</a>.</p>

   </dd>


   <dt>Errors where the error-handling behavior is not compatible with streaming user agents</dt>

   <dd>

    <p>Some error-handling behavior, such as the behavior for the
    <code title="">&lt;table&gt;&lt;hr&gt;...</code> example mentioned
    above, are incompatible with streaming user agents (user agents
    that process HTML files in one pass, without storing state). To
    avoid interoperability problems with such user agents, any syntax
    resulting in such behavior is considered invalid.</p>

   </dd>


   <dt>Errors that can result in infoset coercion</dt>

   <dd>

    <p>When a user agent based on XML is connected to an HTML parser,
    it is possible that certain invariants that XML enforces, such as
    comments never containing two consecutive hyphens, will be
    violated by an HTML file. Handling this can require that the
    parser coerce the HTML DOM into an XML-compatible infoset. Most
    syntax constructs that require such handling are considered
    invalid.</p>

   </dd>


   <dt>Errors that result in disproportionally poor performance</dt>

   <dd>

    <p>Certain syntax constructs can result in disproportionally poor
    performance. To discourage the use of such constructs, they are
    typically made non-conforming.</p>

    <div class="example">

     <p>For example, the following markup results in poor performance,
     since all the unclosed <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> elements have to be
     reconstructed in each paragraph, resulting in progressively more
     elements in each paragraph:</p>

     <pre class="bad">&lt;p&gt;&lt;i&gt;He dreamt.
&lt;p&gt;&lt;i&gt;He dreamt that he ate breakfast.
&lt;p&gt;&lt;i&gt;Then lunch.
&lt;p&gt;&lt;i&gt;And finally dinner.</pre>

     <p>The resulting DOM for this fragment would be:</p>

     <ul class="domTree"><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t3"><code>#text</code>: <span title="">He dreamt.</span></li></ul></li></ul></li><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t3"><code>#text</code>: <span title="">He dreamt that he ate breakfast.</span></li></ul></li></ul></li></ul></li><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t3"><code>#text</code>: <span title="">Then lunch.</span></li></ul></li></ul></li></ul></li></ul></li><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t1"><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code><ul><li class="t3"><code>#text</code>: <span title="">And finally dinner.</span></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></div>

   </dd>


   <dt>Errors involving fragile syntax constructs</dt>

   <dd>

    <p>There are syntax constructs that, for historical reasons, are
    relatively fragile. To help reduce the number of users who
    accidentally run into such problems, they are made
    non-conforming.</p>

    <div class="example">

     <p>For example, the parsing of certain named character references
     in attributes happens even with the closing semicolon being
     omitted. It is safe to include an ampersand followed by letters
     that do not form a named character reference, but if the letters
     are changed to a string that <em>does</em> form a named character
     reference, they will be interpreted as that character instead.</p>

     <p>In this fragment, the attribute's value is "<code title="">?bill&amp;ted</code>":</p>

     <pre class="bad">&lt;a href="?bill&amp;ted"&gt;Bill and Ted&lt;/a&gt;</pre>

     <p>In the following fragment, however, the attribute's value is
     actually "<code title="">?art©</code>", <em>not</em> the
     intended "<code title="">?art&amp;copy</code>", because even
     without the final semicolon, "<code title="">&amp;copy</code>" is
     handled the same as "<code title="">&amp;copy;</code>" and thus
     gets interpreted as "<code title="">©</code>":</p>

     <pre class="bad">&lt;a href="?art&amp;copy"&gt;Art and Copy&lt;/a&gt;</pre>

     <p>To avoid this problem, all named character references are
     required to end with a semicolon, and uses of named character
     references without a semicolon are flagged as errors.</p>

     <p>Thus, the correct way to express the above cases is as
     follows:</p>

     <pre>&lt;a href="?bill&amp;ted"&gt;Bill and Ted&lt;/a&gt; &lt;!-- &amp;ted is ok, since it's not a named character reference --&gt;</pre>
     <pre>&lt;a href="?art&amp;amp;copy"&gt;Art and Copy&lt;/a&gt; &lt;!-- the &amp; has to be escaped, since &amp;copy <em>is</em> a named character reference --&gt;</pre>

    </div>

   </dd>


   <dt>Errors involving known interoperability problems in legacy user agents</dt>

   <dd>

    <p>Certain syntax constructs are known to cause especially subtle
    or serious problems in legacy user agents, and are therefore
    marked as non-conforming to help authors avoid them.</p>

    <div class="example">

     <p>For example, this is why the U+0060 GRAVE ACCENT character (`)
     is not allowed in unquoted attributes. In certain legacy user
     agents, <!-- namely IE --> it is sometimes treated as a quote
     character.</p>

    </div>

    <div class="example">

     <p>Another example of this is the DOCTYPE, which is required to
     trigger <a href="http://www.whatwg.org/specs/web-apps/current-work/#no-quirks-mode">no-quirks mode</a>, because the behavior of
     legacy user agents in <a href="http://www.whatwg.org/specs/web-apps/current-work/#quirks-mode">quirks mode</a> is often largely
     undocumented.</p>

    </div>

   </dd>


<!--ADD-TOPIC:Security-->
   <dt>Errors that risk exposing authors to security attacks</dt>

   <dd>

    <p>Certain restrictions exist purely to avoid known security
    problems.</p>

    <div class="example">

     <p>For example, the restriction on using UTF-7 exists purely to
     avoid authors falling prey to a known cross-site-scripting attack
     using UTF-7.</p>

    </div>

   </dd>
<!--REMOVE-TOPIC:Security-->


   <dt>Cases where the author's intent is unclear</dt>

   <dd>

    <p>Markup where the author's intent is very unclear is often made
    non-conforming. Correcting these errors early makes later
    maintenance easier.</p>

    <div class="example">

     <p>For example, it is unclear whether the author intended the
     following to be an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> heading or an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code>
     heading:</p>

     <pre class="bad">&lt;h1&gt;Contact details&lt;/h2&gt;</pre>

    </div>

   </dd>


   <dt>Cases that are likely to be typos</dt>

   <dd>

    <p>When a user makes a simple typo, it is helpful if the error can
    be caught early, as this can save the author a lot of debugging
    time. This specification therefore usually considers it an error
    to use element names, attribute names, and so forth, that do not
    match the names defined in this specification.</p>

    <div class="example">

     <p>For example, if the author typed <code>&lt;capton&gt;</code>
     instead of <code>&lt;caption&gt;</code>, this would be flagged as an
     error and the author could correct the typo immediately.</p>

    </div>

   </dd>


   <dt>Errors that could interfere with new syntax in the future</dt>

   <dd>

    <p>In order to allow the language syntax to be extended in the
    future, certain otherwise harmless features are disallowed.</p>

    <div class="example">

     <p>For example, "attributes" in end tags are ignored currently,
     but they are invalid, in case a future change to the language
     makes use of that syntax feature without conflicting with
     already-deployed (and valid!) content.</p>

    </div>

   </dd>


  </dl><p>Some authors find it helpful to be in the practice of always
  quoting all attributes and always including all optional tags,
  preferring the consistency derived from such custom over the minor
  benefits of terseness afforded by making use of the flexibility of
  the HTML syntax. To aid such authors, conformance checkers can
  provide modes of operation wherein such conventions are
  enforced.</p>



  <h4 id="restrictions-on-content-models-and-on-attribute-values"><span class="secno">1.11.3 </span>Restrictions on content models and on attribute values</h4>

  <p><i>This section is non-normative.</i></p>

  <p>Beyond the syntax of the language, this specification also places
  restrictions on how elements and attributes can be specified. These
  restrictions are present for similar reasons:</p>

  <dl><dt>Errors involving content with dubious semantics</dt>

   <dd>

    <p>To avoid misuse of elements with defined meanings, content
    models are defined that restrict how elements can be nested when
    such nestings would be of dubious value.</p>

    <p class="example">For example, this specification disallows
    nesting a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code> element inside a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code>
    element, since it is highly unlikely for an author to indicate
    that an entire section should be keyed in.</p>

   </dd>


   <dt>Errors that involve a conflict in expressed semantics</dt>

   <dd>

    <p>Similarly, to draw the author's attention to mistakes in the
    use of elements, clear contradictions in the semantics expressed
    are also considered conformance errors.</p>

    <div class="example">

     <p>In the fragments below, for example, the semantics are
     nonsensical: a separator cannot simultaneously be a cell, nor can
     a radio button be a progress bar.</p>

     <pre class="bad">&lt;hr role="cell"&gt;</pre>
     <pre class="bad">&lt;input type=radio role=progressbar&gt;</pre>

    </div>

    <p class="example">Another example is the restrictions on the
    content models of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> element, which only allows
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element children. Lists by definition consist just
    of zero or more list items, so if a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> element
    contains something other than an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element, it's not
    clear what was meant.</p>

   </dd>


   <dt>Cases where the default styles are likely to lead to confusion</dt>

   <dd>

    <p>Certain elements have default styles or behaviors that make
    certain combinations likely to lead to confusion. Where these have
    equivalent alternatives without this problem, the confusing
    combinations are disallowed.</p>

    <p class="example">For example, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> elements are
    rendered as block boxes, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> elements as inline
    boxes. Putting a block box in an inline box is unnecessarily
    confusing; since either nesting just <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> elements, or
    nesting just <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> elements, or nesting
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> elements inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> elements all
    serve the same purpose as nesting a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> element in a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> element, but only the latter involves a block
    box in an inline box, the latter combination is disallowed.</p>

    <p class="example">Another example would be the way
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">interactive content</a> cannot be nested. For example, a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code> element cannot contain a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code>
    element. This is because the default behavior of such nesting
    interactive elements would be highly confusing to users. Instead
    of nesting these elements, they can be placed side by side.</p>

   </dd>


   <dt>Errors that indicate a likely misunderstanding of the specification</dt>

   <dd>

    <p>Sometimes, something is disallowed because allowing it would
    likely cause author confusion.</p>

    <p class="example">For example, setting the <code title="attr-fe-disabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fe-disabled">disabled</a></code> attribute to the value
    "<code title="">false</code>" is disallowed, because despite the
    appearance of meaning that the element is enabled, it in fact
    means that the element is <em>disabled</em> (what matters for
    implementations is the presence of the attribute, not its
    value).</p>

   </dd>


   <dt>Errors involving limits that have been imposed merely to simplify the language</dt>

   <dd>

    <p>Some conformance errors simplify the language that authors need
    to learn.</p>

    <p class="example">For example, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element's
    <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code> attribute, despite
    accepting both <code title="attr-area-shape-keyword-circ"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-keyword-circ">circ</a></code> and <code title="attr-area-shape-keyword-circle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-keyword-circle">circle</a></code> values in
    practice as synonyms, disallows the use of the <code title="attr-area-shape-keyword-circ"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-keyword-circ">circ</a></code> value, so as to
    simplify tutorials and other learning aids. There would be no
    benefit to allowing both, but it would cause extra confusion when
    teaching the language.</p>

   </dd>


   <dt>Errors that involve peculiarities of the parser</dt>

   <dd>

    <p>Certain elements are parsed in somewhat eccentric ways
    (typically for historical reasons), and their content model
    restrictions are intended to avoid exposing the author to these
    issues.</p>

    <div class="example">

     <p>For example, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code> element isn't allowed inside
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>, because when parsed as HTML, a
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code> element's start tag will imply a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code>
     element's end tag. Thus, the following markup results in two
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">paragraphs</a>, not one:</p>

     <pre>&lt;p&gt;Welcome. &lt;form&gt;&lt;label&gt;Name:&lt;/label&gt; &lt;input&gt;&lt;/form&gt;</pre>

     <p>It is parsed exactly like the following:</p>

     <pre>&lt;p&gt;Welcome. &lt;/p&gt;&lt;form&gt;&lt;label&gt;Name:&lt;/label&gt; &lt;input&gt;&lt;/form&gt;</pre>

    </div>

   </dd>


   <dt>Errors that would likely result in scripts failing in hard-to-debug ways</dt>

   <dd>

    <p>Some errors are intended to help prevent script problems that
    would be hard to debug.</p>

    <p class="example">This is why, for instance, it is non-conforming
    to have two <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attributes with the
    same value. Duplicate IDs lead to the wrong element being
    selected, with sometimes disastrous effects whose cause is hard to
    determine.</p>

   </dd>


   <dt>Errors that waste authoring time</dt>

   <dd>

    <p>Some constructs are disallowed because historically they have
    been the cause of a lot of wasted authoring time, and by
    encouraging authors to avoid making them, authors can save time in
    future efforts.</p>

    <p class="example">For example, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element's
    <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute causes the
    element's contents to be ignored. However, this isn't obvious,
    especially if the element's contents appear to be executable
    script — which can lead to authors spending a lot of time
    trying to debug the inline script without realizing that it is not
    executing. To reduce this problem, this specification makes it
    non-conforming to have executable script in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
    element when the <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code>
    attribute is present. This means that authors who are validating
    their documents are less likely to waste time with this kind of
    mistake.</p>

   </dd>


   <dt>Errors that involve areas that affect authors migrating to and from XHTML</dt>

   <dd>

    <p>Some authors like to write files that can be interpreted as
    both XML and HTML with similar results. Though this practice is
    discouraged in general due to the myriad of subtle complications
    involved (especially when involving scripting, styling, or any
    kind of automated serialization), this specification has a few
    restrictions intended to at least somewhat mitigate the
    difficulties. This makes it easier for authors to use this as a
    transitionary step when migrating between HTML and XHTML.</p>

    <p class="example">For example, there are somewhat complicated
    rules surrounding the <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code> and
    <code title="attr-xml-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang">xml:lang</a></code> attributes intended
    to keep the two synchronized.</p>

    <p class="example">Another example would be the restrictions on
    the values of <code title="">xmlns</code> attributes in the HTML
    serialization, which are intended to ensure that elements in
    conforming documents end up in the same namespaces whether
    processed as HTML or XML.</p>

   </dd>


   <dt>Errors that involve areas reserved for future expansion</dt>

   <dd>

    <p>As with the restrictions on the syntax intended to allow for
    new syntax in future revisions of the language, some restrictions
    on the content models of elements and values of attributes are
    intended to allow for future expansion of the HTML vocabulary.</p>

    <p class="example">For example, limiting the values of the <code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code> attribute that start
    with an U+005F LOW LINE character (_) to only specific predefined
    values allows new predefined values to be introduced at a future
    time without conflicting with author-defined values.</p>

   </dd>


   <dt>Errors that indicate a mis-use of other specifications</dt>

   <dd>

    <p>Certain restrictions are intended to support the restrictions
    made by other specifications.</p>

    <p class="example">For example, requiring that attributes that
    take media queries use only <em>valid</em> media queries
    reinforces the importance of following the conformance rules of
    that specification.</p>

   </dd>

  </dl><h3 id="recommended-reading"><span class="secno">1.12 </span>Recommended reading</h3>

  <p><i>This section is non-normative.</i></p>

  <p>The following documents might be of interest to readers of this
  specification.</p>

  <dl><dt><cite>Character Model for the World Wide Web 1.0: Fundamentals</cite> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCHARMOD">[CHARMOD]</a></dt>

   <dd><blockquote><p>This Architectural Specification provides
   authors of specifications, software developers, and content
   developers with a common reference for interoperable text
   manipulation on the World Wide Web, building on the Universal
   Character Set, defined jointly by the Unicode Standard and ISO/IEC
   10646. Topics addressed include use of the terms 'character',
   'encoding' and 'string', a reference processing model, choice and
   identification of character encodings, character escaping, and
   string indexing.</p></blockquote></dd>

   <dt><cite>Unicode Security Considerations</cite> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUTR36">[UTR36]</a></dt>

   <dd><blockquote><p>Because Unicode contains such a large number of
   characters and incorporates the varied writing systems of the
   world, incorrect usage can expose programs or systems to possible
   security attacks. This is especially important as more and more
   products are internationalized. This document describes some of the
   security considerations that programmers, system analysts,
   standards developers, and users should take into account, and
   provides specific recommendations to reduce the risk of
   problems.</p></blockquote></dd>

   <dt><cite>Web Content Accessibility Guidelines (WCAG) 2.0</cite> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWCAG">[WCAG]</a></dt>

   <dd><blockquote><p>Web Content Accessibility Guidelines (WCAG) 2.0
   covers a wide range of recommendations for making Web content more
   accessible. Following these guidelines will make content accessible
   to a wider range of people with disabilities, including blindness
   and low vision, deafness and hearing loss, learning disabilities,
   cognitive limitations, limited movement, speech disabilities,
   photosensitivity and combinations of these. Following these
   guidelines will also often make your Web content more usable to
   users in general.</p></blockquote></dd>

   <dt class="impl"><cite>Authoring Tool Accessibility Guidelines (ATAG) 2.0</cite> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsATAG">[ATAG]</a></dt>

   <dd class="impl"><blockquote><p>This specification provides
   guidelines for designing Web content authoring tools that are more
   accessible for people with disabilities. An authoring tool that
   conforms to these guidelines will promote accessibility by
   providing an accessible user interface to authors with disabilities
   as well as by enabling, supporting, and promoting the production of
   accessible Web content by all authors.</p></blockquote></dd>

   <dt class="impl"><cite>User Agent Accessibility Guidelines (UAAG) 2.0</cite> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUAAG">[UAAG]</a></dt>

   <dd class="impl"><blockquote><p>This document provides guidelines
   for designing user agents that lower barriers to Web accessibility
   for people with disabilities. User agents include browsers and
   other types of software that retrieve and render Web content. A
   user agent that conforms to these guidelines will promote
   accessibility through its own user interface and through other
   internal facilities, including its ability to communicate with
   other technologies (especially assistive
   technologies). Furthermore, all users, not just users with
   disabilities, should find conforming user agents to be more
   usable.</p></blockquote></dd>

   <dt><cite>Polyglot Markup: HTML-Compatible XHTML Documents</cite> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsPOLYGLOT">[POLYGLOT]</a></dt>

   <dd><blockquote><p>A document that uses polyglot markup is a document
   that is a stream of bytes that parses into identical document trees
   (with the exception of the xmlns attribute on the root element)
   when processed as HTML and when processed as XML. Polyglot markup
   that meets a well defined set of constraints is interpreted as
   compatible, regardless of whether they are processed as HTML or as
   XHTML, per the HTML5 specification. Polyglot markup uses a specific
   DOCTYPE, namespace declarations, and a specific case —
   normally lower case but occasionally camel case — for element
   and attribute names. Polyglot markup uses lower case for certain
   attribute values. Further constraints include those on empty
   elements, named entity references, and the use of scripts and
   style.</p></blockquote></dd>

<!--(the following is not included in the WHATWG spec for quality reasons)-->

  </dl><h2 id="infrastructure"><span class="secno">2 </span>Common infrastructure</h2>

  <h3 id="terminology"><span class="secno">2.1 </span>Terminology</h3>

  <p>This specification refers to both HTML and XML attributes and IDL
  attributes, often in the same context. When it is not clear which is
  being referred to, they are referred to as <dfn title="">content
  attributes</dfn> for HTML and XML attributes, and <dfn title="">IDL
  attributes</dfn> for those defined on IDL interfaces. Similarly, the
  term "properties" is used for both JavaScript object properties and
  CSS properties. When these are ambiguous they are qualified as <dfn title="">object properties</dfn> and <dfn title="">CSS
  properties</dfn> respectively.</p>

  <p>Generally, when the specification states that a feature applies
  to <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">the HTML syntax</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xhtml-syntax">the XHTML syntax</a>, it
  also includes the other. When a feature specifically only applies to
  one of the two languages, it is called out by explicitly stating
  that it does not apply to the other format, as in "for HTML,
  ... (this does not apply to XHTML)".</p>

  <p>This specification uses the term <dfn title="">document</dfn> to
  refer to any use of HTML, ranging from short static documents to
  long essays or reports with rich multimedia, as well as to
  fully-fledged interactive applications. The term is used to refer
  both to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> objects and their descendant DOM
  trees, and to serialized byte streams using the <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax" title="the
  HTML syntax">HTML syntax</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xhtml-syntax" title="the XHTML
  syntax">XHTML syntax</a>, depending on context.</p>

  <p>In the context of the DOM structures, the terms <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents" title="HTML
  documents">HTML document</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents" title="XML documents">XML
  document</a> are used as defined in the DOM Core specification,
  and refer specifically to two different modes that
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> objects can find themselves in. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a> (Such uses are always hyperlinked
  to their definition.)</p>

  <p>In the context of byte streams, the term HTML document refers to
  resources labeled as <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html">text/html</a></code>, and the term XML
  document refers to resources labeled with an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-mime-type">XML MIME
  type</a>.</p>

  <p>The term <dfn id="xhtml-document">XHTML document</dfn> is used to refer to both
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>s in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents" title="XML documents">XML
  document</a> mode that contains element nodes in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-namespace-0">HTML
  namespace</a>, and byte streams labeled with an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-mime-type">XML MIME
  type</a> that contain elements from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-namespace-0">HTML
  namespace</a>, depending on context.</p>

  <hr><p>For simplicity, terms such as <dfn title="">shown</dfn>, <dfn title="">displayed</dfn>, and <dfn title="">visible</dfn> might
  sometimes be used when referring to the way a document is rendered
  to the user. These terms are not meant to imply a visual medium;
  they must be considered to apply to other media in equivalent
  ways.</p>

  <div class="impl">

  <p>When an algorithm B says to return to another algorithm A, it
  implies that A called B. Upon returning to A, the implementation
  must continue from where it left off in calling B.</p>

  </div>

  <!-- should find somewhere more appropriate to put this -->
  <p>The term "transparent black" refers to the color with red, green,
  blue, and alpha channels all set to zero.</p>


  <h4 id="resources"><span class="secno">2.1.1 </span>Resources</h4>

  <p>The specification uses the term <dfn title="">supported</dfn>
  when referring to whether a user agent has an implementation capable
  of decoding the semantics of an external resource. A format or type
  is said to be <i>supported</i> if the implementation can process an
  external resource of that format or type without critical aspects of
  the resource being ignored. Whether a specific resource is
  <i>supported</i> can depend on what features of the resource's
  format are in use.</p>

  <p class="example">For example, a PNG image would be considered to
  be in a supported format if its pixel data could be decoded and
  rendered, even if, unbeknownst to the implementation, the image also
  contained animation data.</p>

  <p class="example">A MPEG4 video file would not be considered to be
  in a supported format if the compression format used was not
  supported, even if the implementation could determine the dimensions
  of the movie from the file's metadata.</p>

  <p>What some specifications, in particular the HTTP and URI
  specifications, refer to as a <i>representation</i> is referred to
  in this specification as a <dfn title="">resource</dfn>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTTP">[HTTP]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a></p>

  <p>The term <dfn id="mime-type">MIME type</dfn> is used to refer to what is
  sometimes called an <i>Internet media type</i> in protocol
  literature. The term <i>media type</i> in this specification is used
  to refer to the type of media intended for presentation, as used by
  the CSS specifications. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC2046">[RFC2046]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMQ">[MQ]</a></p>

  <p>A string is a <dfn id="valid-mime-type">valid MIME type</dfn> if it matches the <code title="">media-type</code> rule defined in section 3.7 "Media Types"
  of RFC 2616. In particular, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">valid MIME type</a> may
  include MIME type parameters. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTTP">[HTTP]</a></p>

  <p>A string is a <dfn id="valid-mime-type-with-no-parameters">valid MIME type with no parameters</dfn> if it
  matches the <code title="">media-type</code> rule defined in section
  3.7 "Media Types" of RFC 2616, but does not contain any U+003B
  SEMICOLON characters (;). In other words, if it consists only of a
  type and subtype, with no MIME Type parameters. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTTP">[HTTP]</a></p>

  <p>The term <dfn id="html-mime-type">HTML MIME type</dfn> is used to refer to the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html">text/html</a></code>.</p>

  <p>A resource's <dfn id="critical-subresources">critical subresources</dfn> are those that the
  resource needs to have available to be correctly processed. Which
  resources are considered critical or not is defined by the
  specification that defines the resource's format. For CSS resources,
  only <code title="">@import</code> rules introduce <a href="http://www.whatwg.org/specs/web-apps/current-work/#critical-subresources">critical
  subresources</a>; other resources, e.g. fonts or backgrounds, are
  not.</p>

  <p>The term <dfn id="data-protocol" title="data protocol"><code title="">data:</code>
  URL</dfn> refers to <a href="http://www.whatwg.org/specs/web-apps/current-work/#url" title="URL">URLs</a> that use the <code title="">data:</code> scheme. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC2397">[RFC2397]</a></p>


  <h4 id="xml"><span class="secno">2.1.2 </span>XML</h4>

  <p id="html-namespace">To ease migration from HTML to XHTML, UAs
  conforming to this specification will place elements in HTML in the
  <code>http://www.w3.org/1999/xhtml</code> namespace, at least for
  the purposes of the DOM and CSS. The term "<dfn id="html-elements">HTML
  elements</dfn>", when used in this specification, refers to any
  element in that namespace, and thus refers to both HTML and XHTML
  elements.</p>

  <p>Except where otherwise stated, all elements defined or mentioned
  in this specification are in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-namespace-0">HTML namespace</a>
  ("<code>http://www.w3.org/1999/xhtml</code>"), and all attributes
  defined or mentioned in this specification have no namespace.</p>

  <p>The term <dfn id="element-type">element type</dfn> is used to refer to the class of
  elements have a given local name and namespace. For example,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code> elements are elements with the element type
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code>, meaning they have the local name "<code title="">button</code>" and (implicitly as defined above) the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-namespace-0">HTML namespace</a>.</p>

  <p>Attribute names are said to be <dfn id="xml-compatible">XML-compatible</dfn> if they
  match the <a href="http://www.w3.org/TR/REC-xml/#NT-Name"><code title="">Name</code></a> production defined in XML, they contain no
  U+003A COLON characters (:), and their first three characters are
  not an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match for the string
  "<code title="">xml</code>". <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXML">[XML]</a></p>

  <p>The term <dfn id="xml-mime-type">XML MIME type</dfn> is used to refer to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type" title="MIME type">MIME types</a> <code title="">text/xml</code>,
  <code title="">application/xml</code>, and any <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME
  type</a> whose subtype ends with the four characters "<code title="">+xml</code>". <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3023">[RFC3023]</a></p>


  <h4 id="dom-trees"><span class="secno">2.1.3 </span>DOM trees</h4>

  <p>The <dfn id="root-element-of-a-document-object">root element of a <code>Document</code> object</dfn> is
  that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s first element child, if any. If it does
  not have one then the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> has no root element.</p>

  <p>The term <dfn id="root-element">root element</dfn>, when not referring to a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object's root element, means the furthest
  ancestor element node of whatever node is being discussed, or the
  node itself if it has no ancestors. When the node is a part of the
  document, then the node's <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a> is indeed the
  document's root element; however, if the node is not currently part
  of the document tree, the root element will be an orphaned node.</p>

  <p>When an element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element-of-a-document-object">root
  element of a <code>Document</code> object</a>, it is said to be
  <dfn id="in-a-document">in a <code>Document</code></dfn>. An element is said to have
  been <dfn id="insert-an-element-into-a-document" title="insert an element into a document">inserted into a
  document</dfn> when its <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a> changes and is now
  the document's <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a>. Analogously, an element is
  said to have been <dfn id="remove-an-element-from-a-document" title="remove an element from a
  document">removed from a document</dfn> when its <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root
  element</a> changes from being the document's <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root
  element</a> to being another element.</p>

  <p>A node's <dfn id="home-subtree">home subtree</dfn> is the subtree rooted at that
  node's <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a>. When a node is <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document">in a
  <code>Document</code></a>, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#home-subtree">home subtree</a> is that
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s tree.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#node">Node</a></code> (such as an
  element) is the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#node">Node</a></code>'s
  <code title="dom-Node-ownerDocument"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-node-ownerdocument">ownerDocument</a></code> IDL
  attribute returns. When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#node">Node</a></code> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document">in a
  <code>Document</code></a> then that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is
  always the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#node">Node</a></code>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, and the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#node">Node</a></code>'s <code title="dom-Node-ownerDocument"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-node-ownerdocument">ownerDocument</a></code> IDL attribute
  thus always returns that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of a content attribute is the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the attribute's element.</p>

  <p>The term <dfn id="tree-order">tree order</dfn> means a pre-order, depth-first
  traversal of DOM nodes involved (through the <code title="dom-Node-parentNode"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-node-parentnode">parentNode</a></code>/<code title="dom-Node-childNodes"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-node-childnodes">childNodes</a></code> relationship).</p>

  <p>When it is stated that some element or attribute is <dfn id="ignore" title="ignore">ignored</dfn>, or treated as some other value, or
  handled as if it was something else, this refers only to the
  processing of the node after it is in the DOM. <span class="impl">A
  user agent must not mutate the DOM in such situations.</span></p>

  <p>A content attribute is said to <dfn title="">change</dfn> value
  only if its new value is different than its previous value; setting
  an attribute to a value it already has does not change it.</p>

  <p>The term <dfn title="">empty</dfn>, when used of an attribute
  value, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node, or string, means that the length of
  the text is zero (i.e. not even containing spaces or control
  characters).</p>


  <h4 id="scripting-0"><span class="secno">2.1.4 </span>Scripting</h4>

  <p>The construction "a <code>Foo</code> object", where
  <code>Foo</code> is actually an interface, is sometimes used instead
  of the more accurate "an object implementing the interface
  <code>Foo</code>".</p>

  <p>An IDL attribute is said to be <dfn title="">getting</dfn> when
  its value is being retrieved (e.g. by author script), and is said to
  be <dfn title="">setting</dfn> when a new value is assigned to
  it.</p>

  <p>If a DOM object is said to be <dfn id="live">live</dfn>, then the
  attributes and methods on that object <span class="impl">must</span>
  operate on the actual underlying data, not a snapshot of the
  data.</p>

  <p>In the contexts of events, the terms <dfn title="">fire</dfn> and
  <dfn id="concept-event-dispatch" title="concept-event-dispatch">dispatch</dfn> are used as
  defined in the DOM Core specification: firing an event means to
  create and dispatch it, and dispatching an event means to follow the
  steps that propagate the event through the tree. The term <dfn id="concept-events-trusted" title="concept-events-trusted">trusted event</dfn> is used to refer
  to events whose <code title="dom-event-isTrusted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-event-istrusted">isTrusted</a></code>
  attribute is initialized to true. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a></p>


  <h4 id="plugins"><span class="secno">2.1.5 </span>Plugins</h4>

  <p>The term <dfn id="plugin">plugin</dfn> refers to a user-agent defined set of
  content handlers used by the user agent that can take part in the
  user agent's rendering of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object, but that
  neither act as <a href="http://www.whatwg.org/specs/web-apps/current-work/#child-browsing-context" title="child browsing context">child browsing
  contexts</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> nor introduce any
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#node">Node</a></code> objects to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s DOM.</p>

  <p>Typically such content handlers are provided by third parties,
  though a user agent can also designate built-in content handlers as
  plugins.</p>

  <div class="impl">

  <p>A user agent must not consider the types <code>text/plain</code>
  and <code>application/octet-stream</code> as having a registered
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>.</p> <!-- because of the way <object> handles
  those types, if nothing else (it also doesn't make any sense to have
  a plugin registered for those types, of course) -->

  </div>

  <p class="example">One example of a plugin would be a PDF viewer
  that is instantiated in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> when the
  user navigates to a PDF file. This would count as a plugin
  regardless of whether the party that implemented the PDF viewer
  component was the same as that which implemented the user agent
  itself. However, a PDF viewer application that launches separate
  from the user agent (as opposed to using the same interface) is not
  a plugin by this definition.</p>

  <p class="note">This specification does not define a mechanism for
  interacting with plugins, as it is expected to be user-agent- and
  platform-specific. Some UAs might opt to support a plugin mechanism
  such as the Netscape Plugin API; others might use remote content
  converters or have built-in support for certain types. Indeed, this
  specification doesn't require user agents to support plugins at all.
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsNPAPI">[NPAPI]</a></p>

  <p>A plugin can be <dfn id="concept-plugin-secure" title="concept-plugin-secure">secured</dfn>
  if it honors the semantics of the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code> attribute.</p>

  <p class="example">For example, a secured plugin would prevent its
  contents from creating pop-up windows when the plugin is
  instantiated inside a sandboxed <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>.</p>

  <div class="impl">

  <p class="warning">Browsers should take extreme care when
  interacting with external content intended for <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin" title="plugin">plugins</a>. When third-party software is run with
  the same privileges as the user agent itself, vulnerabilities in the
  third-party software become as dangerous as those in the user
  agent.</p>

  </div>


  <h4 id="character-encodings"><span class="secno">2.1.6 </span>Character encodings</h4>

  <p>The <dfn id="preferred-mime-name">preferred MIME name</dfn> of a character encoding is the
  name or alias labeled as "preferred MIME name" in the IANA
  <cite>Character Sets</cite> registry, if there is one, or the
  encoding's name, if none of the aliases are so labeled. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsIANACHARSET">[IANACHARSET]</a></p>

  <p>An <dfn id="ascii-compatible-character-encoding">ASCII-compatible character encoding</dfn> is a
  single-byte or variable-length encoding in which the bytes 0x09,
  0x0A, 0x0C, 0x0D, 0x20 - 0x22, 0x26, 0x27, 0x2C - 0x3F, 0x41 - 0x5A,
  and 0x61 - 0x7A<!-- is that list ok? do any character sets we want
  to support do things outside that range?  -->, ignoring bytes that
  are the second and later bytes of multibyte sequences, all
  correspond to single-byte sequences that map to the same Unicode
  characters as those bytes in ANSI_X3.4-1968 (US-ASCII). <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC1345">[RFC1345]</a></p>

  <p class="note">This includes such encodings as Shift_JIS,
  HZ-GB-2312, and variants of ISO-2022, even though it is possible in
  these encodings for bytes like 0x70 to be part of longer sequences
  that are unrelated to their interpretation as ASCII. It excludes
  such encodings as UTF-7, UTF-16, GSM03.38, and EBCDIC variants.</p>

  <!--
   We'll have to change that if anyone comes up with a way to have a
   document that is valid as two different encodings at once, with
   different <meta charset> elements applying in each case.
  -->

  <p>The term <dfn id="a-utf-16-encoding">a UTF-16 encoding</dfn> refers to any variant of
  UTF-16: self-describing UTF-16 with a BOM, ambiguous UTF-16 without
  a BOM, raw UTF-16LE, and raw UTF-16BE. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC2781">[RFC2781]</a></p>

  <p>The term <dfn id="code-unit">code unit</dfn> is used as defined in the Web IDL
  specification: a 16 bit unsigned integer, the smallest atomic
  component of a <code>DOMString</code>. (This is a narrower
  definition than the one used in Unicode.) <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBIDL">[WEBIDL]</a></p>

  <p>The term <dfn id="unicode-code-point">Unicode code point</dfn> means a <i title="">Unicode scalar value</i> where possible, and an isolated
  surrogate code point when not. When a conformance requirement is
  defined in terms of characters or Unicode code points, a pair of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#code-unit" title="code unit">code units</a> consisting of a high
  surrogate followed by a low surrogate must be treated as the single
  code point represented by the surrogate pair, but isolated
  surrogates must each be treated as the single code point with the
  value of the surrogate. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUNICODE">[UNICODE]</a></p>

  <p>In this specification, the term <dfn id="character">character</dfn>, when not
  qualified as <em>Unicode</em> character, is synonymous with the term
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#unicode-code-point">Unicode code point</a>.</p>

  <p>The term <dfn id="unicode-character">Unicode character</dfn> is used to mean a <i title="">Unicode scalar value</i> (i.e. any Unicode code point that
  is not a surrogate code point). <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUNICODE">[UNICODE]</a></p>

  <p>The <dfn id="code-unit-length">code-unit length</dfn> of a string is the number of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#code-unit" title="code unit">code units</a> in that string.</p>

  <p class="note">This complexity results from the historical decision
  to define the DOM API in terms of 16 bit (UTF-16) <a href="http://www.whatwg.org/specs/web-apps/current-work/#code-unit" title="code
  unit">code units</a>, rather than in terms of <a href="http://www.whatwg.org/specs/web-apps/current-work/#unicode-character" title="Unicode character">Unicode characters</a>.</p>






  <h3 id="conformance-requirements"><span class="secno">2.2 </span>Conformance requirements</h3>

  <p>All diagrams, examples, and notes in this specification are
  non-normative, as are all sections explicitly marked non-normative.
  Everything else in this specification is normative.</p>

  <p>The key words "MUST", "MUST NOT", "REQUIRED", <!--"SHALL", "SHALL
  NOT",--> "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
  "OPTIONAL" in the normative parts of this document are to be
  interpreted as described in RFC2119. The key word "OPTIONALLY" in
  the normative parts of this document is to be interpreted with the
  same normative meaning as "MAY" and "OPTIONAL". For readability,
  these words do not appear in all uppercase letters in this
  specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC2119">[RFC2119]</a></p>

  <div class="impl">

  <p>Requirements phrased in the imperative as part of algorithms
  (such as "strip any leading space characters" or "return false and
  abort these steps") are to be interpreted with the meaning of the
  key word ("must", "should", "may", etc) used in introducing the
  algorithm.</p>

  <div class="example">

   <p>For example, were the spec to say:</p>

   <pre>To eat a kiwi, the user must:
1. Peel the kiwi.
2. Eat the kiwi flesh.</pre>

   <p>...it would be equivalent to the following:</p>

   <pre>To eat a kiwi:
1. The user must peel the kiwi.
2. The user must eat the kiwi flesh.</pre>

   <p>Here the key word is "must".</p>

   <p>The former (imperative) style is generally preferred in this
   specification for stylistic reasons.</p>

  </div>

  <p>Conformance requirements phrased as algorithms or specific steps
  may be implemented in any manner, so long as the end result is
  equivalent. (In particular, the algorithms defined in this
  specification are intended to be easy to follow, and not intended to
  be performant.)</p>

  </div>





  <div class="impl">

  <h4 id="conformance-classes"><span class="secno">2.2.1 </span>Conformance classes</h4>

  <p>This specification describes the conformance criteria for <span class="impl">user agents (relevant to implementors) and</span>
  documents<span class="impl"> (relevant to authors and authoring tool
  implementors)</span>.</p>

  <p><dfn id="conforming-documents">Conforming
  documents</dfn> are those that comply with all
  the conformance criteria for documents. For readability, some of
  these conformance requirements are phrased as conformance
  requirements on authors; such requirements are implicitly
  requirements on documents: by definition, all documents are assumed
  to have had an author. (In some cases, that author may itself be a
  user agent — such user agents are subject to additional rules,
  as explained below.)</p>

  <p class="example">For example, if a requirement states that
  "authors must not use the <code title="">foobar</code> element", it
  would imply that documents are not allowed to contain elements named
  <code title="">foobar</code>.</p>

  <p class="note impl">There is no implied relationship between
  document conformance requirements and implementation conformance
  requirements. User agents are not free to handle non-conformant
  documents as they please; the processing model described in this
  specification applies to implementations regardless of the
  conformity of the input documents.</p>

  <p>User agents fall into several (overlapping) categories with
  different conformance requirements.</p>

  <dl><dt id="interactive">Web browsers and other interactive user agents</dt>

   <dd>

    <p>Web browsers that support <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xhtml-syntax">the XHTML syntax</a> must
    process elements and attributes from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-namespace-0">HTML
    namespace</a> found in XML documents as described in this
    specification, so that users can interact with them, unless the
    semantics of those elements have been overridden by other
    specifications.</p>

    <p class="example">A conforming XHTML processor would, upon
    finding an XHTML <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element in an XML document,
    execute the script contained in that element. However, if the
    element is found within a transformation expressed in XSLT
    (assuming the user agent also supports XSLT), then the processor
    would instead treat the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element as an opaque
    element that forms part of the transform.</p>

    <p>Web browsers that support <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">the HTML syntax</a> must
    process documents labeled with an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-mime-type">HTML MIME type</a> as
    described in this specification, so that users can interact with
    them.</p>

    <p>User agents that support scripting must also be conforming
    implementations of the IDL fragments in this specification, as
    described in the Web IDL specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBIDL">[WEBIDL]</a></p>

    <p class="note">Unless explicitly stated, specifications that
    override the semantics of HTML elements do not override the
    requirements on DOM objects representing those elements. For
    example, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element in the example above
    would still implement the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlscriptelement">HTMLScriptElement</a></code>
    interface.</p>

   </dd>

   <dt id="non-interactive">Non-interactive presentation user agents</dt>

   <dd>

    <p>User agents that process HTML and XHTML documents purely to
    render non-interactive versions of them must comply to the same
    conformance criteria as Web browsers, except that they are exempt
    from requirements regarding user interaction.</p>

    <p class="note">Typical examples of non-interactive presentation
    user agents are printers (static UAs) and overhead displays
    (dynamic UAs). It is expected that most static non-interactive
    presentation user agents will also opt to <a href="http://www.whatwg.org/specs/web-apps/current-work/#non-scripted">lack scripting support</a>.</p>

    <p class="example">A non-interactive but dynamic presentation UA
    would still execute scripts, allowing forms to be dynamically
    submitted, and so forth. However, since the concept of "focus" is
    irrelevant when the user cannot interact with the document, the UA
    would not need to support any of the focus-related DOM APIs.</p>

   </dd>

   <dt id="renderingUA">Visual user agents that support the suggested default rendering</dt>

   <dd>

    <p>User agents, whether interactive or not, may be designated
    (possibly as a user option) as supporting the suggested default
    rendering defined by this specification.</p>

    <p>This is not required. In particular, even user agents that do
    implement the suggested default rendering are encouraged to offer
    settings that override this default to improve the experience for
    the user, e.g. changing the color contrast, using different focus
    styles, or otherwise making the experience more accessible and
    usable to the user.</p>

    <p>User agents that are designated as supporting the suggested
    default rendering must, while so designated, implement the rules
    in <a href="http://www.whatwg.org/specs/web-apps/current-work/#rendering">the rendering section</a> that that
    section defines as the behavior that user agents are
    <em>expected</em> to implement.</p>

   </dd>

   <dt id="non-scripted">User agents with no scripting support</dt>

   <dd>

    <p>Implementations that do not support scripting (or which have
    their scripting features disabled entirely) are exempt from
    supporting the events and DOM interfaces mentioned in this
    specification. For the parts of this specification that are
    defined in terms of an events model or in terms of the DOM, such
    user agents must still act as if events and the DOM were
    supported.</p>

    <p class="note">Scripting can form an integral part of an
    application. Web browsers that do not support scripting, or that
    have scripting disabled, might be unable to fully convey the
    author's intent.</p>

   </dd>


   <dt>Conformance checkers</dt>

   <dd id="conformance-checkers">

    <p>Conformance checkers must verify that a document conforms to
    the applicable conformance criteria described in this
    specification. Automated conformance checkers are exempt from
    detecting errors that require interpretation of the author's
    intent (for example, while a document is non-conforming if the
    content of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> element is not a quote,
    conformance checkers running without the input of human judgement
    do not have to check that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> elements only
    contain quoted material).</p>

    <p>Conformance checkers must check that the input document
    conforms when parsed without a <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>
    (meaning that no scripts are run, and that the parser's
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#scripting-flag">scripting flag</a> is disabled), and should also check
    that the input document conforms when parsed with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
    context</a> in which scripts execute, and that the scripts
    never cause non-conforming states to occur other than transiently
    during script execution itself. (This is only a "SHOULD" and not a
    "MUST" requirement because it has been proven to be impossible. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCOMPUTABLE">[COMPUTABLE]</a>)</p>

    <p>The term "HTML validator" can be used to refer to a
    conformance checker that itself conforms to the applicable
    requirements of this specification.</p>
    <!--VERSION-->

    <div class="note">

     <p>XML DTDs cannot express all the conformance requirements of
     this specification. Therefore, a validating XML processor and a
     DTD cannot constitute a conformance checker. Also, since neither
     of the two authoring formats defined in this specification are
     applications of SGML, a validating SGML system cannot constitute
     a conformance checker either.</p>

     <p>To put it another way, there are three types of conformance
     criteria:</p>

     <ol><li>Criteria that can be expressed in a DTD.</li>

      <li>Criteria that cannot be expressed by a DTD, but can still be
      checked by a machine.</li>

      <li>Criteria that can only be checked by a human.</li>

     </ol><p>A conformance checker must check for the first two. A simple
     DTD-based validator only checks for the first class of errors and
     is therefore not a conforming conformance checker according to
     this specification.</p>

    </div>
   </dd>


   <dt>Data mining tools</dt>

   <dd id="data-mining">

    <p>Applications and tools that process HTML and XHTML documents
    for reasons other than to either render the documents or check
    them for conformance should act in accordance with the semantics
    of the documents that they process.</p>

    <p class="example">A tool that generates <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline" title="outline">document outlines</a> but increases the nesting
    level for each paragraph and does not increase the nesting level
    for each section would not be conforming.</p>

   </dd>


   <dt id="editors">Authoring tools and markup generators</dt>

   <dd>

    <p>Authoring tools and markup generators must generate
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#conforming-documents">conforming
    documents</a>. Conformance criteria that apply to authors also
    apply to authoring tools, where appropriate.</p>

    <p>Authoring tools are exempt from the strict requirements of
    using elements only for their specified purpose, but only to the
    extent that authoring tools are not yet able to determine author
    intent. However, authoring tools must not automatically misuse
    elements or encourage their users to do so.</p>

    <p class="example">For example, it is not conforming to use an
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element for arbitrary contact information;
    that element can only be used for marking up contact information
    for the author of the document or section. However, since an
    authoring tool is likely unable to determine the difference, an
    authoring tool is exempt from that requirement. This does not
    mean, though, that authoring tools can use <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code>
    elements for any block of italics text (for instance); it just
    means that the authoring tool doesn't have to verify that when the
    user uses a tool for inserting contact information for a section,
    that the user really is doing that and not inserting something
    else instead.</p>

    <p class="note">In terms of conformance checking, an editor has to
    output documents that conform to the same extent that a
    conformance checker will verify.</p>

    <p>When an authoring tool is used to edit a non-conforming
    document, it may preserve the conformance errors in sections of
    the document that were not edited during the editing session
    (i.e. an editing tool is allowed to round-trip erroneous
    content). However, an authoring tool must not claim that the
    output is conformant if errors have been so preserved.</p>

    <p>Authoring tools are expected to come in two broad varieties:
    tools that work from structure or semantic data, and tools that
    work on a What-You-See-Is-What-You-Get media-specific editing
    basis (WYSIWYG).</p>

    <p>The former is the preferred mechanism for tools that author
    HTML, since the structure in the source information can be used to
    make informed choices regarding which HTML elements and attributes
    are most appropriate.</p>

    <p>However, WYSIWYG tools are legitimate. WYSIWYG tools should use
    elements they know are appropriate, and should not use elements
    that they do not know to be appropriate. This might in certain
    extreme cases mean limiting the use of flow elements to just a few
    elements, like <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code>,
    and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> and making liberal use of the <code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code> attribute.</p>

    <p>All authoring tools, whether WYSIWYG or not, should make a best
    effort attempt at enabling users to create well-structured,
    semantically rich, media-independent content.</p>

   </dd>

  </dl><p id="hardwareLimitations">User agents may impose
  implementation-specific limits on otherwise unconstrained inputs,
  e.g. to prevent denial of service attacks, to guard against running
  out of memory, or to work around platform-specific limitations.</p>

  <p>For compatibility with existing content and prior specifications,
  this specification describes two authoring formats: one based on XML
  (referred to as <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xhtml-syntax">the XHTML syntax</a>), and one using a <a href="http://www.whatwg.org/specs/web-apps/current-work/#writing">custom format</a> inspired by SGML (referred to as
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">the HTML syntax</a>). Implementations must support at least
  one of these two formats, although supporting both is
  encouraged.</p>

  <p>Some conformance requirements are phrased as requirements on
  elements, attributes, methods or objects. Such requirements fall
  into two categories: those describing content model restrictions,
  and those describing implementation behavior. Those in the former
  category are requirements on documents and authoring tools. Those in
  the second category are requirements on user agents. Similarly, some
  conformance requirements are phrased as requirements on authors;
  such requirements are to be interpreted as conformance requirements
  on the documents that authors produce. (In other words, this
  specification does not distinguish between conformance criteria on
  authors and conformance criteria on documents.)</p>

  </div>


  <div class="impl">

  <h4 id="dependencies"><span class="secno">2.2.2 </span>Dependencies</h4>

  <p>This specification relies on several other underlying
  specifications.</p>

  <dl><dt>XML</dt>

   <dd>

    <p>Implementations that support <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xhtml-syntax">the XHTML syntax</a> must
    support some version of XML, as well as its corresponding
    namespaces specification, because that syntax uses an XML
    serialization with namespaces. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXML">[XML]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXMLNS">[XMLNS]</a></p>

   </dd>

<!--TOPIC:DOM APIs-->
   <dt>DOM</dt>

   <dd>

    <p>The Document Object Model (DOM) is a representation — a
    model — of a document and its content. The DOM is not just
    an API; the conformance criteria of HTML implementations are
    defined, in this specification, in terms of operations on the DOM.
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a></p>

    <p>Implementations must support DOM Core and the events defined in
    DOM Events, because this specification is defined in terms of the
    DOM, and some of the features are defined as extensions to the DOM
    Core interfaces. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMEVENTS">[DOMEVENTS]</a></p>

    <p>In particular, the following features are defined in the DOM
    Core specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a></p>

    <ul class="brief"><li><dfn id="attr"><code>Attr</code></dfn> interface</li>
     <li><dfn id="comment-0"><code>Comment</code></dfn> interface</li>
     <li><dfn id="domimplementation"><code>DOMImplementation</code></dfn> interface</li>
     <li><dfn id="dom-document" title="DOM Document"><code>Document</code></dfn> interface</li>
     <li><dfn id="documentfragment"><code>DocumentFragment</code></dfn> interface</li>
     <li><dfn id="documenttype"><code>DocumentType</code></dfn> interface</li>
     <li><dfn id="domexception"><code>DOMException</code></dfn> interface</li>
     <li><dfn id="element"><code>Element</code></dfn> interface</li>
     <li><dfn id="node"><code>Node</code></dfn> interface</li>
     <li><dfn id="nodelist"><code>NodeList</code></dfn> interface</li>
     <li><dfn id="processinginstruction"><code>ProcessingInstruction</code></dfn> interface</li>
     <li><dfn id="text"><code>Text</code></dfn> interface</li>

     <li><dfn id="htmlcollection"><code>HTMLCollection</code></dfn> interface, and the terms <dfn id="collections">collections</dfn> and <dfn id="represented-by-the-collection">represented by the collection</dfn></li>

     <li><dfn id="domstringlist"><code>DOMStringList</code></dfn> interface</li>
     <li><dfn id="domtokenlist"><code>DOMTokenList</code></dfn> interface</li>
     <li><dfn id="domsettabletokenlist"><code>DOMSettableTokenList</code></dfn> interface</li>

     <li><dfn id="dom-domimplementation-createdocument" title="dom-DOMImplementation-createDocument"><code>createDocument()</code></dfn> method</li>
     <li><dfn id="dom-domimplementation-createhtmldocument" title="dom-DOMImplementation-createHTMLDocument"><code>createHTMLDocument()</code></dfn> method</li>
     <li><dfn id="dom-document-createelement" title="dom-Document-createElement"><code>createElement()</code></dfn> method</li>
     <li><dfn id="dom-document-createelementns" title="dom-Document-createElementNS"><code>createElementNS()</code></dfn> method</li>
     <li><dfn id="dom-document-getelementbyid" title="dom-Document-getElementById"><code>getElementById()</code></dfn> method</li>
     <li><dfn id="dom-node-insertbefore" title="dom-Node-insertBefore"><code>insertBefore()</code></dfn> method</li>

     <li><dfn id="dom-node-ownerdocument" title="dom-Node-ownerDocument"><code>ownerDocument</code></dfn> attribute</li>
     <li><dfn id="dom-node-childnodes" title="dom-Node-childNodes"><code>childNodes</code></dfn> attribute</li>
     <li><dfn id="dom-node-localname" title="dom-Node-localName"><code>localName</code></dfn> attribute</li>
     <li><dfn id="dom-node-parentnode" title="dom-Node-parentNode"><code>parentNode</code></dfn> attribute</li>
     <li><dfn id="dom-node-namespaceuri" title="dom-Node-namespaceURI"><code>namespaceURI</code></dfn> attribute</li>
     <li><dfn id="dom-element-tagname" title="dom-Element-tagName"><code>tagName</code></dfn> attribute</li>
     <li><dfn id="dom-element-id" title="dom-Element-id"><code>id</code></dfn> attribute</li>
     <li><dfn id="textcontent"><code>textContent</code></dfn> attribute</li>

     <li><dfn id="event"><code>Event</code></dfn> interface</li>
     <li><dfn id="eventtarget"><code>EventTarget</code></dfn> interface</li>
     <li><dfn id="eventinit"><code>EventInit</code></dfn> dictionary type</li>
     <li><dfn id="dom-event-target" title="dom-Event-target"><code>target</code></dfn> attribute</li>
     <li><dfn id="dom-event-istrusted" title="dom-Event-isTrusted"><code>isTrusted</code></dfn> attribute</li>
     <li>The <dfn id="concept-event-type" title="concept-event-type">type</dfn> of an event</li>
     <li>The concept of an <dfn id="concept-event-listener" title="concept-event-listener">event listener</dfn> and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-event-listener" title="concept-event-listener">event listeners</a> associated with an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#eventtarget">EventTarget</a></code></li>

     <li>The <dfn id="document&#39;s-character-encoding" title="document&#39;s character encoding">encoding</dfn> (herein the <i>character encoding</i>) and <dfn id="concept-document-content-type" title="concept-document-content-type">content type</dfn> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code></li>
     <li>The distinction between <dfn id="xml-documents">XML documents</dfn> and <dfn id="html-documents">HTML documents</dfn></li>
     <li>The terms <dfn id="quirks-mode">quirks mode</dfn>, <dfn id="limited-quirks-mode">limited-quirks mode</dfn>, and <dfn id="no-quirks-mode">no-quirks mode</dfn></li>
     <li>The algorithm to <dfn id="concept-node-clone" title="concept-node-clone">clone</dfn> a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#node">Node</a></code>, and the concept of <dfn id="concept-node-clone-ext" title="concept-node-clone-ext">cloning steps</dfn> used by that algorithm</li>
     <li>The concept of <dfn id="base-url-change-steps">base URL change steps</dfn> and the definition of what happens when an element is <dfn id="affected-by-a-base-url-change">affected by a base URL change</dfn></li>
     <li>The concept of an element's <dfn id="concept-id" title="concept-id">unique identifier (ID)</dfn></li>

     <li>The concept of a DOM <dfn id="concept-range" title="concept-range">range</dfn>.</li>

     <li><dfn id="mutationobserver"><code>MutationObserver</code></dfn> interface</li>
     <li>The <dfn id="mutationobserver-scripting-environment"><code>MutationObserver</code> <var title="">scripting environment</var></dfn> concept</li>
     <li>The <dfn id="concept-mo-invoke" title="concept-mo-invoke">invoke <code>MutationObserver</code> objects</dfn> algorithm</li>

    </ul><p>The term <dfn id="throw">throw</dfn> in this specification is used as
    defined in the DOM Core specification. The following
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domexception">DOMException</a></code> types are defined in the DOM Core
    specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a></p>

    <ol class="brief"><li value="1"><dfn id="indexsizeerror"><code>IndexSizeError</code></dfn></li>
     <li value="3"><dfn id="hierarchyrequesterror"><code>HierarchyRequestError</code></dfn></li>
     <li value="4"><dfn id="wrongdocumenterror"><code>WrongDocumentError</code></dfn></li>
     <li value="5"><dfn id="invalidcharactererror"><code>InvalidCharacterError</code></dfn></li>
     <li value="7"><dfn id="nomodificationallowederror"><code>NoModificationAllowedError</code></dfn></li>
     <li value="8"><dfn id="notfounderror"><code>NotFoundError</code></dfn></li>
     <li value="9"><dfn id="notsupportederror"><code>NotSupportedError</code></dfn></li>
     <li value="11"><dfn id="invalidstateerror"><code>InvalidStateError</code></dfn></li>
     <li value="12"><dfn id="syntaxerror"><code>SyntaxError</code></dfn></li>
     <li value="13"><dfn id="invalidmodificationerror"><code>InvalidModificationError</code></dfn></li>
     <li value="14"><dfn id="namespaceerror"><code>NamespaceError</code></dfn></li>
     <li value="15"><dfn id="invalidaccesserror"><code>InvalidAccessError</code></dfn></li>
     <li value="17"><dfn id="typemismatcherror"><code>TypeMismatchError</code></dfn></li>
     <li value="18"><dfn id="securityerror"><code>SecurityError</code></dfn></li>
     <li value="19"><dfn id="networkerror"><code>NetworkError</code></dfn></li>
     <li value="20"><dfn id="aborterror"><code>AbortError</code></dfn></li>
     <li value="21"><dfn id="urlmismatcherror"><code>URLMismatchError</code></dfn></li>
     <li value="22"><dfn id="quotaexceedederror"><code>QuotaExceededError</code></dfn></li>
     <li value="23"><dfn id="timeouterror"><code>TimeoutError</code></dfn></li>
     <li value="24"><dfn id="invalidnodetypeerror"><code>InvalidNodeTypeError</code></dfn></li>
     <li value="25"><dfn id="datacloneerror"><code>DataCloneError</code></dfn></li>
    </ol><p class="example">For example, to <i>throw a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeouterror">TimeoutError</a></code> exception</i>, a user agent would
    construct a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domexception">DOMException</a></code> object whose type was the
    string "<code title="">TimeoutError</code>" (and whose code was
    the number 23, for legacy reasons) and actually throw that object
    as an exception.</p>

    <p>The following features are defined in the DOM Events
    specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMEVENTS">[DOMEVENTS]</a></p>

    <ul class="brief"><li><dfn id="mouseevent"><code>MouseEvent</code></dfn> interface</li>
     <li><dfn id="mouseeventinit"><code>MouseEventInit</code></dfn> dictionary type</li>

     <li>The <dfn id="uievent"><code>UIEvent</code></dfn> interface's <dfn id="dom-uievent-detail" title="dom-UIEvent-detail"><code>detail</code></dfn> attribute</li>

     <li><dfn id="event-click" title="event-click"><code>click</code></dfn> event</li>

    </ul><p>This specification sometimes uses the term <dfn title="">name</dfn> to refer to the event's <code title="dom-event-type">type</code>; as in, "an event named <code title="">click</code>" or "if the event name is <code title="">keypress</code>". The terms "name" and "type" for events
    are synonymous.</p>

    <p>In addition, user agents must implement the features defined in
    the DOM Parsing and Serialization specification, HTML
    Editing APIs, and UndoManager and DOM Transaction specifications
    that apply to their conformance class.
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMPARSING">[DOMPARSING]</a>
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsEDITING">[EDITING]</a>
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUNDO">[UNDO]</a>
    </p>

    <p>The following features are defined in the DOM Parsing and
    Serialization specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMPARSING">[DOMPARSING]</a></p>

    <ul class="brief"><li><dfn id="dom-innerhtml" title="dom-innerHTML">innerHTML</dfn></li>
     <li><dfn id="dom-outerhtml" title="dom-outerHTML">outerHTML</dfn></li>
    </ul></dd>

   <dt>File API</dt>

   <dd>

    <p>This specification uses the following interfaces defined in the
    File API specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsFILEAPI">[FILEAPI]</a></p>

    <ul class="brief"><li><dfn id="blob"><code>Blob</code></dfn></li>
     <li><dfn id="file"><code>File</code></dfn></li>
     <li><dfn id="filelist"><code>FileList</code></dfn></li>

    </ul><p>It also uses the following interface defined in the File System
    API specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsFILESYSTEMAPI">[FILESYSTEMAPI]</a></p>

    <ul class="brief"><li><dfn id="filecallback"><code>FileCallback</code></dfn></li>

    </ul></dd>

   <dt>Web IDL</dt>

   <dd>

    <p>The IDL fragments in this specification must be interpreted as
    required for conforming IDL fragments, as described in the Web IDL
    specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBIDL">[WEBIDL]</a></p>

    <p>The terms <dfn id="relevant-namespace-object">relevant namespace object</dfn>, <dfn id="supported-property-indices">supported
    property indices</dfn>, <dfn id="determine-the-value-of-an-indexed-property">determine the value of an indexed
    property</dfn>, <dfn id="support-named-properties">support named properties</dfn>,
    <dfn id="supported-property-names">supported property names</dfn>, <dfn id="determine-the-value-of-a-named-property">determine the value of a
    named property</dfn>, <dfn id="platform-array-objects">platform array objects</dfn>, and <dfn id="dfn-read-only-array" title="dfn-read-only-array">read only</dfn> (when applied to
    arrays) are used as defined in the Web IDL specification. The
    algorithm to <dfn id="convert-a-domstring-to-a-sequence-of-unicode-characters">convert a DOMString to a sequence of Unicode
    characters</dfn> is similarly that defined in the Web IDL
    specification.</p>

    <p id="float-nan">Except where otherwise specified, if an IDL
    attribute that is a floating point number type (<code title="">double</code>) is assigned an Infinity or Not-a-Number
    (NaN) value, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception must be
    thrown.</p>

    <p>Except where otherwise specified, if a method with an argument
    that is a floating point number type (<code title="">double</code>)
    is passed an Infinity or Not-a-Number (NaN) value, a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception must be thrown.</p>

    <p>When this specification requires a user agent to <dfn id="create-a-date-object">create a
    <code>Date</code> object</dfn> representing a particular time, the
    milliseconds component of that time, if any, must be truncated to
    an integer and the time value of the newly created
    <code>Date</code> object must represent the time after that
    truncation.</p>

    <p class="example">For instance, given the time 23045 millionths
    of a second after 01:00 UTC on January 1st 2000, i.e. the time
    2000-01-01T00:00:00.023045Z, then the <code>Date</code> object
    created representing that time would represent the same time as
    that created representing the time 2000-01-01T00:00:00.023Z, 45
    millionths earlier.</p>

   </dd>

   <dt>Typed Arrays</dt>

   <dd>

    <p>The <dfn id="arraybuffer">ArrayBuffer</dfn> interface and underlying concepts
    from the Typed Array Specification are used for several features
    in this specification. The <dfn id="uint8clampedarray">Uint8ClampedArray</dfn> interface
    type is specifically used in the definition of the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's 2D API. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsTYPEDARRAY">[TYPEDARRAY]</a></p>

   </dd>

   <dt>JavaScript</dt>

   <dd>

    <p>Some parts of the language described by this specification only
    support JavaScript as the underlying scripting language. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsECMA262">[ECMA262]</a></p>

    <p class="note">The term "JavaScript" is used to refer to ECMA262,
    rather than the official term ECMAScript, since the term
    JavaScript is more widely known. Similarly, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME
    type</a> used to refer to JavaScript in this specification is
    <code title="">text/javascript</code>, since that is the most
    commonly used type, <a href="http://www.whatwg.org/specs/web-apps/current-work/#willful-violation" title="willful violation">despite it
    being an officially obsoleted type</a> according to RFC
    4329. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC4329">[RFC4329]</a></p>

   </dd>

<!--TOPIC:HTML-->

   <dt>Media Queries</dt>

   <dd>

    <p>Implementations must support the Media Queries language. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMQ">[MQ]</a></p>

   </dd>

<!--TOPIC:Video Text Tracks-->

   <dt>WebVTT</dt>

   <dd>

    <p>Implementations may support <dfn id="webvtt">WebVTT</dfn> as a text track
    format for subtitles, captions, chapter titles, metadata, etc, for
    media resources. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p>

    <p>The following terms, used in this specification, are defined in
    the WebVTT specification:</p>

    <ul class="brief"><li><dfn id="webvtt-file">WebVTT file</dfn>
     </li><li><dfn id="webvtt-file-using-cue-text">WebVTT file using cue text</dfn>
     </li><li><dfn id="webvtt-file-using-chapter-title-text">WebVTT file using chapter title text</dfn>
     </li><li><dfn id="webvtt-file-using-only-nested-cues">WebVTT file using only nested cues</dfn>
     </li><li><dfn id="webvtt-parser">WebVTT parser</dfn>
     </li><li><dfn id="webvtt-cue-settings">WebVTT cue settings</dfn> and how to <dfn id="parse-the-webvtt-settings">parse the WebVTT settings</dfn>
     </li><li>The <dfn id="rules-for-updating-the-display-of-webvtt-text-tracks">rules for updating the display of WebVTT text tracks</dfn>
     </li><li>The <dfn id="webvtt-cue-text-dom-construction-rules">WebVTT cue text DOM construction rules</dfn>
     </li><li>The <dfn id="webvtt-cue-text-rendering-rules">WebVTT cue text rendering rules</dfn>
     </li><li>The <dfn id="webvtt-cue-text-parsing-rules">WebVTT cue text parsing rules</dfn>
    </li></ul></dd>

<!--TOPIC:HTML-->

   <dt>URIs, IRIs, IDNA</dt>

   <dd>

    <p>Implementations must support the semantics of <a href="http://www.whatwg.org/specs/web-apps/current-work/#url" title="URL">URLs</a> defined in the URI and IRI specifications,
    as well as the semantics of IDNA domain names defined in the
    <cite>Internationalizing Domain Names in Applications
    (IDNA)</cite> specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a>
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3987">[RFC3987]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3490">[RFC3490]</a>

   </p></dd>

   <dt>Cookies</dt>

   <dd>

    <p>The following terms are defined in the Cookie specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCOOKIES">[COOKIES]</a></p>

    <ul class="brief"><li><dfn id="cookie-string">cookie-string</dfn>
     </li><li><dfn id="receives-a-set-cookie-string">receives a set-cookie-string</dfn>
    </li></ul></dd>

   <dt>CORS</dt>

   <dd>

    <p>The following terms are defined in the CORS specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCORS">[CORS]</a></p>

    <ul class="brief"><li><dfn id="cross-origin-request">cross-origin request</dfn>
     </li><li><dfn id="cross-origin-request-status">cross-origin request status</dfn>
     </li><li><dfn id="custom-request-headers">custom request headers</dfn>
     </li><li><dfn id="simple-cross-origin-request">simple cross-origin request</dfn>
     </li><li><dfn id="redirect-steps">redirect steps</dfn>
     </li><li><dfn id="credential-flag">credential flag</dfn>
     </li><li><dfn id="resource-sharing-check">resource sharing check</dfn>
    </li></ul></dd>

   <dt>CSS modules</dt>

   <dd>

    <p>While support for CSS as a whole is not required of
    implementations of this specification (though it is encouraged, at
    least for Web browsers), some features are defined in terms of
    specific CSS requirements.</p>

    <p>In particular, some features require that a string be
    <dfn id="parsed-as-a-css-color-value">parsed as a CSS &lt;color&gt; value</dfn>. When parsing a CSS
    value, user agents are required by the CSS specifications to apply
    some error handling rules. These apply to this specification also.
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSCOLOR">[CSSCOLOR]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>

    <p class="example">For example, user agents are required to close
    all open constructs upon finding the end of a style sheet
    unexpectedly. Thus, when parsing the string "<code title="">rgb(0,0,0</code>" (with a missing close-parenthesis) for
    a color value, the close parenthesis is implied by this error
    handling rule, and a value is obtained (the color 'black').
    However, the similar construct "<code title="">rgb(0,0,</code>"
    (with both a missing parenthesis and a missing "blue" value)
    cannot be parsed, as closing the open construct does not result
    in a viable value.</p>

    <p>The term <dfn id="css-element-reference-identifier">CSS element reference identifier</dfn> is used as
    defined in the <cite>CSS Image Values and Replaced Content</cite>
    specification to define the API that declares identifiers for use
    with the CSS 'element()' function. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSIMAGES">[CSSIMAGES]</a></p>

    <p>Similarly, the term <dfn id="provides-a-paint-source">provides a paint source</dfn> is used
    as defined in the <cite>CSS Image Values and Replaced
    Content</cite> specification to define the interaction of certain
    HTML elements with the CSS 'element()' function. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSIMAGES">[CSSIMAGES]</a></p>

    <p>Support for the CSS Object Model is required for
    implementations that support scripting. The following features and
    terms are defined in the CSSOM specifications: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOMVIEW">[CSSOMVIEW]</a>

    </p><ul class="brief"><li><dfn id="linkstyle"><code>LinkStyle</code></dfn></li>
     <li><dfn id="cssstyledeclaration"><code>CSSStyleDeclaration</code></dfn></li>
     <li><dfn id="stylesheet"><code>StyleSheet</code></dfn></li>
     <li><dfn id="dom-linkstyle-sheet" title="dom-linkstyle-sheet"><code>sheet</code></dfn></li>
     <li><dfn id="dom-stylesheet-disabled" title="dom-stylesheet-disabled"><code>disabled</code></dfn></li>
     <li><dfn id="alternative-style-sheet-sets">Alternative style sheet sets</dfn> and the <dfn id="preferred-style-sheet-set">preferred style sheet set</dfn></li>
     <li><dfn id="serializing-a-css-value">Serializing a CSS value</dfn></li>
     <li><dfn id="scroll-an-element-into-view">Scroll an element into view</dfn></li>
    </ul><p>Parts of the Fullscreen specification, in particular the
    <dfn id="top-layer">top layer</dfn> concept, are used to define the rendering of
    the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dialog-element">dialog</a></code> element. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsFULLSCREEN">[FULLSCREEN]</a>

   </p></dd>


<!--TOPIC:WebSocket API-->

   <dt>The WebSocket protocol</dt>

   <dd>

    <div data-component="WebSocket API (editor: Ian Hickson)"><!--websocket-api-->

    <p>The following terms are defined in the WebSocket protocol
    specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWSP">[WSP]</a></p>

    <ul class="brief"><li><dfn id="establish-a-websocket-connection">establish a WebSocket connection</dfn>
     </li><li><dfn id="the-websocket-connection-is-established">the WebSocket connection is established</dfn>
     </li><li><dfn id="validate-the-server&#39;s-response">validate the server's response</dfn>
     </li><li><dfn id="extensions-in-use">extensions in use</dfn>
     </li><li><dfn id="subprotocol-in-use">subprotocol in use</dfn>
     </li><li><dfn id="headers-to-send-appropriate-cookies">headers to send appropriate cookies</dfn>
     </li><li><dfn id="cookies-set-during-the-server&#39;s-opening-handshake">cookies set during the server's opening handshake</dfn>
     </li><li><dfn id="a-websocket-message-has-been-received">a WebSocket message has been received</dfn>
     </li><li><dfn id="fail-the-websocket-connection">fail the WebSocket connection</dfn>
     </li><li><dfn id="close-the-websocket-connection">close the WebSocket connection</dfn>
     </li><li><dfn id="start-the-websocket-closing-handshake">start the WebSocket closing handshake</dfn>
     </li><li><dfn id="the-websocket-closing-handshake-is-started">the WebSocket closing handshake is started</dfn>
     </li><li><dfn id="the-websocket-connection-is-closed">the WebSocket connection is closed</dfn> (possibly <i title="">cleanly</i>)
     </li><li><dfn id="the-websocket-connection-close-code">the WebSocket connection close code</dfn>
     </li><li><dfn id="the-websocket-connection-close-reason">the WebSocket connection close reason</dfn>

    </li></ul></div><!--data-component-->

   </dd>


<!--TOPIC:Canvas-->

   <dt>SVG</dt>

   <dd>

    <p>The following interface is defined in the SVG specification: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSVG">[SVG]</a></p>

    <ul class="brief"><li><dfn id="svgmatrix"><code>SVGMatrix</code></dfn>
    </li></ul></dd>

<!--TOPIC:HTML-->

  </dl><p>This specification does not <em>require</em> support of any
  particular network protocol, style sheet language, scripting
  language, or any of the DOM specifications beyond those described
  above. However, the language described by this specification is
  biased towards CSS as the styling language, JavaScript as the
  scripting language, and HTTP as the network protocol, and several
  features assume that those languages and protocols are in use.</p>

  <p class="note">This specification might have certain additional
  requirements on character encodings, image formats, audio formats,
  and video formats in the respective sections.</p>

  </div>



  <h4 id="extensibility"><span class="secno">2.2.3 </span>Extensibility</h4>

  <p>HTML has a wide number of extensibility mechanisms that can be
  used for adding semantics in a safe manner:</p>

  <ul><li>Authors can use the <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code>
   attribute to extend elements, effectively creating their own
   elements, while using the most applicable existing "real" HTML
   element, so that browsers and other tools that don't know of the
   extension can still support it somewhat well. This is the tack used
   by microformats, for example.</li>

   <li>Authors can include data for inline client-side scripts or
   server-side site-wide scripts to process using the <code title="attr-data-*"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-*">data-*=""</a></code> attributes. These are
   guaranteed to never be touched by browsers, and allow scripts to
   include data on HTML elements that scripts can then look for and
   process.</li>

   <li>Authors can use the <code title="meta"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">&lt;meta name=""
   content=""&gt;</a></code> mechanism to include page-wide metadata by
   registering <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-meta-extensions" title="concept-meta-extensions">extensions to the
   predefined set of metadata names</a>.</li>

   <li>Authors can use the <code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel=""</a></code> mechanism to annotate
   links with specific meanings by registering <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-rel-extensions" title="concept-rel-extensions">extensions to the predefined set of
   link types</a>. This is also used by microformats.</li>

   <li>Authors can embed raw data using the <code title="script"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">&lt;script type=""&gt;</a></code> mechanism with a custom
   type, for further handling by inline or server-side scripts.</li>

   <li>Authors can create <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin" title="plugin">plugins</a> and
   invoke them using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element. This is how Flash
   works.</li>

   <li>Authors can extend APIs using the JavaScript prototyping
   mechanism. This is widely used by script libraries, for
   instance.</li>

<!--MD-->
   <li>Authors can use the microdata feature (the <code title="attr-itemscope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-itemscope">itemscope=""</a></code> and <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop=""</a></code> attributes) to embed
   nested name-value pairs of data to be shared with other
   applications and sites.</li>
<!--MD-->

  </ul><div class="impl">

  <hr><p>Vendor-specific proprietary user agent extensions to this
  specification are strongly discouraged. Documents must not use such
  extensions, as doing so reduces interoperability and fragments the
  user base, allowing only users of specific user agents to access the
  content in question.</p>

  <p>If such extensions are nonetheless needed, e.g. for experimental
  purposes, then vendors are strongly urged to use one of the
  following extension mechanisms:</p>

  <p>For markup-level features that can be limited to the XML
  serialization and need not be supported in the HTML serialization,
  vendors should use the namespace mechanism to define custom
  namespaces in which the non-standard elements and attributes are
  supported.</p>

  <p>For markup-level features that are intended for use with
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">the HTML syntax</a>, extensions should be limited to new
  attributes of the form "<code title="">x-<var title="">vendor</var>-<var title="">feature</var></code>", where
  <var title="">vendor</var> is a short string that identifies the
  vendor responsible for the extension, and <var title="">feature</var> is the name of the feature. New element names
  should not be created. Using attributes for such extensions
  exclusively allows extensions from multiple vendors to co-exist on
  the same element, which would not be possible with elements. Using
  the "<code title="">x-<var title="">vendor</var>-<var title="">feature</var></code>" form allows extensions to be made
  without risk of conflicting with future additions to the
  specification.</p>

  <div class="example">

   <p>For instance, a browser named "FerretBrowser" could use "ferret"
   as a vendor prefix, while a browser named "Mellblom Browser" could
   use "mb". If both of these browsers invented extensions that turned
   elements into scratch-and-sniff areas, an author experimenting with
   these features could write:</p>

   <pre>&lt;p&gt;This smells of lemons!
&lt;span x-ferret-smellovision x-ferret-smellcode="LEM01"
      x-mb-outputsmell x-mb-smell="lemon juice"&gt;&lt;/span&gt;&lt;/p&gt;</pre>

  </div>

  <p>Attribute names beginning with the two characters "<code title="">x-</code>" are reserved for user agent use and are
  guaranteed to never be formally added to the HTML language. For
  flexibility, attributes names containing underscores (the U+005F LOW
  LINE character) are also reserved for experimental purposes and are
  guaranteed to never be formally added to the HTML language.</p>

  <p class="note">Pages that use such attributes are by definition
  non-conforming.</p>

  <p>For DOM extensions, e.g. new methods and IDL attributes, the new
  members should be prefixed by vendor-specific strings to prevent
  clashes with future versions of this specification.</p>

  <p>For events, experimental event types should be prefixed with
  vendor-specific strings.</p>

  <div class="example">

   <p>For example, if a user agent called "Pleas<!--e h-->old" were to
   add an event to indicate when the user is going up in an elevator,
   it could use the prefix "<code title="">pleasold</code>" and thus
   name the event "<code title="">pleasoldgoingup</code>", possibly
   with an event handler attribute named "<code title="">onpleasoldgoingup</code>".</p>

  </div>

  <p>All extensions must be defined so that the use of extensions
  neither contradicts nor causes the non-conformance of functionality
  defined in the specification.</p> <!-- thanks to QA Framework -->

  <div class="example">

   <p>For example, while strongly discouraged from doing so, an
   implementation "Foo Browser" could add a new IDL attribute "<code title="">fooTypeTime</code>" to a control's DOM interface that
   returned the time it took the user to select the current value of a
   control (say). On the other hand, defining a new control that
   appears in a form's <code title="dom-form-elements"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-form-elements">elements</a></code>
   array would be in violation of the above requirement, as it would
   violate the definition of <code title="dom-form-elements"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-form-elements">elements</a></code> given in this
   specification.</p>

  </div>

  <p>When adding new <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect" title="reflect">reflecting</a> IDL
  attributes corresponding to content attributes of the form "<code title="">x-<var title="">vendor</var>-<var title="">feature</var></code>", the IDL attribute should be named
  "<code title=""><var title="">vendor</var><var title="">Feature</var></code>" (i.e. the "<code title="">x</code>"
  is dropped from the IDL attribute's name).</p>

  <hr><p>When vendor-neutral extensions to this specification are needed,
  either this specification can be updated accordingly, or an
  extension specification can be written that overrides the
  requirements in this specification. When someone applying this
  specification to their activities decides that they will recognize
  the requirements of such an extension specification, it becomes an
<!--CONFORMANCE--><!--FORK-->
  <dfn id="other-applicable-specifications" title="other applicable specifications">applicable
  specification</dfn> for the purposes of conformance requirements in
  this specification.</p>

  <p class="note">Someone could write a specification that defines any
  arbitrary byte stream as conforming, and then claim that their
  random junk is conforming. However, that does not mean that their
  random junk actually is conforming for everyone's purposes: if
  someone else decides that that specification does not apply to their
  work, then they can quite legitimately say that the aforementioned
  random junk is just that, junk, and not conforming at all. As far as
  conformance goes, what matters in a particular community is what
  that community <em>agrees</em> is applicable.</p>

  <hr><p>User agents must treat elements and attributes that they do not
  understand as semantically neutral; leaving them in the DOM (for DOM
  processors), and styling them according to CSS (for CSS processors),
  but not inferring any meaning from them.</p>

<!--ADD-TOPIC:Security-->
  <p>When support for a feature is disabled (e.g. as an emergency
  measure to mitigate a security problem, or to aid in development, or
  for performance reasons), user agents must act as if they had no
  support for the feature whatsoever, and as if the feature was not
  mentioned in this specification. For example, if a particular
  feature is accessed via an attribute in a Web IDL interface, the
  attribute itself would be omitted from the objects that implement
  that interface — leaving the attribute on the object but
  making it return null or throw an exception is insufficient.</p>
<!--REMOVE-TOPIC:Security-->

  </div>



  <h3 id="case-sensitivity-and-string-comparison"><span class="secno">2.3 </span>Case-sensitivity and string comparison</h3>

  <p>Comparing two strings in a <dfn id="case-sensitive">case-sensitive</dfn> manner means
  comparing them exactly, code point for code point.</p>

  <p>Comparing two strings in an <dfn id="ascii-case-insensitive">ASCII case-insensitive</dfn>
  manner means comparing them exactly, code point for code point, except
  that the characters in the range U+0041 to U+005A (i.e. LATIN
  CAPITAL LETTER A to LATIN CAPITAL LETTER Z) and the corresponding
  characters in the range U+0061 to U+007A (i.e. LATIN SMALL LETTER A
  to LATIN SMALL LETTER Z) are considered to also match.</p>

  <p>Comparing two strings in a <dfn id="compatibility-caseless">compatibility caseless</dfn>
  manner means using the Unicode <i>compatibility caseless match</i>
  operation to compare the two strings. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUNICODE">[UNICODE]</a></p>

  <p>Except where otherwise stated, string comparisons must be
  performed in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a> manner.</p>


  <div class="impl">

  <p><dfn id="converted-to-ascii-uppercase" title="converted to ASCII uppercase">Converting a string to
  ASCII uppercase</dfn> means replacing all characters in the range
  U+0061 to U+007A (i.e. LATIN SMALL LETTER A to LATIN SMALL LETTER Z)
  with the corresponding characters in the range U+0041 to U+005A
  (i.e. LATIN CAPITAL LETTER A to LATIN CAPITAL LETTER Z).</p>

  <p><dfn id="converted-to-ascii-lowercase" title="converted to ASCII lowercase">Converting a string to
  ASCII lowercase</dfn> means replacing all characters in the range
  U+0041 to U+005A (i.e. LATIN CAPITAL LETTER A to LATIN CAPITAL
  LETTER Z) with the corresponding characters in the range U+0061
  to U+007A (i.e. LATIN SMALL LETTER A to LATIN SMALL LETTER Z).</p>

  </div>


  <p>A string <var title="">pattern</var> is a <dfn id="prefix-match">prefix match</dfn>
  for a string <var title="">s</var> when <var title="">pattern</var>
  is not longer than <var title="">s</var> and truncating <var title="">s</var> to <var title="">pattern</var>'s length leaves the
  two strings as matches of each other.</p>


  <div class="impl">

  <h3 id="utf-8"><span class="secno">2.4 </span>UTF-8</h3>

  <p>When a user agent is required to <dfn id="decoded-as-utf-8,-with-error-handling" title="decoded as UTF-8,
  with error handling">decode a byte string as UTF-8, with error
  handling</dfn>, it means that the byte stream must be converted to a
  Unicode string by interpreting it as UTF-8, except that any errors
  must be handled as described in the following list. Bytes in the
  following list are represented in hexadecimal. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3629">[RFC3629]</a>

  </p><dl class="switch"><dt>One byte in the range FE to FF</dt>


   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#overlong-form" title="overlong form">Overlong forms</a> (e.g. F0 80 80 A0)</dt>

   <dt>One byte in the range C0 to C1, followed by one byte in the range 80 to BF</dt> <!-- overlong ASCII (redundant with the previous line, really, but worth calling out separately as it's especially dangerous to miss this case) -->


   <dt>One byte in the range F0 to F4, followed by three bytes in the range 80 to BF that represent a code point above U+10FFFF</dt>

   <dt>One byte in the range F5 to F7, followed by three bytes in the range 80 to BF</dt> <!-- above U+10FFFF -->

   <dt>One byte in the range F8 to FB, followed by four bytes in the range 80 to BF</dt> <!-- above U+10FFFF -->

   <dt>One byte in the range FC to FD, followed by five bytes in the range 80 to BF</dt> <!-- above U+10FFFF -->


   <dt>One byte in the range C0 to FD that is not followed by a byte in the range 80 to BF</dt> <!-- too short -->

   <dt>One byte in the range E0 to FD, followed by a byte in the range 80 to BF that is not followed by a byte in the range 80 to BF</dt> <!-- too short -->

   <dt>One byte in the range F0 to FD, followed by two bytes in the range 80 to BF, the last of which is not followed by a byte in the range 80 to BF</dt> <!-- too short -->

   <dt>One byte in the range F8 to FD, followed by three bytes in the range 80 to BF, the last of which is not followed by a byte in the range 80 to BF</dt> <!-- too short -->

   <dt>One byte in the range FC to FD, followed by four bytes in the range 80 to BF, the last of which is not followed by a byte in the range 80 to BF</dt> <!-- too short -->


   <dt>Any byte sequence that represents a code point in the range U+D800 to U+DFFF</dt> <!-- surrogate halves -->


   <dd>The whole matched sequence must be replaced by a single U+FFFD
   REPLACEMENT CHARACTER.</dd>


   <dt>One byte in the range 80 to BF not preceded by a byte in the range 80 to FD</dt>

   <dt>One byte in the range 80 to BF preceded by a byte that is part of a complete UTF-8 sequence that does not include this byte</dt>

   <dt>One byte in the range 80 to BF preceded by a byte that is part of a sequence that has been replaced by a U+FFFD REPLACEMENT CHARACTER, either alone or as part of a sequence</dt>

   <dd>Each such byte must be replaced with a U+FFFD REPLACEMENT CHARACTER.</dd>


  </dl><p>For the purposes of the above requirements, an <dfn id="overlong-form">overlong
  form</dfn> in UTF-8 is a sequence that encodes a code point using
  more bytes than the minimum needed to encode that code point in
  UTF-8.</p>

  <p class="example">For example, the byte string "41 98 BA 42 E2 98
  43 E2 98 BA E2 98" would be converted to the string
  "A��B�C☺�".</p>

  </div>


  <h3 id="common-microsyntaxes"><span class="secno">2.5 </span>Common microsyntaxes</h3>

  <p>There are various places in HTML that accept particular data
  types, such as dates or numbers. This section describes what the
  conformance criteria for content in those formats is, and how to
  parse them.</p>

  <div class="impl">

  <p class="note">Implementors are strongly urged to carefully examine
  any third-party libraries they might consider using to implement the
  parsing of syntaxes described below. For example, date libraries are
  likely to implement error handling behavior that differs from what
  is required in this specification, since error-handling behavior is
  often not defined in specifications that describe date syntaxes
  similar to those used in this specification, and thus
  implementations tend to vary greatly in how they handle errors.</p>

  </div>


  <div class="impl">

  <h4 id="common-parser-idioms"><span class="secno">2.5.1 </span>Common parser idioms</h4>

  </div>

  <p>The <dfn id="space-character" title="space character">space characters</dfn>, for the
  purposes of this specification, are U+0020 SPACE, U+0009 CHARACTER
  TABULATION (tab), U+000A LINE FEED (LF), U+000C FORM FEED (FF), and
  U+000D CARRIAGE RETURN (CR).</p>

  <p>The <dfn id="white_space" title="White_Space">White_Space characters</dfn> are
  those that have the Unicode property "White_Space" in the Unicode
  <code title="">PropList.txt</code> data file. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUNICODE">[UNICODE]</a></p>

  <p class="note">This should not be confused with the "White_Space"
  value (abbreviated "WS") of the "Bidi_Class" property in the <code title="">Unicode.txt</code> data file.</p>

  <div class="impl">

  <p>The <dfn id="alphanumeric-ascii-characters">alphanumeric ASCII characters</dfn> are those in the
  ranges U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), U+0041 LATIN
  CAPITAL LETTER A to U+005A LATIN CAPITAL LETTER Z, U+0061 LATIN
  SMALL LETTER A to U+007A LATIN SMALL LETTER Z.</p>

  <p>Some of the micro-parsers described below follow the pattern of
  having an <var title="">input</var> variable that holds the string
  being parsed, and having a <var title="">position</var> variable
  pointing at the next character to parse in <var title="">input</var>.</p>

  <p>For parsers based on this pattern, a step that requires the user
  agent to <dfn id="collect-a-sequence-of-characters">collect a sequence of characters</dfn> means that the
  following algorithm must be run, with <var title="">characters</var>
  being the set of characters that can be collected:</p>

  <ol><li><p>Let <var title="">input</var> and <var title="">position</var> be the same variables as those of the same
   name in the algorithm that invoked these steps.</p></li>

   <li><p>Let <var title="">result</var> be the empty string.</p></li>

   <li><p>While <var title="">position</var> doesn't point past the
   end of <var title="">input</var> and the character at <var title="">position</var> is one of the <var title="">characters</var>, append that character to the end of <var title="">result</var> and advance <var title="">position</var> to
   the next character in <var title="">input</var>.</p></li>

   <li><p>Return <var title="">result</var>.</p></li>

  </ol><p>The step <dfn id="skip-whitespace">skip whitespace</dfn> means that the user agent
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">collect a sequence of characters</a> that are <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>. The step <dfn id="skip-white_space-characters">skip
  White_Space characters</dfn> means that the user agent must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">collect a sequence of characters</a> that are
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#white_space">White_Space</a> characters. In both cases, the collected
  characters are not used. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUNICODE">[UNICODE]</a></p>

  <p>When a user agent is to <dfn id="strip-line-breaks">strip line breaks</dfn> from a
  string, the user agent must remove any U+000A LINE FEED (LF) and
  U+000D CARRIAGE RETURN (CR) characters from that string.</p>

  <p>When a user agent is to <dfn id="strip-leading-and-trailing-whitespace">strip leading and trailing
  whitespace</dfn> from a string, the user agent must remove all <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a> that are at the
  start or end of the string.</p>

  <p>When a user agent has to <dfn id="strictly-split-a-string">strictly split a string</dfn> on a
  particular delimiter character <var title="">delimiter</var>, it
  must use the following algorithm:</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p>Let <var title="">tokens</var> be a list of tokens,
   initially empty.</p></li>

   <li><p>While <var title="">position</var> is not past the end of
   <var title="">input</var>:</p>

    <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not
     the <var title="">delimiter</var> character.</p></li>

     <li><p>Add the string collected in the previous step to <var title="">tokens</var>.</p></li>

     <li><p>Advance <var title="">position</var> to the next character
     in <var title="">input</var>.</p></li> <!-- skips past the delimiter -->

    </ol></li>

   <li><p>Return <var title="">tokens</var>.</p></li>

  </ol><p class="note">For the special cases of splitting a string <a href="http://www.whatwg.org/specs/web-apps/current-work/#split-a-string-on-spaces" title="split a string on spaces">on spaces</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#split-a-string-on-commas" title="split a string on commas">on commas</a>, this algorithm
  does not apply (those algorithms also perform <a href="http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace" title="strip
  leading and trailing whitespace">whitespace trimming</a>).</p>

  </div>



  <h4 id="boolean-attributes"><span class="secno">2.5.2 </span>Boolean attributes</h4>

  <p>A number of attributes are <dfn id="boolean-attribute" title="boolean attribute">boolean
  attributes</dfn>. The presence of a boolean attribute on an element
  represents the true value, and the absence of the attribute
  represents the false value.</p>

  <p>If the attribute is present, its value must either be the empty
  string or a value that is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a>
  match for the attribute's canonical name, with no leading or
  trailing whitespace.</p>

  <p class="note">The values "true" and "false" are not allowed on
  boolean attributes. To represent a false value, the attribute has to
  be omitted altogether.</p>

  <div class="example">

   <p>Here is an example of a checkbox that is checked and disabled.
   The <code title="attr-input-checked"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-checked">checked</a></code> and <code title="attr-fe-disabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fe-disabled">disabled</a></code> attributes are the
   boolean attributes.</p>

   <pre>&lt;label&gt;&lt;input type=checkbox checked name=cheese disabled&gt; Cheese&lt;/label&gt;</pre>

   <p>This could be equivalently written as this:

   </p><pre>&lt;label&gt;&lt;input type=checkbox checked=checked name=cheese disabled=disabled&gt; Cheese&lt;/label&gt;</pre>

   <p>You can also mix styles; the following is still equivalent:</p>

   <pre>&lt;label&gt;&lt;input type='checkbox' checked name=cheese disabled=""&gt; Cheese&lt;/label&gt;</pre>

  </div>



  <h4 id="keywords-and-enumerated-attributes"><span class="secno">2.5.3 </span>Keywords and enumerated attributes</h4>

  <p>Some attributes are defined as taking one of a finite set of
  keywords. Such attributes are called <dfn id="enumerated-attribute" title="enumerated
  attribute">enumerated attributes</dfn>. The keywords are each
  defined to map to a particular <em>state</em> (several keywords
  might map to the same state, in which case some of the keywords are
  synonyms of each other; additionally, some of the keywords can be
  said to be non-conforming, and are only in the specification for
  historical reasons). In addition, two default states can be
  given. The first is the <i>invalid value default</i>, the second
  is the <i>missing value default</i>.</p>

  <p>If an enumerated attribute is specified, the attribute's value
  must be an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match for one of the
  given keywords that are not said to be non-conforming, with no
  leading or trailing whitespace.</p>

  <p>When the attribute is specified, if its value is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
  case-insensitive</a> match for one of the given keywords then
  that keyword's state is the state that the attribute represents. If
  the attribute value matches none of the given keywords, but the
  attribute has an <i>invalid value default</i>, then the attribute
  represents that state. Otherwise, if the attribute value matches
  none of the keywords but there is a <i>missing value default</i>
  state defined, then <em>that</em> is the state represented by the
  attribute. Otherwise, there is no default, and invalid values must
  be ignored.</p>

  <p>When the attribute is <em>not</em> specified, if there is a
  <i>missing value default</i> state defined, then that is the state
  represented by the (missing) attribute. Otherwise, the absence of
  the attribute means that there is no state represented.</p>

  <p class="note">The empty string can be a valid keyword.</p>


  <h4 id="numbers"><span class="secno">2.5.4 </span>Numbers</h4>

  <h5 id="signed-integers"><span class="secno">2.5.4.1 </span>Signed integers</h5>

  <p>A string is a <dfn id="valid-integer">valid integer</dfn> if it consists of one or
  more characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT
  NINE (9), optionally prefixed with a U+002D HYPHEN-MINUS character
  (-).</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-integer">valid integer</a> without a U+002D HYPHEN-MINUS (-)
  prefix represents the number that is represented in base ten by that
  string of digits. A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-integer">valid integer</a> <em>with</em> a
  U+002D HYPHEN-MINUS (-) prefix represents the number represented in
  base ten by the string of digits that follows the U+002D
  HYPHEN-MINUS, subtracted from zero.</p>

  <div class="impl">

  <p>The <dfn id="rules-for-parsing-integers">rules for parsing integers</dfn> are as given in the
  following algorithm. When invoked, the steps must be followed in the
  order given, aborting at the first step that returns a value. This
  algorithm will return either an integer or an error.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p>Let <var title="">sign</var> have the value
   "positive".</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

   <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

   <li>

    <p>If the character indicated by <var title="">position</var> (the
    first character) is a U+002D HYPHEN-MINUS character (-):</p>

    <ol><li>Let <var title="">sign</var> be "negative".</li>

     <li>Advance <var title="">position</var> to the next
     character.</li>

     <li>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</li>

    </ol><p>Otherwise, if the character indicated by <var title="">position</var> (the first character) is a U+002B PLUS
    SIGN character (+):</p>

    <ol><li>Advance <var title="">position</var> to the next
     character. (The "<code title="">+</code>" is ignored, but it is
     not conforming.)</li>

     <li>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</li>

    </ol></li>

   <li><p>If the character indicated by <var title="">position</var>
   is not one of U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), then
   return an error.</p></li>

   <!-- Ok. At this point we know we have a number. It might have
   trailing garbage which we'll ignore, but it's a number, and we
   won't return an error. -->

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
   resulting sequence as a base-ten integer. Let <var title="">value</var> be that integer.</p></li>

   <li><p>If <var title="">sign</var> is "positive", return <var title="">value</var>, otherwise return the result of subtracting
   <var title="">value</var> from zero.</p></li>

  </ol></div>


  <h5 id="non-negative-integers"><span class="secno">2.5.4.2 </span>Non-negative integers</h5>

  <p>A string is a <dfn id="valid-non-negative-integer">valid non-negative integer</dfn> if it
  consists of one or more characters in the range U+0030 DIGIT ZERO
  (0) to U+0039 DIGIT NINE (9).</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative integer</a> represents the number
  that is represented in base ten by that string of digits.</p>

  <div class="impl">

  <p>The <dfn id="rules-for-parsing-non-negative-integers">rules for parsing non-negative integers</dfn> are as
  given in the following algorithm. When invoked, the steps must be
  followed in the order given, aborting at the first step that returns
  a value. This algorithm will return either zero, a positive integer,
  or an error.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">value</var> be the result of parsing <var title="">input</var> using the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-integers">rules for parsing
   integers</a>.</p></li>

   <li><p>If <var title="">value</var> is an error, return an
   error.</p></li>

   <li><p>If <var title="">value</var> is less than zero, return an
   error.</p></li>

   <li><p>Return <var title="">value</var>.</p></li>

  </ol><!-- Implications: A leading + is ignored. A leading - is ignored if the value is zero. --></div>


  <h5 id="floating-point-numbers"><span class="secno">2.5.4.3 </span>Floating-point numbers</h5>

  <p>A string is a <dfn id="valid-floating-point-number">valid floating point number</dfn> if it
  consists of:</p>

  <ol class="brief"><li>Optionally, a U+002D HYPHEN-MINUS character (-).</li>

   <li>One or both of the following, in the given order:

    <ol><li>A series of one or more characters in the range U+0030 DIGIT
     ZERO (0) to U+0039 DIGIT NINE (9).</li>

     <li>

      <ol><li>A single U+002E FULL STOP character (.).</li>

       <li>A series of one or more characters in the range U+0030 DIGIT
       ZERO (0) to U+0039 DIGIT NINE (9).</li>

      </ol></li>

    </ol></li>

   <li>Optionally:

    <ol><li>Either a U+0065 LATIN SMALL LETTER E character (e) or a
     U+0045 LATIN CAPITAL LETTER E character (E).</li>

     <li>Optionally, a U+002D HYPHEN-MINUS character (-) or U+002B
     PLUS SIGN character (+).</li>

     <li>A series of one or more characters in the range U+0030 DIGIT
     ZERO (0) to U+0039 DIGIT NINE (9).</li>

    </ol></li>

  </ol><p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-floating-point-number">valid floating point number</a> represents the number
  obtained by multiplying the significand by ten raised to the power
  of the exponent, where the significand is the first number,
  interpreted as base ten (including the decimal point and the number
  after the decimal point, if any, and interpreting the significand as
  a negative number if the whole string starts with a U+002D
  HYPHEN-MINUS character (-) and the number is not zero), and where
  the exponent is the number after the E, if any (interpreted as a
  negative number if there is a U+002D HYPHEN-MINUS character (-)
  between the E and the number and the number is not zero, or else
  ignoring a U+002B PLUS SIGN character (+) between the E and the
  number if there is one). If there is no E, then the exponent is
  treated as zero.</p>

  <p class="note">The Infinity and Not-a-Number (NaN) values are not
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-floating-point-number" title="valid floating point number">valid floating point
  numbers</a>.</p>

  <div class="impl">

  <p>The <dfn id="best-representation-of-the-number-as-a-floating-point-number" title="best representation of the number as a floating
  point number">best representation of the number <var title="">n</var> as a floating point number</dfn> is the string
  obtained from applying the JavaScript operator ToString to <var title="">n</var>. The JavaScript operator ToString is not uniquely
  determined. When there are multiple possible strings that could be
  obtained from the JavaScript operator ToString for a particular
  value, the user agent must always return the same string for that
  value (though it may differ from the value used by other user
  agents).</p>

  <p>The <dfn id="rules-for-parsing-floating-point-number-values">rules for parsing floating point number values</dfn> are
  as given in the following algorithm. This algorithm must be aborted
  at the first step that returns something. This algorithm will return
  either a number or an error.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p>Let <var title="">value</var> have the value 1.</p></li>

   <li><p>Let <var title="">divisor</var> have the value 1.</p></li>

   <li><p>Let <var title="">exponent</var> have the value 1.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

   <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

   <li>

    <p>If the character indicated by <var title="">position</var> is a
    U+002D HYPHEN-MINUS character (-):</p>

    <ol><li>Change <var title="">value</var> and <var title="">divisor</var> to −1.</li>

     <li>Advance <var title="">position</var> to the next
     character.</li>

     <li>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</li>

    </ol><p>Otherwise, if the character indicated by <var title="">position</var> (the first character) is a U+002B PLUS
    SIGN character (+):</p>

    <ol><li>Advance <var title="">position</var> to the next
     character. (The "<code title="">+</code>" is ignored, but it is
     not conforming.)</li>

     <li>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</li>

    </ol></li>

   <li><p>If the character indicated by <var title="">position</var>
   is a U+002E FULL STOP (.), and that is not the last character in
   <var title="">input</var>, and the character after the character
   indicated by <var title="">position</var> is one of U+0030 DIGIT
   ZERO (0) to U+0039 DIGIT NINE (9), then set <var title="">value</var> to zero and jump to the step labeled
   <i>fraction</i>.</p> <!-- we have to check there's a number so that
   ".e1" fails to parse but ".0" does not -->

   </li><li><p>If the character indicated by <var title="">position</var>
   is not one of U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), then
   return an error.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
   resulting sequence as a base-ten integer. Multiply <var title="">value</var> by that integer.</p></li>

   <li>If <var title="">position</var> is past the end of <var title="">input</var>, jump to the step labeled
   <i>conversion</i>.</li>

   <li><p><i>Fraction</i>: If the character indicated by <var title="">position</var> is a U+002E FULL STOP (.), run these
   substeps:</p>

    <ol><li><p>Advance <var title="">position</var> to the next
     character.</p></li>

     <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, or if the character indicated by <var title="">position</var> is not one of U+0030 DIGIT ZERO (0) to
     U+0039 DIGIT NINE (9), U+0065 LATIN SMALL LETTER E (e), or U+0045
     LATIN CAPITAL LETTER E (E), then jump to the step labeled
     <i>conversion</i>.</p></li>

     <li><p>If the character indicated by <var title="">position</var>
     is a U+0065 LATIN SMALL LETTER E character (e) or a U+0045 LATIN
     CAPITAL LETTER E character (E), skip the remainder of these
     substeps.</p>

     </li><li><p><i>Fraction loop</i>: Multiply <var title="">divisor</var>
     by ten.</p></li>

     <li>Add the value of the character indicated by <var title="">position</var>, interpreted as a base-ten digit (0..9)
     and divided by <var title="">divisor</var>, to <var title="">value</var>.</li>

     <li><p>Advance <var title="">position</var> to the next
     character.</p></li>

     <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then jump to the step labeled
     <i>conversion</i>.</p></li>

     <li><p>If the character indicated by <var title="">position</var>
     is one of U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), jump
     back to the step labeled <i>fraction loop</i> in these
     substeps.</p></li>

    </ol></li>

   <li><p>If the character indicated by <var title="">position</var>
   is a U+0065 LATIN SMALL LETTER E character (e) or a U+0045 LATIN
   CAPITAL LETTER E character (E), run these substeps:</p>

    <ol><li><p>Advance <var title="">position</var> to the next
     character.</p></li>

     <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then jump to the step labeled
     <i>conversion</i>.</p></li>

     <li>

      <p>If the character indicated by <var title="">position</var> is
      a U+002D HYPHEN-MINUS character (-):</p>

      <ol><li>Change <var title="">exponent</var> to −1.</li>

       <li>Advance <var title="">position</var> to the next
       character.</li>

       <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then jump to the step labeled
       <i>conversion</i>.</p></li>

      </ol><p>Otherwise, if the character indicated by <var title="">position</var> is a U+002B PLUS SIGN character (+):</p>

      <ol><li>Advance <var title="">position</var> to the next
       character.</li>

       <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then jump to the step labeled
       <i>conversion</i>.</p></li>

      </ol></li>

     <li><p>If the character indicated by <var title="">position</var>
     is not one of U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9),
     then jump to the step labeled <i>conversion</i>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
     resulting sequence as a base-ten integer. Multiply <var title="">exponent</var> by that integer.</p></li>

     <li><p>Multiply <var title="">value</var> by ten raised to the
     <var title="">exponent</var>th power.</p></li>

    </ol></li>

   <li><p><i>Conversion</i>: Let <var title="">S</var> be the set of
   finite IEEE 754 double-precision floating point values except
   −0, but with two special values added: 2<sup title="">1024</sup> and −2<sup title="">1024</sup>.</p></li>

   <li><p>Let <var title="">rounded-value</var> be the number in <var title="">S</var> that is closest to <var title="">value</var>,
   selecting the number with an even significand if there are two
   equally close values. (The two special values 2<sup title="">1024</sup> and −2<sup title="">1024</sup> are
   considered to have even significands for this purpose.)</p></li>

   <li><p>If <var title="">rounded-value</var> is 2<sup title="">1024</sup> or −2<sup title="">1024</sup>, return an
   error.</p></li>

   <li><p>Return <var title="">rounded-value</var>.</p></li>

  </ol></div>


<div class="impl">
  <h5 id="percentages-and-dimensions"><span class="secno">2.5.4.4 </span>Percentages and lengths</h5>
<!--(percentages are not used in valid html anymore)
  <p>A string is a <dfn>valid dimension value</dfn> if it consists of
  a character in the range U+0031 DIGIT ONE (1) to U+0039 DIGIT NINE
  (9), optionally followed by zero of more characters in the range
  U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), optionally followed
  by a U+002E FULL STOP character (.) and one or more characters in
  the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and
  optionally suffixed by a U+0025 PERCENT SIGN character (%).</p>

  <p>A <span>valid dimension value</span> represents the number that
  is represented in base ten by that string of digits, optionally with
  a fractional component. If the U+0025 PERCENT SIGN is present, then
  the dimension is a percentage; otherwise, it is a length.</p>

  <p class="note">For historical reasons, percentanges and lengths
  less than 1.0 cannot be represented as <span title="valid dimension
  value">valid dimension values</span>.</p>
-->
  <p>The <dfn id="rules-for-parsing-dimension-values">rules for parsing dimension values</dfn> are as given in
  the following algorithm. When invoked, the steps must be followed in
  the order given, aborting at the first step that returns a
  value. This algorithm will return either a number greater than or
  equal to 1.0, or an error; if a number is returned, then it is
  further categorized as either a percentage or a length.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

   <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

   <li><p>If the character indicated by <var title="">position</var>
   is a U+002B PLUS SIGN character (+), advance <var title="">position</var> to the next character.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are
   U+0030 DIGIT ZERO (0) characters, and discard them.</p></li>

   <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

   <li><p>If the character indicated by <var title="">position</var>
   is not one of U+0031 DIGIT ONE (1) to U+0039 DIGIT NINE (9), then
   return an error.</p></li>

   <!-- Ok. At this point we know we have a number. It might have
   trailing garbage which we'll ignore, but it's a number, and we
   won't return an error. -->

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
   resulting sequence as a base-ten integer. Let <var title="">value</var> be that number.</p></li>

   <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return <var title="">value</var> as a
   length.</p></li>

   <li>

    <p>If the character indicated by <var title="">position</var> is a
    U+002E FULL STOP character (.):</p>

    <ol><li><p>Advance <var title="">position</var> to the next
     character.</p></li>

     <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, or if the character indicated by <var title="">position</var> is not one of U+0030 DIGIT ZERO (0) to
     U+0039 DIGIT NINE (9), then return <var title="">value</var> as a
     length.</p></li>

     <li><p>Let <var title="">divisor</var> have the value 1.</p></li>

     <li><p><i>Fraction loop</i>: Multiply <var title="">divisor</var>
     by ten.</p></li>

     <li>Add the value of the character indicated by <var title="">position</var>, interpreted as a base-ten digit (0..9)
     and divided by <var title="">divisor</var>, to <var title="">value</var>.</li>

     <li><p>Advance <var title="">position</var> to the next
     character.</p></li>

     <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then return <var title="">value</var> as a
     length.</p></li>

     <li><p>If the character indicated by <var title="">position</var>
     is one of U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), return
     to the step labeled <i>fraction loop</i> in these
     substeps.</p></li>

    </ol></li>

   <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return <var title="">value</var> as a
   length.</p></li>

   <li><p>If the character indicated by <var title="">position</var>
   is a U+0025 PERCENT SIGN character (%), return <var title="">value</var> as a percentage.</p></li>

   <li><p>Return <var title="">value</var> as a length.</p></li>

  </ol></div>


  <h5 id="lists-of-integers"><span class="secno">2.5.4.5 </span>Lists of integers</h5>

  <p>A <dfn id="valid-list-of-integers">valid list of integers</dfn> is a number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-integer" title="valid integer">valid integers</a> separated by U+002C
  COMMA characters, with no other characters (e.g. no <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>). In addition, there
  might be restrictions on the number of integers that can be given,
  or on the range of values allowed.</p>

  <div class="impl">

  <p>The <dfn id="rules-for-parsing-a-list-of-integers">rules for parsing a list of integers</dfn> are as
  follows:</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p>Let <var title="">numbers</var> be an initially empty list
   of integers. This list will be the result of this
   algorithm.</p></li>

   <li><p>If there is a character in the string <var title="">input</var> at position <var title="">position</var>, and
   it is either a U+0020 SPACE, U+002C COMMA, or U+003B SEMICOLON
   character, then advance <var title="">position</var> to the next
   character in <var title="">input</var>, or to beyond the end of the
   string if there are no more characters.</p></li>

   <li><p>If <var title="">position</var> points to beyond the end of
   <var title="">input</var>, return <var title="">numbers</var> and
   abort.</p></li>

   <li><p>If the character in the string <var title="">input</var> at
   position <var title="">position</var> is a U+0020 SPACE, U+002C
   COMMA, or U+003B SEMICOLON character, then return to step 4.</p></li>

   <li><p>Let <var title="">negated</var> be false.</p></li>
   <li><p>Let <var title="">value</var> be 0.</p></li>

   <li><p>Let <var title="">started</var> be false. This variable is
   set to true when the parser sees a number or a U+002D HYPHEN-MINUS
   character (-).</p></li>

   <li><p>Let <var title="">got number</var> be false. This variable
   is set to true when the parser sees a number.</p></li>

   <li><p>Let <var title="">finished</var> be false. This variable is
   set to true to switch parser into a mode where it ignores
   characters until the next separator.</p></li>

   <li><p>Let <var title="">bogus</var> be false.</p></li>

   <li><p><i>Parser</i>: If the character in the string <var title="">input</var> at position <var title="">position</var>
   is:</p>

    <dl class="switch"><dt>A U+002D HYPHEN-MINUS character</dt>

     <dd>

      <p>Follow these substeps:</p>

      <ol><li>If <var title="">got number</var> is true, let <var title="">finished</var> be true.</li>

       <li>If <var title="">finished</var> is true, skip to the next
       step in the overall set of steps.</li>

       <li>If <var title="">started</var> is true, let <var title="">negated</var> be false.</li>

       <li>Otherwise, if <var title="">started</var> is false and if <var title="">bogus</var> is false, let <var title="">negated</var>
       be true.</li>

       <li>Let <var title="">started</var> be true.</li>

      </ol></dd>


     <dt>A character in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT
     NINE (9)</dt>

     <dd>

      <p>Follow these substeps:</p>

      <ol><li>If <var title="">finished</var> is true, skip to the next
       step in the overall set of steps.</li>

       <li>Multiply <var title="">value</var> by ten.</li>

       <li>Add the value of the digit, interpreted in base ten, to
       <var title="">value</var>.</li>

       <li>Let <var title="">started</var> be true.</li>

       <li>Let <var title="">got number</var> be true.</li>

      </ol></dd>


     <dt>A U+0020 SPACE character</dt>
     <dt>A U+002C COMMA character</dt>
     <dt>A U+003B SEMICOLON character</dt>

     <dd>

      <p>Follow these substeps:</p>

      <ol><li>If <var title="">got number</var> is false, return the <var title="">numbers</var> list and abort. This happens if an entry
       in the list has no digits, as in "<code title="">1,2,x,4</code>".</li>

       <li>If <var title="">negated</var> is true, then negate <var title="">value</var>.</li>

       <li>Append <var title="">value</var> to the <var title="">numbers</var> list.</li>

       <li>Jump to step 4 in the overall set of steps.</li>

      </ol></dd>


     <!-- <dt>A U+002E FULL STOP character</dt> -->
     <dt>A character in the range U+0001 to U+001F, <!-- space --> U+0021 to U+002B, <!-- comma --> U+002D to U+002F, <!-- digits --> U+003A, <!-- semicolon --> U+003C to U+0040, <!-- a-z --> U+005B to U+0060, <!-- A-Z --> U+007b to U+007F
        (i.e. any other non-alphabetic ASCII character)</dt>

 <!--
 Test: http://www.hixie.ch/tests/adhoc/html/flow/image-maps/004-demo.html
 IE6 on Wine treats the following characters like this also: U+1-U+1f,
 U+21-U+2b, U+2d-U+2f, U+3a, U+3c-U+40, U+5b-U+60, U+7b-U+82,
 U+84-U+89, U+8b, U+8d, U+8f-U+99, U+9b, U+9d, U+a0-U+bf, U+d7, U+f7,
 U+1f6-U+1f9, U+218-U+24f, U+2a9-U+385, U+387, U+38b, U+38d, U+3a2,
 U+3cf, U+3d7-U+3d9, U+3db, U+3dd, U+3df, U+3e1, U+3f4-U+400, U+40d,
 U+450, U+45d, U+482-U+48f, U+4c5-U+4c6, U+4c9-U+4ca, U+4cd-U+4cf,
 U+4ec-U+4ed, U+4f6-U+4f7, U+4fa-U+530, U+557-U+560, U+588-U+5cf,
 U+5eb-U+5ef, U+5f3-U+620, U+63b-U+640, U+64b-U+670, U+6b8-U+6b9,
 U+6bf, U+6cf, U+6d4, U+6d6-U+904, U+93a-U+957, U+962-U+984,
 U+98d-U+98e, U+991-U+992, U+9a9, U+9b1, U+9b3-U+9b5, U+9ba-U+9db,
 U+9de, U+9e2-U+9ef, U+9f2-U+a04, U+a0b-U+a0e, U+a11-U+a12, U+a29,
 U+a31, U+a34, U+a37, U+a3a-U+a58, U+a5d, U+a5f-U+a84, U+a8c, U+a8e,
 U+a92, U+aa9, U+ab1, U+ab4, U+aba-U+adf, U+ae1-U+b04, U+b0d-U+b0e,
 U+b11-U+b12, U+b29, U+b31, U+b34-U+b35, U+b3a-U+b5b, U+b5e,
 U+b62-U+b84, U+b8b-U+b8d, U+b91, U+b96-U+b98, U+b9b, U+b9d,
 U+ba0-U+ba2, U+ba5-U+ba7, U+bab-U+bad, U+bb6, U+bba-U+c04, U+c0d,
 U+c11, U+c29, U+c34, U+c3a-U+c5f, U+c62-U+c84, U+c8d, U+c91, U+ca9,
 U+cb4, U+cba-U+cdd, U+cdf, U+ce2-U+d04, U+d0d, U+d11, U+d29,
 U+d3a-U+d5f, U+d62-U+e00, U+e2f, U+e31, U+e34-U+e3f, U+e46-U+e80,
 U+e83, U+e85-U+e86, U+e89, U+e8b-U+e8c, U+e8e-U+e93, U+e98, U+ea0,
 U+ea4, U+ea6, U+ea8-U+ea9, U+eac, U+eaf-U+edb, U+ede-U+109f,
 U+10c6-U+10cf, U+10f7-U+10ff, U+115a-U+115e, U+11a3-U+11a7,
 U+11fa-U+1dff, U+1e9b-U+1e9f, U+1efa-U+1eff, U+1f16-U+1f17,
 U+1f1e-U+1f1f, U+1f46-U+1f47, U+1f4e-U+1f4f, U+1f58, U+1f5a, U+1f5c,
 U+1f5e, U+1f7e-U+1f7f, U+1fb5, U+1fbd-U+1fc1, U+1fc5, U+1fcd-U+1fcf,
 U+1fd4-U+1fd5, U+1fdc-U+1fdf, U+1fed-U+1ff1, U+1ff5, U+1ffd-U+249b,
 U+24ea-U+3004, U+3006-U+3040, U+3095-U+309a, U+309f-U+30a0, U+30fb,
 U+30ff-U+3104, U+312d-U+3130, U+318f-U+4dff, U+9fa6-U+abff,
 U+d7a4-U+d7ff, U+e000-U+f8ff, U+fa2e-U+faff, U+fb07-U+fb12,
 U+fb18-U+fb1e, U+fb37, U+fb3d, U+fb3f, U+fb42, U+fb45, U+fbb2-U+fbd2,
 U+fbe9, U+fce1, U+fd3e-U+fd4f, U+fd90-U+fd91, U+fdc8-U+fdef,
 U+fdfc-U+fe7f, U+fefd-U+ff20, U+ff3b-U+ff40, U+ff5b-U+ff65, U+ffa0,
 U+ffbf-U+ffc1, U+ffc8-U+ffc9, U+ffd0-U+ffd1, U+ffd8-U+ffd9,
 U+ffdd-U+ffff
 IE7 on Win2003 treats the following characters like this also
 instead: U+1-U+1f, U+21-U+2b, U+2d-U+2f, U+3a, U+3c-U+40, U+5b-U+60,
 U+7b-U+82, U+84-U+89, U+8b, U+8d, U+8f-U+99, U+9b, U+9d, U+a0-U+a9,
 U+ab-U+b4, U+b6-U+b9, U+bb-U+bf, U+d7, U+f7, U+220-U+221,
 U+234-U+24f, U+2ae-U+2af, U+2b9-U+2ba, U+2c2-U+2df, U+2e5-U+2ed,
 U+2ef-U+344, U+346-U+379, U+37b-U+385, U+387, U+38b, U+38d, U+3a2,
 U+3cf, U+3d8-U+3d9, U+3f4-U+3ff, U+482-U+48b, U+4c5-U+4c6,
 U+4c9-U+4ca, U+4cd-U+4cf, U+4f6-U+4f7, U+4fa-U+530, U+557-U+558,
 U+55a-U+560, U+588-U+5cf, U+5eb-U+5ef, U+5f3-U+620, U+63b-U+640,
 U+656-U+66f, U+6d4, U+6dd-U+6e0, U+6e9-U+6ec, U+6ee-U+6f9,
 U+6fd-U+70f, U+72d-U+72f, U+740-U+77f, U+7b1-U+900, U+904,
 U+93a-U+93c, U+94d - U+94f, U+951-U+957, U+964-U+980, U+984,
 U+98d-U+98e, U+991-U+992, U+9a9, U+9b1, U+9b3-U+9b5, U+9ba-U+9bd,
 U+9c5-U+9c6, U+9c9-U+9ca, U+9cd-U+9d6, U+9d8-U+9db, U+9de,
 U+9e4-U+9ef, U+9f2-U+a01, U+a03-U+a04, U+a0b-U+a0e, U+a11-U+a12,
 U+a29, U+a31, U+a34, U+a37, U+a3a-U+a3d, U+a43-U+a46, U+a49-U+a4a,
 U+a4d-U+a58, U+a5d, U+a5f-U+a6f, U+a75-U+a80, U+a84, U+a8c, U+a8e,
 U+a92, U+aa9, U+ab1, U+ab4, U+aba-U+abc, U+ac6, U+aca, U+acd-U+acf,
 U+ad1-U+adf, U+ae1-U+b00, U+b04, U+b0d-U+b0e, U+b11-U+b12, U+b29,
 U+b31, U+b34-U+b35, U+b3a-U+b3c, U+b44-U+b46, U+b49 - U+b4a,
 U+b4d-U+b55, U+b58-U+b5b, U+b5e, U+b62-U+b81, U+b84, U+b8b-U+b8d,
 U+b91, U+b96-U+b98, U+b9b, U+b9d, U+ba0 - U+ba2, U+ba5-U+ba7,
 U+bab-U+bad, U+bb6, U+bba-U+bbd, U+bc3-U+bc5, U+bc9, U+bcd-U+bd6,
 U+bd8-U+c00, U+c04, U+c0d, U+c11, U+c29, U+c34, U+c3a-U+c3d, U+c45,
 U+c49, U+c4d-U+c54, U+c57-U+c5f, U+c62-U+c81, U+c84, U+c8d, U+c91,
 U+ca9, U+cb4, U+cba-U+cbd, U+cc5, U+cc9, U+ccd-U+cd4, U+cd7-U+cdd,
 U+cdf, U+ce2-U+d01, U+d04, U+d0d, U+d11, U+d29, U+d3a-U+d3d,
 U+d44-U+d45, U+d49, U+d4d-U+d56, U+d58-U+d5f, U+d62-U+d81, U+d84,
 U+d97-U+d99, U+db2, U+dbc, U+dbe - U+dbf, U+dc7-U+dce, U+dd5, U+dd7,
 U+de0-U+df1, U+df4-U+e00, U+e3b-U+e3f, U+e4f-U+e80, U+e83,
 U+e85-U+e86, U+e89, U+e8b-U+e8c, U+e8e-U+e93, U+e98, U+ea0, U+ea4,
 U+ea6, U+ea8-U+ea9, U+eac, U+eba, U+ebe-U+ebf, U+ec5-U+ecc,
 U+ece-U+edb, U+ede-U+eff, U+f01-U+f3f, U+f48, U+f6b-U+f70,
 U+f82-U+f87, U+f8c-U+f8f, U+f98, U+fbd-U+fff, U+1022, U+1028, U+102b,
 U+1033-U+1035, U+1037, U+1039-U+104f, U+105a-U+109f, U+10c6-U+10cf,
 U+10f7-U+10ff, U+115a - U+115e, U+11a3-U+11a7, U+11fa-U+11ff, U+1207,
 U+1247, U+1249, U+124e-U+124f, U+1257, U+1259, U+125e-U+125f, U+1287,
 U+1289, U+128e-U+128f, U+12af, U+12b1, U+12b6-U+12b7, U+12bf, U+12c1,
 U+12c6-U+12c7, U+12cf, U+12d7, U+12ef, U+130f, U+1311, U+1316-U+1317,
 U+131f, U+1347, U+135b-U+139f, U+13f5-U+1400, U+166d-U+166e,
 U+1677-U+1680, U+169b - U+169f, U+16eb-U+177f, U+17c9-U+181f, U+1843,
 U+1878-U+187f, U+18aa-U+1dff, U+1e9c-U+1e9f, U+1efa-U+1eff,
 U+1f16-U+1f17, U+1f1e-U+1f1f, U+1f46-U+1f47, U+1f4e-U+1f4f, U+1f58,
 U+1f5a, U+1f5c, U+1f5e, U+1f7e-U+1f7f, U+1fb5, U+1fbd, U+1fbf-U+1fc1,
 U+1fc5, U+1fcd-U+1fcf, U+1fd4-U+1fd5, U+1fdc-U+1fdf, U+1fed-U+1ff1,
 U+1ff5, U+1ffd-U+207e, U+2080-U+2101, U+2103-U+2106, U+2108-U+2109,
 U+2114, U+2116-U+2118, U+211e-U+2123, U+2125, U+2127, U+2129, U+212e,
 U+2132, U+213a-U+215f, U+2184-U+3005, U+3008-U+3020, U+302a-U+3037,
 U+303b-U+3104, U+312d-U+3130, U+318f - U+319f, U+31b8-U+33ff,
 U+4db6-U+4dff, U+9fa6-U+9fff, U+a48d-U+abff, U+d7a4-U+d7ff,
 U+e000-U+f8ff, U+fa2e-U+faff, U+fb07-U+fb12, U+fb18-U+fb1c, U+fb1e,
 U+fb29, U+fb37, U+fb3d, U+fb3f, U+fb42, U+fb45, U+fbb2-U+fbd2,
 U+fd3e-U+fd4f, U+fd90-U+fd91, U+fdc8-U+fdef, U+fdfc-U+fe6f, U+fe73,
 U+fe75, U+fefd-U+ff20, U+ff3b-U+ff40, U+ff5b-U+ff9f, U+ffbf-U+ffc1,
 U+ffc8-U+ffc9, U+ffd0-U+ffd1, U+ffd8-U+ffd9, U+ffdd-U+ffff
 -->

     <dd>

      <p>Follow these substeps:</p>

      <ol><li>If <var title="">got number</var> is true, let <var title="">finished</var> be true.</li>

       <li>If <var title="">finished</var> is true, skip to the next
       step in the overall set of steps.</li>

       <li>Let <var title="">negated</var> be false.</li>

      </ol></dd>


     <dt>Any other character</dt>
     <!-- alphabetic a-z A-Z, and non-ASCII -->

     <dd>

      <p>Follow these substeps:</p>

      <ol><li>If <var title="">finished</var> is true, skip to the next
       step in the overall set of steps.</li>

       <li>Let <var title="">negated</var> be false.</li>

       <li>Let <var title="">bogus</var> be true.</li>

       <li>If <var title="">started</var> is true, then return the
       <var title="">numbers</var> list, and abort. (The value in <var title="">value</var> is not appended to the list first; it is
       dropped.)</li>

      </ol></dd>

    </dl></li>

   <li><p>Advance <var title="">position</var> to the next character
   in <var title="">input</var>, or to beyond the end of the string if
   there are no more characters.</p></li>

   <li><p>If <var title="">position</var> points to a character (and
   not to beyond the end of <var title="">input</var>), jump to the
   big <i>Parser</i> step above.</p></li>

   <li><p>If <var title="">negated</var> is true, then negate <var title="">value</var>.</p></li>

   <li><p>If <var title="">got number</var> is true, then append <var title="">value</var> to the <var title="">numbers</var> list.</p></li>

   <li><p>Return the <var title="">numbers</var> list and
   abort.</p></li>

  </ol></div>


  <div class="impl">

  <h5 id="lists-of-dimensions"><span class="secno">2.5.4.6 </span>Lists of dimensions</h5>

  <!-- no definition of a type since no conforming feature uses this
  syntax (it's only used in cols="" and rows="" on <frameset> -->

  <p>The <dfn id="rules-for-parsing-a-list-of-dimensions">rules for parsing a list of dimensions</dfn> are as
  follows. These rules return a list of zero or more pairs consisting
  of a number and a unit, the unit being one of <i>percentage</i>,
  <i>relative</i>, and <i>absolute</i>.</p>

  <ol><li><p>Let <var title="">raw input</var> be the string being
   parsed.</p></li>

   <li><p>If the last character in <var title="">raw input</var> is a
   U+002C COMMA character (,), then remove that character from <var title="">raw input</var>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#split-a-string-on-commas" title="split a string on commas">Split the string <var title="">raw input</var> on commas</a>. Let <var title="">raw
   tokens</var> be the resulting list of tokens.</p></li>

   <li><p>Let <var title="">result</var> be an empty list of
   number/unit pairs.</p></li>

   <li>

    <p>For each token in <var title="">raw tokens</var>, run the
    following substeps:</p>

    <ol><li><p>Let <var title="">input</var> be the token.</p></li>

     <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
     string.</p></li>

     <li><p>Let <var title="">value</var> be the number 0.</p></li>

     <li><p>Let <var title="">unit</var> be <i>absolute</i>.</p></li>

     <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, set <var title="">unit</var> to
     <i>relative</i> and jump to the last substep.</p></li>

     <li><p>If the character at <var title="">position</var> is a
     character in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE
     (9), <a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">collect a sequence of characters</a> in the range
     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), interpret the
     resulting sequence as an integer in base ten, and increment <var title="">value</var> by that integer.</p></li>

     <li>

      <p>If the character at <var title="">position</var> is a U+002E
      FULL STOP character (.), run these substeps:</p>

      <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> consisting
       of <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a> and
       characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT
       NINE (9). Let <var title="">s</var> be the resulting
       sequence.</p></li>

       <li><p>Remove all <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
       characters</a> in <var title="">s</var>.</p></li>

       <li>

        <p>If <var title="">s</var> is not the empty string, run these
        subsubsteps:</p>

        <ol><li><p>Let <var title="">length</var> be the number of
         characters in <var title="">s</var> (after the spaces were
         removed).</p></li>

         <li><p>Let <var title="">fraction</var> be the result of
         interpreting <var title="">s</var> as a base-ten integer, and
         then dividing that number by <span title="">10<sup title=""><var title="">length</var></sup></span>.</p></li>

         <li><p>Increment <var title="">value</var> by <var title="">fraction</var>.</p></li>

        </ol></li>

      </ol></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

     <li>

      <p>If the character at <var title="">position</var> is a U+0025
      PERCENT SIGN character (%), then set <var title="">unit</var> to
      <i>percentage</i>.</p>

      <p>Otherwise, if the character at <var title="">position</var>
      is a U+002A ASTERISK character (*), then set <var title="">unit</var> to <i>relative</i>.</p>

     </li>

     <!-- the remaining characters in /input/ are ignored -->

     <li><p>Add an entry to <var title="">result</var> consisting of
     the number given by <var title="">value</var> and the unit given
     by <var title="">unit</var>.</p></li>

    </ol></li>

   <li><p>Return the list <var title="">result</var>.</p></li>

  </ol></div>


  <h4 id="dates-and-times"><span class="secno">2.5.5 </span>Dates and times</h4>

  <p>In the algorithms below, the <dfn id="number-of-days-in-month-month-of-year-year">number of days in month <var title="">month</var> of year <var title="">year</var></dfn> is:
  <em>31</em> if <var title="">month</var> is 1, 3, 5, 7, 8, 10, or
  12; <em>30</em> if <var title="">month</var> is 4, 6, 9, or 11;
  <em>29</em> if <var title="">month</var> is 2 and <var title="">year</var> is a number divisible by 400, or if <var title="">year</var> is a number divisible by 4 but not by 100; and
  <em>28</em> otherwise. This takes into account leap years in the
  Gregorian calendar. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsGREGORIAN">[GREGORIAN]</a></p>

  <p>The <dfn id="concept-datetime-digit" title="concept-datetime-digit">digits</dfn> in the date
  and time syntaxes defined in this section must be characters in the
  range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), used to
  express numbers in base ten.</p>

  <div class="impl">

  <p class="note">While the formats described here are intended to be
  subsets of the corresponding ISO8601 formats, this specification
  defines parsing rules in much more detail than ISO8601.
  Implementors are therefore encouraged to carefully examine any date
  parsing libraries before using them to implement the parsing rules
  described below; ISO8601 libraries might not parse dates and times
  in exactly the same manner. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsISO8601">[ISO8601]</a></p>

  </div>


  <h5 id="months"><span class="secno">2.5.5.1 </span>Months</h5>

  <p>A <dfn id="concept-month" title="concept-month">month</dfn> consists of a specific
  proleptic Gregorian date with no time-zone information and no date
  information beyond a year and a month. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsGREGORIAN">[GREGORIAN]</a></p>

  <p>A string is a <dfn id="valid-month-string">valid month string</dfn> representing a year
  <var title="">year</var> and month <var title="">month</var> if it
  consists of the following components in the given order:</p>

  <ol><li>Four or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing <var title="">year</var>, where <var title="">year</var>&nbsp;&gt;&nbsp;0</li>

   <li>A U+002D HYPHEN-MINUS character (-)</li>

   <li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
   representing the month <var title="">month</var>, in the range
   1&nbsp;≤&nbsp;<var title="">month</var>&nbsp;≤&nbsp;12</li>

  </ol><div class="impl">

  <p>The rules to <dfn id="parse-a-month-string">parse a month string</dfn> are as follows. This
  will return either a year and month, or nothing. If at any point the
  algorithm says that it "fails", this means that it is aborted at
  that point and returns nothing.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-month-component">Parse a month component</a> to obtain <var title="">year</var> and <var title="">month</var>. If this returns
   nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is <em>not</em> beyond the
   end of <var title="">input</var>, then fail.</p></li>

   <li><p>Return <var title="">year</var> and <var title="">month</var>.</p></li>

  </ol><p>The rules to <dfn id="parse-a-month-component">parse a month component</dfn>, given an <var title="">input</var> string and a <var title="">position</var>, are
  as follows. This will return either a year and a month, or
  nothing. If at any point the algorithm says that it "fails", this
  means that it is aborted at that point and returns nothing.</p>

  <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
   sequence is not at least four characters long, then
   fail. Otherwise, interpret the resulting sequence as a base-ten
   integer. Let that number be the <var title="">year</var>.</p></li>

   <li><p>If <var title="">year</var> is not a number greater than
   zero, then fail.</p></li>

   <li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+002D HYPHEN-MINUS character,
   then fail. Otherwise, move <var title="">position</var> forwards
   one character.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
   sequence is not exactly two characters long, then fail. Otherwise,
   interpret the resulting sequence as a base-ten integer. Let that
   number be the <var title="">month</var>.</p></li>

   <li><p>If <var title="">month</var> is not a number in the range
   1&nbsp;≤&nbsp;<var title="">month</var>&nbsp;≤&nbsp;12, then
   fail.</p></li>

   <li><p>Return <var title="">year</var> and <var title="">month</var>.</p></li>

  </ol></div>


  <h5 id="dates"><span class="secno">2.5.5.2 </span>Dates</h5>

  <p>A <dfn id="concept-date" title="concept-date">date</dfn> consists of a specific
  proleptic Gregorian date with no time-zone information, consisting
  of a year, a month, and a day. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsGREGORIAN">[GREGORIAN]</a></p>

  <p>A string is a <dfn id="valid-date-string">valid date string</dfn> representing a year
  <var title="">year</var>, month <var title="">month</var>, and day
  <var title="">day</var> if it consists of the following components
  in the given order:</p>

  <ol><li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-month-string">valid month string</a>, representing <var title="">year</var> and <var title="">month</var></li>

   <li>A U+002D HYPHEN-MINUS character (-)</li>

   <li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
   representing <var title="">day</var>, in the range
   1&nbsp;≤&nbsp;<var title="">day</var>&nbsp;≤&nbsp;<var title="">maxday</var> where <var title="">maxday</var> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#number-of-days-in-month-month-of-year-year" title="number of days in month month of year year">number of days
   in the month <var title="">month</var> and year <var title="">year</var></a></li>

  </ol><div class="impl">

  <p>The rules to <dfn id="parse-a-date-string">parse a date string</dfn> are as follows. This
  will return either a date, or nothing. If at any point the algorithm
  says that it "fails", this means that it is aborted at that point
  and returns nothing.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-date-component">Parse a date component</a> to obtain <var title="">year</var>, <var title="">month</var>, and <var title="">day</var>. If this returns nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is <em>not</em> beyond the
   end of <var title="">input</var>, then fail.</p></li>

   <li><p>Let <var title="">date</var> be the date with year <var title="">year</var>, month <var title="">month</var>, and day <var title="">day</var>.</p></li>

   <li><p>Return <var title="">date</var>.</p></li>

  </ol><p>The rules to <dfn id="parse-a-date-component">parse a date component</dfn>, given an <var title="">input</var> string and a <var title="">position</var>, are
  as follows. This will return either a year, a month, and a day, or
  nothing. If at any point the algorithm says that it "fails", this
  means that it is aborted at that point and returns nothing.</p>

  <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-month-component">Parse a month component</a> to obtain <var title="">year</var> and <var title="">month</var>. If this returns
   nothing, then fail.</p></li>

   <li><p>Let <var title="">maxday</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#number-of-days-in-month-month-of-year-year">number of days
   in month <var title="">month</var> of year <var title="">year</var></a>.</p></li>

   <li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+002D HYPHEN-MINUS character,
   then fail. Otherwise, move <var title="">position</var> forwards
   one character.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
   sequence is not exactly two characters long, then fail. Otherwise,
   interpret the resulting sequence as a base-ten integer. Let that
   number be the <var title="">day</var>.</p></li>

   <li><p>If <var title="">day</var> is not a number in the range
   1&nbsp;≤&nbsp;<var title="">day</var>&nbsp;≤&nbsp;<var title="">maxday</var>, then fail.</p></li>

   <li><p>Return <var title="">year</var>, <var title="">month</var>,
   and <var title="">day</var>.</p></li>

  </ol></div>


  <h5 id="yearless-dates"><span class="secno">2.5.5.3 </span>Yearless dates</h5>

  <p>A <dfn id="concept-yearless-date" title="concept-yearless-date">yearless date</dfn> consists
  of a month and a day, but with no associated year.</p>

  <p>A string is a <dfn id="valid-yearless-date-string">valid yearless date string</dfn> representing
  a month <var title="">month</var> and a day <var title="">day</var>
  if it consists of the following components in the given order:</p>

  <ol><li>Optionally, two U+002D HYPHEN-MINUS characters (-)</li>

   <li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
   representing the month <var title="">month</var>, in the range
   1&nbsp;≤&nbsp;<var title="">month</var>&nbsp;≤&nbsp;12</li>

   <li>A U+002D HYPHEN-MINUS character (-)</li>

   <li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
   representing <var title="">day</var>, in the range
   1&nbsp;≤&nbsp;<var title="">day</var>&nbsp;≤&nbsp;<var title="">maxday</var> where <var title="">maxday</var> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#number-of-days-in-month-month-of-year-year" title="number of days in month month of year year">number of
   days</a> in the month <var title="">month</var> and any
   arbitrary leap year (e.g. 4 or 2000)</li>

  </ol><p class="note">In other words, if the <var title="">month</var> is
  "<code title="">02</code>", meaning February, then the day can be
  29, as if the year was a leap year.</p>

  <div class="impl">

  <p>The rules to <dfn id="parse-a-yearless-date-string">parse a yearless date string</dfn> are as
  follows. This will return either a month and a day, or nothing. If
  at any point the algorithm says that it "fails", this means that it
  is aborted at that point and returns nothing.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-yearless-date-component">Parse a yearless date component</a> to obtain <var title="">month</var> and <var title="">day</var>. If this returns
   nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is <em>not</em> beyond the
   end of <var title="">input</var>, then fail.</p></li>

   <li><p>Return <var title="">month</var> and <var title="">day</var>.</p></li>

  </ol><p>The rules to <dfn id="parse-a-yearless-date-component">parse a yearless date component</dfn>, given an
  <var title="">input</var> string and a <var title="">position</var>,
  are as follows. This will return either a month and a day, or
  nothing. If at any point the algorithm says that it "fails", this
  means that it is aborted at that point and returns nothing.</p>

  <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are
   U+002D HYPHEN-MINUS characters (-). If the collected sequence is
   not exactly zero or two characters long, then fail.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
   sequence is not exactly two characters long, then fail. Otherwise,
   interpret the resulting sequence as a base-ten integer. Let that
   number be the <var title="">month</var>.</p></li>

   <li><p>If <var title="">month</var> is not a number in the range
   1&nbsp;≤&nbsp;<var title="">month</var>&nbsp;≤&nbsp;12, then
   fail.</p></li>

   <li><p>Let <var title="">maxday</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#number-of-days-in-month-month-of-year-year" title="number of
   days in month month of year year">number of days</a> in month
   <var title="">month</var> of any arbitrary leap year (e.g. 4 or
   2000).</p></li>

   <li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+002D HYPHEN-MINUS character,
   then fail. Otherwise, move <var title="">position</var> forwards
   one character.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
   sequence is not exactly two characters long, then fail. Otherwise,
   interpret the resulting sequence as a base-ten integer. Let that
   number be the <var title="">day</var>.</p></li>

   <li><p>If <var title="">day</var> is not a number in the range
   1&nbsp;≤&nbsp;<var title="">day</var>&nbsp;≤&nbsp;<var title="">maxday</var>, then fail.</p></li>

   <li><p>Return <var title="">month</var> and <var title="">day</var>.</p></li>

  </ol></div>


  <h5 id="times"><span class="secno">2.5.5.4 </span>Times</h5>

  <p>A <dfn id="concept-time" title="concept-time">time</dfn> consists of a specific
  time with no time-zone information, consisting of an hour, a minute,
  a second, and a fraction of a second.</p>

  <p>A string is a <dfn id="valid-time-string">valid time string</dfn> representing an hour
  <var title="">hour</var>, a minute <var title="">minute</var>, and a
  second <var title="">second</var> if it consists of the following
  components in the given order:</p>

  <ol><li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
   representing <var title="">hour</var>, in the range
   0&nbsp;≤&nbsp;<var title="">hour</var>&nbsp;≤&nbsp;23</li>

   <li>A U+003A COLON character (:)</li>

   <li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
   representing <var title="">minute</var>, in the range
   0&nbsp;≤&nbsp;<var title="">minute</var>&nbsp;≤&nbsp;59</li>

   <li>Optionally (required if <var title="">second</var> is
   non-zero):

    <ol><li>A U+003A COLON character (:)</li>

     <li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
     representing the integer part of <var title="">second</var>, in
     the range 0&nbsp;≤&nbsp;<var title="">s</var>&nbsp;≤&nbsp;59</li>

     <li>Optionally (required if <var title="">second</var> is not an
     integer):

      <ol><li>A 002E FULL STOP character (.)</li>

       <li>One, two, or three <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing the
       fractional part of <var title="">second</var></li>

      </ol></li>

    </ol></li>

  </ol><p class="note">The <var title="">second</var> component cannot be
  60 or 61; leap seconds cannot be represented.</p>

  <div class="impl">

  <p>The rules to <dfn id="parse-a-time-string">parse a time string</dfn> are as follows. This
  will return either a time, or nothing. If at any point the algorithm
  says that it "fails", this means that it is aborted at that point
  and returns nothing.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-time-component">Parse a time component</a> to obtain <var title="">hour</var>, <var title="">minute</var>, and <var title="">second</var>. If this returns nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is <em>not</em> beyond the
   end of <var title="">input</var>, then fail.</p></li>

   <li><p>Let <var title="">time</var> be the time with hour <var title="">hour</var>, minute <var title="">minute</var>, and second
   <var title="">second</var>.</p></li>

   <li><p>Return <var title="">time</var>.</p></li>

  </ol><p>The rules to <dfn id="parse-a-time-component">parse a time component</dfn>, given an <var title="">input</var> string and a <var title="">position</var>, are
  as follows. This will return either an hour, a minute, and a second,
  or nothing. If at any point the algorithm says that it "fails", this
  means that it is aborted at that point and returns nothing.</p>

  <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
   sequence is not exactly two characters long, then fail. Otherwise,
   interpret the resulting sequence as a base-ten integer. Let that
   number be the <var title="">hour</var>.</p></li>

   <li>If <var title="">hour</var> is not a number in the range
   0&nbsp;≤&nbsp;<var title="">hour</var>&nbsp;≤&nbsp;23, then
   fail.</li>

   <li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+003A COLON character, then
   fail. Otherwise, move <var title="">position</var> forwards one
   character.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
   sequence is not exactly two characters long, then fail. Otherwise,
   interpret the resulting sequence as a base-ten integer. Let that
   number be the <var title="">minute</var>.</p></li>

   <li>If <var title="">minute</var> is not a number in the range
   0&nbsp;≤&nbsp;<var title="">minute</var>&nbsp;≤&nbsp;59, then
   fail.</li>

   <li><p>Let <var title="">second</var> be a string with the value
   "0".</p></li>

   <li>

    <p>If <var title="">position</var> is not beyond the end of
    <var title="">input</var> and the character at <var title="">position</var> is a U+003A COLON, then run these
    substeps:</p>

    <ol><li><p>Advance <var title="">position</var> to the next character
     in <var title="">input</var>.</p></li>

     <li><p>If <var title="">position</var> is beyond the end of <var title="">input</var>, or at the last character in <var title="">input</var>, or if the next <em>two</em> characters in
     <var title="">input</var> starting at <var title="">position</var> are not two characters both in the range
     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), then
     fail.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are
     either characters in the range U+0030 DIGIT ZERO (0) to U+0039
     DIGIT NINE (9) or U+002E FULL STOP characters. If the collected
     sequence is three characters long, or if it is longer than three
     characters long and the third character is not a U+002E FULL STOP
     character, or if it has more than one U+002E FULL STOP character,
     then fail. Otherwise, let the collected string be <var title="">second</var> instead of its previous value.</p></li>

    </ol></li>

   <li><p>Interpret <var title="">second</var> as a base-ten number
   (possibly with a fractional part). Let <var title="">second</var>
   be that number instead of the string version.</p></li>

   <li><p>If <var title="">second</var> is not a number in the range
   0&nbsp;≤&nbsp;<var title="">second</var>&nbsp;&lt;&nbsp;60, then
   fail.</p></li>

   <li><p>Return <var title="">hour</var>, <var title="">minute</var>,
   and <var title="">second</var>.</p></li>

  </ol></div>


  <h5 id="local-dates-and-times"><span class="secno">2.5.5.5 </span>Local dates and times</h5>

  <p>A <dfn id="concept-datetime-local" title="concept-datetime-local">local date and time</dfn>
  consists of a specific proleptic Gregorian date, consisting of a
  year, a month, and a day, and a time, consisting of an hour, a
  minute, a second, and a fraction of a second, but expressed without
  a time zone. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsGREGORIAN">[GREGORIAN]</a></p>

  <p>A string is a <dfn id="valid-local-date-and-time-string">valid local date and time string</dfn>
  representing a date and time if it consists of the following
  components in the given order:</p>

  <ol><li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-date-string">valid date string</a> representing the date</li>

   <li>A U+0054 LATIN CAPITAL LETTER T character (T) or a U+0020 SPACE character</li>

   <li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-time-string">valid time string</a> representing the time</li>

  </ol><p>A string is a <dfn id="valid-normalized-local-date-and-time-string">valid normalized local date and time
  string</dfn> representing a date and time if it consists of the
  following components in the given order:</p>

  <ol><li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-date-string">valid date string</a> representing the date</li>

   <li>A U+0054 LATIN CAPITAL LETTER T character (T)</li>

   <li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-time-string">valid time string</a> representing the time, expressed as the shortest possible string for the given time (e.g. omitting the seconds component entirely if the given time is zero seconds past the minute)</li>

  </ol><div class="impl">

  <p>The rules to <dfn id="parse-a-local-date-and-time-string">parse a local date and time string</dfn> are as
  follows. This will return either a date and time, or nothing. If at
  any point the algorithm says that it "fails", this means that it is
  aborted at that point and returns nothing.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-date-component">Parse a date component</a> to obtain <var title="">year</var>, <var title="">month</var>, and <var title="">day</var>. If this returns nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is neither a U+0054 LATIN CAPITAL LETTER T
   character (T) nor a U+0020 SPACE character, then fail. Otherwise,
   move <var title="">position</var> forwards one character.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-time-component">Parse a time component</a> to obtain <var title="">hour</var>, <var title="">minute</var>, and <var title="">second</var>. If this returns nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is <em>not</em> beyond the
   end of <var title="">input</var>, then fail.</p></li>

   <li><p>Let <var title="">date</var> be the date with year <var title="">year</var>, month <var title="">month</var>, and day <var title="">day</var>.</p></li>

   <li><p>Let <var title="">time</var> be the time with hour <var title="">hour</var>, minute <var title="">minute</var>, and second
   <var title="">second</var>.</p></li>

   <li><p>Return <var title="">date</var> and <var title="">time</var>.</p></li>

  </ol></div>


  <h5 id="time-zones"><span class="secno">2.5.5.6 </span>Time zones</h5>

  <p>A <dfn id="concept-timezone" title="concept-timezone">time-zone offset</dfn> consists
  of a signed number of hours and minutes.</p>

  <p>A string is a <dfn id="valid-time-zone-offset-string">valid time-zone offset string</dfn>
  representing a time-zone offset if it consists of either:</p>


  <ul><li><p>A U+005A LATIN CAPITAL LETTER Z character (Z), allowed only
   if the time zone is UTC</p></li>

   <li>

    <p>Or, the following components, in the given order:</p>

    <ol><li>Either a U+002B PLUS SIGN character (+) or, if the
     time-zone offset is not zero, a U+002D HYPHEN-MINUS character
     (-), representing the sign of the time-zone offset</li>
     <!-- the -00:00 offset is disallowed because RFC3339 gives it a
     special semantic -->

     <li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
     representing the hours component <var title="">hour</var> of
     the time-zone offset, in the range 0&nbsp;≤&nbsp;<var title="">hour</var>&nbsp;≤&nbsp;23</li>

     <li>Optionally, a U+003A COLON character (:)</li>

     <li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
     representing the minutes component <var title="">minute</var>
     of the time-zone offset, in the range 0&nbsp;≤&nbsp;<var title="">minute</var>&nbsp;≤&nbsp;59</li>

    </ol></li>

  </ul><p class="note">This format allows for time-zone offsets from -23:59
  to +23:59. In practice, however, the range of offsets of actual time
  zones is -12:00 to +14:00, and the minutes component of offsets of
  actual time zones is always either 00, 30, or 45.</p>

  <p class="note">See also the usage notes and examples in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime" title="concept-datetime">global date and time</a> section below
  for details on using time-zone offsets with historical times that
  predate the formation of formal time zones.</p>

  <div class="impl">

  <p>The rules to <dfn id="parse-a-time-zone-offset-string">parse a time-zone offset string</dfn> are as
  follows. This will return either a time-zone offset, or nothing. If
  at any point the algorithm says that it "fails", this means that it
  is aborted at that point and returns nothing.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-time-zone-offset-component">Parse a time-zone offset component</a> to obtain
   <var title="">timezone<sub title="">hours</sub></var> and <var title="">timezone<sub title="">minutes</sub></var>. If this returns
   nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is <em>not</em> beyond the
   end of <var title="">input</var>, then fail.</p></li>

   <li><p>Return the time-zone offset that is <var title="">timezone<sub title="">hours</sub></var> hours and <var title="">timezone<sub title="">minutes</sub></var> minutes from
   UTC.</p></li>

  </ol><p>The rules to <dfn id="parse-a-time-zone-offset-component">parse a time-zone offset component</dfn>, given
  an <var title="">input</var> string and a <var title="">position</var>, are as follows. This will return either
  time-zone hours and time-zone minutes, or nothing. If at any point
  the algorithm says that it "fails", this means that it is aborted at
  that point and returns nothing.</p>

  <ol><li>

    <p>If the character at <var title="">position</var> is a U+005A
    LATIN CAPITAL LETTER Z character (Z), then:</p>

    <ol><li><p>Let <var title="">timezone<sub title="">hours</sub></var>
     be 0.</p></li>

     <li><p>Let <var title="">timezone<sub title="">minutes</sub></var> be 0.</p></li>

     <li><p>Advance <var title="">position</var> to the next character
     in <var title="">input</var>.</p></li>

    </ol><p>Otherwise, if the character at <var title="">position</var> is
    either a U+002B PLUS SIGN (+) or a U+002D HYPHEN-MINUS (-),
    then:</p>

    <ol><li><p>If the character at <var title="">position</var> is a
     U+002B PLUS SIGN (+), let <var title="">sign</var> be
     "positive". Otherwise, it's a U+002D HYPHEN-MINUS (-); let <var title="">sign</var> be "negative".</p></li>

     <li><p>Advance <var title="">position</var> to the next character
     in <var title="">input</var>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
     U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). Let <var title="">s</var> be the collected sequence.</p></li>

     <li>

      <p>If <var title="">s</var> is exactly two characters long, then
      run these substeps:</p>

      <ol><li><p>Interpret <var title="">s</var> as a base-ten integer.
       Let that number be the <var title="">timezone<sub title="">hours</sub></var>.</p></li>

       <li><p>If <var title="">position</var> is beyond the end of
       <var title="">input</var> or if the character at <var title="">position</var> is not a U+003A COLON character, then
       fail. Otherwise, move <var title="">position</var> forwards one
       character.</p></li>

       <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
       U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
       sequence is not exactly two characters long, then
       fail. Otherwise, interpret the resulting sequence as a base-ten
       integer. Let that number be the <var title="">timezone<sub title="">minutes</sub></var>.</p></li>

      </ol><p>If <var title="">s</var> is exactly four characters long,
      then run these substeps:</p>

      <ol><li><p>Interpret the first two characters of <var title="">s</var> as a base-ten integer. Let that number be the
       <var title="">timezone<sub title="">hours</sub></var>.</p></li>

       <li><p>Interpret the last two characters of <var title="">s</var> as a base-ten integer. Let that number be the
       <var title="">timezone<sub title="">minutes</sub></var>.</p></li>

      </ol><p>Otherwise, fail.</p>

     </li>

     <li>If <var title="">timezone<sub title="">hours</sub></var> is
     not a number in the range 0&nbsp;≤&nbsp;<var title="">timezone<sub title="">hours</sub></var>&nbsp;≤&nbsp;23, then fail.</li>

     <li>If <var title="">sign</var> is "negative", then negate <var title="">timezone<sub title="">hours</sub></var>.</li>

     <li>If <var title="">timezone<sub title="">minutes</sub></var> is
     not a number in the range 0&nbsp;≤&nbsp;<var title="">timezone<sub title="">minutes</sub></var>&nbsp;≤&nbsp;59, then fail.</li>

     <li>If <var title="">sign</var> is "negative", then negate <var title="">timezone<sub title="">minutes</sub></var>.</li>

    </ol><p>Otherwise, fail.</p>

   </li>

   <li><p>Return <var title="">timezone<sub title="">hours</sub></var>
   and <var title="">timezone<sub title="">minutes</sub></var>.</p></li>

  </ol></div>


  <h5 id="global-dates-and-times"><span class="secno">2.5.5.7 </span>Global dates and times</h5>

  <p>A <dfn id="concept-datetime" title="concept-datetime">global date and time</dfn>
  consists of a specific proleptic Gregorian date, consisting of a
  year, a month, and a day, and a time, consisting of an hour, a
  minute, a second, and a fraction of a second, expressed with a
  time-zone offset, consisting of a signed number of hours and
  minutes. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsGREGORIAN">[GREGORIAN]</a></p>

  <p>A string is a <dfn id="valid-global-date-and-time-string">valid global date and time string</dfn>
  representing a date, time, and a time-zone offset if it consists of
  the following components in the given order:</p>

  <ol><li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-date-string">valid date string</a> representing the date</li>

   <li>A U+0054 LATIN CAPITAL LETTER T character (T) or a U+0020 SPACE character</li>

   <li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-time-string">valid time string</a> representing the time</li>

   <li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-time-zone-offset-string">valid time-zone offset string</a> representing the time-zone offset</li>

  </ol><p>Times in dates before the formation of UTC in the mid twentieth
  century must be expressed and interpreted in terms of UT1
  (contemporary Earth solar time at the 0° longitude), not UTC
  (the approximation of UT1 that ticks in SI seconds). Time before the
  formation of time zones must be expressed and interpeted as UT1
  times with explicit time zones that approximate the contemporary
  difference between the appropriate local time and the time observed
  at the location of Greenwich, London.</p>

  <div class="example">

   <p>The following are some examples of dates written as <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-global-date-and-time-string" title="valid global date and time string">valid global date and
   time strings</a>.</p>

   <dl><dt>"<code>0037-12-13 00:00Z</code>"</dt>

    <dd>Midnight in areas using London time on the birthday of Nero
    (the Roman Emperor). See below for further discussion on which
    date this actually corresponds to.</dd>

    <dt>"<code>1979-10-14T12:00:00.001-04:00</code>"</dt>

    <dd>One millisecond after noon on October 14th 1979, in the time
    zone in use on the east coast of the USA during daylight saving
    time.</dd>

    <dt>"<code>8592-01-01T02:09+02:09</code>"</dt>

    <dd>Midnight UTC on the 1st of January, 8592. The time zone
    associated with that time is two hours and nine minutes ahead of
    UTC, which is not currently a real time zone, but is nonetheless
    allowed.</dd>

   </dl><p>Several things are notable about these dates:</p>

   <ul><li>Years with fewer than four digits have to be
    zero-padded. The date "37-12-13" would not be a valid date.</li>

    <li>If the "<code title="">T</code>" is replaced by a space, it
    must be a single space character. The string "<code title="">2001-12-21&nbsp;&nbsp;12:00Z</code>" (with two spaces
    between the components) would not be parsed successfully.</li>

    <li>To unambiguously identify a moment in time prior to the
    introduction of the Gregorian calendar (insofar as moments in time
    before the formation of UTC can be unambiguously identified), the
    date has to be first converted to the Gregorian calendar from the
    calendar in use at the time (e.g. from the Julian calendar). The
    date of Nero's birth is the 15th of December 37, in the Julian
    Calendar, which is the 13th of December 37 in the proleptic
    Gregorian Calendar.</li> <!-- This might not be true. I can't find
    a reference that gives his birthday with an explicit statement
    about the calendar being used. However, it seems unlikely that it
    would be given in the Gregorian calendar, so I assume sites use
    the Julian one. -->

    <li>The time and time-zone offset components are not optional.</li>

    <li>Dates before the year one can't be represented as a datetime
    in this version of HTML.</li>

    <li>Times of specific events in ancient times are, at best,
    approximations, since time was not well coordinated or measured
    until relatively recent decades.</li>

    <li>Time-zone offsets differ based on daylight savings time.</li>

   </ul></div>

  <p>A string is a <dfn id="valid-normalized-forced-utc-global-date-and-time-string">valid normalized forced-UTC global date and time
  string</dfn> representing a date, time, and a time-zone offset if it
  consists of the following components in the given order:</p>

  <ol><li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-date-string">valid date string</a> representing the date converted to the UTC time zone</li>

   <li>A U+0054 LATIN CAPITAL LETTER T character (T)</li>

   <li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-time-string">valid time string</a> representing the time converted to the UTC time zone and expressed as the shortest possible string for the given time (e.g. omitting the seconds component entirely if the given time is zero seconds past the minute)</li>

   <li>A U+005A LATIN CAPITAL LETTER Z character (Z)</li>

  </ol><div class="impl">

  <p>The rules to <dfn id="parse-a-global-date-and-time-string">parse a global date and time string</dfn> are
  as follows. This will return either a time in UTC, with associated
  time-zone offset information for round-tripping or display purposes,
  or nothing. If at any point the algorithm says that it "fails", this
  means that it is aborted at that point and returns nothing.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-date-component">Parse a date component</a> to obtain <var title="">year</var>, <var title="">month</var>, and <var title="">day</var>. If this returns nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is neither a U+0054 LATIN CAPITAL LETTER T
   character (T) nor a U+0020 SPACE character, then fail. Otherwise,
   move <var title="">position</var> forwards one character.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-time-component">Parse a time component</a> to obtain <var title="">hour</var>, <var title="">minute</var>, and <var title="">second</var>. If this returns nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is beyond the end of <var title="">input</var>, then fail.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-time-zone-offset-component">Parse a time-zone offset component</a> to obtain
   <var title="">timezone<sub title="">hours</sub></var> and <var title="">timezone<sub title="">minutes</sub></var>. If this returns
   nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is <em>not</em> beyond the
   end of <var title="">input</var>, then fail.</p></li>

   <li><p>Let <var title="">time</var> be the moment in time at year
   <var title="">year</var>, month <var title="">month</var>, day <var title="">day</var>, hours <var title="">hour</var>, minute <var title="">minute</var>, second <var title="">second</var>,
   subtracting <var title="">timezone<sub title="">hours</sub></var>
   hours and <var title="">timezone<sub title="">minutes</sub></var>
   minutes. That moment in time is a moment in the UTC
   time zone.</p></li>

   <li><p>Let <var title="">timezone</var> be <var title="">timezone<sub title="">hours</sub></var> hours and <var title="">timezone<sub title="">minutes</sub></var> minutes from
   UTC.</p></li>

   <li><p>Return <var title="">time</var> and <var title="">timezone</var>.</p></li>

  </ol></div>


  <h5 id="weeks"><span class="secno">2.5.5.8 </span>Weeks</h5>

  <p>A <dfn id="concept-week" title="concept-week">week</dfn> consists of a week-year
  number and a week number representing a seven-day period starting on
  a Monday. Each week-year in this calendaring system has either 52 or
  53 such seven-day periods, as defined below. The seven-day period
  starting on the Gregorian date Monday December 29th 1969
  (1969-12-29) is defined as week number 1 in week-year
  1970. Consecutive weeks are numbered sequentially. The week before
  the number 1 week in a week-year is the last week in the previous
  week-year, and vice versa. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsGREGORIAN">[GREGORIAN]</a></p>

  <p>A week-year with a number <var title="">year</var> has 53 weeks
  if it corresponds to either a year <var title="">year</var> in the
  proleptic Gregorian calendar that has a Thursday as its first day
  (January 1st), or a year <var title="">year</var> in the proleptic
  Gregorian calendar that has a Wednesday as its first day (January
  1st) and where <var title="">year</var> is a number divisible by
  400, or a number divisible by 4 but not by 100. All other week-years
  have 52 weeks.</p>

  <p>The <dfn id="week-number-of-the-last-day">week number of the last day</dfn> of a week-year with 53
  weeks is 53; the week number of the last day of a week-year with 52
  weeks is 52.</p>

  <p class="note">The week-year number of a particular day can be
  different than the number of the year that contains that day in the
  proleptic Gregorian calendar. The first week in a week-year <var title="">y</var> is the week that contains the first Thursday of
  the Gregorian year <var title="">y</var>.</p>

  <p>A string is a <dfn id="valid-week-string">valid week string</dfn> representing a
  week-year <var title="">year</var> and week <var title="">week</var>
  if it consists of the following components in the given order:</p>

  <ol><li>Four or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing <var title="">year</var>, where <var title="">year</var>&nbsp;&gt;&nbsp;0</li>

   <li>A U+002D HYPHEN-MINUS character (-)</li>

   <li>A U+0057 LATIN CAPITAL LETTER W character (W)</li>

   <li>Two <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
   representing the week <var title="">week</var>, in the range
   1&nbsp;≤&nbsp;<var title="">week</var>&nbsp;≤&nbsp;<var title="">maxweek</var>, where <var title="">maxweek</var> is the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#week-number-of-the-last-day">week number of the last day</a> of week-year <var title="">year</var></li>

  </ol><div class="impl">

  <p>The rules to <dfn id="parse-a-week-string">parse a week string</dfn> are as follows. This
  will return either a week-year number and week number, or
  nothing. If at any point the algorithm says that it "fails", this
  means that it is aborted at that point and returns nothing.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
   sequence is not at least four characters long, then
   fail. Otherwise, interpret the resulting sequence as a base-ten
   integer. Let that number be the <var title="">year</var>.</p></li>

   <li><p>If <var title="">year</var> is not a number greater than
   zero, then fail.</p></li>

   <li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+002D HYPHEN-MINUS character,
   then fail. Otherwise, move <var title="">position</var> forwards
   one character.</p></li>

   <li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+0057 LATIN CAPITAL LETTER W
   character (W), then fail. Otherwise, move <var title="">position</var> forwards one character.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
   U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
   sequence is not exactly two characters long, then fail. Otherwise,
   interpret the resulting sequence as a base-ten integer. Let that
   number be the <var title="">week</var>.</p></li>

   <li><p>Let <var title="">maxweek</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#week-number-of-the-last-day">week number of
   the last day</a> of year <var title="">year</var>.</p></li>

   <li><p>If <var title="">week</var> is not a number in the range
   1&nbsp;≤&nbsp;<var title="">week</var>&nbsp;≤&nbsp;<var title="">maxweek</var>, then fail.</p></li>

   <li><p>If <var title="">position</var> is <em>not</em> beyond the
   end of <var title="">input</var>, then fail.</p></li>

   <li><p>Return the week-year number <var title="">year</var> and the
   week number <var title="">week</var>.</p></li>

  </ol></div>


  <h5 id="durations"><span class="secno">2.5.5.9 </span>Durations</h5>

  <p>A <dfn id="concept-duration" title="concept-duration">duration</dfn> consists of
  <!--MONTHS: either a number of months or--> a number of seconds.</p>

  <p class="note">Since months and seconds are not comparable (a month
  is not a precise number of seconds, but is instead a period whose
  exact length depends on the precise day from which it is measured) a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-duration" title="concept-duration">duration</a> as defined in this
  specification cannot <!--MONTHS: consist of a mixture of both-->
  include months (or years, which are equivalent to twelve months).
  Only durations that describe a specific number of seconds can be
  described.</p>

  <p>A string is a <dfn id="valid-duration-string">valid duration string</dfn> representing a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-duration" title="concept-duration">duration</a> <var title="">t</var>
  if it consists of either of the following:</p>

  <ul><li>

    <!-- The ISO format -->

    <!-- NOTE: ISO durations also have a number of formats we do not
         consider conforming:

         - a "week" format (e.g. P4W). This one is actually supported
           by the parser.

         - P<date>T<time>, with or without hyphens

         - All these formats, with commas instead of periods for the
           seconds decimal

    -->

    <p>A literal U+0050 LATIN CAPITAL LETTER P character followed by
    one or more of the following subcomponents, in the order given,
    where <!--the number of years, if any, multiplied by twelve, plus
    the number of months, if any, equals the number of months in <var
    title="">t</var>, if the duration is in months; or, if it is in
    seconds, -->the number of days, hours, minutes, and seconds
    corresponds to the same number of seconds as in <var title="">t</var>:</p>

    <ol><!--MONTHS:
     <li><p>One or more <span
     title="concept-datetime-digit">digits</span> followed by a U+0059
     LATIN CAPITAL LETTER Y character, representing a number of
     years.</p></li>

     <li><p>One or more <span
     title="concept-datetime-digit">digits</span> followed by a U+004D
     LATIN CAPITAL LETTER M character, representing a number of
     months.</p></li>
--><li><p>One or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a> followed by a U+0044
     LATIN CAPITAL LETTER D character, representing a number of
     days.</p></li>

     <li>

      <p>A U+0054 LATIN CAPITAL LETTER T character followed by one or
      more of the following subcomponents, in the order given:</p>

      <ol><li><p>One or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a> followed by a
       U+0048 LATIN CAPITAL LETTER H character, representing a number
       of hours.</p></li>

       <li><p>One or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a> followed by a
       U+004D LATIN CAPITAL LETTER M character, representing a number
       of minutes.</p></li>

       <li>

        <p>The following components:</p>

        <ol><li><p>One or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing a
         number of seconds.</p></li>

         <li><p>Optionally, a U+002E FULL STOP character (.) followed
         by one, two, or three <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing a
         fraction of a second.</p></li>

         <li><p>A U+0053 LATIN CAPITAL LETTER S character.</p></li>

        </ol></li>

      </ol></li>

    </ol><p class="note">This, as with a number of other date- and
    time-related microsyntaxes defined in this specification, is based
    on one of the formats defined in ISO 8601. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsISO8601">[ISO8601]</a></p>

   </li>

   <li>

    <p>One or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#duration-time-component" title="duration time component">duration time
    components</a>, each with a different <a href="http://www.whatwg.org/specs/web-apps/current-work/#duration-time-component-scale">duration time
    component scale</a>, in any order; the sum of the represented
    seconds being equal to the number of seconds in <var title="">t</var>.</p>

    <p>A <dfn id="duration-time-component">duration time component</dfn> is a string consisting of
    the following components:</p>

    <ol><li><p>Zero or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
     characters</a>.</p></li>

     <li><p>One or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing a
     number of time units, scaled by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#duration-time-component-scale">duration time component
     scale</a> specified (see below) to represent a number of
     seconds.</p></li>

     <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#duration-time-component-scale">duration time component scale</a>
     specified is 1 (i.e. the units are seconds), then, optionally, a
     U+002E FULL STOP character (.) followed by one, two, or three <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing a
     fraction of a second.</p></li>

     <li><p>Zero or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
     characters</a>.</p></li>

     <li>

      <p>One of the following characters, representing the
      <dfn id="duration-time-component-scale">duration time component scale</dfn> of the time unit used
      in the numeric part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#duration-time-component">duration time
      component</a>:</p>

      <dl><dt>U+0057 LATIN CAPITAL LETTER W character</dt>
       <dt>U+0077 LATIN SMALL LETTER W character</dt>

       <dd>Weeks. The scale is 604800.</dd>

       <dt>U+0044 LATIN CAPITAL LETTER D character</dt>
       <dt>U+0064 LATIN SMALL LETTER D character</dt>

       <dd>Days. The scale is 86400.</dd>

       <dt>U+0048 LATIN CAPITAL LETTER H character</dt>
       <dt>U+0068 LATIN SMALL LETTER H character</dt>

       <dd>Hours. The scale is 3600.</dd>

       <dt>U+004D LATIN CAPITAL LETTER M character</dt>
       <dt>U+006D LATIN SMALL LETTER M character</dt>

       <dd>Minutes. The scale is 60.</dd>

       <dt>U+0053 LATIN CAPITAL LETTER S character</dt>
       <dt>U+0073 LATIN SMALL LETTER S character</dt>

       <dd>Seconds. The scale is 1.</dd>

      </dl></li>

     <li><p>Zero or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
     characters</a>.</p></li>

    </ol><p class="note">This is not based on any of the formats in ISO
    8601. It is intended to be a more human-readable alternative to
    the ISO 8601 duration format.</p>

   </li>    

  </ul><div class="impl">

  <p>The rules to <dfn id="parse-a-duration-string">parse a duration string</dfn> are as follows.
  This will return either a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-duration" title="concept-duration">duration</a> or nothing. If at any point
  the algorithm says that it "fails", this means that it is aborted at
  that point and returns nothing.</p>

  <ol><!--MONTHS: this algorithm actually already parses months
   adequately, though it would need tweaking if we introduced a "mo"
   unit for the non-ISO variant. See other "MONTHS" annotations below. --><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p>Let <var title="">months</var>, <var title="">seconds</var>,
   and <var title="">component count</var> all be zero.</p></li>

   <li>

    <p>Let <var title="">M-disambiguator</var> be <i>minutes</i>.</p>

    <!--MONTHS: this note would change-->
    <p class="note">This flag's other value is <i>months</i>. It is
    used to disambiguate the "M" unit in ISO8601 durations, which use
    the same unit for months and minutes. Months are not allowed, but
    are parsed for future compatibility and to avoid misinterpreting
    ISO8601 durations that would be valid in other contexts.</p>

   </li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

   <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then fail.</p></li>

   <li><p>If the character in <var title="">input</var> pointed to by
   <var title="">position</var> is a U+0050 LATIN CAPITAL LETTER P
   character, then advance <var title="">position</var> to the next
   character, set <var title="">M-disambiguator</var> to
   <i>months</i>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">skip whitespace</a>.</p></li>

   <li>

    <p>Run the following substeps in a loop, until the first step in
    the loop requires that the loop be broken, or until a step
    requiring the algorithm to fail is reached:</p>

    <ol><li><p>Let <var title="">units</var> be undefined. It will be
     assigned one of the following values: <i>years</i>,
     <i>months</i>, <i>weeks</i>, <i>days</i>, <i>hours</i>,
     <i>minutes</i>, and <i>seconds</i>.</p></li>

     <li><p>Let <var title="">next character</var> be undefined. It is
     used to process characters from the <var title="">input</var>.</p></li>

     <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then break the loop.</p></li>

     <li><p>If the character in <var title="">input</var> pointed to
     by <var title="">position</var> is a U+0054 LATIN CAPITAL LETTER
     T character, then advance <var title="">position</var> to the
     next character, set <var title="">M-disambiguator</var> to
     <i>minutes</i>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">skip whitespace</a>, and return to the
     top of the loop.</p></li>

     <li><p>Set <var title="">next character</var> to the character in
     <var title="">input</var> pointed to by <var title="">position</var>.</p></li>

     <li>

      <p>If <var title="">next character</var> is a U+002E FULL STOP
      character (.), then let <var title="">N</var> equal zero. (Do
      not advance <var title="">position</var>. That is taken care of
      below.)</p>

      <p>Otherwise, if <var title="">next character</var> is a
      character in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT
      NINE (9), then <a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">collect a sequence of characters</a> in
      the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9),
      interpret the resulting sequence as a base-ten integer, and let
      <var title="">N</var> be that number.</p>

      <p>Otherwise <var title="">next character</var> is not part of a
      number; fail.</p>

     </li>

     <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then fail.</p></li>

     <li><p>Set <var title="">next character</var> to the character in
     <var title="">input</var> pointed to by <var title="">position</var>, and this time advance <var title="">position</var> to the next character. (If <var title="">next character</var> was a U+002E FULL STOP character
     (.) before, it will still be that character this time.)</p></li>

     <li>

      <p>If <var title="">next character</var> is a U+002E FULL STOP
      character (.), then run these substeps:</p>

      <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the
       range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). Let <var title="">s</var> be the resulting sequence.</p></li>

       <li><p>If <var title="">s</var> is the empty string, then
       fail.</p></li>

       <li><p>Let <var title="">length</var> be the number of
       characters in <var title="">s</var>.</p></li>

       <li><p>Let <var title="">fraction</var> be the result of
       interpreting <var title="">s</var> as a base-ten integer, and
       then dividing that number by <span title="">10<sup title=""><var title="">length</var></sup></span>.</p></li>

       <li><p>Increment <var title="">N</var> by <var title="">fraction</var>.</p></li>

       <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

       <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then fail.</p></li>

       <li><p>Set <var title="">next character</var> to the character
       in <var title="">input</var> pointed to by <var title="">position</var>, and advance <var title="">position</var> to the next character.</p></li>

       <li><p>If <var title="">next character</var> is neither a
       U+0053 LATIN CAPITAL LETTER S character nor a U+0073 LATIN
       SMALL LETTER S character, then fail.</p></li>

       <li><p>Set <var title="">units</var> to <i>seconds</i>.</p></li>

      </ol><p>Otherwise, run these substeps:</p>

      <ol><li><p>If <var title="">next character</var> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character">space
       character</a>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">skip whitespace</a>, set <var title="">next character</var> to the character in <var title="">input</var> pointed to by <var title="">position</var>, and advance <var title="">position</var> to the next character.</p></li>

       <li>

        <!--MONTHS: this would probably be where we would add more
        logic to support a new unit like 'mo' -->

        <p>If <var title="">next character</var> is a U+0059 LATIN
        CAPITAL LETTER Y character, or a U+0079 LATIN SMALL LETTER Y
        character, set <var title="">units</var> to <i>years</i> and
        set <var title="">M-disambiguator</var> to
        <i>months</i>.</p>

        <p>If <var title="">next character</var> is a U+004D LATIN
        CAPITAL LETTER M character or a U+006D LATIN SMALL LETTER M
        character, and <var title="">M-disambiguator</var> is
        <i>months</i>, then set <var title="">units</var> to
        <i>months</i>.</p>

        <p>If <var title="">next character</var> is a U+0057 LATIN
        CAPITAL LETTER W character or a U+0077 LATIN SMALL LETTER W
        character, set <var title="">units</var> to <i>weeks</i> and
        set <var title="">M-disambiguator</var> to
        <i>minutes</i>.</p>

        <p>If <var title="">next character</var> is a U+0044 LATIN
        CAPITAL LETTER D character or a U+0064 LATIN SMALL LETTER D
        character, set <var title="">units</var> to <i>days</i> and
        set <var title="">M-disambiguator</var> to
        <i>minutes</i>.</p>

        <p>If <var title="">next character</var> is a U+0048 LATIN
        CAPITAL LETTER H character or a U+0068 LATIN SMALL LETTER H
        character, set <var title="">units</var> to <i>hours</i> and
        set <var title="">M-disambiguator</var> to
        <i>minutes</i>.</p>

        <p>If <var title="">next character</var> is a U+004D LATIN
        CAPITAL LETTER M character or a U+006D LATIN SMALL LETTER M
        character, and <var title="">M-disambiguator</var> is
        <i>minutes</i>, then set <var title="">units</var> to
        <i>minutes</i>.</p>

        <p>If <var title="">next character</var> is a U+0053 LATIN
        CAPITAL LETTER S character or a U+0073 LATIN SMALL LETTER S
        character, set <var title="">units</var> to <i>seconds</i> and
        set <var title="">M-disambiguator</var> to
        <i>minutes</i>.</p>

        <p>Otherwise if <var title="">next character</var> is none of
        the above characters, then fail.</p>

       </li>

      </ol></li>

     <li><p>Increment <var title="">component count</var>.</p></li>

     <li><p>Let <var title="">multiplier</var> be 1.</p></li>

     <li><p>If <var title="">units</var> is <i>years</i>, multiply
     <var title="">multiplier</var> by 12 and set <var title="">units</var> to <i>months</i>.</p></li>

     <li>

      <p>If <var title="">units</var> is <i>months</i>, add the
      product of <var title="">N</var> and <var title="">multiplier</var> to <var title="">months</var>.</p>

      <p>Otherwise, run these substeps:</p>

      <ol><li><p>If <var title="">units</var> is <i>weeks</i>, multiply
       <var title="">multiplier</var> by 7 and set <var title="">units</var> to <i>days</i>.</p></li>

       <li><p>If <var title="">units</var> is <i>days</i>, multiply
       <var title="">multiplier</var> by 24 and set <var title="">units</var> to <i>hours</i>.</p></li>

       <li><p>If <var title="">units</var> is <i>hours</i>, multiply
       <var title="">multiplier</var> by 60 and set <var title="">units</var> to <i>minutes</i>.</p></li>

       <li><p>If <var title="">units</var> is <i>minutes</i>, multiply
       <var title="">multiplier</var> by 60 and set <var title="">units</var> to <i>seconds</i>.</p></li>

       <li><p>Forcibly, <var title="">units</var> is now
       <i>seconds</i>. Add the product of <var title="">N</var> and
       <var title="">multiplier</var> to <var title="">seconds</var>.</p></li>

      </ol></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

    </ol></li>

   <li><p>If <var title="">component count</var> is zero,
   fail.</p></li>

   <!--MONTHS: if we add month support this is where you'd return them-->
   <li><p>If <var title="">months</var> is not zero, fail.</p></li>

   <li><p>Return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-duration" title="concept-duration">duration</a>
   consisting of <var title="">seconds</var> seconds.</p></li>

  </ol></div>


  <h5 id="vaguer-moments-in-time"><span class="secno">2.5.5.10 </span>Vaguer moments in time</h5>

  <p>A string is a <dfn id="valid-date-string-with-optional-time">valid date string with optional time</dfn> if
  it is also one of the following:</p>

  <ul><li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-date-string">valid date string</a></li>

   <li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-global-date-and-time-string">valid global date and time string</a></li>

  </ul><div class="impl">

  <hr><p>The rules to <dfn id="parse-a-date-or-time-string">parse a date or time string</dfn> are as
  follows. The algorithm will return either a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-date" title="concept-date">date</a>, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-time" title="concept-time">time</a>, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime" title="concept-datetime">global date and time</a>, or nothing. If
  at any point the algorithm says that it "fails", this means that it
  is aborted at that point and returns nothing.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p>Set <var title="">start position</var> to the same position
   as <var title="">position</var>.</p></li>

   <li><p>Set the <var title="">date present</var> and <var title="">time present</var> flags to true.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-date-component">Parse a date component</a> to obtain <var title="">year</var>, <var title="">month</var>, and <var title="">day</var>. If this fails, then set the <var title="">date
   present</var> flag to false.</p>

   </li><li>

    <p>If <var title="">date present</var> is true, and <var title="">position</var> is not beyond the end of <var title="">input</var>, and the character at <var title="">position</var> is either a U+0054 LATIN CAPITAL LETTER T
    character (T) or a U+0020 SPACE character, then advance <var title="">position</var> to the next character in <var title="">input</var>.</p>

    <p>Otherwise, if <var title="">date present</var> is true, and
    either <var title="">position</var> is beyond the end of <var title="">input</var> or the character at <var title="">position</var> is neither a U+0054 LATIN CAPITAL LETTER T
    character (T) nor a U+0020 SPACE character, then set <var title="">time present</var> to false.</p>

    <p>Otherwise, if <var title="">date present</var> is false, set
    <var title="">position</var> back to the same position as <var title="">start position</var>.</p>

   </li>

   <li><p>If the <var title="">time present</var> flag is true, then
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-time-component">parse a time component</a> to obtain <var title="">hour</var>, <var title="">minute</var>, and <var title="">second</var>. If this returns nothing, then fail.</p></li>

   <li><p>If the <var title="">date present</var> and <var title="">time present</var> flags are both true, but <var title="">position</var> is beyond the end of <var title="">input</var>, then fail.</p></li>

   <li><p>If the <var title="">date present</var> and <var title="">time present</var> flags are both true, <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-time-zone-offset-component">parse a
   time-zone offset component</a> to obtain <var title="">timezone<sub title="">hours</sub></var> and <var title="">timezone<sub title="">minutes</sub></var>. If this returns
   nothing, then fail.</p>

   </li><li><p>If <var title="">position</var> is <em>not</em> beyond the
   end of <var title="">input</var>, then fail.</p></li>

   <li>

    <p>If the <var title="">date present</var> flag is true and the
    <var title="">time present</var> flag is false, then let <var title="">date</var> be the date with year <var title="">year</var>, month <var title="">month</var>, and day <var title="">day</var>, and return <var title="">date</var>.</p>

    <p>Otherwise, if the <var title="">time present</var> flag is true
    and the <var title="">date present</var> flag is false, then let
    <var title="">time</var> be the time with hour <var title="">hour</var>, minute <var title="">minute</var>, and second
    <var title="">second</var>, and return <var title="">time</var>.</p>

    <p>Otherwise, let <var title="">time</var> be the moment in time
    at year <var title="">year</var>, month <var title="">month</var>,
    day <var title="">day</var>, hours <var title="">hour</var>,
    minute <var title="">minute</var>, second <var title="">second</var>, subtracting <var title="">timezone<sub title="">hours</sub></var> hours and <var title="">timezone<sub title="">minutes</sub></var> minutes, that moment in time being a
    moment in the UTC time zone; let <var title="">timezone</var> be
    <var title="">timezone<sub title="">hours</sub></var> hours and
    <var title="">timezone<sub title="">minutes</sub></var> minutes
    from UTC; and return <var title="">time</var> and <var title="">timezone</var>.</p>

   </li>

  </ol></div>


  <h4 id="colors"><span class="secno">2.5.6 </span>Colors</h4>

  <p>A <dfn id="simple-color">simple color</dfn> consists of three 8-bit numbers in the
  range 0..255, representing the red, green, and blue components of
  the color respectively, in the sRGB color space. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSRGB">[SRGB]</a></p>

  <p>A string is a <dfn id="valid-simple-color">valid simple color</dfn> if it is exactly
  seven characters long, and the first character is a U+0023 NUMBER
  SIGN character (#), and the remaining six characters are all in the
  range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), U+0041 LATIN
  CAPITAL LETTER A to U+0046 LATIN CAPITAL LETTER F, U+0061 LATIN
  SMALL LETTER A to U+0066 LATIN SMALL LETTER F, with the first two
  digits representing the red component, the middle two digits
  representing the green component, and the last two digits
  representing the blue component, in hexadecimal.</p>

  <p>A string is a <dfn id="valid-lowercase-simple-color">valid lowercase simple color</dfn> if it is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-simple-color">valid simple color</a> and doesn't use any characters in
  the range U+0041 LATIN CAPITAL LETTER A to U+0046 LATIN CAPITAL
  LETTER F.</p>

  <div class="impl">

  <p>The <dfn id="rules-for-parsing-simple-color-values">rules for parsing simple color values</dfn> are as given
  in the following algorithm. When invoked, the steps must be followed
  in the order given, aborting at the first step that returns a
  value. This algorithm will return either a <a href="http://www.whatwg.org/specs/web-apps/current-work/#simple-color">simple color</a>
  or an error.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>If <var title="">input</var> is not exactly seven characters
   long, then return an error.</p></li>

   <li><p>If the first character in <var title="">input</var> is not a
   U+0023 NUMBER SIGN character (#), then return an error.</p></li>

   <li><p>If the last six characters of <var title="">input</var> are
   not all in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE
   (9), U+0041 LATIN CAPITAL LETTER A to U+0046 LATIN CAPITAL LETTER
   F, U+0061 LATIN SMALL LETTER A to U+0066 LATIN SMALL LETTER F, then
   return an error.</p></li>

   <li><p>Let <var title="">result</var> be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#simple-color">simple
   color</a>.</p>

   </li><li><p>Interpret the second and third characters as a hexadecimal
   number and let the result be the red component of <var title="">result</var>.</p>

   </li><li><p>Interpret the fourth and fifth characters as a hexadecimal
   number and let the result be the green component of <var title="">result</var>.</p>

   </li><li><p>Interpret the sixth and seventh characters as a hexadecimal
   number and let the result be the blue component of <var title="">result</var>.</p>

   </li><li><p>Return <var title="">result</var>.</p>

  </li></ol><p>The <dfn id="rules-for-serializing-simple-color-values">rules for serializing simple color values</dfn> given a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#simple-color">simple color</a> are as given in the following
  algorithm:</p>

  <ol><li><p>Let <var title="">result</var> be a string consisting of a
   single U+0023 NUMBER SIGN character (#).</p></li>

   <li><p>Convert the red, green, and blue components in turn to
   two-digit hexadecimal numbers using the digits U+0030 DIGIT ZERO
   (0) to U+0039 DIGIT NINE (9) and U+0061 LATIN SMALL LETTER A
   to U+0066 LATIN SMALL LETTER F, zero-padding if necessary, and
   append these numbers to <var title="">result</var>, in the order
   red, green, blue.</p>

   </li><li><p>Return <var title="">result</var>, which will be a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-lowercase-simple-color">valid lowercase simple color</a>.</p></li>

  </ol><hr><p>Some obsolete legacy attributes parse colors in a more
  complicated manner, using the <dfn id="rules-for-parsing-a-legacy-color-value">rules for parsing a legacy color
  value</dfn>, which are given in the following algorithm. When
  invoked, the steps must be followed in the order given, aborting at
  the first step that returns a value. This algorithm will return
  either a <a href="http://www.whatwg.org/specs/web-apps/current-work/#simple-color">simple color</a> or an error.</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>If <var title="">input</var> is the empty string, then
   return an error.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace">Strip leading and trailing whitespace</a> from <var title="">input</var>.</p></li>

   <li><p>If <var title="">input</var> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
   case-insensitive</a> match for the string "<code title="">transparent</code>", then return an error.</p></li>

   <li>

    <p>If <var title="">input</var> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
    case-insensitive</a> match for one of the keywords listed in
    the <a href="http://www.w3.org/TR/css3-color/#svg-color">SVG color
    keywords</a> <!-- or <a
    href="http://www.w3.org/TR/css3-color/#css2-system">CSS2 System
    Colors</a> --> section<!--s--> of the CSS3 Color specification,
    then return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#simple-color">simple color</a> corresponding to that
    keyword. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSCOLOR">[CSSCOLOR]</a></p>

    <p class="note"><a href="http://www.w3.org/TR/css3-color/#css2-system">CSS2 System
    Colors</a> are not recognised.</p>

   </li>

   <li>

    <p>If <var title="">input</var> is four characters long, and the
    first character in <var title="">input</var> is a U+0023 NUMBER
    SIGN character (#), and the last three characters of <var title="">input</var> are all in the range U+0030 DIGIT ZERO (0)
    to U+0039 DIGIT NINE (9), U+0041 LATIN CAPITAL LETTER A to U+0046
    LATIN CAPITAL LETTER F, and U+0061 LATIN SMALL LETTER A to U+0066
    LATIN SMALL LETTER F, then run these substeps:</p>

    <ol><li><p>Let <var title="">result</var> be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#simple-color">simple
     color</a>.</p>

     </li><li><p>Interpret the second character of <var title="">input</var> as a hexadecimal digit; let the red
     component of <var title="">result</var> be the resulting number
     multiplied by 17.</p>

     </li><li><p>Interpret the third character of <var title="">input</var>
     as a hexadecimal digit; let the green component of <var title="">result</var> be the resulting number multiplied by
     17.</p>

     </li><li><p>Interpret the fourth character of <var title="">input</var> as a hexadecimal digit; let the blue
     component of <var title="">result</var> be the resulting number
     multiplied by 17.</p>

     </li><li><p>Return <var title="">result</var>.</p>

    </li></ol></li>

   <li><p>Replace any characters in <var title="">input</var> that
   have a Unicode code point greater than U+FFFF (i.e. any characters
   that are not in the basic multilingual plane) with the
   two-character string "<code title="">00</code>".</p></li>

   <li><p>If <var title="">input</var> is longer than 128 characters,
   truncate <var title="">input</var>, leaving only the first 128
   characters.</p></li>

   <li><p>If the first character in <var title="">input</var> is a
   U+0023 NUMBER SIGN character (#), remove it.</p></li>

   <li><p>Replace any character in <var title="">input</var> that is
   not in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9),
   U+0041 LATIN CAPITAL LETTER A to U+0046 LATIN CAPITAL LETTER F, and
   U+0061 LATIN SMALL LETTER A to U+0066 LATIN SMALL LETTER F with the
   character U+0030 DIGIT ZERO (0).</p></li>

   <li><p>While <var title="">input</var>'s length is zero or not a
   multiple of three, append a U+0030 DIGIT ZERO (0) character to <var title="">input</var>.</p></li>

   <li><p>Split <var title="">input</var> into three strings of equal
   length, to obtain three components. Let <var title="">length</var>
   be the length of those components (one third the length of <var title="">input</var>).</p></li>

   <li><p>If <var title="">length</var> is greater than 8, then remove
   the leading <span title=""><var title="">length</var>-8</span>
   characters in each component, and let <var title="">length</var> be
   8.</p></li>

   <li><p>While <var title="">length</var> is greater than two and the
   first character in each component is a U+0030 DIGIT ZERO (0)
   character, remove that character and reduce <var title="">length</var> by one.</p></li>

   <li><p>If <var title="">length</var> is <em>still</em> greater than
   two, truncate each component, leaving only the first two
   characters in each.</p></li>

   <li><p>Let <var title="">result</var> be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#simple-color">simple
   color</a>.</p>

   </li><li><p>Interpret the first component as a hexadecimal number; let
   the red component of <var title="">result</var> be the resulting
   number.</p></li>

   <li><p>Interpret the second component as a hexadecimal number; let
   the green component of <var title="">result</var> be the resulting
   number.</p></li>

   <li><p>Interpret the third component as a hexadecimal number; let
   the blue component of <var title="">result</var> be the resulting
   number.</p></li>

   <li><p>Return <var title="">result</var>.</p>

  </li></ol></div>

  <hr><!--2DCANVAS--><p class="note">The <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvas-context-2d" title="canvas-context-2d">2D graphics
  context</a> has a separate color syntax that also handles
  opacity.</p>

  <!--2DCANVAS-->


  <h4 id="space-separated-tokens"><span class="secno">2.5.7 </span>Space-separated tokens</h4>

  <p>A <dfn id="set-of-space-separated-tokens">set of space-separated tokens</dfn> is a string containing
  zero or more words (known as tokens) separated by one or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>, where words consist
  of any string of one or more characters, none of which are <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>.</p>

  <p>A string containing a <a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-space-separated-tokens">set of space-separated tokens</a>
  may have leading or trailing <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
  characters</a>.</p>

  <p>An <dfn id="unordered-set-of-unique-space-separated-tokens">unordered set of unique space-separated tokens</dfn> is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-space-separated-tokens">set of space-separated tokens</a> where none of the tokens
  are duplicated.</p>

  <p>An <dfn id="ordered-set-of-unique-space-separated-tokens">ordered set of unique space-separated tokens</dfn> is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-space-separated-tokens">set of space-separated tokens</a> where none of the tokens
  are duplicated but where the order of the tokens is meaningful.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-space-separated-tokens" title="set of space-separated tokens">Sets of
  space-separated tokens</a> sometimes have a defined set of
  allowed values. When a set of allowed values is defined, the tokens
  must all be from that list of allowed values; other values are
  non-conforming. If no such set of allowed values is provided, then
  all values are conforming.</p>

  <p class="note">How tokens in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-space-separated-tokens">set of space-separated
  tokens</a> are to be compared (e.g. case-sensitively or not) is
  defined on a per-set basis.</p>

  <div class="impl">

  <p>When a user agent has to <dfn id="split-a-string-on-spaces">split a string on spaces</dfn>, it
  must use the following algorithm:</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p>Let <var title="">tokens</var> be a list of tokens,
   initially empty.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a></p></li>

   <li><p>While <var title="">position</var> is not past the end of
   <var title="">input</var>:</p>

    <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>.</p></li>

     <li><p>Add the string collected in the previous step to <var title="">tokens</var>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a></p></li>

    </ol></li>

   <li><p>Return <var title="">tokens</var>.</p></li>

  </ol><p>When a user agent has to <dfn id="remove-a-token-from-a-string">remove a token from a string</dfn>,
  it must use the following algorithm:</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   modified.</p></li>

   <li><p>Let <var title="">token</var> be the token being removed. It
   will not contain any <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
   characters</a>.</p></li>

   <li><p>Let <var title="">output</var> be the output string,
   initially empty.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><i>Loop</i>: If <var title="">position</var> is beyond the
   end of <var title="">input</var>, abort these steps.</p></li>

   <li><p>If the character at <var title="">position</var> is a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character">space character</a>:</p>

    <ol><li><p>Append the character at <var title="">position</var> to
     the end of <var title="">output</var>.</p></li>

     <li><p>Advance <var title="">position</var> so it points at the
     next character in <var title="">input</var>.</p></li>

     <li><p>Return to the step labeled <i>loop</i>.</p></li>

    </ol></li>

   <li><p>Otherwise, the character at <var title="">position</var> is
   the first character of a token. <a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of
   characters</a> that are not <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
   characters</a>, and let that be <var title="">s</var>.</p></li>

   <li><p>If <var title="">s</var> is exactly equal to <var title="">token</var> (this is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a>
   comparison), then:</p>

    <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a> (in <var title="">input</var>).</p></li>

     <li><p>Remove any <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
     characters</a> currently at the end of <var title="">output</var>.</p></li>

     <li><p>If <var title="">position</var> is not past the end of
     <var title="">input</var>, and <var title="">output</var> is not
     the empty string, append a single U+0020 SPACE character at the
     end of <var title="">output</var>.</p></li>

    </ol></li>

   <li><p>Otherwise, append <var title="">s</var> to the end of <var title="">output</var>.</p></li>

   <li><p>Return to the step labeled <i>loop</i>.</p></li>

  </ol><p class="note">This causes any occurrences of the token to be
  removed from the string, and any spaces that were surrounding the
  token to be collapsed to a single space, except at the start and end
  of the string, where such spaces are removed.</p>

  </div>



  <h4 id="comma-separated-tokens"><span class="secno">2.5.8 </span>Comma-separated tokens</h4>

  <p>A <dfn id="set-of-comma-separated-tokens">set of comma-separated tokens</dfn> is a string containing
  zero or more tokens each separated from the next by a single U+002C
  COMMA character (,), where tokens consist of any string of zero or
  more characters, neither beginning nor ending with <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>, nor containing any
  U+002C COMMA characters (,), and optionally surrounded by <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>.</p>

  <p class="example">For instance, the string "<code title="">&nbsp;a&nbsp;,b,,d&nbsp;d&nbsp;</code>" consists of four
  tokens: "a", "b", the empty string, and "d&nbsp;d". Leading and
  trailing whitespace around each token doesn't count as part of the
  token, and the empty string can be a token.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-comma-separated-tokens" title="set of comma-separated tokens">Sets of
  comma-separated tokens</a> sometimes have further restrictions on
  what consists a valid token. When such restrictions are defined, the
  tokens must all fit within those restrictions; other values are
  non-conforming. If no such restrictions are specified, then all
  values are conforming.</p>

  <div class="impl">

  <p>When a user agent has to <dfn id="split-a-string-on-commas">split a string on commas</dfn>, it
  must use the following algorithm:</p>

  <ol><li><p>Let <var title="">input</var> be the string being
   parsed.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p>Let <var title="">tokens</var> be a list of tokens,
   initially empty.</p></li>

   <li><p><i>Token</i>: If <var title="">position</var> is past the
   end of <var title="">input</var>, jump to the last step.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not
   U+002C COMMA characters (,). Let <var title="">s</var> be the resulting sequence (which might be the
   empty string).</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace">Strip leading and trailing whitespace</a> from <var title="">s</var>.</p></li>

   <li><p>Add <var title="">s</var> to <var title="">tokens</var>.</p></li>

   <li><p>If <var title="">position</var> is not past the end of <var title="">input</var>, then the character at <var title="">position</var> is a U+002C COMMA character (,); advance
   <var title="">position</var> past that character.</p></li>

   <li><p>Jump back to the step labeled <i>token</i>.</p></li>

   <li><p>Return <var title="">tokens</var>.</p></li>

  </ol></div>




  <h4 id="syntax-references"><span class="secno">2.5.9 </span>References</h4>

  <p>A <dfn id="valid-hash-name-reference">valid hash-name reference</dfn> to an element of type <var title="">type</var> is a string consisting of a U+0023 NUMBER SIGN
  character (#) followed by a string which exactly matches the value
  of the <code title="">name</code> attribute of an element with type
  <var title="">type</var> in the document.</p>

  <div class="impl">

  <p>The <dfn id="rules-for-parsing-a-hash-name-reference">rules for parsing a hash-name reference</dfn> to an
  element of type <var title="">type</var> are as follows:</p>

  <ol><li><p>If the string being parsed does not contain a U+0023 NUMBER
   SIGN character, or if the first such character in the string is the
   last character in the string, then return null and abort these
   steps.</p></li>

   <li><p>Let <var title="">s</var> be the string from the character
   immediately after the first U+0023 NUMBER SIGN character in the
   string being parsed up to the end of that string.</p></li>

   <li><p>Return the first element of type <var title="">type</var>
   that has an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute whose value
   is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a> match for <var title="">s</var> or
   a <code title="">name</code> attribute whose value is a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#compatibility-caseless">compatibility caseless</a> match for <var title="">s</var>.</p></li>

   <!--
   IE is also doing case-insensitive id="" matching.
   Tests:
   http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cmap%20name%3D%22T%26eacute%3B%26%23x01F1%3B%26%23x2075%3B%22%3E%3Carea%20href%3D%22%2F%22%20shape%3Drect%20coords%3D0%2C0%2C200%2C200%3E%3C%2Fmap%3E%0A%3Cimg%20usemap%3D%22%23t%26Eacute%3BDZ5%22%20src%3Dimage%3E
   ...except that doesn't explain why this fails:
   http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cmap%20name%3D%22T%26eacute%3B%26%23x01F1%3B%26%23x2075%3B%26%23xFB01%3B%22%3E%3Carea%20href%3D%22%2F%22%20shape%3Drect%20coords%3D0%2C0%2C200%2C200%3E%3C%2Fmap%3E%0A%3Cimg%20usemap%3D%22%23t%26Eacute%3BDZ5F%26%23x0131%3B%26%23x0307%3B%22%20src%3Dimage%3E
   maybe they just don't know about combining dot above?
   -->

  </ol></div>


  <h4 id="mq"><span class="secno">2.5.10 </span>Media queries</h4>

  <p>A string is a <dfn id="valid-media-query">valid media query</dfn> if it matches the
  <code title="">media_query_list</code> production of the Media
  Queries specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMQ">[MQ]</a></p>

  <p>A string <dfn id="matches-the-environment">matches the environment</dfn> of the user if it is
  the empty string, a string consisting of only <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space
  character">space characters</a>, or is a media query that matches
  the user's environment according to the definitions given in the
  Media Queries specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMQ">[MQ]</a></p>




  <h3 id="urls"><span class="secno">2.6 </span>URLs</h3>

  <p>This specification defines the term <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>, and defines
  various algorithms for dealing with URLs, because for historical
  reasons the rules defined by the URI and IRI specifications are not
  a complete description of what HTML user agents need to implement to
  be compatible with Web content.</p>

  <p class="note">The term "URL" in this specification is used in a
  manner distinct from the precise technical meaning it is given in
  RFC 3986. Readers familiar with that RFC will find it easier to read
  <em>this</em> specification if they pretend the term "URL" as used
  herein is really called something else altogether. This is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#willful-violation">willful violation</a> of RFC 3986. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a></p>


  <h4 id="terminology-0"><span class="secno">2.6.1 </span>Terminology</h4>

  <p>A <dfn id="url">URL</dfn> is a string used to identify a resource.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> is a <dfn id="valid-url">valid URL</dfn> if at least one of
  the following conditions holds:</p>

  <ul><li><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> is a valid URI reference <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a>.</p></li>

   <li><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> is a valid IRI reference and it has no
   query component. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3987">[RFC3987]</a></p></li>

   <li><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> is a valid IRI reference and its query
   component contains no unescaped non-ASCII characters. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3987">[RFC3987]</a></p></li>

   <li><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> is a valid IRI reference and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#document's-character-encoding" title="document&#39;s character encoding">character encoding</a> of
   the URL's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is UTF-8 or <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-utf-16-encoding">a UTF-16
   encoding</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3987">[RFC3987]</a></p></li>

  </ul><p>A string is a <dfn id="valid-non-empty-url">valid non-empty URL</dfn> if it is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-url">valid URL</a> but it is not the empty string.</p>

  <p>A string is a <dfn id="valid-url-potentially-surrounded-by-spaces">valid URL potentially surrounded by
  spaces</dfn> if, after <a href="http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace" title="strip leading and trailing
  whitespace">stripping leading and trailing whitespace</a> from
  it, it is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-url">valid URL</a>.</p>

  <p>A string is a <dfn id="valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially surrounded by
  spaces</dfn> if, after <a href="http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace" title="strip leading and trailing
  whitespace">stripping leading and trailing whitespace</a> from
  it, it is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url">valid non-empty URL</a>.</p>

  <p>This specification defines the URL
  <dfn id="about:legacy-compat"><code>about:legacy-compat</code></dfn> as a reserved, though
  unresolvable, <code title="">about:</code> URI, for use in <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-doctype" title="syntax-doctype">DOCTYPE</a>s in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML
  documents</a> when needed for compatibility with XML tools. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsABOUT">[ABOUT]</a></p>

  <p>This specification defines the URL
  <dfn id="about:srcdoc"><code>about:srcdoc</code></dfn> as a reserved, though
  unresolvable, <code title="">about:</code> URI, that is used as
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the document's address</a> of <a href="http://www.whatwg.org/specs/web-apps/current-work/#an-iframe-srcdoc-document" title="an iframe srcdoc
  document"><code>iframe</code> <code title="attr-iframe-srcdoc">srcdoc</code> documents</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsABOUT">[ABOUT]</a></p>


  <div class="impl">

  <h4 id="parsing-urls"><span class="secno">2.6.2 </span>Parsing URLs</h4>

  <p>To <dfn id="parse-a-url">parse a URL</dfn> <var title="">url</var> into its
  component parts, the user agent must use the following steps:</p>

  <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace">Strip leading and trailing whitespace</a> from <var title="">url</var>.</p></li>

   <li>

    <p>Parse <var title="">url</var> in the manner defined by RFC
    3986, with the following exceptions:</p>

    <ul><li>Add all characters with code points less than or equal to
     U+0020 or greater than or equal to U+007F to the
     &lt;unreserved&gt; production.</li>

     <li>Add the characters U+0022, U+003C, U+003E, U+005B .. U+005E,
     U+0060, and U+007B .. U+007D to the &lt;unreserved&gt;
     production.
      <!--
       0022 QUOTATION MARK
       003C LESS-THAN SIGN
       003E GREATER-THAN SIGN
       005B LEFT SQUARE BRACKET
       005C REVERSE SOLIDUS
       005D RIGHT SQUARE BRACKET
       005E CIRCUMFLEX ACCENT
       0060 GRAVE ACCENT
       007B LEFT CURLY BRACKET
       007C VERTICAL LINE
       007D RIGHT CURLY BRACKET
      -->
     </li>

     <li>Add a single U+0025 PERCENT SIGN character as a second
     alternative way of matching the &lt;pct-encoded&gt; production,
     except when the &lt;pct-encoded&gt; is used in the
     &lt;reg-name&gt; production.</li>

     <li>Add the U+0023 NUMBER SIGN character to the characters
     allowed in the &lt;fragment&gt; production.</li>

     <!-- some browsers also have other differences, e.g. Mozilla
     seems to treat ";" as if it was not in sub-delims, if the scheem
     is "ftp". -->

    </ul></li>

   <li>

    <p>If <var title="">url</var> doesn't match the
    &lt;URI-reference&gt; production, even after the above changes are
    made to the ABNF definitions, then parsing the URL fails with an
    error. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a></p>

    <p>Otherwise, parsing <var title="">url</var> was successful; the
    components of the URL are substrings of <var title="">url</var>
    defined as follows:</p>

    <dl><dt><dfn id="url-scheme" title="url-scheme">&lt;scheme&gt;</dfn></dt>

     <dd><p>The substring matched by the &lt;scheme&gt; production, if any.</p></dd>


     <dt><dfn id="url-host" title="url-host">&lt;host&gt;</dfn></dt>

     <dd><p>The substring matched by the &lt;host&gt; production, if any.</p></dd>


     <dt><dfn id="url-port" title="url-port">&lt;port&gt;</dfn></dt>

     <dd><p>The substring matched by the &lt;port&gt; production, if any.</p></dd>


     <dt><dfn id="url-hostport" title="url-hostport">&lt;hostport&gt;</dfn></dt>

     <dd><p>If there is a &lt;scheme&gt; component and a &lt;port&gt;
     component and the port given by the &lt;port&gt; component is
     different than the default port defined for the protocol given by
     the &lt;scheme&gt; component, then &lt;hostport&gt; is the
     substring that starts with the substring matched by the
     &lt;host&gt; production and ends with the substring matched by the
     &lt;port&gt; production, and includes the colon in between the
     two. Otherwise, it is the same as the &lt;host&gt; component.</p>


     </dd><dt><dfn id="url-path" title="url-path">&lt;path&gt;</dfn></dt>

     <dd>

      <p>The substring matched by one of the following productions, if
      one of them was matched:</p>

      <ul class="brief"><li>&lt;path-abempty&gt;</li>
       <li>&lt;path-absolute&gt;</li>
       <li>&lt;path-noscheme&gt;</li>
       <li>&lt;path-rootless&gt;</li>
       <li>&lt;path-empty&gt;</li>
      </ul></dd>


     <dt><dfn id="url-query" title="url-query">&lt;query&gt;</dfn></dt>

     <dd><p>The substring matched by the &lt;query&gt; production, if any.</p></dd>


     <dt><dfn id="url-fragment" title="url-fragment">&lt;fragment&gt;</dfn></dt>

     <dd><p>The substring matched by the &lt;fragment&gt; production, if any.</p></dd>


     <dt><dfn id="url-host-specific" title="url-host-specific">&lt;host-specific&gt;</dfn></dt>

     <dd><p>The substring that <em>follows</em> the substring matched
     by the &lt;authority&gt; production, or the whole string if the
     &lt;authority&gt; production wasn't matched.</p></dd>

    </dl></li>

  </ol><p class="note">These parsing rules are a <a href="http://www.whatwg.org/specs/web-apps/current-work/#willful-violation">willful
  violation</a> of RFC 3986 and RFC 3987 (which do not define error
  handling), motivated by a desire to handle legacy content. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3987">[RFC3987]</a></p>

  </div>


  <h4 id="resolving-urls"><span class="secno">2.6.3 </span>Resolving URLs</h4>

  <p>Resolving a URL is the process of taking a relative URL and
  obtaining the absolute URL that it implies.</p>

  <div class="impl">

  <p>To <dfn id="resolve-a-url">resolve a URL</dfn> to an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>
  relative to either another <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> or an element,
  the user agent must use the following steps. Resolving a URL can
  result in an error, in which case the URL is not resolvable.</p>

  <ol><li><p>Let <var title="">url</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> being
   resolved.</p></li>

   <li>

    <p>Let <var title="">encoding</var> be determined as follows:</p>

    <dl class="switch"><dt>If the URL had a character encoding defined when the URL was
     created or defined</dt>

     <dd>The URL character encoding is as defined.</dd>

     <dt>If the URL came from a script (e.g. as an argument to a
     method)</dt>

     <dd>The URL character encoding is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#script's-url-character-encoding">script's URL character
     encoding</a>.</dd>

     <dt>If the URL came from a DOM node (e.g. from an element)</dt>

     <dd>The node has a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, and the URL character
     encoding is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#document's-character-encoding">document's character encoding</a>.</dd>

    </dl></li>

   <li><p>If <var title="">encoding</var> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-utf-16-encoding">a UTF-16
   encoding</a>, then change the value of <var title="">encoding</var> to UTF-8.</p></li>

   <li>

    <p>If the algorithm was invoked with an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>
    to use as the base URL, let <var title="">base</var> be that
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>.</p>

    <p>Otherwise, let <var title="">base</var> be the <i>base URI of
    the element</i>, as defined by the XML Base specification, with
    <i>the base URI of the document entity</i> being defined as the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#document-base-url">document base URL</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that
    owns the element. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXMLBASE">[XMLBASE]</a></p>

    <p>For the purposes of the XML Base specification, user agents
    must act as if all <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> objects represented XML
    documents.</p>

    <p class="note">It is possible for <code title="attr-xml-base"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xml:base-attribute-(xml-only)">xml:base</a></code> attributes to be present
    even in HTML fragments, as such attributes can be added
    dynamically using script. (Such scripts would not be conforming,
    however, as <code title="attr-xml-base"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xml:base-attribute-(xml-only)">xml:base</a></code> attributes
    are not allowed in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a>.)</p>

    <p>The <dfn id="document-base-url">document base URL</dfn> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>
    object is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> obtained by running these
    substeps:</p>

    <ol><li><p>Let <var title="">fallback base url</var> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the
     document's address</a>.</p></li>

     <li>

      <!-- http://www.hixie.ch/tests/adhoc/html/navigation/javascript-url/ -->

      <!-- this should be tested in the case of a browsing context that
      was navigated to about:blank after having been elsewhere, as
      opposed to the about:blank used at the time of the browsing
      context's creation. -->

      <p>If <var title="">fallback base url</var> is
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:blank">about:blank</a></code>, and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#creator-browsing-context">creator browsing
      context</a>, then let <var title="">fallback base url</var>
      be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#document-base-url">document base URL</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#creator-document">creator
      <code>Document</code></a> instead.</p>

     </li>

     <li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#an-iframe-srcdoc-document">an
     <code>iframe</code> <code title="attr-iframe-srcdoc">srcdoc</code> document</a>, then
     let <var title="">fallback base url</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#document-base-url">document
     base URL</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
     context</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-container">browsing context container</a>'s
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> instead.</p></li>

     <li><p>If there is no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> element that has an <code title="attr-base-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-href">href</a></code> attribute, then the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#document-base-url">document base URL</a> is <var title="">fallback base
     url</var>; abort these steps. Otherwise, let <var title="">url</var> be the value of the <code title="attr-base-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-href">href</a></code> attribute of the first such
     element.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a URL">Resolve</a> <var title="">url</var> relative to <var title="">fallback base
     url</var> (thus, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> <code title="attr-base-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-href">href</a></code> attribute isn't affected by
     <code title="attr-xml-base"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xml:base-attribute-(xml-only)">xml:base</a></code> attributes).</p></li>

     <li><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#document-base-url">document base URL</a> is the result of the
     previous step if it was successful; otherwise it is <var title="">fallback base url</var>.</p></li>

    </ol></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-url" title="parse a URL">Parse</a> <var title="">url</var> into its component parts.</p></li>

   <li>

    <p>If parsing <var title="">url</var> resulted in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-host" title="url-host">&lt;host&gt;</a> component, then replace the
    matching substring of <var title="">url</var> with the string that
    results from expanding any sequences of percent-encoded octets in
    that component that are valid UTF-8 sequences into Unicode
    characters as defined by UTF-8.</p>

    <p>If any percent-encoded octets in that component are not valid
    UTF-8 sequences (e.g. sequences of percent-encoded octets that
    expand to surrogate code points), then return an error and abort
    these steps.</p>

    <p>Apply the IDNA ToASCII algorithm to the matching substring,
    with both the AllowUnassigned and UseSTD3ASCIIRules flags
    set. Replace the matching substring with the result of the ToASCII
    algorithm.</p>

    <p>If ToASCII fails to convert one of the components of the
    string, e.g. because it is too long or because it contains invalid
    characters, then return an error and abort these steps. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3490">[RFC3490]</a></p>

   </li>

   <li>

    <p>If parsing <var title="">url</var> resulted in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-path" title="url-path">&lt;path&gt;</a> component, then replace the
    matching substring of <var title="">url</var> with the string that
    results from applying the following steps to each character other
    than U+0025 PERCENT SIGN (%) that doesn't match the original
    &lt;path&gt; production defined in RFC 3986:</p>

    <ol><li>Encode the character into a sequence of octets as defined by
     UTF-8.</li>

     <li>Replace the character with the percent-encoded form of those
     octets. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a></li>

    </ol><div class="example">

     <p>For instance if <var title="">url</var> was "<code title="">//example.com/a^b☺c%FFd%z/?e</code>", then the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-path" title="url-path">&lt;path&gt;</a> component's substring
     would be "<code title="">/a^b☺c%FFd%z/</code>" and the two
     characters that would have to be escaped would be "<code title="">^</code>" and "<code title="">☺</code>". The
     result after this step was applied would therefore be that <var title="">url</var> now had the value "<code title="">//example.com/a%5Eb%E2%98%BAc%FFd%z/?e</code>".</p>

    </div>

   </li>

   <li>

    <p>If parsing <var title="">url</var> resulted in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-query" title="url-query">&lt;query&gt;</a> component, then replace the
    matching substring of <var title="">url</var> with the string that
    results from applying the following steps to each character other
    than U+0025 PERCENT SIGN (%) that doesn't match the original
    &lt;query&gt; production defined in RFC 3986:</p>

    <ol><li>If the character in question cannot be expressed in the
     encoding <var title="">encoding</var>, then replace it with a
     single 0x3F octet (an ASCII question mark) and skip the remaining
     substeps for this character.</li>

     <li>Encode the character into a sequence of octets as defined by
     the encoding <var title="">encoding</var>.</li>

     <li>Replace the character with the percent-encoded form of those
     octets. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a></li>

    </ol></li>

   <li><p>Apply the algorithm described in RFC 3986 section 5.2
   Relative Resolution, using <var title="">url</var> as the
   potentially relative URI reference (<var title="">R</var>), and
   <var title="">base</var> as the base URI (<var title="">Base</var>). <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a></p></li>

   <li>

    <p>Apply any relevant conformance criteria of RFC 3986 and RFC
    3987, returning an error and aborting these steps if
    appropriate. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3987">[RFC3987]</a></p>

    <p class="example">For instance, if an absolute URI that would be
    returned by the above algorithm violates the restrictions specific
    to its scheme, e.g. a <code title="">data:</code> URI using the
    "<code title="">//</code>" server-based naming authority syntax,
    then user agents are to treat this as an error instead.<!-- RFC
    3986, 3.1 Scheme --></p>

   </li>

   <li><p>Let <var title="">result</var> be the target URI (<var title="">T</var>) returned by the Relative Resolution
   algorithm.</p></li>

   <li><p>If <var title="">result</var> uses a scheme with a
   server-based naming authority, replace all U+005C REVERSE SOLIDUS
   (\) characters in <var title="">result</var> with U+002F SOLIDUS
   (/) characters.</p></li>

   <li><p>Return <var title="">result</var>.</p></li>

  </ol><p class="note">Some of the steps in these rules, for example the
  processing of U+005C REVERSE SOLIDUS (\) characters, are a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#willful-violation">willful violation</a> of RFC 3986 and RFC 3987, motivated
  by a desire to handle legacy content. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3987">[RFC3987]</a></p>

  </div>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> is an <dfn id="absolute-url">absolute URL</dfn> if <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolving</a> it results in the same output
  regardless of what it is resolved relative to, and that output is
  not a failure.</p>

  <p>An <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> is a <dfn id="hierarchical-url">hierarchical URL</dfn> if,
  when <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolved</a> and then <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-url" title="parse a url">parsed</a>, there is a character immediately
  after the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-scheme" title="url-scheme">&lt;scheme&gt;</a> component
  and it is a U+002F SOLIDUS character (/).</p>

  <p>An <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> is an <dfn id="authority-based-url">authority-based URL</dfn>
  if, when <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolved</a> and then <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-url" title="parse a url">parsed</a>, there are two characters
  immediately after the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-scheme" title="url-scheme">&lt;scheme&gt;</a>
  component and they are both U+002F SOLIDUS characters (//).</p>



  <div class="impl">

  <h4 id="url-manipulation-and-creation"><span class="secno">2.6.4 </span>URL manipulation and creation</h4>

  <p>To <dfn id="fragment-escaped" title="fragment-escaped">fragment-escape</dfn> a string
  <var title="">input</var>, a user agent must run the following
  steps:</p>

  <ol><li><p>Let <var title="">input</var> be the string to be
   escaped.</p></li>

   <li><p>Let <var title="">position</var> point at the first
   character of <var title="">input</var>.</p></li>

   <li><p>Let <var title="">output</var> be an empty string.</p></li>

   <li><p><i>Loop</i>: If <var title="">position</var> is past the end
   of <var title="">input</var>, then jump to the step labeled
   <i>end</i>.</p></li>

   <li>

    <p>If the character in <var title="">input</var> pointed to by
    <var title="">position</var> is in the range U+0000 to U+0020 or
    is one of the following characters:</p>

    <ul class="brief"><li>U+0022 QUOTATION MARK character (")
     </li><li>U+0023 NUMBER SIGN character (#)
     </li><li>U+0025 PERCENT SIGN character (%)
     </li><li>U+003C LESS-THAN SIGN character (&lt;)
     </li><li>U+003E GREATER-THAN SIGN character (&gt;)
     </li><li>U+005B LEFT SQUARE BRACKET character ([)
     </li><li>U+005C REVERSE SOLIDUS character (\)
     </li><li>U+005D RIGHT SQUARE BRACKET character (])
     </li><li>U+005E CIRCUMFLEX ACCENT character (^)
     </li><li>U+007B LEFT CURLY BRACKET character ({)
     </li><li>U+007C VERTICAL LINE character (|)
     </li><li>U+007D RIGHT CURLY BRACKET character (})
    </li></ul><p>...then append the percent-encoded form of the character to
    <var title="">output</var>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a></p> <!-- this is the same
    phrasing that's used elsewhere in the spec, but we really should
    define 'percent-encoded' or at least ensure we consistently say
    whether it's upper-case or lower-case. -->

    <p>Otherwise, append the character itself to <var title="">output</var>.</p>

    <p class="note">This escapes any ASCII characters that are not
    valid in the URI &lt;fragment&gt; production without being
    escaped.</p>

   </li>

   <li><p>Advance <var title="">position</var> to the next character
   in <var title="">input</var>.</p></li>

   <li><p>Return to the step labeled <i>loop</i>.</p></li>

   <li><p><i>End</i>: Return <var title="">output</var>.</p></li>

  </ol></div>



  <div class="impl">

  <h4 id="dynamic-changes-to-base-urls"><span class="secno">2.6.5 </span>Dynamic changes to base URLs</h4>

  <p>When an <code title="attr-xml-base"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xml:base-attribute-(xml-only)">xml:base</a></code> attribute
  changes, the attribute's element, and all descendant elements, are
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#affected-by-a-base-url-change">affected by a base URL change</a>.</p>

  <p>When a document's <a href="http://www.whatwg.org/specs/web-apps/current-work/#document-base-url">document base URL</a> changes, all
  elements in that document are <a href="http://www.whatwg.org/specs/web-apps/current-work/#affected-by-a-base-url-change">affected by a base URL
  change</a>.</p>

  <p>The following are <a href="http://www.whatwg.org/specs/web-apps/current-work/#base-url-change-steps">base URL change steps</a>, which run
  when an element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#affected-by-a-base-url-change">affected by a base URL change</a> (as
  defined by the DOM Core specification):</p>

  <dl class="switch"><dt>If the element creates a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a></dt>

   <dd>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> identified by the hyperlink is
    being shown to the user, or if any data derived from that URL is
    affecting the display, then the <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute should be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">re-resolved</a> relative to the element
    and the UI updated appropriately.</p>

    <p class="example">For example, the CSS <code title="selector-link"><a href="http://www.whatwg.org/specs/web-apps/current-work/#selector-link">:link</a></code>/<code title="selector-visited"><a href="http://www.whatwg.org/specs/web-apps/current-work/#selector-visited">:visited</a></code> pseudo-classes might have
    been affected.</p>

<!--PING-->
    <p>If the hyperlink has a <code title="attr-hyperlink-ping"><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping">ping</a></code> attribute and its <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url" title="absolute URL">absolute URL(s)</a> are being shown to the
    user, then the <code title="attr-hyperlink-ping"><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping">ping</a></code>
    attribute's tokens should be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a
    url">re-resolved</a> relative to the element and the UI updated
    appropriately.</p>
<!--PING-->

   </dd>

   <dt>If the element is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code>,
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code>, or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> element with a <code title="">cite</code> attribute</dt>

   <dd>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> identified by the <code title="">cite</code> attribute is being shown to the user, or if
    any data derived from that URL is affecting the display, then the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> should be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a
    url">re-resolved</a> relative to the element and the UI updated
    appropriately.</p>

   </dd>

   <dt>Otherwise</dt>

   <dd>

    <p>The element is not directly affected.</p>

    <p class="example">For instance, changing the base URL doesn't
    affect the image displayed by <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> elements, although
    subsequent accesses of the <code title="dom-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-src">src</a></code>
    IDL attribute from script will return a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute
    URL</a> that might no longer correspond to the image being
    shown.</p>

   </dd>

  </dl></div>


<!--TOPIC:DOM APIs-->
  <h4 id="interfaces-for-url-manipulation"><span class="secno">2.6.6 </span>Interfaces for URL manipulation</h4>

  <p>An interface that has a complement of <dfn id="url-decomposition-idl-attributes">URL decomposition IDL
  attributes</dfn> has seven attributes with the following
  definitions:</p>

<pre class="idl extract">           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-protocol" title="dom-uda-protocol">protocol</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-host" title="dom-uda-host">host</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-hostname" title="dom-uda-hostname">hostname</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-port" title="dom-uda-port">port</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-pathname" title="dom-uda-pathname">pathname</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-search" title="dom-uda-search">search</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-hash" title="dom-uda-hash">hash</a>;</pre>

  <dl class="domintro"><dt><var title="">o</var> . <code title="dom-uda-protocol"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-protocol">protocol</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current scheme of the underlying URL.</p>
    <p>Can be set, to change the underlying URL's scheme.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-host"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-host">host</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current host and port (if it's not the default port) in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's host and port.</p>
    <p>The host and the port are separated by a colon. The port part,
    if omitted, will be assumed to be the current scheme's default
    port.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-hostname"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-hostname">hostname</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current host in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's host.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-port"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-port">port</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current port in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's port.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-pathname"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-pathname">pathname</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current path in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's path.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-search"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-search">search</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current query component in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's query component.</p>
   </dd>

   <dt><var title="">o</var> . <code title="dom-uda-hash"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-hash">hash</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the current fragment identifier in the underlying URL.</p>
    <p>Can be set, to change the underlying URL's fragment identifier.</p>
   </dd>

  </dl><div class="impl">

  <hr><p>The attributes defined to be <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL decomposition IDL
  attributes</a> must act as described for the attributes with the
  same corresponding names in this section.</p>

  <p>In addition, an interface with a complement of <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL
  decomposition IDL attributes</a> defines an <dfn id="concept-uda-input" title="concept-uda-input">input</dfn>, which is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>
  that the attributes act on, and a <dfn id="concept-uda-setter" title="concept-uda-setter">common setter action</dfn>, which is a
  set of steps invoked when any of the attributes' setters are
  invoked.</p>

  <p>The seven <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL decomposition IDL attributes</a> have
  similar requirements.</p>

  <p>On getting, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a>
  is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> that fulfills the condition given in
  the "getter condition" column corresponding to the attribute in the
  table below, the user agent must return the part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> URL given in the "component"
  column, with any prefixes specified in the "prefix" column
  appropriately added to the start of the string and any suffixes
  specified in the "suffix" column appropriately added to the end of
  the string. Otherwise, the attribute must return the empty
  string.</p>

  <p>On setting, the new value must first be mutated as described by
  the "setter preprocessor" column, then mutated by %-escaping any
  characters in the new value that are not valid in the relevant
  component as given by the "component" column. Then, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute
  URL</a> and the resulting new value fulfills the condition given
  in the "setter condition" column, the user agent must make a new
  string <var title="">output</var> by replacing the component of the
  URL given by the "component" column in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> URL with the new value;
  otherwise, the user agent must let <var title="">output</var> be
  equal to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a>. Finally,
  the user agent must invoke the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-setter" title="concept-uda-setter">common setter action</a> with the
  value of <var title="">output</var>.</p>

  <p>When replacing a component in the URL, if the component is part
  of an optional group in the URL syntax consisting of a character
  followed by the component, the component (including its prefix
  character) must be included even if the new value is the empty
  string.</p>

  <p class="note">The previous paragraph applies in particular to the
  "<code title="">:</code>" before a &lt;port&gt; component, the "<code title="">?</code>" before a &lt;query&gt; component, and the "<code title="">#</code>" before a &lt;fragment&gt; component.</p>

  <p>For the purposes of the above definitions, URLs must be parsed
  using the <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-url" title="parse a URL">URL parsing rules</a> defined
  in this specification.</p>

  <table id="table-uda"><thead><tr><th>Attribute
     </th><th>Component
     </th><th>Getter Condition
     </th><th>Prefix
     </th><th>Suffix
     </th><th>Setter Preprocessor
     </th><th>Setter Condition
   </th></tr></thead><tbody><tr><td><dfn id="dom-uda-protocol" title="dom-uda-protocol"><code>protocol</code></dfn>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-scheme" title="url-scheme">&lt;scheme&gt;</a>
     </td><td>—
     </td><td>—
     </td><td>U+003A COLON (:)
     </td><td>Remove all trailing U+003A COLON characters (:)
     </td><td>The new value is not the empty string
    </td></tr><tr><td><dfn id="dom-uda-host" title="dom-uda-host"><code>host</code></dfn>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-hostport" title="url-hostport">&lt;hostport&gt;</a>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#authority-based-url">authority-based URL</a>
     </td><td>—
     </td><td>—
     </td><td>—
     </td><td>The new value is not the empty string and <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#authority-based-url">authority-based URL</a>
    </td></tr><tr><td><dfn id="dom-uda-hostname" title="dom-uda-hostname"><code>hostname</code></dfn>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-host" title="url-host">&lt;host&gt;</a>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#authority-based-url">authority-based URL</a>
     </td><td>—
     </td><td>—
     </td><td>Remove all leading U+002F SOLIDUS characters (/)
     </td><td>The new value is not the empty string and <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#authority-based-url">authority-based URL</a>
    </td></tr><tr><td><dfn id="dom-uda-port" title="dom-uda-port"><code>port</code></dfn>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-port" title="url-port">&lt;port&gt;</a>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#authority-based-url">authority-based URL</a>, and contained a <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-port" title="url-port">&lt;port&gt;</a> component (possibly an empty one)
     </td><td>—
     </td><td>—
     </td><td>Remove all characters in the new value from the first that is not in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), if any.
         Remove any leading U+0030 DIGIT ZERO characters (0) in the new value.
         If the resulting string is empty, set it to a single U+0030 DIGIT ZERO character (0).
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#authority-based-url">authority-based URL</a>,
         and the new value, when interpreted as a base-ten integer, is less than or equal to 65535
    </td></tr><tr><td><dfn id="dom-uda-pathname" title="dom-uda-pathname"><code>pathname</code></dfn>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-path" title="url-path">&lt;path&gt;</a>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchical-url">hierarchical URL</a>
     </td><td>—
     </td><td>—
     </td><td>If it has no leading U+002F SOLIDUS character (/), prepend a U+002F SOLIDUS character (/) to the new value
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is hierarchical
    </td></tr><tr><td><dfn id="dom-uda-search" title="dom-uda-search"><code>search</code></dfn>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-query" title="url-query">&lt;query&gt;</a>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchical-url">hierarchical URL</a>, and contained a <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-query" title="url-query">&lt;query&gt;</a> component (possibly an empty one)
     </td><td>U+003F QUESTION MARK (?)
     </td><td>—
     </td><td>Remove one leading U+003F QUESTION MARK character (?), if any
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchical-url">hierarchical URL</a>
    </td></tr><tr><td><dfn id="dom-uda-hash" title="dom-uda-hash"><code>hash</code></dfn>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#url-fragment" title="url-fragment">&lt;fragment&gt;</a>
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> contained a non-empty <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-fragment" title="url-fragment">&lt;fragment&gt;</a> component
     </td><td>U+0023 NUMBER SIGN (#)
     </td><td>—
     </td><td>Remove one leading U+0023 NUMBER SIGN character (#), if any
     </td><td>—
  </td></tr></tbody></table><!--
  http://www.hixie.ch/tests/adhoc/dom/level0/location/components/
  http://lxr.mozilla.org/seamonkey/source/dom/src/base/nsLocation.cpp
  http://wp.netscape.com/eng/mozilla/3.0/handbook/javascript/ref_h-l.htm#84722
--></div>

  <div class="example">

   <p>The table below demonstrates how the getter <span class="impl">condition</span> for <code title="dom-uda-search"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-search">search</a></code> results in different results
   depending on the exact original syntax of the URL:</p>

   <table id="table-uda-examples"><thead><tr><th> Input URL
      </th><th> <code title="dom-uda-search"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-search">search</a></code> value
      </th><th> Explanation
    </th></tr></thead><tbody><tr><td> <code title="">http://example.com/</code>
      </td><td> <i>empty string</i>
      </td><td> No <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-query" title="url-query">&lt;query&gt;</a> component in input URL.
     </td></tr><tr><td> <code title="">http://example.com/?</code>
      </td><td> <code title="">?</code>
      </td><td> There is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-query" title="url-query">&lt;query&gt;</a> component, but it is empty.
           <span class="impl">The question mark in the resulting value is the prefix.</span>
     </td></tr><tr><td> <code title="">http://example.com/?test</code>
      </td><td> <code title="">?test</code>
      </td><td> The <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-query" title="url-query">&lt;query&gt;</a> component has the value "<code title="">test</code>".
     </td></tr><tr><td> <code title="">http://example.com/?test#</code>
      </td><td> <code title="">?test</code>
      </td><td> The (empty) <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-fragment" title="url-fragment">&lt;fragment&gt;</a> component is not part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-query" title="url-query">&lt;query&gt;</a> component.
   </td></tr></tbody></table></div>

  <div class="example">

   <p>The following table is similar; it provides a list of what each
   of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL decomposition IDL attributes</a> returns for a
   given <var title="">input</var> URL.</p>

   <table><thead><tr><th>Input
      </th><th><code title="dom-uda-protocol"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-protocol">protocol</a></code>
      </th><th><code title="dom-uda-host"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-host">host</a></code>
      </th><th><code title="dom-uda-hostname"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-hostname">hostname</a></code>
      </th><th><code title="dom-uda-port"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-port">port</a></code>
      </th><th><code title="dom-uda-pathname"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-pathname">pathname</a></code>
      </th><th><code title="dom-uda-search"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-search">search</a></code>
      </th><th><code title="dom-uda-hash"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-uda-hash">hash</a></code>
    </th></tr></thead><tbody><tr><td><code title="">http://example.com/carrot#question%3f</code>
      </td><td><code title="">http:</code>
      </td><td><code title="">example.com</code>
      </td><td><code title="">example.com</code>
      </td><td>(empty string)
      </td><td><code title="">/carrot</code>
      </td><td>(empty string)
      </td><td><code title="">#question%3f</code>
     </td></tr><tr><td><code title="">https://www.example.com:4443?</code>
      </td><td><code title="">https:</code>
      </td><td><code title="">www.example.com:4443</code>
      </td><td><code title="">www.example.com</code>
      </td><td><code title="">4443</code>
      </td><td><code title="">/</code>
      </td><td><code title="">?</code>
      </td><td>(empty string)
   </td></tr></tbody></table></div>


<!--TOPIC:HTML-->
  <div class="impl">

  <h3 id="fetching-resources"><span class="secno">2.7 </span>Fetching resources</h3>

  <p>When a user agent is to <dfn id="fetch">fetch</dfn> a resource or
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>, optionally from an origin <i title="">origin</i>,
  and optionally with a <i>synchronous flag</i>, a <i>manual redirect
  flag</i>, a <i>force same-origin flag</i>, and/or a <i>block cookies
  flag</i>, the following steps must be run. (When a <em>URL</em> is
  to be fetched, the URL identifies a resource to be obtained.)</p>

  <!-- if invoked with the synchronous flag, make sure to release the
  storage mutex first -->

  <!-- synchronous flag is only to be used in algorithms that are
  themselves asynchronous! Only sync-XHR is allowed to make the
  mistake of screwing that up. :-P -->

  <!-- the force same-origin flag is for use in places where we'll be
  moving to CORS one day; when used, the algorithm must be invoked
  with a URL (not something else, like a POST request) whose origin is
  the same as the /origin/, which must also be present, and the
  algorithm must not be invoked with the manual redirect flag. -->

  <!-- "block cookies" is currently only used by XHR -->

  <ol><li>

    <p>Let <var title="">document</var> be the appropriate
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> as given by the following list:</p>

    <dl class="switch"><dt>When <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigating</a></dt>

     <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#source-browsing-context">source browsing
     context</a>.</dd>

     <dt>When fetching resources for an element</dt>

     <dd>The element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</dd>

     <dt>When fetching resources in response to a call to an API</dt>

     <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#entry-script">entry script</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#script's-document" title="script&#39;s
     document">document</a>.</dd>

    </dl></li>

   <li>

    <p>While <var title="">document</var> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#an-iframe-srcdoc-document">an
    <code>iframe</code> <code title="attr-iframe-srcdoc">srcdoc</code>
    document</a>, let <var title="">document</var> be <var title="">document</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>'s
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-container">browsing context container</a>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>
    instead.</p>

   </li>

   <li>

    <p>Generate the <i>address of the resource from which Request-URIs
    are obtained</i> as required by HTTP for the <code title="http-referer">Referer</code> (sic) header from <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-current-address">the
    document's current address</a> of <var title="">document</var>.
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTTP">[HTTP]</a></p>

    <p>Remove any <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-fragment" title="url-fragment">&lt;fragment&gt;</a>
    component from the generated <i>address of the resource from which
    Request-URIs are obtained</i>.</p> <!-- RFC2616 says "The URI MUST
    NOT include a fragment." (section 14.36) -->

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of the appropriate
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is not a scheme/host/port tuple, then the
    <code title="http-referer">Referer</code> (sic) header must be
    omitted, regardless of its value.</p>

   </li>

   <li><p>If the algorithm was not invoked with the <i>synchronous
   flag</i>, perform the remaining steps asynchronously.</p></li>

   <li>

    <p>This is the <i>main step</i>.</p>

    <p>If the resource is identified by an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>,
    and the resource is to be obtained using an idempotent action
    (such as an HTTP GET <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-http-equivalent-get" title="concept-http-equivalent-get">or
    equivalent</a>), and it is already being downloaded for other
    reasons (e.g. another invocation of this algorithm), and this
    request would be identical to the previous one (e.g. same <code title="http-accept">Accept</code> and <code title="http-origin">Origin</code> headers), and the user agent is
    configured such that it is to reuse the data from the existing
    download instead of initiating a new one, then use the results of
    the existing download instead of starting a new one.</p>

    <p>Otherwise, if the resource is identified by an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute
    URL</a> with a scheme that does not define a mechanism to
    obtain the resource (e.g. it is a <code title="">mailto:</code>
    URL) or that the user agent does not support, then act as if the
    resource was an HTTP 204 No Content response with no other
    metadata.</p>

    <p>Otherwise, if the resource is identified by the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> <dfn id="about:blank"><code>about:blank</code></dfn>, then the
    resource is immediately available and consists of the empty
    string, with no metadata.</p>

    <p>Otherwise, at a time convenient to the user and the user agent,
    download (or otherwise obtain) the resource, applying the
    semantics of the relevant specifications (e.g. performing an HTTP
    GET or POST operation, or reading the file from disk, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-js-deref" title="concept-js-deref">dereferencing <span title="javascript
    protocol"><code title="">javascript:</code> URLs</span></a>,
    etc).</p>

    <p>For the purposes of the <code title="http-referer">Referer</code> (sic) header, use the
    <i>address of the resource from which Request-URIs are
    obtained</i> generated in the earlier step.</p>

    <p>For the purposes of the <code title="http-origin">Origin</code>
    header, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching algorithm</a> was
    explicitly initiated from an <i title="">origin</i>, then <i title="">the origin that initiated the HTTP request</i> is <i title="">origin</i>. Otherwise, this is <i title="">a request from
    a "privacy-sensitive" context</i>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsORIGIN">[ORIGIN]</a></p>

   </li>

   <li>

    <p>If the algorithm was not invoked with the <i>block cookies
    flag</i>, and there are cookies to be set, then the user agent
    must run the following substeps:</p>

    <ol><li><p>Wait until ownership of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#storage-mutex">storage mutex</a> can
     be taken by this instance of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching</a> algorithm.</p></li>

     <li><p>Take ownership of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#storage-mutex">storage mutex</a>.</p></li>

     <li><p>Update the cookies. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCOOKIES">[COOKIES]</a></p></li>

     <li><p>Release the <a href="http://www.whatwg.org/specs/web-apps/current-work/#storage-mutex">storage mutex</a> so that it is once
     again free.</p></li>

    </ol></li>

   <li>

    <p>If the fetched resource is an HTTP redirect <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-http-equivalent-codes" title="concept-http-equivalent-codes">or equivalent</a>,
    then:</p>

    <dl class="switch"><dt>If the <i>force same-origin flag</i> is set and the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> of the target of the redirect does not have the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin">same origin</a> as the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> for which the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> algorithm was invoked</dt>

     <dd>

      <p>Abort these steps and return failure from this algorithm, as
      if the remote host could not be contacted.</p>

     </dd>

     <dt>If the <i>manual redirect flag</i> is set</dt>

     <dd>

      <p>Continue, using the fetched resource (the redirect) as the
      result of the algorithm. If the calling algorithm subsequently
      requires the user agent to <dfn id="transparently-follow-the-redirect">transparently follow the
      redirect</dfn>, then the user agent must resume this algorithm
      from the <i>main step</i>, but using the target of the redirect
      as the resource to fetch, rather than the original resource.</p>

     </dd>

     <dt>Otherwise</dt>

     <dd>

      <p>First, apply any relevant requirements for redirects (such as
      showing any appropriate prompts). Then, redo <i>main step</i>,
      but using the target of the redirect as the resource to fetch,
      rather than the original resource.</p>

      <p class="note">The HTTP specification requires that 301, 302,
      and 307 redirects, when applied to methods other than the safe
      methods, not be followed without user confirmation. That would
      be an appropriate prompt for the purposes of the requirement in
      the paragraph above. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTTP">[HTTP]</a></p>

     </dd>

    </dl></li>

   <li>

    <p>If the algorithm was not invoked with the <i>synchronous
    flag</i>: When the resource is available, or if there is an error
    of some description, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> that uses the
    resource as appropriate. If the resource can be processed
    incrementally, as, for instance, with a progressively interlaced
    JPEG or an HTML file, additional tasks may be queued to process
    the data as it is downloaded. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a> for
    these <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> is the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a>.</p>

    <p>Otherwise, return the resource or error information to the
    calling algorithm.</p>

   </li>

  </ol><p>If the user agent can determine the actual length of the resource
  being <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> for an instance of this
  algorithm, and if that length is finite, then that length is the
  file's <dfn id="concept-fetch-total" title="concept-fetch-total">size</dfn>. Otherwise, the
  subject of the algorithm (that is, the resource being fetched) has
  no known <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fetch-total" title="concept-fetch-total">size</a>. (For
  example, the HTTP <code title="http-content-length">Content-Length</code> header might
  provide this information.)</p>

  <p>The user agent must also keep track of the <dfn id="concept-fetch-loaded" title="concept-fetch-loaded">number of bytes downloaded</dfn> for
  each instance of this algorithm. This number must exclude any
  out-of-band metadata, such as HTTP headers.</p>

  <p class="note">The <a href="http://www.whatwg.org/specs/web-apps/current-work/#application-cache">application cache</a> processing model
  introduces some <a href="http://www.whatwg.org/specs/web-apps/current-work/#changesToNetworkingModel">changes to the
  networking model</a> to handle the returning of cached
  resources.</p>

  <p class="note">The <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigation</a>
  processing model handles redirects itself, overriding the
  redirection handling that would be done by the fetching
  algorithm.</p>

  <p class="note">Whether the <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type-sniffing">type
  sniffing rules</a> apply to the fetched resource depends on the
  algorithm that invokes the rules — they are not always
  applicable.</p>


  <h4 id="concept-http-equivalent"><span class="secno">2.7.1 </span>Protocol concepts</h4>

  <p>User agents can implement a variety of transfer protocols, but
  this specification mostly defines behavior in terms of HTTP. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTTP">[HTTP]</a></p>

  <p>The <dfn id="concept-http-equivalent-get" title="concept-http-equivalent-get">HTTP GET
  method</dfn> is equivalent to the default retrieval action of the
  protocol. For example, RETR in FTP. Such actions are idempotent and
  safe, in HTTP terms.</p>

  <p>The <dfn id="concept-http-equivalent-codes" title="concept-http-equivalent-codes">HTTP response
  codes</dfn> are equivalent to statuses in other protocols that have
  the same basic meanings. For example, a "file not found" error is
  equivalent to a 404 code, a server error is equivalent to a 5xx
  code, and so on.</p>

  <p>The <dfn id="concept-http-equivalent-headers" title="concept-http-equivalent-headers">HTTP
  headers</dfn> are equivalent to fields in other protocols that have
  the same basic meaning. For example, the HTTP authentication
  headers are equivalent to the authentication aspects of the FTP
  protocol.</p>


<!--ADD-TOPIC:Security-->
  <h4 id="encrypted-http-and-related-security-concerns"><span class="secno">2.7.2 </span>Encrypted HTTP and related security concerns</h4>

  <p>Anything in this specification that refers to HTTP also applies
  to HTTP-over-TLS, as represented by <a href="http://www.whatwg.org/specs/web-apps/current-work/#url" title="url">URLs</a>
  representing the <code title="">https</code> scheme.</p>

  <p class="warning">User agents should report certificate errors to
  the user and must either refuse to download resources sent with
  erroneous certificates or must act as if such resources were in fact
  served with no encryption.</p>

  <p>User agents should warn the user that there is a potential
  problem whenever the user visits a page that the user has previously
  visited, if the page uses less secure encryption on the second
  visit.</p>

  <p>Not doing so can result in users not noticing man-in-the-middle
  attacks.</p>

  <div class="example">

   <p>If a user connects to a server with a self-signed certificate,
   the user agent could allow the connection but just act as if there
   had been no encryption. If the user agent instead allowed the user
   to override the problem and then displayed the page as if it was
   fully and safely encrypted, the user could be easily tricked into
   accepting man-in-the-middle connections.</p>

   <p>If a user connects to a server with full encryption, but the
   page then refers to an external resource that has an expired
   certificate, then the user agent will act as if the resource was
   unavailable, possibly also reporting the problem to the user. If
   the user agent instead allowed the resource to be used, then an
   attacker could just look for "secure" sites that used resources
   from a different host and only apply man-in-the-middle attacks to
   that host, for example taking over scripts in the page.</p>

   <p>If a user bookmarks a site that uses a CA-signed certificate,
   and then later revisits that site directly but the site has started
   using a self-signed certificate, the user agent could warn the user
   that a man-in-the-middle attack is likely underway, instead of
   simply acting as if the page was not encrypted.</p>

  </div>
<!--REMOVE-TOPIC:Security-->


  <h4 id="content-type-sniffing"><span class="secno">2.7.3 </span>Determining the type of a resource</h4>

  <p>The <dfn id="content-type" title="Content-Type">Content-Type metadata</dfn> of a
  resource must be obtained and interpreted in a manner consistent
  with the requirements of the Media Type Sniffing
  specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMIMESNIFF">[MIMESNIFF]</a></p>

  <p>The <dfn id="content-type-sniffing-0" title="Content-Type sniffing">sniffed type of a
  resource</dfn> must be found in a manner consistent with the
  requirements given in the Media Type Sniffing
  specification for finding the <i>sniffed-type</i> of the relevant
  sequence of octets. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMIMESNIFF">[MIMESNIFF]</a></p>

  <p>The <dfn id="content-type-sniffing:-image" title="Content-Type sniffing: image">rules for sniffing
  images specifically</dfn> and the <dfn id="content-type-sniffing:-text-or-binary" title="Content-Type sniffing:
  text or binary">rules for distinguishing if a resource is text or
  binary</dfn> are also defined in the Media Type Sniffing
  specification. Both sets of rules return a <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> as
  their result. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMIMESNIFF">[MIMESNIFF]</a></p>

  <p class="warning">It is imperative that the rules in the
  Media Type Sniffing specification be followed
  exactly. When a user agent uses different heuristics for content
  type detection than the server expects, security problems can
  occur. For more details, see the Media Type Sniffing
  specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMIMESNIFF">[MIMESNIFF]</a></p>


  <h4 id="extracting-encodings-from-meta-elements"><span class="secno">2.7.4 </span>Extracting encodings from <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> elements</h4>

  <p>The <dfn id="algorithm-for-extracting-an-encoding-from-a-meta-element">algorithm for extracting an encoding from a
  <code>meta</code> element</dfn>, given a string <var title="">s</var>, is as follows. It either returns an encoding or
  nothing.</p>

  <ol><!-- http://www.hixie.ch/tests/adhoc/html/parsing/encoding/all.html --><li><p>Let <var title="">position</var> be a pointer into <var title="">s</var>, initially pointing at the start of the
   string.</p></li>

   <li><p><i>Loop</i>: Find the first seven characters in <var title="">s</var> after <var title="">position</var> that are an
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match for the word "<code title="">charset</code>". If no such match is found, return nothing
   and abort these steps.</p></li>

   <li><p>Skip any U+0009, U+000A, U+000C, U+000D, or U+0020
   characters that immediately follow the word "<code title="">charset</code>" (there might not be any).</p></li>

   <li><p>If the next character is not a U+003D EQUALS SIGN (=),
   then move <var title="">position</var> to point just before that
   next character, and jump back to the step labeled
   <i>loop</i>.</p></li>

   <li><p>Skip any U+0009, U+000A, U+000C, U+000D, or U+0020
   characters that immediately follow the equals sign (there might not
   be any).</p></li>

   <li>

    <p>Process the next character as follows:</p>

    <dl class="switch"><dt>If it is a U+0022 QUOTATION MARK (") and there is a later U+0022 QUOTATION MARK (") in <var title="">s</var></dt>
     <dt>If it is a U+0027 APOSTROPHE (') and there is a later U+0027 APOSTROPHE (') in <var title="">s</var></dt>
     <dd>Return the encoding corresponding to the string between this character and the next earliest occurrence of this character.</dd>

     <dt>If it is an unmatched U+0022 QUOTATION MARK (")</dt>
     <dt>If it is an unmatched U+0027 APOSTROPHE (')</dt>
     <dt>If there is no next character</dt>
     <dd>Return nothing.</dd>

     <dt>Otherwise</dt>
     <dd>Return the encoding corresponding to the string from this
     character to the first U+0009, U+000A, U+000C, U+000D, U+0020, or
     U+003B character or the end of <var title="">s</var>, whichever
     comes first.</dd>

    </dl></li>

  </ol><p class="note">This algorithm is distinct from those in the HTTP
  specification (for example, HTTP doesn't allow the use of single
  quotes and requires supporting a backslash-escape mechanism that is
  not supported by this algorithm<!-- not to mention not having any
  rules for error-handling, which is of course why we're having to
  define it ourselves -->). While the algorithm is used in contexts
  that, historically, were related to HTTP, the syntax as supported by
  implementations diverged some time ago. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTTP">[HTTP]</a></p>

  </div>


  <h4 id="cors-settings-attributes"><span class="secno">2.7.5 </span>CORS settings attributes</h4>

  <p>A <dfn id="cors-settings-attribute">CORS settings attribute</dfn> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#enumerated-attribute">enumerated
  attribute</a>. The following table lists the keywords and states
  for the attribute — the keywords in the left column map to the
  states in the cell in the second column on the same row as the
  keyword.</p>

  <table><thead><tr><th> Keyword
     </th><th> State
     </th><th> Brief description
   </th></tr></thead><tbody><tr><td><dfn id="attr-crossorigin-anonymous-keyword" title="attr-crossorigin-anonymous-keyword"><code>anonymous</code></dfn>
     </td><td><dfn id="attr-crossorigin-anonymous" title="attr-crossorigin-anonymous">Anonymous</dfn>
     </td><td>Cross-origin CORS requests for the element will not have the <i>credentials flag</i> set.
    </td></tr><tr><td><dfn id="attr-crossorigin-use-credentials-keyword" title="attr-crossorigin-use-credentials-keyword"><code>use-credentials</code></dfn>
     </td><td><dfn id="attr-crossorigin-use-credentials" title="attr-crossorigin-use-credentials">Use Credentials</dfn>
     </td><td>Cross-origin CORS requests for the element will have the <i>credentials flag</i> set.
  </td></tr></tbody></table><p>The empty string is also a valid keyword, and maps to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-anonymous" title="attr-crossorigin-anonymous">Anonymous</a> state. The
  attribute's <i>invalid value default</i> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-anonymous" title="attr-crossorigin-anonymous">Anonymous</a> state. The
  <i>missing value default</i>, used when the attribute is omitted, is
  the <dfn id="attr-crossorigin-none" title="attr-crossorigin-none">No CORS</dfn> state.</p>


  <div class="impl">
  <h4 id="cors-enabled-fetch"><span class="secno">2.7.6 </span>CORS-enabled fetch</h4>

  <p>When the user agent is required to perform a <dfn id="potentially-cors-enabled-fetch">potentially
  CORS-enabled fetch</dfn> of an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> <var title="">URL</var>, with a mode <var title="">mode</var> that is
  either "<a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-none" title="attr-crossorigin-none">No CORS</a>", "<a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-anonymous" title="attr-crossorigin-anonymous">Anonymous</a>", or "<a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-use-credentials" title="attr-crossorigin-use-credentials">Use Credentials</a>",
  an <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> <var title="">origin</var>, and a default
  origin behaviour <var title="">default</var> which is either
  "<i>taint</i>" or "<i>fail</i>", it must run the first applicable
  set of steps from the following list. The default origin behaviour
  is only used if <var title="">mode</var> is "<a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-none" title="attr-crossorigin-none">No CORS</a>". This algorithm wraps
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> algorithm above, and labels the obtained
  resource as either <dfn id="cors-same-origin">CORS-same-origin</dfn> or
  <dfn id="cors-cross-origin">CORS-cross-origin</dfn>, or blocks the resource entirely.</p>

  <dl class="switch"><dt>If the <var title="">URL</var> has the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin">same origin</a> as <var title="">origin</var></dt>

   <dt>If <var title="">mode</var> is "<a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-none" title="attr-crossorigin-none">No CORS</a>"</dt>

   <dd>

    <p>Run these substeps:</p>

    <ol><li><p>Let <var title="">result</var> have no value.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">Fetch</a> <var title="">URL</var>, with the
     <i>manual redirect flag</i> set.</p></li> <!-- http-origin privacy
     sensitive -->

     <li><p><i>Loop</i>: Wait for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> algorithm
     to know if the result is a redirect or not.</p></li>

     <li>

      <p>If the result of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> is a redirect, and
      the <var title="">mode</var> is not "<a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-none" title="attr-crossorigin-none">No CORS</a>", and the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of the target URL of the redirect is not the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin">same origin</a> as <var title="">origin</var>, then set
      <var title="">URL</var> to the the target URL of the redirect
      and return to the top of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-cors-enabled-fetch">potentially CORS-enabled
      fetch</a> algorithm (this time, the branch below will be
      taken, resulting in the fetch being done in a CORS-aware
      fashion).</p>

      <p>Otherwise, if the result of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> is a
      redirect, and <var title="">result</var> still has no value,
      then apply the CORS <a href="http://www.whatwg.org/specs/web-apps/current-work/#redirect-steps">redirect steps</a>, with the CORS
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#credential-flag">credential flag</a> set to true and the <i>request
      rules</i> being that the user agent continue to follow these
      steps. If this resumes the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> algorithm, then
      return to the <i>loop</i> step. If it failed due to a failure of
      the CORS <a href="http://www.whatwg.org/specs/web-apps/current-work/#resource-sharing-check">resource sharing check</a>, then: if <var title="">default</var> is <i>fail</i>, then set <var title="">result</var> to <i>fail</i> and jump to the step
      labeled <i>end</i>; if <var title="">default</var> is
      <i>taint</i>, then set <var title="">result</var> to
      <i>taint</i>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparently-follow-the-redirect">transparently follow the redirect</a> but
      with the <i>manual redirect flag</i> no longer set, and jump to
      the step labeled <i>end</i> below.</p>

      <p>Otherwise, if the resource is not available (e.g. there is
      a network error) then set <var title="">result</var> to the
      same value as <var title="">default</var>, and jump to the
      step labeled <i>end</i> below.</p>

      <p>Otherwise, perform a <a href="http://www.whatwg.org/specs/web-apps/current-work/#resource-sharing-check">resource sharing check</a>,
      with the CORS <a href="http://www.whatwg.org/specs/web-apps/current-work/#credential-flag">credential flag</a> set to true. If it
      returns fail, then set <var title="">result</var> to the same
      value as <var title="">default</var>; otherwise, set <var title="">result</var> to <i>success</i>. Then, jump to the
      step labeled <i>end</i> below.</p>

     </li>

     <li>

      <p><i>End</i>: Jump to the appropriate step from the following
      list:</p>

      <dl class="switch"><dt>If <var title="">result</var> is <i>fail</i></dt>

       <dd>

        <p>Discard all fetched data and prevent any <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a>
        algorithm from being <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a>.
        For the purposes of the calling algorithm, the user agent must
        act as if there was a fatal network error and no resource was
        obtained. The user agent may report a cross-origin resource
        access failure to the user (e.g. in a debugging console).</p>

       </dd>

       <dt>If <var title="">result</var> is <i>taint</i></dt>

       <dd>

        <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> from the
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> algorithm are <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a
        task">queued</a> normally, but for the purposes of the
        calling algorithm, the obtained resource is
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-cross-origin">CORS-cross-origin</a>. The user agent may report a
        cross-origin resource access failure to the user (e.g. in a
        debugging console).</p>

       </dd>

       <dt>If <var title="">result</var> is <i>success</i></dt>

       <dd>

        <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> from the
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> algorithm are <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a
        task">queued</a> normally, and for the purposes of the
        calling algorithm, the obtained resource is
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-same-origin">CORS-same-origin</a>.</p>

       </dd>

      </dl></li>

    </ol></dd>


   <dt>If <var title="">mode</var> is "<a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-anonymous" title="attr-crossorigin-anonymous">Anonymous</a>" or "<a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-use-credentials" title="attr-crossorigin-use-credentials">Use
   Credentials</a>"</dt>

   <dd>

    <p>Run these steps:</p>

    <ol><li><p>Perform a <a href="http://www.whatwg.org/specs/web-apps/current-work/#cross-origin-request">cross-origin request</a> with the
     <i>request URL</i> set to <var title="">URL</var>, the
     <i>source origin</i> set to <var title="">origin</var>, and the
     <i>credentials flag</i> set to true if <var title="">mode</var>
     is "<a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-crossorigin-use-credentials" title="attr-crossorigin-use-credentials">Use
     Credentials</a>" and set to false otherwise. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCORS">[CORS]</a></p></li>

     <li><p>Wait for the CORS <a href="http://www.whatwg.org/specs/web-apps/current-work/#cross-origin-request-status">cross-origin request status</a>
     to have a value.</p></li>

     <li>

      <p>Jump to the appropriate step from the following list:</p>

      <dl class="switch"><dt>If the CORS <a href="http://www.whatwg.org/specs/web-apps/current-work/#cross-origin-request-status">cross-origin request status</a> is not <i>success</i></dt>

       <dd>

        <p>Discard all fetched data and prevent any <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a>
        algorithm from being <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a>.
        For the purposes of the calling algorithm, the user agent must
        act as if there was a fatal network error and no resource was
        obtained. If a CORS <a href="http://www.whatwg.org/specs/web-apps/current-work/#resource-sharing-check">resource sharing check</a>
        failed, the user agent may report a cross-origin resource
        access failure to the user (e.g. in a debugging console).</p>

       </dd>

       <dt>If the CORS <a href="http://www.whatwg.org/specs/web-apps/current-work/#cross-origin-request-status">cross-origin request status</a> is <i>success</i></dt>

       <dd>

        <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> from the
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> algorithm are <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a
        task">queued</a> normally, and for the purposes of the
        calling algorithm, the obtained resource is
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-same-origin">CORS-same-origin</a>.</p>

       </dd>

      </dl></li>

    </ol></dd>

  </dl></div>



  <h3 id="common-dom-interfaces"><span class="secno">2.8 </span>Common DOM interfaces</h3>

  <h4 id="reflecting-content-attributes-in-idl-attributes"><span class="secno">2.8.1 </span>Reflecting content attributes in IDL attributes</h4>

  <p>Some IDL attributes are defined to <dfn id="reflect">reflect</dfn> a
  particular content attribute. This means that on getting, the IDL
  attribute returns the current value of the content attribute, and on
  setting, the IDL attribute changes the value of the content
  attribute to the given value.</p>

<!-- v2 for completeness: (also search for REFLECTIDL)
  <p class="note">A list of <span>reflecting IDL attributes</span> and
  their corresponding content attributes is given in the index.</p>
-->

  <div class="impl">

  <p>In general, on getting, if the content attribute is not present,
  the IDL attribute must act as if the content attribute's value is
  the empty string; and on setting, if the content attribute is not
  present, it must first be added.</p>

  <p>If a reflecting IDL attribute is a <code>DOMString</code>
  attribute whose content attribute is defined to contain a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>, then on getting, the IDL attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolve</a> the value of the content
  attribute relative to the element and return the resulting
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> if that was successful, or the empty
  string otherwise; and on setting, must set the content attribute to
  the specified literal value. If the content attribute is absent, the
  IDL attribute must return the default value, if the content
  attribute has one, or else the empty string.</p>

  <p>If a reflecting IDL attribute is a <code>DOMString</code>
  attribute whose content attribute is defined to contain one or more
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#url" title="URL">URLs</a>, then on getting, the IDL attribute
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#split-a-string-on-spaces" title="split a string on spaces">split the content
  attribute on spaces</a> and return the concatenation of <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a URL">resolving</a> each token URL to an
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> relative to the element, with a single
  U+0020 SPACE character between each URL, ignoring any tokens that
  did not resolve successfully. If the content attribute is absent,
  the IDL attribute must return the default value, if the content
  attribute has one, or else the empty string. On setting, the IDL
  attribute must set the content attribute to the specified literal
  value.</p>

  <p>If a reflecting IDL attribute is a <code>DOMString</code>
  attribute whose content attribute is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#enumerated-attribute">enumerated
  attribute</a>, and the IDL attribute is <dfn id="limited-to-only-known-values">limited to only
  known values</dfn>, then, on getting, the IDL attribute must return
  the conforming value associated with the state the attribute is in
  (in its canonical case), or the empty string if the attribute is in
  a state that has no associated keyword value; and on setting, the
  content attribute must be set to the specified new value.</p>

  <p>If a reflecting IDL attribute is a <code>DOMString</code>
  attribute but doesn't fall into any of the above categories, then
  the getting and setting must be done in a transparent,
  case-preserving manner.</p>

  <p>If a reflecting IDL attribute is a <code title="">boolean</code>
  attribute, then on getting the IDL attribute must return true if the
  content attribute is set, and false if it is absent. On setting, the
  content attribute must be removed if the IDL attribute is set to
  false, and must be set to the empty string if the IDL attribute is
  set to true. (This corresponds to the rules for <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute" title="boolean
  attribute">boolean content attributes</a>.)</p>

  <p>If a reflecting IDL attribute has a signed integer type
  (<code>long</code>) then, on getting, the content attribute must be
  parsed according to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-integers" title="rules for parsing
  integers">rules for parsing signed integers</a>, and if that is
  successful, and the value is in the range of the IDL attribute's
  type, the resulting value must be returned. If, on the other hand,
  it fails or returns an out of range value, or if the attribute is
  absent, then the default value must be returned instead, or 0 if
  there is no default value. On setting, the given value must be
  converted to the shortest possible string representing the number as
  a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-integer">valid integer</a> and then that string must be used as
  the new content attribute value.</p>

  <p>If a reflecting IDL attribute has a signed integer type
  (<code>long</code>) that is <dfn id="limited-to-only-non-negative-numbers">limited to only non-negative
  numbers</dfn> then, on getting, the content attribute must be parsed
  according to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers">rules for parsing non-negative
  integers</a>, and if that is successful, and the value is in the
  range of the IDL attribute's type, the resulting value must be
  returned. If, on the other hand, it fails or returns an out of range
  value, or if the attribute is absent, the default value must be
  returned instead, or −1 if there is no default value. On
  setting, if the value is negative, the user agent must throw an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception. Otherwise, the given value
  must be converted to the shortest possible string representing the
  number as a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative integer</a> and then that
  string must be used as the new content attribute value.</p>

  <p>If a reflecting IDL attribute has an <em>unsigned</em> integer
  type (<code>unsigned long</code>) then, on getting, the content
  attribute must be parsed according to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers">rules for parsing
  non-negative integers</a>, and if that is successful, and the
  value is in the range 0 to 2147483647 inclusive, the resulting value
  must be returned. If, on the other hand, it fails or returns an out
  of range value, or if the attribute is absent, the default value
  must be returned instead, or 0 if there is no default value. On
  setting, the given value must be converted to the shortest possible
  string representing the number as a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative
  integer</a> and then that string must be used as the new content
  attribute value.</p>
  <!-- see http://www.w3.org/Bugs/Public/show_bug.cgi?id=10352 and
  https://bugzilla.mozilla.org/show_bug.cgi?id=586118 for why the
  range is clamped to 2147483647 rather the normal unsigned long
  maximum value of 4294967295 -->

  <p>If a reflecting IDL attribute has an unsigned integer type
  (<code>unsigned long</code>) that is <dfn id="limited-to-only-non-negative-numbers-greater-than-zero">limited to only
  non-negative numbers greater than zero</dfn>, then the behavior is
  similar to the previous case, but zero is not allowed. On getting,
  the content attribute must first be parsed according to the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers">rules for parsing non-negative integers</a>, and if that is
  successful, and the value is in the range 1 to 2147483647 inclusive,
  the resulting value must be returned. If, on the other hand, it
  fails or returns an out of range value, or if the attribute is
  absent, the default value must be returned instead, or 1 if there is
  no default value. On setting, if the value is zero, the user agent
  must throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception. Otherwise, the
  given value must be converted to the shortest possible string
  representing the number as a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative integer</a>
  and then that string must be used as the new content attribute
  value.</p> <!-- see previous paragraph for note about the range -->
 
  <p>If a reflecting IDL attribute has a floating point number type
  (<code>double</code>), then, on getting, the content attribute must
  be parsed according to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-floating-point-number-values">rules for parsing floating point
  number values</a>, and if that is successful, the resulting value
  must be returned. If, on the other hand, it fails, or if the
  attribute is absent, the default value must be returned instead, or
  0.0 if there is no default value. On setting, the given value must
  be converted to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#best-representation-of-the-number-as-a-floating-point-number">best representation of the number as a
  floating point number</a> and then that string must be used as
  the new content attribute value.</p>

  <p>If a reflecting IDL attribute has a floating point number type
  (<code>double</code>) that is <dfn id="limited-to-numbers-greater-than-zero">limited to numbers greater than
  zero</dfn>, then the behavior is similar to the previous case, but
  zero and negative values are not allowed. On getting, the content
  attribute must be parsed according to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-floating-point-number-values">rules for parsing
  floating point number values</a>, and if that is successful and
  the value is greater than 0.0, the resulting value must be returned.
  If, on the other hand, it fails or returns an out of range value, or
  if the attribute is absent, the default value must be returned
  instead, or 0.0 if there is no default value. On setting, if the
  value is less than or equal to zero, then the value must be ignored.
  Otherwise, the given value must be converted to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#best-representation-of-the-number-as-a-floating-point-number">best
  representation of the number as a floating point number</a> and
  then that string must be used as the new content attribute
  value.</p>

  <p class="note">The values Infinity and Not-a-Number (NaN) values
  throw an exception on setting, as <a href="http://www.whatwg.org/specs/web-apps/current-work/#float-nan">defined
  earlier</a>.</p>

  <p>If a reflecting IDL attribute has the type
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domtokenlist">DOMTokenList</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a></code>, then
  on getting it must return a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domtokenlist">DOMTokenList</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a></code> object (as appropriate) whose
  underlying string is the element's corresponding content attribute.
  When the object mutates its underlying string, the content attribute
  must itself be immediately mutated. When the attribute is absent,
  then the string represented by the object is the empty string; when
  the object mutates this empty string, the user agent must add the
  corresponding content attribute, with its value set to the value it
  would have been set to after mutating the empty string. The same
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domtokenlist">DOMTokenList</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a></code>
  object must be returned every time for each attribute.</p>

  <div class="example">

   <p>If an element with no attributes has its <code title="dom-tokenlist-remove">element.classList.remove()</code>
   method invoked, the underlying string won't be changed, since the
   result of removing any token from the empty string is still the
   empty string. However, if the <code title="dom-tokenlist-add">element.classList.add()</code> method is
   then invoked, a <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code> attribute
   will be added to the element with the value of the token to be
   added.</p>

  </div>

  <p>If a reflecting IDL attribute has the type
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>, or an interface that descends from
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>, then, on getting, it must run the
  following algorithm (stopping at the first point where a value is
  returned):</p>

  <ol><li>If the corresponding content attribute is absent, then the
   IDL attribute must return null.</li>

   <li>Let <var title="">candidate</var> be the element that the <code title="dom-Document-getElementById"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-getelementbyid">document.getElementById()</a></code> method
   would find when called on the content attribute's document if it
   were passed as its argument the current value of the corresponding
   content attribute.</li>

   <li>If <var title="">candidate</var> is null, or if it is not
   type-compatible with the IDL attribute, then the IDL attribute must
   return null.</li>

   <li>Otherwise, it must return <var title="">candidate</var>.</li>

  </ol><p>On setting, if the given element has an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute, and has the same <a href="http://www.whatwg.org/specs/web-apps/current-work/#home-subtree">home
  subtree</a> as the element of the attribute being set, and the
  given element is the first element in that <a href="http://www.whatwg.org/specs/web-apps/current-work/#home-subtree">home subtree</a>
  whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-ID">ID</a> is the value of that <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute, then the content attribute must
  be set to the value of that <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code>
  attribute. Otherwise, the content attribute must be set to the empty
  string.</p>

  </div>


<!--TOPIC:DOM APIs-->
  <h4 id="collections-0"><span class="secno">2.8.2 </span>Collections</h4>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlformcontrolscollection">HTMLFormControlsCollection</a></code>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection">HTMLOptionsCollection</a></code>,
<!--MD-->
  and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlpropertiescollection">HTMLPropertiesCollection</a></code>
<!--MD-->
  interfaces are <a href="http://www.whatwg.org/specs/web-apps/current-work/#collections">collections</a> derived from the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> interface.</p>


  <h5 id="htmlallcollection-0"><span class="secno">2.8.2.1 </span>HTMLAllCollection</h5>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code> interface represents a generic
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#collections" title="collections">collection</a> of elements just like
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code>, with the exception that its <code title="dom-HTMLAllCollection-namedItem"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-nameditem">namedItem()</a></code> method
  returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code> object when there are
  multiple matching elements, and that its <code title="dom-HTMLAllCollection-item">item()</code> method can be used
  as a synonym for its <code title="dom-HTMLAllCollection-namedItem"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-nameditem">namedItem()</a></code>
  method.</p>

  <pre class="idl">interface <dfn id="htmlallcollection">HTMLAllCollection</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> {
  // inherits <span title="dom-HTMLCollection-length">length</span> and <span title="dom-HTMLCollection-item">item</span>(unsigned long index)
  object? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-item-string" title="dom-HTMLAllCollection-item-string">item</a>(DOMString name);
  legacycaller getter object? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-nameditem" title="dom-HTMLAllCollection-namedItem">namedItem</a>(DOMString name); // overrides inherited namedItem()
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-tags" title="dom-HTMLAllCollection-tags">tags</a>(DOMString tagName);
};</pre>

  <dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLCollection-length">length</code></dt>
   <dd>
    <p>Returns the number of elements in the collection.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item">item</code>(<var title="">index</var>)</dt>
   <dt><var title="">collection</var>[<var title="">index</var>]</dt>
   <dt><var title="">collection</var>(<var title="">index</var>)</dt>
   <dd>
    <p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-item-string"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-item-string">item</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-item-string"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-item-string">item</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-namedItem"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-namedItem"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var>[<var title="">name</var>]</dt>
   <dt><var title="">collection</var>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns the item with <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">ID</a> or name <var title="">name</var> from the collection.</p>
    <p>If there are multiple matching items, then an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code> object containing all those elements is returned.</p>
    <p>Only <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-applet-element">applet</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code>,
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#frame">frame</a></code>,
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#frameset">frameset</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>, and
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements can have a name for the purpose of
    this method; their name is given by the value of their <code title="">name</code> attribute.</p>
   </dd>

   <dt><var title="">collection</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-tags"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlallcollection-tags">tags</a></code>(<var title="">tagName</var>)</dt>
   <dd>
    <p>Returns a collection that is a filtered view of the current collection, containing only elements with the given tag name.</p>
   </dd>

  </dl><div class="impl">

  <p>The object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property indices</a> and
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-names">supported property names</a> are as defined for
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> objects.</p>

  <p>The <dfn id="dom-htmlallcollection-item-string" title="dom-HTMLAllCollection-item-string"><code>item(<var title="">name</var>)</code></dfn> and <dfn id="dom-htmlallcollection-nameditem" title="dom-HTMLAllCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> methods must act according to the
  following algorithm:</p>

  <ol><li>

    <p>Let <var title="">collection</var> be an
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code> object rooted at the same node as
    the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code> object on which the method was
    invoked, whose filter matches only elements that already
    match the filter of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code> object on
    which the method was invoked and that are either:</p>

    <ul><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-applet-element">applet</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code>,
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#frame">frame</a></code>,
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#frameset">frameset</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>, or
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements with a <code title="">name</code>
     attribute equal to <var title="">name</var>, or,</li>

     <li>elements with an <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">ID</a> equal to
     <var title="">name</var>.</li>

    </ul></li>

   <li>If, at the time the method is called, there is exactly one node
   in <var title="">collection</var>, then return that node and stop
   the algorithm.</li>

   <li>Otherwise, if, at the time the method is called, <var title="">collection</var> is empty, return null and stop the
   algorithm.</li>

   <li>Otherwise, return <var title="">collection</var>.</li>

  </ol><p>The <dfn id="dom-htmlallcollection-tags" title="dom-HTMLAllCollection-tags"><code>tags(<var title="">tagName</var>)</code></dfn> method must return an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code> rooted at the same node as the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code> object on which the method was
  invoked, whose filter matches only <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> whose
  local name is the <var title="">tagName</var> argument and that
  already match the filter of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlallcollection">HTMLAllCollection</a></code>
  object on which the method was invoked. In <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML
  documents</a>, the argument must first be <a href="http://www.whatwg.org/specs/web-apps/current-work/#converted-to-ascii-lowercase">converted to
  ASCII lowercase</a>.</p>
<!--if legacycaller is removed:
  <p>In addition to the above, <code>HTMLAllCollection</code> objects,
  in JavaScript, must be callable. Calling such an object must
  implicitly invoke the index getter with the same arguments.</p>
-->

  </div>


  <h5 id="htmlformcontrolscollection-0"><span class="secno">2.8.2.2 </span>HTMLFormControlsCollection</h5>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlformcontrolscollection">HTMLFormControlsCollection</a></code> interface represents
  a <a href="http://www.whatwg.org/specs/web-apps/current-work/#collections" title="collections">collection</a> of <a href="http://www.whatwg.org/specs/web-apps/current-work/#category-listed" title="category-listed">listed elements</a> in <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code>
  and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-fieldset-element">fieldset</a></code> elements.</p>

  <pre class="idl">interface <dfn id="htmlformcontrolscollection">HTMLFormControlsCollection</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> {
  // inherits <span title="dom-HTMLCollection-length">length</span> and <span title="dom-HTMLCollection-item">item</span>()
  legacycaller getter object? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlformcontrolscollection-nameditem" title="dom-HTMLFormControlsCollection-namedItem">namedItem</a>(DOMString name); // overrides inherited namedItem()
};

interface <dfn id="radionodelist">RadioNodeList</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a> {
          attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-radionodelist-value" title="dom-RadioNodeList-value">value</a>;
};</pre>

  <dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLCollection-length">length</code></dt>
   <dd>
    <p>Returns the number of elements in the collection.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item">item</code>(<var title="">index</var>)</dt>
   <dt><var title="">collection</var>[<var title="">index</var>]</dt>
   <dt><var title="">collection</var>(<var title="">index</var>)</dt>
   <dd>
    <p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLFormControlsCollection-namedItem"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlformcontrolscollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">radioNodeList</var> = <var title="">collection</var> . <code title="dom-HTMLFormControlsCollection-namedItem"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlformcontrolscollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var>[<var title="">name</var>]</dt>
   <dt><var title="">collection</var>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns the item with <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">ID</a> or <code title="attr-fe-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fe-name">name</a></code> <var title="">name</var> from the collection.</p>
    <p>If there are multiple matching items, then a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#radionodelist">RadioNodeList</a></code> object containing all those elements is returned.</p>
   </dd>

   <dt><var title="">radioNodeList</var> . <var title="">value</var> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the value of the first checked radio button represented by the object.</p>
    <p>Can be set, to check the first radio button with the given value represented by the object.</p>
   </dd>

  </dl><div class="impl">

  <p>The object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property indices</a> are as
  defined for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> objects.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-names">supported property names</a> consist of the values
  of all the <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> and <code title="attr-fe-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fe-name">name</a></code> attributes of all the elements
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represented-by-the-collection">represented by the collection</a>.</p>

  <p>The <dfn id="dom-htmlformcontrolscollection-nameditem" title="dom-HTMLFormControlsCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> method must act according to the
  following algorithm:</p>

  <ol><li>If, at the time the method is called, there is exactly one node
   in the collection that has either an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute or a <code title="attr-fe-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fe-name">name</a></code> attribute equal to <var title="">name</var>, then return that node and stop the
   algorithm.</li>

   <li>Otherwise, if there are no nodes in the collection that have
   either an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute or a <code title="attr-fe-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fe-name">name</a></code> attribute equal to <var title="">name</var>, then return null and stop the algorithm.</li>

   <li>Otherwise, create a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#radionodelist">RadioNodeList</a></code> object
   representing a <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a> view of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlformcontrolscollection">HTMLFormControlsCollection</a></code> object, further filtered so
   that the only nodes in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#radionodelist">RadioNodeList</a></code> object are
   those that have either an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute
   or a <code title="attr-fe-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fe-name">name</a></code> attribute equal to <var title="">name</var>. The nodes in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#radionodelist">RadioNodeList</a></code>
   object must be sorted in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.</li>

   <li>Return that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#radionodelist">RadioNodeList</a></code> object.</li>

  </ol><hr><p>Members of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#radionodelist">RadioNodeList</a></code> interface inherited
  from the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> interface must behave as they would
  on a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> object.</p>

  <p>The <dfn id="dom-radionodelist-value" title="dom-RadioNodeList-value"><code>value</code></dfn>
  IDL attribute on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#radionodelist">RadioNodeList</a></code> object, on getting,
  must return the value returned by running the following steps:</p>

  <ol><li><p>Let <var title="">element</var> be the first element in
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a> represented by the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#radionodelist">RadioNodeList</a></code> object that is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code>
   element whose <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute
   is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#radio-button-state-(type=radio)" title="attr-input-type-radio">Radio Button</a>
   state and whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fe-checked" title="concept-fe-checked">checkedness</a>
   is true. Otherwise, let it be null.</p></li>

   <li><p>If <var title="">element</var> is null, or if it is an
   element with no <code title="attr-input-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-value">value</a></code>
   attribute, return the empty string.</p></li>

   <li><p>Otherwise, return the value of <var title="">element</var>'s
   <code title="attr-input-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-value">value</a></code> attribute.</p></li>

  </ol><p>On setting, the <code title="dom-RadioNodeList-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-radionodelist-value">value</a></code> IDL attribute must run
  the following steps:</p>

  <ol><li><p>Let <var title="">element</var> be the first element in
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a> represented by the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#radionodelist">RadioNodeList</a></code> object that is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code>
   element whose <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute
   is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#radio-button-state-(type=radio)" title="attr-input-type-radio">Radio Button</a>
   state and whose <code title="attr-input-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-value">value</a></code> content
   attribute is present and equal to the new value, if any. Otherwise,
   let it be null.</p></li>

   <li><p>If <var title="">element</var> is not null, then set its
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fe-checked" title="concept-fe-checked">checkedness</a> to true.</p>

  </li></ol><!--
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E...%0A%3Cform%20name%3D%22a%22%3E%3Cinput%20id%3D%22x%22%20name%3D%22y%22%3E%3Cinput%20name%3D%22x%22%20id%3D%22y%22%3E%3C/form%3E%0A%3Cscript%3E%0A%20%20var%20x%3B%0A%20%20w%28x%20%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20x%5B0%5D.parentNode.removeChild%28x%5B0%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20w%28x%20%3D%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%3C/script%3E%0A
--></div>


  <h5 id="htmloptionscollection-0"><span class="secno">2.8.2.3 </span>HTMLOptionsCollection</h5>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection">HTMLOptionsCollection</a></code> interface represents a
  list of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-option-element">option</a></code> elements. It is always rooted on a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element and has attributes and methods that
  manipulate that element's descendants.</p>

  <pre class="idl">interface <dfn id="htmloptionscollection">HTMLOptionsCollection</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> {
  // inherits <span title="dom-HTMLCollection-item">item</span>()
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-length" title="dom-HTMLOptionsCollection-length">length</a>; // overrides inherited length
  legacycaller getter object? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-nameditem" title="dom-HTMLOptionsCollection-namedItem">namedItem</a>(DOMString name); // overrides inherited namedItem()
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-setter" title="dom-HTMLOptionsCollection-setter">setter creator</a> void (unsigned long index, <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionelement">HTMLOptionElement</a> option);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-add" title="dom-HTMLOptionsCollection-add">add</a>((<a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionelement">HTMLOptionElement</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptgroupelement">HTMLOptGroupElement</a>) element, optional (<a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> or long)? before = null);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-remove" title="dom-HTMLOptionsCollection-remove">remove</a>(long index);
           attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-selectedindex" title="dom-HTMLOptionsCollection-selectedIndex">selectedIndex</a>;
};</pre>

  <dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLOptionsCollection-length"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-length">length</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the number of elements in the collection.</p>
    <p>When set to a smaller number, truncates the number of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-option-element">option</a></code> elements in the corresponding container.</p>
    <p>When set to a greater number, adds new blank <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-option-element">option</a></code> elements to that container.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item">item</code>(<var title="">index</var>)</dt>
   <dt><var title="">collection</var>[<var title="">index</var>]</dt>
   <dt><var title="">collection</var>(<var title="">index</var>)</dt>
   <dd>
    <p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLOptionsCollection-namedItem"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">nodeList</var> = <var title="">collection</var> . <code title="dom-HTMLOptionsCollection-namedItem"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var>[<var title="">name</var>]</dt>
   <dt><var title="">collection</var>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns the item with <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">ID</a> or <code title="attr-option-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-option-name">name</a></code> <var title="">name</var> from the collection.</p>
    <p>If there are multiple matching items, then a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> object containing all those elements is returned.</p>
   </dd>

   <dt><var title="">collection</var> . <code title="dom-HTMLOptionsCollection-add"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-add">add</a></code>(<var title="">element</var> [, <var title="">before</var> ] )</dt>
   <dd>
    <p>Inserts <var title="">element</var> before the node given by <var title="">before</var>.</p>
    <p>The <var title="">before</var> argument can be a number, in
    which case <var title="">element</var> is inserted before the item
    with that number, or an element from the collection, in which case
    <var title="">element</var> is inserted before that element.</p>
    <p>If <var title="">before</var> is omitted, null, or a number out
    of range, then <var title="">element</var> will be added at the
    end of the list.</p>
    <p>This method will throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code>
    exception if <var title="">element</var> is an ancestor of the
    element into which it is to be inserted.</p>
   </dd>

   <dt><var title="">collection</var> . <code title="dom-HTMLOptionsCollection-selectedIndex"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-selectedindex">selectedIndex</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the index of the first selected item, if any, or
    −1 if there is no selected item.</p>

    <p>Can be set, to change the selection.</p>

   </dd>

  </dl><div class="impl">

  <p>The object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property indices</a> are as
  defined for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> objects.</p>

  <p>On getting, the <dfn id="dom-htmloptionscollection-length" title="dom-HTMLOptionsCollection-length"><code>length</code></dfn>
  attribute must return the number of nodes <a href="http://www.whatwg.org/specs/web-apps/current-work/#represented-by-the-collection">represented by the
  collection</a>.</p>

  <p>On setting, the behavior depends on whether the new value is
  equal to, greater than, or less than the number of nodes
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represented-by-the-collection">represented by the collection</a> at that time. If the
  number is the same, then setting the attribute must do nothing. If
  the new value is greater, then <var title="">n</var> new
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-option-element">option</a></code> elements with no attributes and no child nodes
  must be appended to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element on which the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted, where <var title="">n</var> is the difference between the two numbers (new
  value minus old value). Mutation events must be fired as if a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#documentfragment">DocumentFragment</a></code> containing the new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-option-element">option</a></code>
  elements had been inserted. If the new value is lower, then the
  last <var title="">n</var> nodes in the collection must be removed
  from their parent nodes, where <var title="">n</var> is the
  difference between the two numbers (old value minus new value).</p>

  <p class="note">Setting <code title="dom-HTMLOptionsCollection-length"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmloptionscollection-length">length</a></code> never removes
  or adds any <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-optgroup-element">optgroup</a></code> elements, and never adds new
  children to existing <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-optgroup-element">optgroup</a></code> elements (though it can
  remove children from them).</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-names">supported property names</a> consist of the values
  of all the <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> and <code title="attr-option-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-option-name">name</a></code> attributes of all the elements
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represented-by-the-collection">represented by the collection</a>.</p>

  <p>The <dfn id="dom-htmloptionscollection-nameditem" title="dom-HTMLOptionsCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> method must act according to the
  following algorithm:</p>

  <ol><li>If, at the time the method is called, there is exactly one node
   in the collection that has either an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute or a <code title="attr-option-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-option-name">name</a></code> attribute equal to <var title="">name</var>, then return that node and stop the
   algorithm.</li>

   <li>Otherwise, if there are no nodes in the collection that have
   either an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute or a <code title="attr-option-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-option-name">name</a></code> attribute equal to <var title="">name</var>, then return null and stop the algorithm.</li>

   <!-- IE returns an HTMLCollection instead; we may need to change to that for compat -->
   <li>Otherwise, create a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> object
   representing a <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a> view of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection">HTMLOptionsCollection</a></code> object, further filtered so that
   the only nodes in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> object are those that
   have either an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute or a <code title="attr-option-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-option-name">name</a></code> attribute equal to <var title="">name</var>. The nodes in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> object
   must be sorted in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.</li>

   <li>Return that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> object.</li>

  </ol><p>When the user agent is to <dfn id="dom-htmloptionscollection-setter" title="dom-HTMLOptionsCollection-setter">set the value of a new
  indexed property</dfn> for a given property index <var title="">index</var> to a new value <var title="">value</var>, it
  must run the following algorithm:</p>

  <ol><li><p>Let <var title="">length</var> be the number of nodes
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#represented-by-the-collection">represented by the collection</a>.</p></li>

   <li><p>Let <var title="">n</var> be <var title="">index</var> minus
   <var title="">length</var>.</p></li>

   <li><p>If <var title="">n</var> is greater than zero, then append
   <span title=""><var title="">n</var>-1</span> new
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-option-element">option</a></code> elements with no attributes and no child nodes
   to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element on which the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted. Mutation events must
   be fired as if a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#documentfragment">DocumentFragment</a></code> containing the new
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-option-element">option</a></code> elements had been inserted.</p></li>

   <li><p>If <var title="">n</var> is greater than or equal to zero,
   append <var title="">value</var> to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code>
   element. Otherwise, replace the <var title="">index</var>th element
   in the collection by <var title="">value</var>.</p></li>

  </ol><p>The <dfn id="dom-htmloptionscollection-add" title="dom-HTMLOptionsCollection-add"><code>add(<var title="">element</var>, <var title="">before</var>)</code></dfn>
  method must act according to the following algorithm:</p>

  <ol><li><p>If <var title="">element</var> is an ancestor of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element on which the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted, then throw a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code> exception.</p></li>

   <li><p>If <var title="">before</var> is an element, but that
   element isn't a descendant of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element on
   which the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted, then throw
   a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notfounderror">NotFoundError</a></code> exception.</p></li>

   <li><p>If <var title="">element</var> and <var title="">before</var> are the same element, then return and abort
   these steps.</p></li>

   <li><p>If <var title="">before</var> is a node, then let <var title="">reference</var> be that node. Otherwise, if <var title="">before</var> is an integer, and there is a <var title="">before</var>th node in the collection, let <var title="">reference</var> be that node. Otherwise, let <var title="">reference</var> be null.</p></li>

   <li><p>If <var title="">reference</var> is not null, let <var title="">parent</var> be the parent node of <var title="">reference</var>. Otherwise, let <var title="">parent</var>
   be the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element on which the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted.</p></li>

   <li><p>Act as if the DOM Core <code title="dom-Node-insertBefore"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-node-insertbefore">insertBefore()</a></code> method was
   invoked on the <var title="">parent</var> node, with <var title="">element</var> as the first argument and <var title="">reference</var> as the second argument.</p>

  </li></ol><p>The <dfn id="dom-htmloptionscollection-remove" title="dom-HTMLOptionsCollection-remove"><code>remove(<var title="">index</var>)</code></dfn> method must act according to
  the following algorithm:</p>

  <ol><li><p>If the number of nodes <a href="http://www.whatwg.org/specs/web-apps/current-work/#represented-by-the-collection">represented by the
   collection</a> is zero, abort these steps.</p></li>

   <li><p>If <var title="">index</var> is not a number greater than or
   equal to 0 and less than the number of nodes <a href="http://www.whatwg.org/specs/web-apps/current-work/#represented-by-the-collection">represented by
   the collection</a>, let <var title="">element</var> be the first
   element in the collection. Otherwise, let <var title="">element</var> be the <var title="">index</var>th element
   in the collection.</p></li>

   <li><p>Remove <var title="">element</var> from its parent
   node.</p></li>

  </ol><p>The <dfn id="dom-htmloptionscollection-selectedindex" title="dom-HTMLOptionsCollection-selectedIndex"><code>selectedIndex</code></dfn>
  IDL attribute must act like the identically named attribute on the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element on which the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted</p>

  <!-- see also http://ln.hixie.ch/?start=1161042744&count=1 -->

  </div>

<!--MD-->
  <div data-component="HTML Microdata (editor: Ian Hickson)"><!--TOPIC:Microdata-->

  <h5 id="htmlpropertiescollection-0"><span class="secno">2.8.2.4 </span>HTMLPropertiesCollection</h5>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlpropertiescollection">HTMLPropertiesCollection</a></code> interface represents a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#collections" title="collections">collection</a> of elements that add
  name-value pairs to a particular <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-item" title="concept-item">item</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#microdata">microdata</a>
  model.</p>

  <pre class="idl">interface <dfn id="htmlpropertiescollection">HTMLPropertiesCollection</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> {
  // inherits <span title="dom-HTMLCollection-length">length</span> and <span title="dom-HTMLCollection-item">item</span>()
  legacycaller getter <a href="http://www.whatwg.org/specs/web-apps/current-work/#propertynodelist">PropertyNodeList</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlpropertiescollection-nameditem" title="dom-HTMLPropertiesCollection-namedItem">namedItem</a>(DOMString name); // overrides inherited namedItem()
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringlist">DOMStringList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlpropertiescollection-names" title="dom-HTMLPropertiesCollection-names">names</a>;
};

typedef sequence&lt;any&gt; <dfn id="propertyvaluearray">PropertyValueArray</dfn>;

interface <dfn id="propertynodelist">PropertyNodeList</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a> {
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#propertyvaluearray">PropertyValueArray</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-propertynodelist-getvalues" title="dom-PropertyNodeList-getValues">getValues</a>();
};</pre>

  <dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLCollection-length">length</code></dt>
   <dd>
    <p>Returns the number of elements in the collection.</p>
   </dd>

   <dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item">item</code>(<var title="">index</var>)</dt>
   <dt><var title="">collection</var>[<var title="">index</var>]</dt>
   <dt><var title="">collection</var>(<var title="">index</var>)</dt>
   <dd>
    <p>Returns the element with index <var title="">index</var> from the collection. The items are sorted in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.</p>
   </dd>

   <dt><var title="">propertyNodeList</var> = <var title="">collection</var> . <code title="dom-HTMLPropertiesCollection-namedItem"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlpropertiescollection-nameditem">namedItem</a></code>(<var title="">name</var>)</dt>
   <dt><var title="">collection</var>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#propertynodelist">PropertyNodeList</a></code> object containing any elements that add a property named <var title="">name</var>.</p>
   </dd>

   <dt><var title="">collection</var>[<var title="">name</var>]</dt>
   <dd>
    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#propertynodelist">PropertyNodeList</a></code> object containing any elements that add a property named <var title="">name</var>. The <var title="">name</var> index has to be one of the values listed in the <code title="dom-HTMLPropertiesCollection-names"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlpropertiescollection-names">names</a></code> list.</p>
   </dd>

   <dt><var title="">collection</var> . <code title="dom-HTMLPropertiesCollection-names"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-htmlpropertiescollection-names">names</a></code></dt>
   <dd>
    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringlist">DOMStringList</a></code> with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#property-names">property names</a> of the elements in the collection.</p>
   </dd>

   <dt><var title="">propertyNodeList</var> . <code title="dom-PropertyNodeList-getVlues">getValues</code>()</dt>
   <dd>
    <p>Returns an array of the various values that the relevant elements have.</p>
   </dd>

  </dl><div class="impl">

  <p>The object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property indices</a> are as
  defined for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> objects.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-names">supported property names</a> consist of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#property-names">property names</a> of all the elements <a href="http://www.whatwg.org/specs/web-apps/current-work/#represented-by-the-collection">represented by
  the collection</a>.</p>

  <p>The <dfn id="dom-htmlpropertiescollection-names" title="dom-HTMLPropertiesCollection-names"><code>names</code></dfn>
  attribute must return a <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringlist">DOMStringList</a></code>
  object giving the <a href="http://www.whatwg.org/specs/web-apps/current-work/#property-names">property names</a> of all the elements
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represented-by-the-collection">represented by the collection</a>, listed in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree
  order</a>, but with duplicates removed, leaving only the first
  occurrence of each name. The same object must be returned each
  time.</p>

  <p>The <dfn id="dom-htmlpropertiescollection-nameditem" title="dom-HTMLPropertiesCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> method must return a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#propertynodelist">PropertyNodeList</a></code> object representing a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a> view of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlpropertiescollection">HTMLPropertiesCollection</a></code>
  object, further filtered so that the only nodes in the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#propertynodelist">PropertyNodeList</a></code> object are those that have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#property-names" title="property names">property name</a> equal to <var title="">name</var>. The nodes in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#propertynodelist">PropertyNodeList</a></code>
  object must be sorted in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>, and the same
  object must be returned each time a particular <var title="">name</var> is queried.</p>

  <hr><p>Members of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#propertynodelist">PropertyNodeList</a></code> interface inherited
  from the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> interface must behave as they would
  on a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> object.</p>

  <p>The <dfn id="dom-propertynodelist-getvalues" title="dom-PropertyNodeList-getValues"><code>getValues</code></dfn>
  method the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#propertynodelist">PropertyNodeList</a></code> object must return a newly
  constructed array whose values are the values obtained from the
  <code title="dom-itemValue"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-itemvalue">itemValue</a></code> DOM property of each of
  the elements represented by the object, in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree
  order</a>.</p>

  </div>

  </div><!--data-component-->
<!--MD-->


<!--TOPIC:DOM APIs-->
  <h4 id="domstringmap-0"><span class="secno">2.8.3 </span>DOMStringMap</h4>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap">DOMStringMap</a></code> interface represents a set of
  name-value pairs. It exposes these using the scripting language's
  native mechanisms for property access.</p>

  <div class="impl">

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap">DOMStringMap</a></code> object is instantiated, it is
  associated with three algorithms, one for getting the list of
  name-value pairs, one for setting names to certain values, and one
  for deleting names.</p>

  <pre class="idl">interface <dfn id="domstringmap">DOMStringMap</dfn> {
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domstringmap-nameditem" title="dom-DOMStringMap-namedItem">getter</a> DOMString (DOMString name);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domstringmap-setitem" title="dom-DOMStringMap-setItem">setter</a> void (DOMString name, DOMString value);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domstringmap-additem" title="dom-DOMStringMap-addItem">creator</a> void (DOMString name, DOMString value);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domstringmap-removeitem" title="dom-DOMStringMap-removeItem">deleter</a> void (DOMString name);
};</pre>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-names">supported property names</a> on a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap">DOMStringMap</a></code> object at any instant are the names of
  each pair returned from the algorithm for getting the list of
  name-value pairs at that instant.</p>

  <p>To <dfn id="dom-domstringmap-nameditem" title="dom-DOMStringMap-namedItem">determine the value of
  a named property</dfn> <var title="">name</var> in a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap">DOMStringMap</a></code>, the user agent must return the value
  component of the name-value pair whose name component is <var title="">name</var> in the list returned by the algorithm for
  getting the list of name-value pairs.</p>

  <p>To set the value of a <dfn id="dom-domstringmap-additem" title="dom-DOMStringMap-addItem">new</dfn> or <dfn id="dom-domstringmap-setitem" title="dom-DOMStringMap-setItem">existing</dfn> named property <var title="">name</var> to value <var title="">value</var>, the
  algorithm for setting names to certain values must be run, passing
  <var title="">name</var> as the name and the result of converting
  <var title="">value</var> to a <code>DOMString</code> as the
  value.</p>

  <p>To <dfn id="dom-domstringmap-removeitem" title="dom-DOMStringMap-removeItem">delete an existing
  named property</dfn> <var title="">name</var>, the algorithm for
  deleting names must be run, passing <var title="">name</var> as the
  name.</p>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap">DOMStringMap</a></code> interface definition
  here is only intended for JavaScript environments. Other language
  bindings will need to define how <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap">DOMStringMap</a></code> is to be
  implemented for those languages.</p>

  </div>

  <div class="example">

   <p>The <code title="dom-dataset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dataset">dataset</a></code> attribute on
   elements exposes the <code title="attr-data-*"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-*">data-*</a></code>
   attributes on the element.</p>

   <p>Given the following fragment and elements with similar
   constructions:</p>

   <pre>&lt;img class="tower" id="tower5" data-x="12" data-y="5"
     data-ai="robotarget" data-hp="46" data-ability="flames"
     src="towers/rocket.png alt="Rocket Tower"&gt;</pre>

   <p>...one could imagine a function <code title="">splashDamage()</code> that takes some arguments, the first
   of which is the element to process:</p>

   <pre>function splashDamage(node, x, y, damage) {
  if (node.classList.contains('tower') &amp;&amp; // checking the 'class' attribute
      node.dataset.x == x &amp;&amp; // reading the 'data-x' attribute
      node.dataset.y == y) { // reading the 'data-y' attribute
    var hp = parseInt(node.dataset.hp); // reading the 'data-hp' attribute
    hp = hp - damage;
    if (hp &lt; 0) {
      hp = 0;
      node.dataset.ai = 'dead'; // setting the 'data-ai' attribute
      delete node.dataset.ability; // removing the 'data-ability' attribute
    }
    node.dataset.hp = hp; // setting the 'data-hp' attribute
  }
}</pre>

  </div>


<!--CSSREF-->
  <h4 id="domelementmap-0"><span class="secno">2.8.4 </span>DOMElementMap</h4>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap">DOMElementMap</a></code> interface represents a set of
  name-element mappings. It exposes these using the scripting
  language's native mechanisms for property access.</p>

  <div class="impl">

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap">DOMElementMap</a></code> object is instantiated, it is
  associated with three algorithms, one for getting the list of
  name-element mappings, one for mapping a name to a certain element,
  and one for deleting mappings by name.</p>

  <pre class="idl">interface <dfn id="domelementmap">DOMElementMap</dfn> {
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domelementmap-nameditem" title="dom-DOMElementMap-namedItem">getter</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a> (DOMString name);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domelementmap-setitem" title="dom-DOMElementMap-setItem">setter</a> void (DOMString name, <a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a> value);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domelementmap-additem" title="dom-DOMElementMap-addItem">creator</a> void (DOMString name, <a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a> value);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domelementmap-removeitem" title="dom-DOMElementMap-removeItem">deleter</a> void (DOMString name);
};</pre>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-names">supported property names</a> on a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap">DOMElementMap</a></code> object at any instant are the names for
  each mapping returned from the algorithm for getting the list of
  name-element mappings at that instant.</p>

  <p>To <dfn id="dom-domelementmap-nameditem" title="dom-DOMElementMap-namedItem">determine the value
  of a named property</dfn> <var title="">name</var> in a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap">DOMElementMap</a></code>, the user agent must return the element
  component of the name-element mapping whose name component is <var title="">name</var> in the list returned by the algorithm for
  getting the list of name-element mappings.</p>

  <p>To set the value of a <dfn id="dom-domelementmap-additem" title="dom-DOMElementMap-addItem">new</dfn> or <dfn id="dom-domelementmap-setitem" title="dom-DOMElementMap-setItem">existing</dfn> named property <var title="">name</var> to value <var title="">value</var>, the
  algorithm for mapping a name to a certain element must be run,
  passing <var title="">name</var> as the name <var title="">value</var> as the element.</p>

  <p>To <dfn id="dom-domelementmap-removeitem" title="dom-DOMElementMap-removeItem">delete an existing
  named property</dfn> <var title="">name</var>, the algorithm for
  deleting mappings must be run, passing <var title="">name</var> as
  the name component of the mapping to be deleted.</p>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap">DOMElementMap</a></code> interface definition
  here is only intended for JavaScript environments. Other language
  bindings will need to define how <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap">DOMElementMap</a></code> is to be
  implemented for those languages.</p>

  </div>
<!--CSSREF-->



  <h4 id="transferable-objects"><span class="secno">2.8.5 </span>Transferable objects</h4>

  <p>Some objects support being copied and closed in one operation.
  This is called <i>transferring</i> the object, and is used in
  particular to transfer ownership of unsharable or expensive
  resources across worker boundaries.</p>

  <pre class="idl">[NoInterfaceObject]
interface <dfn id="transferable">Transferable</dfn> { };</pre>

  <div class="impl">

  <p>To <dfn id="transfer-a-transferable-object">transfer a <code>Transferable</code> object</dfn> to a
  new owner, the user agent must run the steps defined for the type of
  object in question. The steps will return a new object of the same
  type, and will permanently <dfn id="concept-transferable-neutered" title="concept-Transferable-neutered">neuter</dfn> the original
  object. (This is an irreversible and non-idempotent operation; once
  an object has been transferred, it cannot be transferred, or indeed
  used, again.)</p>

  </div>

  <p>The following <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#transferable">Transferable</a></code> types exist:</p>

  <ul class="brief"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#messageport">MessagePort</a></code>
   <!--<li><code>ArrayBuffer</code>-->
  </li></ul><div class="impl">

  <h4 id="safe-passing-of-structured-data"><span class="secno">2.8.6 </span>Safe passing of structured data</h4>

  <p>When a user agent is required to obtain a <dfn id="structured-clone">structured
  clone</dfn> of a value, optionally with a <i>transfer map</i>, it
  must run the following algorithm, which either returns a separate
  value, or throws an exception. If a <i>transfer map</i> is provided,
  it consists of an association list of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#transferable">Transferable</a></code>
  objects to placeholder objects.</p>

  <ol><li><p>Let <var title="">input</var> be the value being
   cloned.</p></li>

   <li><p>Let <var title="">transfer map</var> be the <i>transfer
   map</i> passed to the algorithm, if any, or the empty list
   otherwise.</p></li>

   <li><p>Let <var title="">memory</var> be an association list of
   pairs of objects, initially empty. This is used to handle duplicate
   references. In each pair of objects, one is called the
   <em>source</em> object and the other the <em>destination</em>
   object.</p></li>

   <li><p>For each mapping in <var title="">transfer map</var>, add a
   mapping from the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#transferable">Transferable</a></code> object (the source
   object) to the placeholder object (the destination object) to <var title="">memory</var>.</p></li>

   <li><p>Let <var title="">output</var> be the value resulting from
   calling the <a href="http://www.whatwg.org/specs/web-apps/current-work/#internal-structured-cloning-algorithm">internal structured cloning algorithm</a> with
   <var title="">input</var> as the "<var title="">input</var>"
   argument, and <var title="">memory</var> as the "<var title="">memory</var>" argument.</p></li>

   <li><p>Return <var title="">output</var>.</p></li>

  </ol><p>The <dfn id="internal-structured-cloning-algorithm">internal structured cloning algorithm</dfn> is always
  called with two arguments, <var title="">input</var> and <var title="">memory</var>, and its behavior is as follows:</p>

  <ol><li><p>If <var title="">input</var> is the source object of a pair
   of objects in <var title="">memory</var>, then return the
   destination object in that pair of objects and abort these
   steps.</p></li>

   <li><p>If <var title="">input</var> is a primitive value, then
   return that value and abort these steps.</p></li>

   <li>

    <p>The <var title="">input</var> value is an object. Jump to the
    appropriate step below:</p>

    <dl class="switch"><dt>If <var title="">input</var> is a Boolean object</dt>

     <dd><p>Let <var title="">output</var> be a newly constructed Boolean object with the same value as <var title="">input</var>.</p></dd>

     <dt>If <var title="">input</var> is a Number object</dt>

     <dd><p>Let <var title="">output</var> be a newly constructed Number object with the same value as <var title="">input</var>.</p></dd>

     <dt>If <var title="">input</var> is a String object</dt>

     <dd><p>Let <var title="">output</var> be a newly constructed String object with the same value as <var title="">input</var>.</p></dd>

     <dt>If <var title="">input</var> is a <code>Date</code> object</dt>

     <dd><p>Let <var title="">output</var> be a newly constructed <code>Date</code> object with the same value as <var title="">input</var>.</p></dd>

     <dt>If <var title="">input</var> is a <code>RegExp</code> object</dt>

     <dd>

      <p>Let <var title="">output</var> be a newly constructed <code>RegExp</code> object with the same pattern and flags as <var title="">input</var>.</p>

      <p class="note">The value of the <code title="">lastIndex</code> property is not copied.</p>

     </dd>

     <dt>If <var title="">input</var> is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#file">File</a></code> object</dt>

     <dd><p>Let <var title="">output</var> be a newly constructed <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#file">File</a></code> object corresponding to the same underlying data.</p></dd>

     <dt>If <var title="">input</var> is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#blob">Blob</a></code> object</dt>

     <dd><p>Let <var title="">output</var> be a newly constructed <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#blob">Blob</a></code> object corresponding to the same underlying data.</p></dd>

     <dt>If <var title="">input</var> is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#filelist">FileList</a></code> object</dt>

     <dd><p>Let <var title="">output</var> be a newly constructed <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#filelist">FileList</a></code> object containing a list of newly constructed <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#file">File</a></code> objects corresponding to the same underlying data as those in <var title="">input</var>, maintaining their relative order.</p></dd>

     <dt>If <var title="">input</var> is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object</dt>

     <dd><p>Let <var title="">output</var> be a newly constructed
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object whose <code title="dom-imagedata-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-width">width</a></code> and <code title="dom-imagedata-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-height">height</a></code> attributes have values
     equal to the corresponding attributes on <var title="">input</var>, and whose <code title="dom-imagedata-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-data">data</a></code> attribute has the value
     obtained from invoking the <a href="http://www.whatwg.org/specs/web-apps/current-work/#internal-structured-cloning-algorithm">internal structured cloning
     algorithm</a> recursively with the value of the <code title="dom-imagedata-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-data">data</a></code> attribute on <var title="">input</var> as the new "<var title="">input</var>"
     argument and <var title="">memory</var> as the new "<var title="">memory</var>" argument.</p></dd>

<!--(when we add this, make sure to throw DataCloneError if these objects are already closed)
     <dt>If <var title="">input</var> is an <code>ArrayBuffer</code> object</dt>

     <dd><p>...</p></dd>

     <dt>If <var title="">input</var> is an <code>ArrayBufferView</code> object</dt>

     <dd><p>...</p></dd>
-->

     <dt>If <var title="">input</var> is an Array object</dt>

     <dd>

      <p>Let <var title="">output</var> be a newly constructed empty
      <code>Array</code> object whose <code title="">length</code> is
      equal to the <code title="">length</code> of <var title="">input</var>.</p>

      <p class="note">This means that the length of sparse arrays is
      preserved.</p>

     </dd>

     <dt>If <var title="">input</var> is an Object object</dt>

     <dd><p>Let <var title="">output</var> be a newly constructed empty <code title="">Object</code> object.</p></dd>

     <dt>If <var title="">input</var> is an object that another specification defines how to clone</dt>

     <dd><p>Let <var title="">output</var> be a clone of the object as defined by the other specification.</p></dd>

     <dt>If <var title="">input</var> is another native object type (e.g. <code>Error</code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a></code>)</dt>
     <dt>If <var title="">input</var> is a host object (e.g. a DOM node)</dt>

     <dd><p>Throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#datacloneerror">DataCloneError</a></code> exception and abort
     the overall <a href="http://www.whatwg.org/specs/web-apps/current-work/#structured-clone">structured clone</a> algorithm.</p></dd>

    </dl></li>

   <li><p>Add a mapping from <var title="">input</var> (the source
   object) to <var title="">output</var> (the destination object) to
   <var title="">memory</var>.</p></li>

   <li>

    <p>If <var title="">input</var> is an Array object or an Object
    object, then, for each enumerable property in <var title="">input</var>, add a new property to <var title="">output</var> having the same name, and having a value
    created from invoking the <a href="http://www.whatwg.org/specs/web-apps/current-work/#internal-structured-cloning-algorithm">internal structured cloning
    algorithm</a> recursively with the value of the property as the
    "<var title="">input</var>" argument and <var title="">memory</var> as the "<var title="">memory</var>"
    argument. The order of the properties in the <var title="">input</var> and <var title="">output</var> objects must
    be the same, and any properties that involve running script must
    be processed in that same order. If obtaining the value of the
    property involved executing script, and that script threw an
    uncaught exception, then abort the overall <a href="http://www.whatwg.org/specs/web-apps/current-work/#structured-clone">structured
    clone</a> algorithm, with that exception being passed through
    to the caller.</p>

    <p class="note">This does not walk the prototype chain.</p>

    <p class="note">Property descriptors, setters, getters, and
    analogous features are not copied in this process. For example,
    the property in the input could be marked as read-only, but in the
    output it would just have the default state (typically read-write,
    though that could depend on the scripting environment).</p>

    <p class="note">Properties of Array objects are not treated any
    differently than those of other Objects. In particular, this means
    that non-index properties of arrays are copied as well.</p>

   </li>

   <li><p>Return <var title="">output</var>.</p></li>

  </ol><p class="note">This algorithm preserves cycles and preserves the
  identity of duplicate objects in graphs.</p>

  </div>


  <h4 id="dom-feature-strings"><span class="secno">2.8.7 </span>DOM feature strings</h4>

  <p>DOM3 Core defines mechanisms for checking for interface support,
  and for obtaining implementations of interfaces, using <a href="http://www.w3.org/TR/DOM-Level-3-Core/core.html#DOMFeatures">feature
  strings</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a></p>

  <p>Authors are strongly discouraged from using these, as they are
  notoriously unreliable and imprecise. Authors are encouraged to rely
  on explicit feature testing or the graceful degradation behavior
  intrinsic to some of the features in this specification.</p>

  <div class="impl">

  <p>For historical reasons, user agents should return the true value
  when the <dfn id="hasfeature" title="hasFeature"><code>hasFeature(<var title="">feature</var>, <var title="">version</var>)</code></dfn>
  method of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domimplementation">DOMImplementation</a></code> interface is invoked
  with <var title="">feature</var> set to either "<code title="">HTML</code>" or "<code title="">XHTML</code>" and <var title="">version</var> set to either "<code>1.0</code>" or
  "<code>2.0</code>".</p>

  </div>


  <div class="impl">

  <h4 id="garbage-collection"><span class="secno">2.8.8 </span>Garbage collection</h4>

  <p>There is an <dfn id="implied-strong-reference">implied strong reference</dfn> from any IDL
  attribute that returns a pre-existing object to that object.</p>

  <div class="example">

   <p>For example, the <code>document.location</code> attribute means
   that there is a strong reference from a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>
   object to its <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#location">Location</a></code> object. Similarly, there is
   always a strong reference from a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> to any
   descendant nodes, and from any node to its owner
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>

  </div>

  </div>


<!--TOPIC:HTML Syntax and Parsing-->
  <h3 id="namespaces"><span class="secno">2.9 </span>Namespaces</h3>

  <p>The <dfn id="html-namespace-0">HTML namespace</dfn> is: <code>http://www.w3.org/1999/xhtml</code></p>

  <p>The <dfn id="mathml-namespace">MathML namespace</dfn> is: <code>http://www.w3.org/1998/Math/MathML</code></p>

  <p>The <dfn id="svg-namespace">SVG namespace</dfn> is: <code>http://www.w3.org/2000/svg</code></p>

  <p>The <dfn id="xlink-namespace">XLink namespace</dfn> is: <code>http://www.w3.org/1999/xlink</code></p>

  <p>The <dfn id="xml-namespace">XML namespace</dfn> is: <code>http://www.w3.org/XML/1998/namespace</code></p>

  <p>The <dfn id="xmlns-namespace">XMLNS namespace</dfn> is: <code>http://www.w3.org/2000/xmlns/</code></p>

  <hr><p>Data mining tools and other user agents that perform operations
  on content without running scripts, evaluating CSS or XPath
  expressions, or otherwise exposing the resulting DOM to arbitrary
  content, may "support namespaces" by just asserting that their DOM
  node analogues are in certain namespaces, without actually exposing
  the above strings.</p>

  <hr><p class="note">In <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">the HTML syntax</a>, namespace prefixes
  and namespace declarations do not have the same effect as in XML.
  For instance, the colon has no special meaning in HTML element
  names.</p>


<!--TOPIC:DOM APIs-->
  <h2 id="dom"><span class="secno">3 </span>Semantics, structure, and APIs of HTML documents</h2>

  <h3 id="documents"><span class="secno">3.1 </span>Documents</h3>

  <p>Every XML and HTML document in an HTML UA is represented by a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a></p>

  <p><dfn id="the-document&#39;s-address">The document's address</dfn> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>
  that is set when the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is created. <dfn id="the-document&#39;s-current-address">The
  document's current address</dfn> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>
  that can change during the lifetime of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>,
  for example when the user <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigates</a> to
  a <a href="http://www.whatwg.org/specs/web-apps/current-work/#scroll-to-fragid" title="navigate-fragid">fragment identifier</a> on the
  page or when the <code title="dom-history-pushState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-history-pushstate">pushState()</a></code> method is called
  with a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>. <span class="impl"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-current-address">The document's
  current address</a> must be set to <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the document's
  address</a> when the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is created.</span></p>

  <p class="note">Interactive user agents typically expose <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-current-address">the
  document's current address</a> in their user interface.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is created by a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-script" title="concept-script">script</a> using the <code title="dom-DOMImplementation-createDocument"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domimplementation-createdocument">createDocument()</a></code>
  or <code title="dom-DOMHTMLImplementation-createHTMLDocument">createHTMLDocument()</code>
  APIs, <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the document's address</a> is the same as <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the
  document's address</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#script's-document">script's document</a>, and
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is both <a href="http://www.whatwg.org/specs/web-apps/current-work/#ready-for-post-load-tasks">ready for post-load
  tasks</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#completely-loaded">completely loaded</a> immediately.</p>

  <p>Each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object has a <dfn id="reload-override-flag">reload override
  flag</dfn> that is originally unset. The flag is set by the <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">document.open()</a></code> and <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">document.write()</a></code> methods in certain
  situations. When the flag is set, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> also has
  a <dfn id="reload-override-buffer">reload override buffer</dfn> which is a Unicode string that
  is used as the source of the document when it is reloaded.</p>

  <p>When the user agent is to perform <dfn id="an-overridden-reload">an overridden
  reload</dfn>, it must act as follows:</p>

  <ol><li><p>Let <var title="">source</var> be the value of the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a>'s
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#reload-override-buffer">reload override buffer</a>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate">Navigate</a><!--DONAV reload after d.open()--> the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> to a resource whose source is <var title="">source</var>, with <a href="http://www.whatwg.org/specs/web-apps/current-work/#replacement-enabled">replacement enabled</a>. When
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate">navigate</a> algorithm creates a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>
   object for this purpose, set that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#reload-override-flag">reload override flag</a> and set its <a href="http://www.whatwg.org/specs/web-apps/current-work/#reload-override-buffer">reload override
   buffer</a> to <var title="">source</var>.</p></li>

  </ol><h4 id="documents-in-the-dom"><span class="secno">3.1.1 </span>Documents in the DOM</h4>

  <p>The DOM Core specification defines a <code title="DOM
  Document"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document">Document</a></code> interface, which this specification
  extends significantly:</p>

  <pre class="idl">[OverrideBuiltins]
partial interface <dfn id="document">Document</dfn> {
  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#resource-metadata-management">resource metadata management</a>
  [PutForwards=<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-location-href" title="dom-location-href">href</a>] readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#location">Location</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-location" title="dom-document-location">location</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-url" title="dom-document-URL">URL</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-domain" title="dom-document-domain">domain</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-referrer" title="dom-document-referrer">referrer</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-cookie" title="dom-document-cookie">cookie</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-lastmodified" title="dom-document-lastModified">lastModified</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-readystate" title="dom-document-readyState">readyState</a>;

  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tree-accessors">DOM tree accessors</a>
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-nameditem" title="dom-document-namedItem">getter</a> object (DOMString name);
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#document.title" title="dom-document-title">title</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-dir" title="dom-document-dir">dir</a>;
           attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-body" title="dom-document-body">body</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlheadelement">HTMLHeadElement</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-head" title="dom-document-head">head</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-images" title="dom-document-images">images</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-embeds" title="dom-document-embeds">embeds</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-plugins" title="dom-document-plugins">plugins</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-links" title="dom-document-links">links</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-forms" title="dom-document-forms">forms</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-scripts" title="dom-document-scripts">scripts</a>;
  NodeList <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-getelementsbyname" title="dom-document-getElementsByName">getElementsByName</a>(DOMString elementName);
<!--MD-->  NodeList <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-getitems" title="dom-document-getItems">getItems</a>(optional DOMString typeNames); // <a href="http://www.whatwg.org/specs/web-apps/current-work/#microdata">microdata</a> <!--WARNING: ALSO DUPLICATED IN MICRODATA SECTION--><!--MD-->
<!--CSSREF-->  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap">DOMElementMap</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-csselementmap" title="dom-document-cssElementMap">cssElementMap</a>;<!--CSSREF-->

  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#dynamic-markup-insertion">dynamic markup insertion</a>
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open" title="dom-document-open">open</a>(optional DOMString type, optional DOMString replace);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#windowproxy">WindowProxy</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open" title="dom-document-open">open</a>(DOMString url, DOMString name, DOMString features, optional boolean replace);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-close" title="dom-document-close">close</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write" title="dom-document-write">write</a>(DOMString... text);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-writeln" title="dom-document-writeln">writeln</a>(DOMString... text);

  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#editing">user interaction</a>
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#windowproxy">WindowProxy</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-defaultview" title="dom-document-defaultView">defaultView</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-activeelement" title="dom-document-activeElement">activeElement</a>;
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-hasfocus" title="dom-document-hasFocus">hasFocus</a>();
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#designMode" title="dom-document-designMode">designMode</a>;
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#execCommand" title="dom-document-execCommand">execCommand</a>(DOMString commandId);
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#execCommand" title="dom-document-execCommand">execCommand</a>(DOMString commandId, boolean showUI);
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#execCommand" title="dom-document-execCommand">execCommand</a>(DOMString commandId, boolean showUI, DOMString value);
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-querycommandenabled" title="dom-document-queryCommandEnabled">queryCommandEnabled</a>(DOMString commandId);
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-querycommandindeterm" title="dom-document-queryCommandIndeterm">queryCommandIndeterm</a>(DOMString commandId);
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-querycommandstate" title="dom-document-queryCommandState">queryCommandState</a>(DOMString commandId);
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-querycommandsupported" title="dom-document-queryCommandSupported">queryCommandSupported</a>(DOMString commandId);
  DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-querycommandvalue" title="dom-document-queryCommandValue">queryCommandValue</a>(DOMString commandId);
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-commands" title="dom-document-commands">commands</a>;

  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-idl-attributes">event handler IDL attributes</a>
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onabort" title="handler-onabort">onabort</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onblur" title="handler-onblur">onblur</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncancel" title="handler-oncancel">oncancel</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncanplay" title="handler-oncanplay">oncanplay</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncanplaythrough" title="handler-oncanplaythrough">oncanplaythrough</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onchange" title="handler-onchange">onchange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onclick" title="handler-onclick">onclick</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onclose" title="handler-onclose">onclose</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncontextmenu" title="handler-oncontextmenu">oncontextmenu</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncuechange" title="handler-oncuechange">oncuechange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondblclick" title="handler-ondblclick">ondblclick</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondrag" title="handler-ondrag">ondrag</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragend" title="handler-ondragend">ondragend</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragenter" title="handler-ondragenter">ondragenter</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragleave" title="handler-ondragleave">ondragleave</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragover" title="handler-ondragover">ondragover</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragstart" title="handler-ondragstart">ondragstart</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondrop" title="handler-ondrop">ondrop</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondurationchange" title="handler-ondurationchange">ondurationchange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onemptied" title="handler-onemptied">onemptied</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onended" title="handler-onended">onended</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onerror" title="handler-onerror">onerror</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onfocus" title="handler-onfocus">onfocus</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oninput" title="handler-oninput">oninput</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oninvalid" title="handler-oninvalid">oninvalid</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onkeydown" title="handler-onkeydown">onkeydown</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onkeypress" title="handler-onkeypress">onkeypress</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onkeyup" title="handler-onkeyup">onkeyup</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onload" title="handler-onload">onload</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onloadeddata" title="handler-onloadeddata">onloadeddata</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onloadedmetadata" title="handler-onloadedmetadata">onloadedmetadata</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onloadstart" title="handler-onloadstart">onloadstart</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmousedown" title="handler-onmousedown">onmousedown</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmousemove" title="handler-onmousemove">onmousemove</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmouseout" title="handler-onmouseout">onmouseout</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmouseover" title="handler-onmouseover">onmouseover</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmouseup" title="handler-onmouseup">onmouseup</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmousewheel" title="handler-onmousewheel">onmousewheel</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onpause" title="handler-onpause">onpause</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onplay" title="handler-onplay">onplay</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onplaying" title="handler-onplaying">onplaying</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onprogress" title="handler-onprogress">onprogress</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onratechange" title="handler-onratechange">onratechange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onreset" title="handler-onreset">onreset</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onscroll" title="handler-onscroll">onscroll</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onseeked" title="handler-onseeked">onseeked</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onseeking" title="handler-onseeking">onseeking</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onselect" title="handler-onselect">onselect</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onshow" title="handler-onshow">onshow</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onstalled" title="handler-onstalled">onstalled</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onsubmit" title="handler-onsubmit">onsubmit</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onsuspend" title="handler-onsuspend">onsuspend</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ontimeupdate" title="handler-ontimeupdate">ontimeupdate</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onvolumechange" title="handler-onvolumechange">onvolumechange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onwaiting" title="handler-onwaiting">onwaiting</a>;

  // special <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-idl-attributes">event handler IDL attributes</a> that only apply to Document objects
  [TreatNonCallableAsNull,LenientThis] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onreadystatechange" title="handler-onreadystatechange">onreadystatechange</a>;
};</pre>


<!--ADD-TOPIC:Security-->
  <h4 id="security-document"><span class="secno">3.1.2 </span>Security</h4>

  <p id="security">User agents <span class="impl">must</span> throw a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code> exception whenever any properties of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object are accessed by scripts whose
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-script-origin">effective script origin</a> is not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin" title="same
  origin">same</a> as the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-script-origin">effective
  script origin</a>.</p>
<!--REMOVE-TOPIC:Security-->



  <h4 id="resource-metadata-management"><span class="secno">3.1.3 </span><dfn>Resource metadata management</dfn></h4>

  <dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-URL"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-url">URL</a></code></dt>
   <dd>
    <p>Returns <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the document's address</a>.</p>
   </dd>

   <dt><var title="">document</var> . <code title="dom-document-referrer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-referrer">referrer</a></code></dt>
   <dd>
    <p>Returns <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-current-address" title="the document&#39;s current address">the
    address</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> from which the user
    navigated to this one, unless it was blocked or there was no such
    document, in which case it returns the empty string.</p>
    <p>The <code title="rel-noreferrer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-noreferrer">noreferrer</a></code> link
    type can be used to block the referrer.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-document-url" title="dom-document-URL"><code>URL</code></dfn>
  attribute must return <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the document's address</a>.</p>

  <p>The <dfn id="dom-document-referrer" title="dom-document-referrer"><code>referrer</code></dfn> attribute
  must return either the <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-current-address" title="the document&#39;s current
  address">current address</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a>
  of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#source-browsing-context">source browsing context</a> <em>at the time the
  navigation was started</em> (that is, the page which <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigated</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>
  to the current document), with any <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-fragment" title="url-fragment">&lt;fragment&gt;</a> component removed; or
  the empty string if there is no such originating page, or if the UA
  has been configured not to report referrers in this case, or if the
  navigation was initiated for a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a> with a <code title="rel-noreferrer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-noreferrer">noreferrer</a></code> keyword.</p>

  </div>

  <p class="note">In the case of HTTP, the <code title="dom-document-referrer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-referrer">referrer</a></code> IDL attribute will
  match the <code title="http-referer">Referer</code> (sic) header
  that was sent when <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching</a> the current
  page.</p>

  <p class="note">Typically user agents are configured to not report
  referrers in the case where the referrer uses an encrypted protocol
  and the current page does not (e.g. when navigating from an <code title="">https:</code> page to an <code title="">http:</code>
  page).</p>

  <hr><dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-cookie"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-cookie">cookie</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the HTTP cookies that apply to the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>. If there are no cookies or cookies can't be
    applied to this resource, the empty string will be returned.</p>
    <p>Can be set, to add a new cookie to the element's set of HTTP
    cookies.</p>
    <p>If the contents are <a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxed-origin-browsing-context-flag" title="sandboxed origin browsing
    context flag">sandboxed into a unique origin</a> (e.g. in an
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> with the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code> attribute), a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code> exception will be thrown on getting and
    setting.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-document-cookie" title="dom-document-cookie"><code>cookie</code></dfn>
  attribute represents the cookies of the resource from which the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> was created.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object that falls into one of the
  following conditions is a <dfn id="cookie-free-document-object">cookie-free <code>Document</code>
  object</dfn>:</p>

  <ul><li>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
   context</a>.</li>

   <li>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address" title="the document&#39;s
   address">address</a> does not use a server-based naming
   authority.</li>

  </ul><!--Other specifications can also define <code>Document</code>
  objects as being <span title="cookie-free Document
  object">cookie-free <code>Document</code> objects</span>.--><p id="sandboxCookies">On getting, if the document is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#cookie-free-document-object">cookie-free <code>Document</code> object</a>, then the user
  agent must return the empty string. Otherwise, if the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> is not a
  scheme/host/port tuple, the user agent must throw a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code> exception. Otherwise, the user agent must
  first <a href="http://www.whatwg.org/specs/web-apps/current-work/#obtain-the-storage-mutex">obtain the storage mutex</a> and then return the
  cookie-string for <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the document's address</a> for a
  "non-HTTP" API, <a href="http://www.whatwg.org/specs/web-apps/current-work/#decoded-as-utf-8,-with-error-handling">decoded as UTF-8, with error handling</a>.
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCOOKIES">[COOKIES]</a></p>

  <p>On setting, if the document is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#cookie-free-document-object">cookie-free
  <code>Document</code> object</a>, then the user agent must do
  nothing. Otherwise, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> is not a scheme/host/port tuple, the user agent
  must throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code> exception. Otherwise, the
  user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#obtain-the-storage-mutex">obtain the storage mutex</a> and then act
  as it would when <a href="http://www.whatwg.org/specs/web-apps/current-work/#receives-a-set-cookie-string" title="receives a
  set-cookie-string">receiving a set-cookie-string</a> for
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the document's address</a> via a "non-HTTP" API, consisting
  of the new value encoded as UTF-8. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCOOKIES">[COOKIES]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3629">[RFC3629]</a></p>

  <p class="note">Since the <code title="dom-document-cookie"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-cookie">cookie</a></code> attribute is accessible
  across frames, the path restrictions on cookies are only a tool to
  help manage which cookies are sent to which parts of the site, and
  are not in any way a security feature.</p>

  <hr></div>

  <dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-lastmodified"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-lastmodified">lastModified</a></code></dt>
   <dd>
    <p>Returns the date of the last modification to the document, as
    reported by the server, in the form "<code title="">MM/DD/YYYY&nbsp;hh:mm:ss</code>", in the user's local
    time zone.</p>
    <p>If the last modification date is not known, the current time is
    returned instead.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-document-lastmodified" title="dom-document-lastModified"><code>lastModified</code></dfn>
  attribute, on getting, must return the date and time of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s source file's last modification, in the
  user's local time zone, in the following format:</p>

  <ol><li> The month component of the date. </li>

   <li> A U+002F SOLIDUS character (/). </li>

   <li> The day component of the date. </li>

   <li> A U+002F SOLIDUS character (/). </li>

   <li> The year component of the date. </li>

   <li> A U+0020 SPACE character. </li>

   <li> The hours component of the time. </li>

   <li> A U+003A COLON character (:). </li>

   <li> The minutes component of the time. </li>

   <li> A U+003A COLON character (:). </li>

   <li> The seconds component of the time. </li>

  </ol><p>All the numeric components above, other than the year, must be
  given as two digits in the range U+0030 DIGIT ZERO (0) to U+0039
  DIGIT NINE (9) representing the number in base ten, zero-padded if
  necessary. The year must be given as the shortest possible string of
  four or more digits in the range U+0030 DIGIT ZERO (0) to U+0039
  DIGIT NINE (9) representing the number in base ten, zero-padded if
  necessary.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s source file's last modification date
  and time must be derived from relevant features of the networking
  protocols used, e.g. from the value of the HTTP <code title="http-last-modified">Last-Modified</code> header of the
  document, or from metadata in the file system for local files. If
  the last modification date and time are not known, the attribute
  must return the current date and time in the above format.</p>

  <hr></div>

  <dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-readystate">readyState</a></code></dt>
   <dd>
    <p>Returns "<code title="">loading</code>" while the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is loading, "<code title="">interactive</code>" once it is finished parsing but still loading sub-resources, and "<code title="">complete</code>" once it has loaded.</p>
    <p>The <code title="event-readystatechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-readystatechange">readystatechange</a></code> event fires on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object when this value changes.</p>
   </dd>

  </dl><div class="impl">

  <p>Each document has a <dfn id="current-document-readiness">current document readiness</dfn>. When a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object is created, it must have its
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-document-readiness">current document readiness</a> set to the string "<code title="">loading</code>"
  if the document is associated with an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> or an
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a>, or to the string "<code title="">complete</code>" otherwise.
  Various algorithms during page loading affect this value. When the
  value is set, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
  named <dfn id="event-readystatechange" title="event-readystatechange"><code>readystatechange</code></dfn>
  at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is said to have an <dfn id="active-parser">active
  parser</dfn> if it is associated with an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> or
  an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a> that has not yet been <a href="http://www.whatwg.org/specs/web-apps/current-work/#stop-parsing" title="stop
  parsing">stopped</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#abort-a-parser" title="abort a
  parser">aborted</a>.</p>

  <p>The <dfn id="dom-document-readystate" title="dom-document-readyState"><code>readyState</code></dfn> IDL
  attribute must, on getting, return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-document-readiness">current document
  readiness</a>.</p>

  </div>



  <h4 id="dom-tree-accessors"><span class="secno">3.1.4 </span><dfn>DOM tree accessors</dfn></h4>

  <p><dfn id="the-html-element-0">The <code>html</code> element</dfn> of a document is the
  document's root element, if there is one and it's an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> element, or null otherwise.</p>

  <hr><dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-head"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-head">head</a></code></dt>
   <dd>
    <p>Returns <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element-0">the <code>head</code> element</a>.</p>
   </dd>

  </dl><p><dfn id="the-head-element-0">The <code>head</code> element</dfn> of a document is the
  first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element that is a child of <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element-0">the
  <code>html</code> element</a>, if there is one, or null
  otherwise.</p>

  <div class="impl">

  <p>The <dfn id="dom-document-head" title="dom-document-head"><code>head</code></dfn>
  attribute, on getting, must return <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element-0">the <code>head</code>
  element</a> of the document (a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element or
  null).</p>

  </div>

  <hr><dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#document.title">title</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the document's title, as given by <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element-0">the
    <code>title</code> element</a>.</p>
    <p>Can be set, to update the document's title. If there is no
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element-0" title="the head element"><code>head</code> element</a>,
    the new value is ignored.</p>
    <p>In SVG documents, the <code>SVGDocument</code> interface's
    <code title="dom-svg-title">title</code> attribute takes
    precedence.</p>
   </dd>

  </dl><p><dfn id="the-title-element-0">The <code>title</code> element</dfn> of a document is the
  first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element in the document (in tree order), if
  there is one, or null otherwise.</p>

  <div class="impl">

  <p>The <dfn id="document.title" title="dom-document-title"><code>title</code></dfn> attribute must,
  on getting, run the following algorithm:</p>

  <ol><li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a> is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svg">svg</a></code>
   element in the "<code title="">http://www.w3.org/2000/svg</code>"
   namespace, and the user agent supports SVG, then return the value
   that would have been returned by the IDL attribute of the same name
   on the <code>SVGDocument</code> interface. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSVG">[SVG]</a></p></li>

   <li><p>Otherwise, let <var title="">value</var> be a concatenation
   of the data of all the child <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes of <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element-0">the
   <code>title</code> element</a>, in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>, or
   the empty string if <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element-0">the <code>title</code> element</a> is
   null.</p></li>

   <li><p>Replace any sequence of one or more consecutive <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a> in <var title="">value</var> with a single U+0020 SPACE character.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace">Strip leading and trailing whitespace</a> from <var title="">value</var>.</p></li>

   <li><p>Return <var title="">value</var>.</p></li>

  </ol><p>On setting, the following algorithm must be run. Mutation events
  must be fired as appropriate.</p>

  <ol><li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a> is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svg">svg</a></code>
   element in the "<code title="">http://www.w3.org/2000/svg</code>"
   namespace, and the user agent supports SVG, then the setter must
   act as if it was the setter for the IDL attribute of the same name
   on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> interface defined by the SVG
   specification. Stop the algorithm here. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSVG">[SVG]</a></p></li>

   <li>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element-0">the <code>title</code> element</a> is null and
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element-0">the <code>head</code> element</a> is null, then the
   attribute must do nothing. Stop the algorithm here.</li>

   <li>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element-0">the <code>title</code> element</a> is null, then a
   new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element must be created and appended to
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element-0">the <code>head</code> element</a>. Let <var title="">element</var> be that element. Otherwise, let <var title="">element</var> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element-0">the <code>title</code>
   element</a>.</li>

   <li>The children of <var title="">element</var> (if any) must all
   be removed.</li>

   <li>A single <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node whose data is the new value
   being assigned must be appended to <var title="">element</var>.</li>

  </ol><p>The <code title="dom-document-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#document.title">title</a></code> IDL attribute
  defined above must replace the attribute of the same name on the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> interface defined by the SVG specification
  when the user agent supports both HTML and SVG. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSVG">[SVG]</a></p>

  </div>

  <hr><dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-body"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-body">body</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body element</a>.</p>
    <p>Can be set, to replace <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body element</a>.</p>
    <p>If the new value is not a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#frameset">frameset</a></code> element, this will throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code> exception.</p>
   </dd>

  </dl><p><dfn id="the-body-element-0">The body element</dfn> of a document is the first child of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element-0">the <code>html</code> element</a> that is either a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element or a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#frameset">frameset</a></code> element. If
  there is no such element, it is null.</p>

  <div class="impl">

  <p>The <dfn id="dom-document-body" title="dom-document-body"><code>body</code></dfn>
  attribute, on getting, must return <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body element</a> of
  the document (either a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element, a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#frameset">frameset</a></code> element, or null). On setting, the following
  algorithm must be run:</p>

  <ol><!-- if changes are requested:
    http://lxr.mozilla.org/seamonkey/source/content/html/document/src/nsHTMLDocument.cpp
    search for ::GetBody ::SetBody
    http://trac.webkit.org/projects/webkit/browser/trunk/WebCore/html/HTMLDocument.cpp
    search for ::setBody
    http://trac.webkit.org/projects/webkit/browser/trunk/WebCore/dom/Document.cpp
    search for ::body
   --><li>If the new value is not a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> or
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#frameset">frameset</a></code> element, then throw a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code> exception and abort these
   steps.</li>

   <li>Otherwise, if the new value is the same as <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body
   element</a>, do nothing. Abort these steps.</li>

   <li>Otherwise, if <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body element</a> is not null, then
   replace that element with the new value in the DOM, as if the root
   element's <code title="">replaceChild()</code> method had been
   called with the new value and <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0" title="the body element">the
   incumbent body element</a> as its two arguments respectively,
   then abort these steps.</li>

   <li>Otherwise, <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body element</a> is null. Append
   the new value to the root element.</li>

  </ol></div>

  <hr><dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-images"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-images">images</a></code></dt>
   <dd>
    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> elements in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>
   </dd>

   <dt><var title="">document</var> . <code title="dom-document-embeds"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-embeds">embeds</a></code></dt>
   <dt><var title="">document</var> . <code title="dom-document-plugins"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-plugins">plugins</a></code></dt>
   <dd>
    <p>Return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> elements in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>
   </dd>

   <dt><var title="">document</var> . <code title="dom-document-links"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-links">links</a></code></dt>
   <dd>
    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that have <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attributes.</p>
   </dd>

   <dt><var title="">document</var> . <code title="dom-document-forms"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-forms">forms</a></code></dt>
   <dd>
    <p>Return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code> elements in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>
   </dd>

   <dt><var title="">document</var> . <code title="dom-document-scripts"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-scripts">scripts</a></code></dt>
   <dd>
    <p>Return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>
   </dd>

  </dl><div class="impl">

  <!-- these all return the same object each time because of a rule in
  the collection section -->

  <p>The <dfn id="dom-document-images" title="dom-document-images"><code>images</code></dfn>
  attribute must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> node, whose filter matches only
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> elements.</p>

  <p>The <dfn id="dom-document-embeds" title="dom-document-embeds"><code>embeds</code></dfn>
  attribute must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> node, whose filter matches only
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> elements.</p>

  <p>The <dfn id="dom-document-plugins" title="dom-document-plugins"><code>plugins</code></dfn>
  attribute must return the same object as that returned by the <code title="dom-document-embeds"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-embeds">embeds</a></code> attribute.</p>

  <p>The <dfn id="dom-document-links" title="dom-document-links"><code>links</code></dfn>
  attribute must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> node, whose filter matches only <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>
  elements with <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code>
  attributes and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements with <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attributes.</p>

  <p>The <dfn id="dom-document-forms" title="dom-document-forms"><code>forms</code></dfn>
  attribute must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> node, whose filter matches only
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code> elements.</p>

  <p>The <dfn id="dom-document-scripts" title="dom-document-scripts"><code>scripts</code></dfn>
  attribute must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> node, whose filter matches only
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements.</p>

  <hr></div>

  <dl class="domintro"><dt><var title="">collection</var> = <var title="">document</var> . <code title="dom-document-getElementsByName"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-getelementsbyname">getElementsByName</a></code>(<var title="">name</var>)</dt>
   <dd>
    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> of elements in the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that have a <code title="">name</code>
    attribute with the value <var title="">name</var>.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-document-getelementsbyname" title="dom-document-getElementsByName"><code>getElementsByName(<var title="">name</var>)</code></dfn> method takes a string <var title="">name</var>, and must return a <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a>
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> containing all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a>
  in that document that have a <code title="">name</code> attribute
  whose value is equal to the <var title="">name</var> argument (in a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a> manner), in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.
  When the method is invoked on a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object again
  with the same argument, the user agent may return the same as the
  object returned by the earlier call. In other cases, a new
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#nodelist">NodeList</a></code> object must be returned.</p>

  </div>

<!--CSSREF-->
  <hr><dl class="domintro"><dt><var title="">element</var> . <code title="dom-document-cssElementMap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-csselementmap">cssElementMap</a></code></dt>
   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap">DOMElementMap</a></code> object for the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> representing the current <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-element-reference-identifier" title="CSS
    element reference identifier">CSS element reference
    identifiers</a>.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-document-csselementmap" title="dom-document-cssElementMap"><code>cssElementMap</code></dfn>
  IDL attribute allows authors to define <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-element-reference-identifier" title="CSS element
  reference identifier">CSS element reference identifiers</a>,
  which are used in certain CSS features to override the normal <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">ID</a>-based mapping. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSIMAGES">[CSSIMAGES]</a></p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is created, it must be associated
  with an initially-empty <dfn id="css-id-overrides-list">CSS ID overrides list</dfn>, which
  consists of a list of mappings each of which consists of a string
  name mapped to an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a></code> node.</p>

  <p>Each entry in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-id-overrides-list">CSS ID overrides list</a>, while it is
  in the list and is either <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document" title="in a Document">in the
  <code>Document</code></a> or is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>, or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, defines a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-element-reference-identifier">CSS element reference identifier</a> mapping the given name
  to the given <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a></code>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSIMAGES">[CSSIMAGES]</a></p>

  <p>On getting, the <code title="dom-document-cssElementMap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-csselementmap">cssElementMap</a></code> IDL
  attribute must return a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domelementmap">DOMElementMap</a></code> object,
  associated with the following algorithms, which expose the current
  mappings:</p>

  <dl><dt>The algorithm for getting the list of name-element mappings</dt>

   <dd>

    <p>Return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-id-overrides-list">CSS ID overrides
    list</a>, maintaining the order in which the entries were
    originally added to the list.</p>

   </dd>

   <dt>The algorithm for for mapping a name to a certain element</dt>

   <dd>

    <p>Let <var title="">name</var> be the name passed to the
    algorithm and <var title="">element</var> be the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a></code> passed to the algorithm.</p>

    <p>If <var title="">element</var> is null, run the algorithm for
    deleting mappings by name, passing it <var title="">name</var>.</p>

    <p>Otherwise, if there is an entry in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-id-overrides-list">CSS ID overrides list</a> whose name is <var title="">name</var>, replace its current value with <var title="">element</var>.</p>

    <p>Otherwise, add a mapping to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-id-overrides-list">CSS ID overrides list</a> whose name is <var title="">name</var> and whose element is <var title="">element</var>.</p>

   </dd>

   <dt>The algorithm for deleting mappings by name</dt>

   <dd>

    <p>If there is an entry in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-id-overrides-list">CSS
    ID overrides list</a> whose name is the name passed to this
    algorithm, remove it. This also undefines the <a href="http://www.whatwg.org/specs/web-apps/current-work/#css-element-reference-identifier">CSS element
    reference identifier</a> for that name. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSIMAGES">[CSSIMAGES]</a></p>

   </dd>

  </dl><p>The same object must be returned each time.</p>

  </div>
<!--CSSREF-->

  <div class="impl">

  <hr><p id="dom-document-namedItem-which">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>
  interface <a href="http://www.whatwg.org/specs/web-apps/current-work/#support-named-properties" title="support named properties">supports named
  properties</a>. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-names">supported property names</a> at any
  moment consist of the values of the <code title="attr-name">name</code> content attributes of all the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-applet-element">applet</a></code>,
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#exposed">exposed</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code>,
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code>,
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>,
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>, and
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#exposed">exposed</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>
  elements in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that have <code title="attr-name">name</code> content attributes, and the values of
  the <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> content attributes of all the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-applet-element">applet</a></code> and
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#exposed">exposed</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>
  elements in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that have <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> content attributes, and the values of the
  <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> content attributes of all the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>
  elements in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that have both <code title="attr-name">name</code> content attributes and <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> content attributes.</p>

  <p>To <a href="http://www.whatwg.org/specs/web-apps/current-work/#determine-the-value-of-a-named-property">determine the value of a named property</a> <var title="">name</var> when <dfn id="dom-document-nameditem" title="dom-document-namedItem">the
  <code>Document</code> object is indexed for property
  retrieval</dfn>, the user agent must return the value obtained using
  the following steps:</p>

  <ol><li>

    <p>Let <var title="">elements</var> be the list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-nameditem-filter" title="dom-document-namedItem-filter">named elements</a> with
    the name <var title="">name</var> in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.

    </p><p class="note">There will be at least one such element, by
    definition.<!-- (If there wasn't, then this algorithm wouldn't
    have been invoked by Web IDL.) --></p>

   </li>

   <li>

    <p>If <var title="">elements</var> has only one element, and that
    element is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element, then return the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#windowproxy">WindowProxy</a></code> object of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing
    context</a> represented by that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element,
    and abort these steps.</p>

   </li>

   <li>

    <p>Otherwise, if <var title="">elements</var> has only one
    element, return that element and abort these steps.</p>

   </li>

   <li>

    <p>Otherwise return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> node, whose filter matches only <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-nameditem-filter" title="dom-document-namedItem-filter">named elements</a> with
    the name <var title="">name</var>.</p> <!-- the same one each time
    is returned, because of the rule under collections -->

   </li>

  <!--
  Note that this named getter overrides built-in properties, as in:
     http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A...%3Ciframe%20name%3Dbody%3E%3C%2Fiframe%3E%3Cscript%3Ew(document.body)%3C%2Fscript%3E
  This is what the "OverrideBuiltins" bit means in the IDL.
  -->

  </ol><p><dfn id="dom-document-nameditem-filter" title="dom-document-nameditem-filter">Named elements</dfn>
  with the name <var title="">name</var>, for the purposes of the
  above algorithm, are those that are either:</p>

  <ul><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-applet-element">applet</a></code>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#exposed">exposed</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code>,
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>, or
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#exposed">exposed</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements that have a <code title="attr-name">name</code> content attribute whose value is <var title="">name</var>, or</li>

   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-applet-element">applet</a></code> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#exposed">exposed</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>
   elements that have an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> content
   attribute whose value is <var title="">name</var>, or</li>

   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> elements that have an <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> content attribute whose value is <var title="">name</var>, and that have a <code title="attr-name">name</code> content attribute present also.</li>

  </ul><p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element is said to
  be <dfn id="exposed">exposed</dfn> if it has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#exposed">exposed</a>
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> ancestor, and, for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements,
  is additionally either not showing its <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>
  or has no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> descendants.</p>

  </div>

  <hr><p class="note">The <code title="dom-document-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-dir">dir</a></code>
  attribute on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> interface is defined
  along with the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> content
  attribute.</p>



  <div class="impl"> <!-- very deprecated API; use XHR instead -->

  <h4 id="loading-xml-documents"><span class="secno">3.1.5 </span>Loading XML documents</h4>

  <pre class="idl">partial interface <dfn id="xmldocument">XMLDocument</dfn> {
<!--SYNCLOAD           attribute boolean <span title="dom-XMLDocument-async">async</span>;
-->  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-xmldocument-load" title="dom-XMLDocument-load">load</a>(DOMString url);
};</pre>

  <!-- http://software.hixie.ch/utilities/js/live-dom-viewer/saved/576 -->
  <!-- http://software.hixie.ch/utilities/js/live-dom-viewer/saved/577 -->
  <!-- http://www.hixie.ch/tests/adhoc/dom/level0/document/load/001.html -->

<!--SYNCLOAD
  <p>The <dfn
  title="dom-XMLDocument-async"><code>async</code></dfn>
  attribute must initially be true. On getting, it must return its
  current value. On setting, its current value must be changed to the
  new value.</p>
-->
  <p>The <dfn id="dom-xmldocument-load" title="dom-XMLDocument-load"><code>load(<var title="">url</var>)</code></dfn> method must run the following
  steps:</p>

  <ol><!--SYNCLOAD
   <li><p>If <code title="dom-XMLDocument-async">async</code> is
   set to false and the <var title="">document</var> is
   <span>load-blocked</span>, return false and abort these
   steps.</p></li>
--><li><p>Let <var title="">document</var> be the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#xmldocument">XMLDocument</a></code>
   object on which the method was invoked.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">Resolve</a> the method's
   first argument, relative to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#entry-script">entry script</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#script's-base-url" title="script&#39;s base URL">base URL</a>. If this is not
   successful, throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code> exception and abort
   these steps. Otherwise, let <var title="">url</var> be the
   resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>.</p></li>

   <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of <var title="">url</var> is not
   the same as the <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of <var title="">document</var>, throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code>
   exception and abort these steps.</p></li>
<!--SYNCLOAD
   <li><p>If <code title="dom-XMLDocument-async">async</code> is
   set to false, let <var title="">document</var> be
   <dfn>load-blocked</dfn>.</p></li>
-->
   <li><p>Remove all child nodes of <var title="">document</var>,
   without firing any mutation events.</p></li> <!-- as of 2010-07-26,
   only Opera fired mutation events here. -->

   <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-document-readiness">current document readiness</a> of <var title="">document</var> to "<code title="">loading</code>".</p></li>

   <li><p><!--SYNCLOAD If <code title="dom-XMLDocument-async">async</code> is
   set to true, then run--> Run the remainder of these steps asynchronously,
   and return true from the method.<!--SYNCLOAD Otherwise, continue running these
   steps without yet returning.--></p></li>

   <li><p>Let <var title="">result</var> be a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>
   object.</p></li>

   <li><p>Let <var title="">success</var> be false.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">Fetch</a> <var title="">url</var> from the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of <var title="">document</var>, with the <i title="">synchronous flag</i> set and the <i title="">force
   same-origin flag</i> set.</p></li>

   <li>

    <p>If the fetch attempt was successful, and the resource's <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content-Type metadata</a> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-mime-type">XML
    MIME type</a>, then run these substeps:</p>

    <ol><li><p>Create a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a> associated with the
     <var title="">result</var> document.</p></li>

     <li><p>Pass this parser the fetched document.</p></li> <!-- no
     worries about scripts running; there's no browsing context for
     the document so scripts are automatically disabled -->

     <li><p>If there is an XML well-formedness or XML namespace
     well-formedness error, then remove all child nodes from <var title="">result</var>. Otherwise let <var title="">success</var>
     be true.</p></li>

    </ol></li>

   <li>

    <p><!--SYNCLOAD If <code title="dom-XMLDocument-async">async</code> is
    set to true, then <span>queue--> <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to run the following
    steps. <!--SYNCLOAD Otherwise, run them synchronously.--></p>

    <ol><li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-document-readiness">current document readiness</a> of <var title="">document</var> to "<code title="">complete</code>".</p></li>

     <li><p>Replace all the children of <var title="">document</var>
     by the children of <var title="">result</var> (even if it has no
     children), firing mutation events as if a
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#documentfragment">DocumentFragment</a></code> containing the new children had
     been inserted.</p></li> <!-- as of 2010-07-26, both Firefox and
     Opera fired mutation events here. -->

     <!-- If the document doesn't have no nodes here, at time of
     writing, Opera would leave the new nodes and drop the parsed
     ones, while Firefox would basically abort instead, failing to
     fire the 'load' event -->

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">Fire a simple event</a> named <code title="event-load">load</code> at <var title="">document</var>.</p></li>

    </ol></li>
<!--SYNCLOAD
   <li><p>If <code title="dom-XMLDocument-async">async</code>
   was set to false when this algorithm started, let <var
   title="">document</var> be no longer
   <span>load-blocked</span>.</p></li>

   <li><p>If <code title="dom-XMLDocument-async">async</code>
   was set to false when this algorithm started, return <var
   title="">success</var>.</p></li>
-->
  </ol></div>


<!--TOPIC:HTML-->
  <h3 id="elements"><span class="secno">3.2 </span>Elements</h3>

  <h4 id="semantics-0"><span class="secno">3.2.1 </span>Semantics</h4>

  <p>Elements, attributes, and attribute values in HTML are defined
  (by this specification) to have certain meanings (semantics). For
  example, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element represents an ordered list, and
  the <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code> attribute represents the
  language of the content.</p>

  <p>These definitions allow HTML processors, such as Web browsers or
  search engines, to present and use documents and applications in a
  wide variety of contexts that the author might not have
  considered.</p>

  <div class="example">

   <p>As a simple example, consider a Web page written by an author
   who only considered desktop computer Web browsers. Because HTML
   conveys <em>meaning</em>, rather than presentation, the same page
   can also be used by a small browser on a mobile phone, without any
   change to the page. Instead of headings being in large letters as
   on the desktop, for example, the browser on the mobile phone might
   use the same size text for the whole the page, but with the
   headings in bold.</p>

   <p>But it goes further than just differences in screen size: the
   same page could equally be used by a blind user using a browser
   based around speech synthesis, which instead of displaying the page
   on a screen, reads the page to the user, e.g. using headphones.
   Instead of large text for the headings, the speech browser might
   use a different volume or a slower voice.</p>

   <p>That's not all, either. Since the browsers know which parts of
   the page are the headings, they can create a document outline that
   the user can use to quickly navigate around the document, using
   keys for "jump to next heading" or "jump to previous heading". Such
   features are especially common with speech browsers, where users
   would otherwise find quickly navigating a page quite difficult.</p>

   <p>Even beyond browsers, software can make use of this information.
   Search engines can use the headings to more effectively index a
   page, or to provide quick links to subsections of the page from
   their results. Tools can use the headings to create a table of
   contents (that is in fact how this very specification's table of
   contents is generated).</p>

   <p>This example has focused on headings, but the same principle
   applies to all of the semantics in HTML.</p>

  </div>

  <p>Authors must not use elements, attributes, or attribute values
  for purposes other than their appropriate intended semantic purpose,
  as doing so prevents software from correctly processing the
  page.</p>

  <div class="example">

   <p>For example, the following document is non-conforming, despite
   being syntactically correct:</p>

   <pre class="bad">&lt;!DOCTYPE HTML&gt;
&lt;html lang="en-GB"&gt;
 &lt;head&gt; &lt;title&gt; Demonstration &lt;/title&gt; &lt;/head&gt;
 &lt;body&gt;
  &lt;table&gt;
   &lt;tr&gt; &lt;td&gt; My favourite animal is the cat. &lt;/td&gt; &lt;/tr&gt;
   &lt;tr&gt;
    &lt;td&gt;
     —&lt;a href="http://example.org/~ernest/"&gt;&lt;cite&gt;Ernest&lt;/cite&gt;&lt;/a&gt;,
     in an essay from 1992
    &lt;/td&gt;
   &lt;/tr&gt;
  &lt;/table&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

   <p>...because the data placed in the cells is clearly not tabular
   data (and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code> element mis-used). This would make
   software that relies on these semantics fail: for example, a speech
   browser that allowed a blind user to navigate tables in the
   document would report the quote above as a table, confusing the
   user; similarly, a tool that extracted titles of works from pages
   would extract "Ernest" as the title of a work, even though it's
   actually a person's name, not a title.</p>

   <p>A corrected version of this document might be:</p>

   <pre>&lt;!DOCTYPE HTML&gt;
&lt;html lang="en-GB"&gt;
 &lt;head&gt; &lt;title&gt; Demonstration &lt;/title&gt; &lt;/head&gt;
 &lt;body&gt;
  &lt;blockquote&gt;
   &lt;p&gt; My favourite animal is the cat. &lt;/p&gt;
  &lt;/blockquote&gt;
  &lt;p&gt;
   —&lt;a href="http://example.org/~ernest/"&gt;Ernest&lt;/a&gt;,
   in an essay from 1992
  &lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  </div>

  <div class="example">

   <p>This next document fragment, intended to represent the heading
   of a corporate site, is similarly non-conforming because the second
   line is not intended to be a heading of a subsection, but merely a
   subheading or subtitle (a subordinate heading for the same
   section).</p>

   <pre class="bad">&lt;body&gt;
 &lt;h1&gt;ABC Company&lt;/h1&gt;
 &lt;h2&gt;Leading the way in widget design since 1432&lt;/h2&gt;
 ...</pre>

   <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element is intended for these kinds of
   situations:</p>

   <pre>&lt;body&gt;
 &lt;hgroup&gt;
  &lt;h1&gt;ABC Company&lt;/h1&gt;
  &lt;h2&gt;Leading the way in widget design since 1432&lt;/h2&gt;
 &lt;/hgroup&gt;
 ...</pre>

  </div>

  <p>Authors must not use elements, attributes, or attribute values
  that are not permitted by this specification or <a href="http://www.whatwg.org/specs/web-apps/current-work/#other-applicable-specifications">other
  applicable specifications</a>, as doing so makes it significantly
  harder for the language to be extended in the future.</p>

  <div class="example">

   <p>In the next example, there is a non-conforming attribute value
   ("carpet") and a non-conforming attribute ("texture"), which
   is not permitted by this specification:</p>

   <pre class="bad">&lt;label&gt;Carpet: &lt;input type="carpet" name="c" texture="deep pile"&gt;&lt;/label&gt;</pre>

   <p>Here would be an alternative and correct way to mark this up:</p>

   <pre>&lt;label&gt;Carpet: &lt;input type="text" class="carpet" name="c" data-texture="deep pile"&gt;&lt;/label&gt;</pre>

  </div>

  <p>Through scripting and using other mechanisms, the values of
  attributes, text, and indeed the entire structure of the document
  may change dynamically while a user agent is processing it. The
  semantics of a document at an instant in time are those represented
  by the state of the document at that instant in time, and the
  semantics of a document can therefore change over time. User agents
  <span class="impl">must</span> update their presentation of the
  document as this occurs.</p>

  <p class="example">HTML has a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-progress-element">progress</a></code> element that
  describes a progress bar. If its "value" attribute is dynamically
  updated by a script, the UA would update the rendering to show the
  progress changing.</p>



<!--TOPIC:DOM APIs-->
  <h4 id="elements-in-the-dom"><span class="secno">3.2.2 </span>Elements in the DOM</h4>

  <p>The nodes representing <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> in the DOM
  <span class="impl">must</span> implement, and expose to scripts, the
  interfaces listed for them in the relevant sections of this
  specification. This includes <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> in <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML
  documents</a>, even when those documents are in another context
  (e.g. inside an XSLT transform).</p>

  <p>Elements in the DOM <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a>
  things; that is, they have intrinsic <em>meaning</em>, also known as
  semantics.</p>

  <p class="example">For example, an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element
  represents an ordered list.</p>

  <p>The basic interface, from which all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML
  elements</a>' interfaces inherit, <span class="impl">and which
  must be used by elements that have no additional
  requirements,</span> is the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code> interface.</p>

  <pre class="idl">interface <dfn id="htmlelement">HTMLElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a> {
  // <span>metadata attributes</span>
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-title" title="dom-title">title</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-lang" title="dom-lang">lang</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-translate" title="dom-translate">translate</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dir" title="dom-dir">dir</a>;
           attribute <span>DOMString</span> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-classname" title="dom-className">className</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domtokenlist">DOMTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-classlist" title="dom-classList">classList</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap">DOMStringMap</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dataset" title="dom-dataset">dataset</a>;

<!--MD-->  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#microdata">microdata</a> <!--WARNING: ALSO DUPLICATED IN MICRODATA SECTION-->
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-itemscope" title="dom-itemScope">itemScope</a>;
  [PutForwards=<span title="dom-DOMSettableTokenList-value">value</span>] readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-itemtype" title="dom-itemType">itemType</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-itemid" title="dom-itemId">itemId</a>;
  [PutForwards=<span title="dom-DOMSettableTokenList-value">value</span>] readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-itemref" title="dom-itemRef">itemRef</a>;
  [PutForwards=<span title="dom-DOMSettableTokenList-value">value</span>] readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-itemprop" title="dom-itemProp">itemProp</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlpropertiescollection">HTMLPropertiesCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-properties" title="dom-properties">properties</a>;
           attribute any <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-itemvalue" title="dom-itemValue">itemValue</a>;
<!--MD-->
  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#editing">user interaction</a>
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-hidden" title="dom-hidden">hidden</a>;
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-click" title="dom-click">click</a>();
           attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tabindex" title="dom-tabindex">tabIndex</a>;
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-focus" title="dom-focus">focus</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-blur" title="dom-blur">blur</a>();
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-accesskey" title="dom-accessKey">accessKey</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-accesskeylabel" title="dom-accessKeyLabel">accessKeyLabel</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-draggable" title="dom-draggable">draggable</a>;
  [PutForwards=<span title="dom-DOMSettableTokenList-value">value</span>] readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dropzone" title="dom-dropzone">dropzone</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-contenteditable" title="dom-contentEditable">contentEditable</a>;
  readonly attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-iscontenteditable" title="dom-isContentEditable">isContentEditable</a>;
           attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlmenuelement">HTMLMenuElement</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-contextmenu" title="dom-contextMenu">contextMenu</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-spellcheck" title="dom-spellcheck">spellcheck</a>;

  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#command-api">command API</a>
  readonly attribute DOMString? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-command-ro-commandtype" title="dom-command-ro-commandType">commandType</a>;
  readonly attribute DOMString? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-command-ro-commandlabel" title="dom-command-ro-commandLabel">commandLabel</a>;
  readonly attribute DOMString? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-command-ro-commandicon" title="dom-command-ro-commandIcon">commandIcon</a>;
  readonly attribute boolean? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-command-ro-commandhidden" title="dom-command-ro-commandHidden">commandHidden</a>;
  readonly attribute boolean? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-command-ro-commanddisabled" title="dom-command-ro-commandDisabled">commandDisabled</a>;
  readonly attribute boolean? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-command-ro-commandchecked" title="dom-command-ro-commandChecked">commandChecked</a>;<!-- v2COMMAND
  readonly attribute <span>HTMLCollection</span> <span title="dom-command-ro-commandTriggers">commandTriggers</span>;-->

  // <span>styling</span>
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#cssstyledeclaration">CSSStyleDeclaration</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-style" title="dom-style">style</a>;

  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-idl-attributes">event handler IDL attributes</a>
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onabort" title="handler-onabort">onabort</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onblur" title="handler-onblur">onblur</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncancel" title="handler-oncancel">oncancel</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncanplay" title="handler-oncanplay">oncanplay</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncanplaythrough" title="handler-oncanplaythrough">oncanplaythrough</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onchange" title="handler-onchange">onchange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onclick" title="handler-onclick">onclick</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onclose" title="handler-onclose">onclose</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncontextmenu" title="handler-oncontextmenu">oncontextmenu</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncuechange" title="handler-oncuechange">oncuechange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondblclick" title="handler-ondblclick">ondblclick</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondrag" title="handler-ondrag">ondrag</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragend" title="handler-ondragend">ondragend</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragenter" title="handler-ondragenter">ondragenter</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragleave" title="handler-ondragleave">ondragleave</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragover" title="handler-ondragover">ondragover</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragstart" title="handler-ondragstart">ondragstart</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondrop" title="handler-ondrop">ondrop</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondurationchange" title="handler-ondurationchange">ondurationchange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onemptied" title="handler-onemptied">onemptied</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onended" title="handler-onended">onended</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onerror" title="handler-onerror">onerror</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onfocus" title="handler-onfocus">onfocus</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oninput" title="handler-oninput">oninput</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oninvalid" title="handler-oninvalid">oninvalid</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onkeydown" title="handler-onkeydown">onkeydown</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onkeypress" title="handler-onkeypress">onkeypress</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onkeyup" title="handler-onkeyup">onkeyup</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onload" title="handler-onload">onload</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onloadeddata" title="handler-onloadeddata">onloadeddata</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onloadedmetadata" title="handler-onloadedmetadata">onloadedmetadata</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onloadstart" title="handler-onloadstart">onloadstart</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmousedown" title="handler-onmousedown">onmousedown</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmousemove" title="handler-onmousemove">onmousemove</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmouseout" title="handler-onmouseout">onmouseout</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmouseover" title="handler-onmouseover">onmouseover</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmouseup" title="handler-onmouseup">onmouseup</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmousewheel" title="handler-onmousewheel">onmousewheel</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onpause" title="handler-onpause">onpause</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onplay" title="handler-onplay">onplay</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onplaying" title="handler-onplaying">onplaying</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onprogress" title="handler-onprogress">onprogress</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onratechange" title="handler-onratechange">onratechange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onreset" title="handler-onreset">onreset</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onscroll" title="handler-onscroll">onscroll</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onseeked" title="handler-onseeked">onseeked</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onseeking" title="handler-onseeking">onseeking</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onselect" title="handler-onselect">onselect</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onshow" title="handler-onshow">onshow</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onstalled" title="handler-onstalled">onstalled</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onsubmit" title="handler-onsubmit">onsubmit</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onsuspend" title="handler-onsuspend">onsuspend</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ontimeupdate" title="handler-ontimeupdate">ontimeupdate</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onvolumechange" title="handler-onvolumechange">onvolumechange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onwaiting" title="handler-onwaiting">onwaiting</a>;
};

interface <dfn id="htmlunknownelement">HTMLUnknownElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> { };</pre>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code> interface holds methods and
  attributes related to a number of disparate features, and the
  members of this interface are therefore described in various
  different sections of this specification.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlunknownelement">HTMLUnknownElement</a></code> interface must be used for
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> that are not defined by this
  specification (or <a href="http://www.whatwg.org/specs/web-apps/current-work/#other-applicable-specifications">other applicable specifications</a>).</p>

  </div>


<!--TOPIC:HTML-->
  <h4 id="global-attributes"><span class="secno">3.2.3 </span><dfn>Global attributes</dfn></h4>

  <p>The following attributes are common to and may be specified on
  all <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a><span class="impl"> (even those not
  defined in this specification)</span>:</p>

  <ul class="brief"><li><code title="attr-accesskey"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-accesskey-attribute">accesskey</a></code></li>
   <li><code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code></li>
   <li><code title="attr-contenteditable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-contenteditable">contenteditable</a></code></li>
   <li><code title="attr-contextmenu"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-contextmenu">contextmenu</a></code></li>
   <li><code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code></li>
   <li><code title="attr-draggable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-draggable-attribute">draggable</a></code></li>
   <li><code title="attr-dropzone"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dropzone-attribute">dropzone</a></code></li>
   <li><code title="attr-hidden"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hidden-attribute">hidden</a></code></li>
   <li><code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code></li>
<!--INERT-->
   <li><code title="attr-inert"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-inert-attribute">inert</a></code></li>
<!--INERT-->
<!--MD--><!--WARNING: ALSO DUPLICATED IN MICRODATA SECTION -->
   <li><code title="attr-itemid"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-itemid">itemid</a></code></li>
   <li><code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code></li>
   <li><code title="attr-itemref"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-itemref">itemref</a></code></li>
   <li><code title="attr-itemscope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-itemscope">itemscope</a></code></li>
   <li><code title="attr-itemtype"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-itemtype">itemtype</a></code></li>
<!--MD-->
   <li><code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code></li>
   <li><code title="attr-spellcheck"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-spellcheck">spellcheck</a></code></li>
   <li><code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code></li>
   <li><code title="attr-tabindex"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tabindex">tabindex</a></code></li>
   <li><code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code></li>
   <li><code title="attr-translate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-translate">translate</a></code></li>
  </ul><div class="impl">

  <p>These attributes are only defined by this specification as
  attributes for <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a>. When this specification
  refers to elements having these attributes, elements from namespaces
  that are not defined as having these attributes must not be
  considered as being elements with these attributes.</p>

  <div class="example">

   <p>For example, in the following XML fragment, the "<code title="">bogus</code>" element does not have a <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute as defined in this
   specification, despite having an attribute with the literal name
   "<code title="">dir</code>". Thus, <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">the directionality</a>
   of the inner-most <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> element is '<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-rtl" title="concept-rtl">rtl</a>', inherited from the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> element indirectly through the "<code title="">bogus</code>" element.</p>

   <pre class="bad">&lt;div xmlns="http://www.w3.org/1999/html" dir="rtl"&gt;
 &lt;bogus xmlns="http://example.net/ns" dir="ltr"&gt;
  &lt;span xmlns="http://www.w3.org/1999/html"&gt;
  &lt;/span&gt;
 &lt;/bogus&gt;
&lt;/div&gt;</pre>

  </div>

  </div>

  <hr><p>The following <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-content-attributes">event handler content attributes</a> may
  be specified on any <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML elements">HTML
  element</a>:</p>

  <ul class="brief"><li><code title="handler-onabort"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onabort">onabort</a></code></li>
   <li><code title="handler-onblur"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onblur">onblur</a></code>*</li>
   <li><code title="handler-oncancel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncancel">oncancel</a></code></li>
   <li><code title="handler-oncanplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncanplay">oncanplay</a></code></li>
   <li><code title="handler-oncanplaythrough"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncanplaythrough">oncanplaythrough</a></code></li>
   <li><code title="handler-onchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onchange">onchange</a></code></li>
   <li><code title="handler-onclick"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onclick">onclick</a></code></li>
   <li><code title="handler-onclose"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onclose">onclose</a></code></li>
   <li><code title="handler-oncontextmenu"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncontextmenu">oncontextmenu</a></code></li>
   <li><code title="handler-oncuechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oncuechange">oncuechange</a></code></li>
   <li><code title="handler-ondblclick"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondblclick">ondblclick</a></code></li>
   <li><code title="handler-ondrag"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondrag">ondrag</a></code></li>
   <li><code title="handler-ondragend"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragend">ondragend</a></code></li>
   <li><code title="handler-ondragenter"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragenter">ondragenter</a></code></li>
   <li><code title="handler-ondragleave"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragleave">ondragleave</a></code></li>
   <li><code title="handler-ondragover"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragover">ondragover</a></code></li>
   <li><code title="handler-ondragstart"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondragstart">ondragstart</a></code></li>
   <li><code title="handler-ondrop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondrop">ondrop</a></code></li>
   <li><code title="handler-ondurationchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ondurationchange">ondurationchange</a></code></li>
   <li><code title="handler-onemptied"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onemptied">onemptied</a></code></li>
   <li><code title="handler-onended"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onended">onended</a></code></li>
   <li><code title="handler-onerror"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onerror">onerror</a></code>*</li>
   <li><code title="handler-onfocus"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onfocus">onfocus</a></code>*</li>
   <li><code title="handler-oninput"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oninput">oninput</a></code></li>
   <li><code title="handler-oninvalid"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-oninvalid">oninvalid</a></code></li>
   <li><code title="handler-onkeydown"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onkeydown">onkeydown</a></code></li>
   <li><code title="handler-onkeypress"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onkeypress">onkeypress</a></code></li>
   <li><code title="handler-onkeyup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onkeyup">onkeyup</a></code></li>
   <li><code title="handler-onload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onload">onload</a></code>*</li>
   <li><code title="handler-onloadeddata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onloadeddata">onloadeddata</a></code></li>
   <li><code title="handler-onloadedmetadata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onloadedmetadata">onloadedmetadata</a></code></li>
   <li><code title="handler-onloadstart"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onloadstart">onloadstart</a></code></li>
   <li><code title="handler-onmousedown"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmousedown">onmousedown</a></code></li>
   <li><code title="handler-onmousemove"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmousemove">onmousemove</a></code></li>
   <li><code title="handler-onmouseout"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmouseout">onmouseout</a></code></li>
   <li><code title="handler-onmouseover"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmouseover">onmouseover</a></code></li>
   <li><code title="handler-onmouseup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmouseup">onmouseup</a></code></li>
   <li><code title="handler-onmousewheel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onmousewheel">onmousewheel</a></code></li>
   <li><code title="handler-onpause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onpause">onpause</a></code></li>
   <li><code title="handler-onplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onplay">onplay</a></code></li>
   <li><code title="handler-onplaying"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onplaying">onplaying</a></code></li>
   <li><code title="handler-onprogress"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onprogress">onprogress</a></code></li>
   <li><code title="handler-onratechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onratechange">onratechange</a></code></li>
   <li><code title="handler-onreset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onreset">onreset</a></code></li>
   <li><code title="handler-onscroll"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onscroll">onscroll</a></code>*</li>
   <li><code title="handler-onseeked"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onseeked">onseeked</a></code></li>
   <li><code title="handler-onseeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onseeking">onseeking</a></code></li>
   <li><code title="handler-onselect"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onselect">onselect</a></code></li>
   <li><code title="handler-onshow"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onshow">onshow</a></code></li>
   <li><code title="handler-onstalled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onstalled">onstalled</a></code></li>
   <li><code title="handler-onsubmit"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onsubmit">onsubmit</a></code></li>
   <li><code title="handler-onsuspend"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onsuspend">onsuspend</a></code></li>
   <li><code title="handler-ontimeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-ontimeupdate">ontimeupdate</a></code></li>
   <li><code title="handler-onvolumechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onvolumechange">onvolumechange</a></code></li>
   <li><code title="handler-onwaiting"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onwaiting">onwaiting</a></code></li>
  </ul><p class="note">The attributes marked with an asterisk have a
  different meaning when specified on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> elements as
  those elements expose <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers">event handlers</a> of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code> object with the same names.</p>

  <p class="note">While these attributes apply to all elements, they
  are not useful on all elements. For example, only <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
  element">media elements</a> will ever receive a <code title="event-media-volumechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-volumechange">volumechange</a></code> event fired by
  the user agent.</p>

  <hr><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#custom-data-attribute" title="custom data attribute">Custom data attributes</a>
  (e.g. <code title="">data-foldername</code> or <code title="">data-msgid</code>) can be specified on any <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML elements">HTML element</a>, to store custom data
  specific to the page.</p>

  <hr><p>In <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a>, elements in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-namespace-0">HTML
  namespace</a> may have an <code title="">xmlns</code> attribute
  specified, if, and only if, it has the exact value
  "<code>http://www.w3.org/1999/xhtml</code>". This does not apply to
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML documents</a>.</p>

  <p class="note">In HTML, the <code title="">xmlns</code> attribute
  has absolutely no effect. It is basically a talisman. It is allowed
  merely to make migration to and from XHTML mildly easier. When
  parsed by an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a>, the attribute ends up in no
  namespace, not the "<code>http://www.w3.org/2000/xmlns/</code>"
  namespace like namespace declaration attributes in XML do.</p>

  <p class="note">In XML, an <code title="">xmlns</code> attribute is
  part of the namespace declaration mechanism, and an element cannot
  actually have an <code title="">xmlns</code> attribute in no
  namespace specified.</p>

  <hr><p>The XML specification also allows the use of the <code title="attr-xml-space">xml:space</code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-namespace">XML
  namespace</a> on any element in an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents" title="XML
  documents">XML document</a>. This attribute has no effect on
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a>, as the default behavior in HTML is to
  preserve whitespace. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXML">[XML]</a></p>

  <p class="note">There is no way to serialize the <code title="attr-xml-space">xml:space</code> attribute on <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML
  elements</a> in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html">text/html</a></code> syntax.</p>

  <hr><p>To enable assistive technology products to expose a more
  fine-grained interface than is otherwise possible with HTML elements
  and attributes, a set of <a href="http://www.whatwg.org/specs/web-apps/current-work/#wai-aria" title="WAI-ARIA">annotations for
  assistive technology products</a> can be specified (the ARIA
  <code title="attr-aria-role">role</code> and <code title="attr-aria-*">aria-*</code> attributes).</p>


  <h5 id="the-id-attribute"><span class="secno">3.2.3.1 </span>The <dfn title="attr-id"><code>id</code></dfn> attribute</h5>

  <p>The <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute specifies its
  element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">unique identifier (ID)</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a></p>

  <p>The value must be unique amongst all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">IDs</a> in the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#home-subtree">home
  subtree</a> and must contain at least one character. The value
  must not contain any <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
  characters</a>.</p>

  <!-- space characters are disallowed because space-separated lists
  of IDs otherwise would not be able to reach all valid IDs -->

  <p class="note">An element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">unique
  identifier</a> can be used for a variety of purposes, most
  notably as a way to link to specific parts of a document using
  fragment identifiers, as a way to target an element when scripting,
  and as a way to style a specific element from CSS.</p>

  <div class="impl">

  <p>Identifiers are opaque strings. Particular meanings should not be
  derived from the value of the <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code>
  attribute.</p>

  </div>


  <h5 id="the-title-attribute"><span class="secno">3.2.3.2 </span>The <dfn title="attr-title"><code>title</code></dfn> attribute</h5>

  <p>The <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> advisory information for the element, such
  as would be appropriate for a tooltip. On a link, this could be the
  title or a description of the target resource; on an image, it could
  be the image credit or a description of the image; on a paragraph,
  it could be a footnote or commentary on the text; on a citation, it
  could be further information about the source; on <a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">interactive
  content</a>, it could be a label for, or instructions for, use of
  the element; and so forth. The value is text.</p>

  <p>If this attribute is omitted from an element, then it implies
  that the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute of the
  nearest ancestor <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML elements">HTML element</a>
  with a <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute set is also
  relevant to this element. Setting the attribute overrides this,
  explicitly stating that the advisory information of any ancestors is
  not relevant to this element. Setting the attribute to the empty
  string indicates that the element has no advisory information.</p>

  <p>If the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute's value
  contains U+000A LINE FEED (LF) characters, the content is split into
  multiple lines. Each U+000A LINE FEED (LF) character represents a
  line break.</p>

  <div class="example">

   <p>Caution is advised with respect to the use of newlines in <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attributes.</p>

   <p>For instance, the following snippet actually defines an
   abbreviation's expansion <em>with a line break in it</em>:</p>

   <pre class="bad">&lt;p&gt;My logs show that there was some interest in &lt;abbr title="Hypertext
Transport Protocol"&gt;HTTP&lt;/abbr&gt; today.&lt;/p&gt;</pre>

  </div>

  <p>Some elements, such as <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code>, and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code>, define additional semantics for the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute beyond the semantics
  described above.</p>

  <div class="impl">

  <hr><p>The <dfn id="dom-title" title="dom-title"><code>title</code></dfn> IDL attribute
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code>
  content attribute.</p>

  </div>



  <h5 id="the-lang-and-xml:lang-attributes"><span class="secno">3.2.3.3 </span>The <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code> and <code title="attr-xml-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang">xml:lang</a></code> attributes</h5>

  <p>The <dfn id="attr-lang" title="attr-lang"><code>lang</code></dfn> attribute (in
  no namespace) specifies the primary language for the element's
  contents and for any of the element's attributes that contain
  text. Its value must be a valid BCP 47 language tag, or the empty
  string. Setting the attribute to the empty string indicates that the
  primary language is unknown<!-- UA conformance requirements for this
  are below -->. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBCP47">[BCP47]</a></p>

  <p>The <dfn id="attr-xml-lang" title="attr-xml-lang"><code title="">lang</code></dfn>
  attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-namespace">XML namespace</a> is defined in XML. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXML">[XML]</a></p>

  <p>If these attributes are omitted from an element, then the
  language of this element is the same as the language of its parent
  element, if any.</p>

  <p>The <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code> attribute in no namespace
  may be used on any <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML elements">HTML
  element</a>.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang" title="attr-xml-lang"><code title="">lang</code>
  attribute in the <span>XML namespace</span></a> may be used on
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> in <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML documents</a>, as well as
  elements in other namespaces if the relevant specifications allow it
  (in particular, MathML and SVG allow <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang" title="attr-xml-lang"><code title="">lang</code> attributes in the
  <span>XML namespace</span></a> to be specified on their
  elements). If both the <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code> attribute
  in no namespace and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang" title="attr-xml-lang"><code title="">lang</code> attribute in the <span>XML
  namespace</span></a> are specified on the same element, they must
  have exactly the same value when compared in an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
  case-insensitive</a> manner.</p>

  <p>Authors must not use the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang" title="attr-xml-lang"><code title="">lang</code> attribute in the <span>XML
  namespace</span></a> on <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML
  documents</a>. To ease migration to and from XHTML, authors may
  specify an attribute in no namespace with no prefix and with the
  literal localname "<code title="">xml:lang</code>" on <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML
  elements</a> in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a>, but such attributes
  must only be specified if a <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code>
  attribute in no namespace is also specified, and both attributes
  must have the same value when compared in an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
  case-insensitive</a> manner.</p>

  <p class="note">The attribute in no namespace with no prefix and
  with the literal localname "<code title="">xml:lang</code>" has no
  effect on language processing.</p>

  <div class="impl">

  <hr><p>To determine the <dfn id="language">language</dfn> of a node, user agents must
  look at the nearest ancestor element (including the element itself
  if the node is an element) that has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang" title="attr-xml-lang"><code title="">lang</code> attribute in the
  <span>XML namespace</span></a> set or is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML
  elements">HTML element</a> and has a <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code> in no namespace attribute set. That
  attribute specifies the language of the node (regardless of its
  value).</p>

  <p>If both the <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code> attribute in no
  namespace and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang" title="attr-xml-lang"><code title="">lang</code> attribute in the <span>XML
  namespace</span></a> are set on an element, user agents must use
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang" title="attr-xml-lang"><code title="">lang</code> attribute
  in the <span>XML namespace</span></a>, and the <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code> attribute in no namespace must be
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#ignore" title="ignore">ignored</a> for the purposes of determining
  the element's language.</p>

  <p>If none of the node's ancestors, including the <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root
  element</a>, have either attribute set, but there is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#pragma-set-default-language">pragma-set default language</a> set, then that is the
  language of the node. If there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#pragma-set-default-language">pragma-set default
  language</a> set, then language information from a higher-level
  protocol (such as HTTP), if any, must be used as the final fallback
  language instead. In the absence of any such language information,
  and in cases where the higher-level protocol reports multiple
  languages, the language of the node is unknown, and the
  corresponding language tag is the empty string.</p>

  <p>If the resulting value is not a recognized language tag, then it
  must be treated as an unknown language having the given language
  tag, distinct from all other languages. For the purposes of
  round-tripping or communicating with other services that expect
  language tags, user agents should pass unknown language tags
  through unmodified.</p>

  <p class="example">Thus, for instance, an element with <code title="">lang="xyzzy"</code> would be matched by the selector <code title="">:lang(xyzzy)</code> (e.g. in CSS), but it would not be
  matched by <code title="">:lang(abcde)</code>, even though both are
  equally invalid. Similarly, if a Web browser and screen reader
  working in unison communicated about the language of the element,
  the browser would tell the screen reader that the language was
  "xyzzy", even if it knew it was invalid, just in case the screen
  reader actually supported a language with that tag after all.</p>

  <p>If the resulting value is the empty string, then it must be
  interpreted as meaning that the language of the node is explicitly
  unknown.</p>

  <hr><p>User agents may use the element's language to determine proper
  processing or rendering (e.g. in the selection of appropriate fonts
  or pronunciations, for dictionary selection, or for the user
  interfaces of form controls such as date pickers). <!--User agents
  must not use the element's language to determine text
  directionality. (commented out because text directionality is a
  rendering-level concern.)--></p>

  <!-- Date pickers would use the language information for determining
  the language of months, for example. They should use the page's
  _locale_ to figure out the format itself, not the language. There's
  currently no way to determine the page's locale except by guessing
  from the charset and language... -->

  <hr><p>The <dfn id="dom-lang" title="dom-lang"><code>lang</code></dfn> IDL attribute
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code>
  content attribute in no namespace.</p>

  </div>



  <h5 id="the-translate-attribute"><span class="secno">3.2.3.4 </span>The <code title="attr-translate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-translate">translate</a></code> attribute</h5>

  <p>The <dfn id="attr-translate" title="attr-translate"><code>translate</code></dfn>
  attribute is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#enumerated-attribute">enumerated attribute</a> that is used to
  specify whether an element's attribute values and the values of its
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node children are to be translated when the page
  is localized, or whether to leave them unchanged.</p>

  <p>The attribute's keywords are the empty string, <code title="">yes</code>, and <code title="">no</code>. The empty string
  and the <code title="">yes</code> keyword map to the <i>yes</i>
  state. The <code title="">no</code> keyword maps to the <i>no</i>
  state. In addition, there is a third state, the <i>inherit</i>
  state, which is the <i>missing value default</i> (and the <i>invalid
  value default</i>).</p>

  <p>Each element has a <dfn id="translation-mode">translation mode</dfn>, which is in
  either the <a href="http://www.whatwg.org/specs/web-apps/current-work/#translate-enabled">translate-enabled</a> state or the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#no-translate">no-translate</a> state. If the element's <code title="attr-translate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-translate">translate</a></code> attribute is in the
  <i>yes</i> state, then the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#translation-mode">translation mode</a>
  is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#translate-enabled">translate-enabled</a> state. Otherwise, if the
  element's <code title="attr-translate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-translate">translate</a></code> attribute is
  in the <i>no</i> state, then the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#translation-mode">translation
  mode</a> is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#no-translate">no-translate</a> state. Otherwise,
  the element's <code title="attr-translate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-translate">translate</a></code>
  attribute is in the <i>inherit</i> state; in that case, the
  element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#translation-mode">translation mode</a> is in the same state as its
  parent element, if any, or in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#translate-enabled">translate-enabled</a>
  state, if the element is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a>.</p>

  <p>When an element is in the <dfn id="translate-enabled">translate-enabled</dfn> state, the
  element's attribute values and the values of its <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code>
  node children are to be translated when the page is localized.</p>

  <p>When an element is in the <dfn id="no-translate">no-translate</dfn> state, the
  element's attribute values and the values of its <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code>
  node children are to be left as-is when the page is localized, e.g.
  because the element contains a person's name or a the name of a
  computer program.</p>

  <div class="impl">

  <hr><p>The <dfn id="dom-translate" title="dom-translate"><code>translate</code></dfn> IDL
  attribute must, on getting, return true if the element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#translation-mode">translation mode</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#translate-enabled">translate-enabled</a>, and
  false otherwise. On setting, it must set the content attribute's
  value to "<code title="">yes</code>" if the new value is true, and
  set the content attribute's value to "<code title="">no</code>
  otherwise.</p>

  </div>

  <div class="example">

   <p>In this example, everything in the document is to be translated
   when the page is localised, except the sample keyboard input and
   sample program output:</p>

   <pre>&lt;!DOCTYPE HTML&gt;
&lt;html&gt; &lt;!-- default on the root element is translate=yes --&gt;
 &lt;head&gt;
  &lt;title&gt;The Bee Game&lt;/title&gt; &lt;!-- implied translate=yes inherited from ancestors --&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;p&gt;The Bee Game is a text adventure game in English.&lt;/p&gt;
  &lt;p&gt;When the game launches, the first thing you should do is type
  &lt;kbd <strong>translate=no</strong>&gt;eat honey&lt;/kbd&gt;. The game will respond with:&lt;/p&gt;
  &lt;pre&gt;&lt;samp <strong>translate=no</strong>&gt;Yum yum! That was some good honey!&lt;/samp&gt;&lt;/pre&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  </div>



  <h5 id="the-xml:base-attribute-(xml-only)"><span class="secno">3.2.3.5 </span>The <dfn title="attr-xml-base"><code>xml:base</code></dfn>
  attribute (XML only)</h5>

  <p>The <code title="attr-xml-base"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xml:base-attribute-(xml-only)">xml:base</a></code> attribute is
  defined in XML Base. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXMLBASE">[XMLBASE]</a></p>

  <p>The <code title="attr-xml-base"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xml:base-attribute-(xml-only)">xml:base</a></code> attribute may be
  used on elements of <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML documents</a>. Authors must not
  use the <code title="attr-xml-base"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xml:base-attribute-(xml-only)">xml:base</a></code> attribute in
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a>.</p>


  <h5 id="the-dir-attribute"><span class="secno">3.2.3.6 </span>The <dfn title="attr-dir"><code>dir</code></dfn> attribute</h5>

  <p>The <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute specifies the
  element's text directionality. The attribute is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#enumerated-attribute">enumerated
  attribute</a> with the following keywords and states:</p>

  <dl><dt>The <dfn id="attr-dir-ltr" title="attr-dir-ltr"><code>ltr</code></dfn> keyword, which maps to the <dfn id="attr-dir-ltr-state" title="attr-dir-ltr-state">ltr</dfn> state</dt>

   <dd>

    <p>Indicates that the contents of the element are explicitly
    directionally embedded left-to-right text.</p>

   </dd>

   <dt>The <dfn id="attr-dir-rtl" title="attr-dir-rtl"><code>rtl</code></dfn> keyword, which maps to the <dfn id="attr-dir-rtl-state" title="attr-dir-rtl-state">rtl</dfn> state</dt>

   <dd>

    <p>Indicates that the contents of the element are explicitly
    directionally embedded right-to-left text.</p>

   </dd>

   <dt>The <dfn id="attr-dir-auto" title="attr-dir-auto"><code>auto</code></dfn> keyword, which maps to the <dfn id="attr-dir-auto-state" title="attr-dir-auto-state">auto</dfn> state</dt>

   <dd>

    <p>Indicates that the contents of the element are explicitly
    embedded text, but that the direction is to be determined
    programmatically using the contents of the element (as described
    below).</p>

    <p class="note">The heuristic used by this state is very crude (it
    just looks at the first character with a strong directionality, in
    a manner analogous to the Paragraph Level determination in the
    bidirectional algorithm). Authors are urged to only use this value
    as a last resort when the direction of the text is truly unknown
    and no better server-side heuristic can be applied. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBIDI">[BIDI]</a></p>

    <p class="note">For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code>
    elements, the heuristic is applied on a per-paragraph level.</p>

   </dd>

  </dl><p>The attribute has no <i>invalid value default</i> and no
  <i>missing value default</i>.</p>

  <p><dfn id="the-directionality">The directionality</dfn> of an element is either '<dfn id="concept-ltr" title="concept-ltr">ltr</dfn>' or '<dfn id="concept-rtl" title="concept-rtl">rtl</dfn>', and is determined as per the first
  appropriate set of steps from the following list:</p>

  <dl class="switch"><dt>If the element's <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is
   in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dir-ltr-state" title="attr-dir-ltr-state">ltr</a> state</dt>

   <dd><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">The directionality</a> of the element is '<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-ltr" title="concept-ltr">ltr</a>'.</p></dd>


   <dt>If the element's <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is
   in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dir-rtl-state" title="attr-dir-rtl-state">rtl</a> state</dt>

   <dd><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">The directionality</a> of the element is '<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-rtl" title="concept-rtl">rtl</a>'.</p></dd>


   <dt>If the element is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element whose <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-(type=text)-state-and-search-state-(type=search)" title="attr-input-type-text">Text</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-(type=text)-state-and-search-state-(type=search)" title="attr-input-type-search">Search</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#telephone-state-(type=tel)" title="attr-input-type-tel">Telephone</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-state-(type=url)" title="attr-input-type-url">URL</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#e-mail-state-(type=email)" title="attr-input-type-email">E-mail</a> state, and the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dir-auto-state" title="attr-dir-auto-state">auto</a> state</dt>

   <dt>If the element is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code> element and the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dir-auto-state" title="attr-dir-auto-state">auto</a> state</dt>

   <dd>

    <p>If the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fe-value" title="concept-fe-value">value</a>
    contains a character of bidirectional character type AL or R, and
    there is no character of bidirectional character type L anywhere
    before it in the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fe-value" title="concept-fe-value">value</a>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">the
    directionality</a> of the element is '<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-rtl" title="concept-rtl">rtl</a>'. Otherwise, <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">the
    directionality</a> of the element is '<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-ltr" title="concept-ltr">ltr</a>'. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBIDI">[BIDI]</a></p>

   </dd>



   <dt>If the element's <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is
   in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dir-auto-state" title="attr-dir-auto-state">auto</a> state</dt>

   <dt>If the element is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code> element and the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is not in a defined state
   (i.e. it is not present or has an invalid value)</dt>

   <dd>

    <p>Find the first character in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a> that
    matches the following criteria:</p>

    <ul><li><p>The character is from a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node that is a
     descendant of the element whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality" title="the
     directionality">directionality</a> is being
     determined.</p></li>

     <li><p>The character is of bidirectional character type L, AL,
     or R. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBIDI">[BIDI]</a></p></li>

     <li>

      <p>The character is not in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node that has an
      ancestor element that is a descendant of the element whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality" title="the directionality">directionality</a> is being
      determined and that is either:</p>

      <ul class="brief"><li>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code> element.
       </li><li>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element.
       </li><li>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element.
       </li><li>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code> element.
       </li><li>An element with a <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute in a defined state.
      </li></ul></li>

    </ul><p>If such a character is found and it is of bidirectional
    character type AL or R, <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">the directionality</a> of the
    element is '<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-rtl" title="concept-rtl">rtl</a>'.</p>

    <p>Otherwise, <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">the directionality</a> of the element is
    '<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-ltr" title="concept-ltr">ltr</a>'.</p>

   </dd>


   <dt>If the element is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#root-element">root element</a> and the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is not in a defined state
   (i.e. it is not present or has an invalid value)</dt>

   <dd><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">The directionality</a> of the element is '<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-ltr" title="concept-ltr">ltr</a>'.</p></dd>


   <dt>If the element has a parent element and the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is not in a defined state
   (i.e. it is not present or has an invalid value)</dt>

   <dd><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">The directionality</a> of the element is the same
   as the element's parent element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality" title="the
   directionality">directionality</a>.</p></dd>


  </dl><p>The effect of this attribute is primarily on the presentation
  layer. For example, the rendering section in this specification
  defines a mapping from this attribute to the CSS 'direction' and
  'unicode-bidi' properties, and CSS defines rendering in terms of
  those properties.</p>

  <hr><dl class="domintro"><dt><var title="">document</var> . <code title="dom-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dir">dir</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element-0">the <code>html</code> element</a>'s <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute's value, if any.</p>
    <p>Can be set, to either "<code title="">ltr</code>", "<code title="">rtl</code>", or "<code title="">auto</code>" to replace <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element-0">the <code>html</code> element</a>'s <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute's value.</p>
    <p>If there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element-0" title="the html element"><code>html</code> element</a>, returns the empty string and ignores new values.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-dir" title="dom-dir"><code>dir</code></dfn> IDL attribute on
  an element must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> content attribute of that element,
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#limited-to-only-known-values">limited to only known values</a>.</p>

  <p>The <dfn id="dom-document-dir" title="dom-document-dir"><code>dir</code></dfn> IDL
  attribute on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> objects must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> content
  attribute of <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element-0">the <code>html</code> element</a>, if any,
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#limited-to-only-known-values">limited to only known values</a>. If there is no such
  element, then the attribute must return the empty string and do
  nothing on setting.</p>

  </div>

  <p class="note">Authors are strongly encouraged to use the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute to indicate text direction
  rather than using CSS, since that way their documents will continue
  to render correctly even in the absence of CSS (e.g. as interpreted
  by search engines).</p>

  <div class="example">

   <p>This markup fragment is of an IM conversation.</p>

   <pre>&lt;p dir=auto class="u1"&gt;&lt;b&gt;&lt;bdi&gt;Student&lt;/bdi&gt;:&lt;/b&gt; How do you write "What's your name?" in Arabic?&lt;/p&gt;
&lt;p dir=auto class="u2"&gt;&lt;b&gt;&lt;bdi&gt;Teacher&lt;/bdi&gt;:&lt;/b&gt; ما اسمك؟&lt;/p&gt;
&lt;p dir=auto class="u1"&gt;&lt;b&gt;&lt;bdi&gt;Student&lt;/bdi&gt;:&lt;/b&gt; Thanks.&lt;/p&gt;
&lt;p dir=auto class="u2"&gt;&lt;b&gt;&lt;bdi&gt;Teacher&lt;/bdi&gt;:&lt;/b&gt; That's written "شكرًا".&lt;/p&gt;
&lt;p dir=auto class="u2"&gt;&lt;b&gt;&lt;bdi&gt;Teacher&lt;/bdi&gt;:&lt;/b&gt; Do you know how to write "Please"?&lt;/p&gt;
&lt;p dir=auto class="u1"&gt;&lt;b&gt;&lt;bdi&gt;Student&lt;/bdi&gt;:&lt;/b&gt; "من فضلك", right?&lt;/p&gt;</pre>

<!--
<!DOCTYPE html>
<style>
 div { border: groove #FFFF99; padding: 0.25em; width: 22em; background: #FFFFEE; color: black; }
 p { margin: 0.25em 0; font: 1em/1 InaiMathi; color: purple; }
 .u1 { color: teal; }
</style>
<div>
<p dir=ltr class="u1"><b><bdi>Student</bdi>:</b> How do you write "What's your name?" in Arabic?</p>
<p dir=rtl class="u2"><b><bdi>Teacher</bdi>:</b> &#x645;&#x627; &#x627;&#x633;&#x645;&#x643;&#x61f;</p>
<p dir=ltr class="u1"><b><bdi>Student</bdi>:</b> Thanks.</p>
<p dir=ltr class="u2"><b><bdi>Teacher</bdi>:</b> That's written "&#x634;&#x643;&#x631;&#x64b;&#x627;".</p>
<p dir=ltr class="u2"><b><bdi>Teacher</bdi>:</b> Do you know how to write "Please"?</p>
<p dir=rtl class="u1"><b><bdi>Student</bdi>:</b> "&#x645;&#x646; &#x641;&#x636;&#x644;&#x643;", right?</p>
-->

   <p>Given a suitable style sheet and the default alignment styles
   for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element, namely to align the text to the
   <i>start edge</i> of the paragraph, the resulting rendering could
   be as follows:</p>

   <p><img alt="Each paragraph rendered as a separate block, with the paragraphs left-aligned except the second paragraph and the last one, which would  be right aligned, with the usernames (&#39;Student&#39; and &#39;Teacher&#39; in this example) flush right, with a colon to their left, and the text first to the left of that." src="./HTML Standard_files/im.png"></p>

   <p>As noted earlier, the <code title="attr-dir-auto"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dir-auto">auto</a></code>
   value is not a panacea. The final paragraph in this example is
   misinterpreted as being right-to-left text, since it begins with an
   Arabic character, which causes the "right?" to be to the left of
   the Arabic text.</p>

  </div>



  <h5 id="classes"><span class="secno">3.2.3.7 </span>The <dfn title="attr-class"><code>class</code></dfn> attribute</h5>

  <p>Every <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML elements">HTML element</a> may have a
  <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code> attribute specified.</p>

  <p>The attribute, if specified, must have a value that is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-space-separated-tokens">set of space-separated tokens</a> representing the various
  classes that the element belongs to.</p>

  <div class="impl">

  <p>The classes that an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML elements">HTML
  element</a> has assigned to it consists of all the classes
  returned when the value of the <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code>
  attribute is <a href="http://www.whatwg.org/specs/web-apps/current-work/#split-a-string-on-spaces" title="split a string on spaces">split on
  spaces</a>. (Duplicates are ignored.)</p>

  </div>

  <p class="note">Assigning classes to an element affects class
  matching in selectors in CSS, the <code title="dom-document-getElementsByClassName">getElementsByClassName()</code>
  method in the DOM, and other such features.</p>

  <p>There are no additional restrictions on the tokens authors can
  use in the <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code> attribute, but
  authors are encouraged to use values that describe the nature of the
  content, rather than values that describe the desired presentation
  of the content.</p>

  <div class="impl">

  <hr><p>The <dfn id="dom-classname" title="dom-className"><code>className</code></dfn> and
  <dfn id="dom-classlist" title="dom-classList"><code>classList</code></dfn> IDL
  attributes must both <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code> content attribute.</p>

  </div>



  <h5 id="the-style-attribute"><span class="secno">3.2.3.8 </span>The <dfn title="attr-style"><code>style</code></dfn> attribute</h5>

  <p>All <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> may have the <code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code> content attribute set. This is a
  <span>CSS styling attribute</span> as defined by the CSS Styling
  Attribute Syntax specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSATTR">[CSSATTR]</a></p>

  <div class="impl">

  <p>In user agents that support CSS, the attribute's value must be
  parsed when the attribute is added or has its value changed<!-- so
  dynamic changes to the base URL don't affect the CSS -->, according
  to the rules given for <span>CSS styling attributes</span>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSATTR">[CSSATTR]</a></p>

  </div>

  <p>Documents that use <code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code>
  attributes on any of their elements must still be comprehensible and
  usable if those attributes were removed.</p>

  <p class="note">In particular, using the <code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code> attribute to hide and show content,
  or to convey meaning that is otherwise not included in the document,
  is non-conforming. (To hide and show content, use the <code title="attr-hidden"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hidden-attribute">hidden</a></code> attribute.)</p>

  <hr><dl class="domintro"><dt><var title="">element</var> . <code title="dom-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-style">style</a></code></dt>
   <dd>
    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#cssstyledeclaration">CSSStyleDeclaration</a></code> object for the element's <code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code> attribute.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-style" title="dom-style"><code>style</code></dfn> IDL attribute
  must return a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#cssstyledeclaration">CSSStyleDeclaration</a></code> whose value
  represents the declarations specified in the attribute, if
  present. Mutating the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#cssstyledeclaration">CSSStyleDeclaration</a></code> object must
  create a <code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code> attribute on the
  element (if there isn't one already) and then change its value to be
  a value representing the serialized form of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#cssstyledeclaration">CSSStyleDeclaration</a></code> object. The same object must be
  returned each time. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p>

  </div>

  <div class="example">

   <p>In the following example, the words that refer to colors are
   marked up using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> element and the <code title="attr-style"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-attribute">style</a></code> attribute to make those words show
   up in the relevant colors in visual media.</p>

   <pre>&lt;p&gt;My sweat suit is &lt;span style="color: green; background:
transparent"&gt;green&lt;/span&gt; and my eyes are &lt;span style="color: blue;
background: transparent"&gt;blue&lt;/span&gt;.&lt;/p&gt;</pre>

  </div>



  <h5 id="embedding-custom-non-visible-data-with-the-data-*-attributes"><span class="secno">3.2.3.9 </span><dfn>Embedding custom non-visible data</dfn> with the <code title="attr-data-*"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-*">data-*</a></code> attributes</h5>

  <p>A <dfn id="custom-data-attribute">custom data attribute</dfn> is an attribute in no
  namespace whose name starts with the string "<dfn id="attr-data-*" title="attr-data-*"><code>data-</code></dfn>", has at least one
  character after the hyphen, is <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-compatible">XML-compatible</a>, and
  contains no characters in the range U+0041 to U+005A (LATIN CAPITAL
  LETTER A to LATIN CAPITAL LETTER Z).</p>

  <p class="note">All attributes on <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> in
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a> get ASCII-lowercased automatically, so
  the restriction on ASCII uppercase letters doesn't affect such
  documents.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#custom-data-attribute" title="custom data attribute">Custom data attributes</a>
  are intended to store custom data private to the page or
  application, for which there are no more appropriate attributes or
  elements.</p>

  <p>These attributes are not intended for use by software that is
  independent of the site that uses the attributes.</p>

  <div class="example">

   <p>For instance, a site about music could annotate list items
   representing tracks in an album with custom data attributes
   containing the length of each track. This information could then be
   used by the site itself to allow the user to sort the list by track
   length, or to filter the list for tracks of certain lengths.</p>

   <pre>&lt;ol&gt;
 &lt;li data-length="2m11s"&gt;Beyond The Sea&lt;/li&gt;
 ...
&lt;/ol&gt;</pre>

   <p>It would be inappropriate, however, for the user to use generic
   software not associated with that music site to search for tracks
   of a certain length by looking at this data.</p>

   <p>This is because these attributes are intended for use by the
   site's own scripts, and are not a generic extension mechanism for
   publicly-usable metadata.</p>

  </div>

  <p>Every <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML elements">HTML element</a> may have
  any number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#custom-data-attribute" title="custom data attribute">custom data
  attributes</a> specified, with any value.</p>

  <hr><dl class="domintro"><dt><var title="">element</var> . <code title="dom-dataset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dataset">dataset</a></code></dt>
   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap">DOMStringMap</a></code> object for the element's <code title="attr-data-*"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-*">data-*</a></code> attributes.</p>

    <p>Hyphenated names become camel-cased. For example, <code title="">data-foo-bar=""</code> becomes <code title="">element.dataset.fooBar</code>.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-dataset" title="dom-dataset"><code>dataset</code></dfn> IDL
  attribute provides convenient accessors for all the <code title="attr-data-*"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-*">data-*</a></code> attributes on an element. On
  getting, the <code title="dom-dataset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dataset">dataset</a></code> IDL attribute
  must return a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#domstringmap">DOMStringMap</a></code> object, associated with the
  following algorithms, which expose these attributes on their
  element:</p>

  <dl><dt>The algorithm for getting the list of name-value pairs</dt>

   <dd>
    <ol><li>Let <var title="">list</var> be an empty list of name-value
     pairs.</li>

     <li>For each content attribute on the element whose first five
     characters are the string "<code title="">data-</code>" and whose
     remaining characters (if any) do not include any characters in
     the range U+0041 to U+005A (LATIN CAPITAL LETTER A to LATIN
     CAPITAL LETTER Z), add a name-value pair to <var title="">list</var> whose name is the attribute's name with the
     first five characters removed and whose value is the attribute's
     value.</li>

     <li>For each name on the list, for each U+002D HYPHEN-MINUS
     character (-) in the name that is followed by a character in the
     range U+0061 to U+007A (U+0061 LATIN SMALL LETTER A to U+007A
     LATIN SMALL LETTER Z), remove the U+002D HYPHEN-MINUS character
     (-) and replace the character that followed it by the same
     character <a href="http://www.whatwg.org/specs/web-apps/current-work/#converted-to-ascii-uppercase">converted to ASCII uppercase</a>.</li>

     <li>Return <var title="">list</var>.</li>

    </ol></dd>

   <dt>The algorithm for setting names to certain values</dt>

   <dd>
    <ol><li>Let <var title="">name</var> be the name passed to the
     algorithm.</li>

     <li>Let <var title="">value</var> be the value passed to the
     algorithm.</li>

     <li>If <var title="">name</var> contains a U+002D HYPHEN-MINUS
     character (-) followed by a character in the range U+0061 to
     U+007A (U+0061 LATIN SMALL LETTER A to U+007A LATIN SMALL LETTER
     Z), throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code> exception and abort these
     steps.</li>

     <li>For each character in the range U+0041 to U+005A (U+0041
     LATIN CAPITAL LETTER A to U+005A LATIN CAPITAL LETTER Z) in <var title="">name</var>, insert a U+002D HYPHEN-MINUS character (-)
     before the character and replace the character with the same
     character <a href="http://www.whatwg.org/specs/web-apps/current-work/#converted-to-ascii-lowercase">converted to ASCII lowercase</a>.</li>

     <li>Insert the string <code title="">data-</code> at the front of
     <var title="">name</var>.</li>

     <li>Set the value of the attribute with the name <var title="">name</var>, to the value <var title="">value</var>,
     replacing any previous value if the attribute already existed. If
     <code title="">setAttribute()</code> would have thrown an
     exception when setting an attribute with the name <var title="">name</var>, then this must throw the same
     exception.</li>

    </ol></dd>

   <dt>The algorithm for deleting names</dt>

   <dd>
    <ol><li>Let <var title="">name</var> be the name passed to the
     algorithm.</li>
<!--(can't happen while the DOMStringMap deleter has no name)
     <li>If <var title="">name</var> contains a U+002D HYPHEN-MINUS
     character (-) followed by a character in the range U+0061 to
     U+007A (U+0061 LATIN SMALL LETTER A to U+007A LATIN SMALL LETTER
     Z), throw a <code>SyntaxError</code> exception and abort these
     steps.</li>
-->
     <li>For each character in the range U+0041 to U+005A (U+0041
     LATIN CAPITAL LETTER A to U+005A LATIN CAPITAL LETTER Z) in <var title="">name</var>, insert a U+002D HYPHEN-MINUS character (-)
     before the character and replace the character with the same
     character <a href="http://www.whatwg.org/specs/web-apps/current-work/#converted-to-ascii-lowercase">converted to ASCII lowercase</a>.</li>

     <li>Insert the string <code title="">data-</code> at the front of
     <var title="">name</var>.</li>

     <li>Remove the attribute with the name <var title="">name</var>,
     if such an attribute exists. Do nothing otherwise.</li>

    </ol></dd>

  </dl><p>The same object must be returned each time.</p>

  </div>

  <div class="example">

   <p>If a Web page wanted an element to represent a space ship,
   e.g. as part of a game, it would have to use the <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code> attribute along with <code title="attr-data-*"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-*">data-*</a></code> attributes:</p>

   <pre>&lt;div class="spaceship" data-ship-id="92432"
     data-weapons="laser 2" data-shields="50%"
     data-x="30" data-y="10" data-z="90"&gt;
 &lt;button class="fire"
         onclick="spaceships[this.parentNode.dataset.shipId].fire()"&gt;
  Fire
 &lt;/button&gt;
&lt;/div&gt;</pre>

   <p>Notice how the hyphenated attribute name becomes camel-cased in
   the API.</p>

  </div>

  <p>Authors should carefully design such extensions so that when the
  attributes are ignored and any associated CSS dropped, the page is
  still usable.</p>

  <div class="impl">

  <p>User agents must not derive any implementation behavior from
  these attributes or values. Specifications intended for user agents
  must not define these attributes to have any meaningful values.</p>

  </div>

  <p>JavaScript libraries may use the <a href="http://www.whatwg.org/specs/web-apps/current-work/#custom-data-attribute" title="custom data
  attribute">custom data attributes</a>, as they are considered to
  be part of the page on which they are used. Authors of libraries
  that are reused by many authors are encouraged to include their name
  in the attribute names, to reduce the risk of clashes. Where it
  makes sense, library authors are also encouraged to make the exact
  name used in the attribute names customizable, so that libraries
  whose authors unknowingly picked the same name can be used on the
  same page, and so that multiple versions of a particular library can
  be used on the same page even when those versions are not mutually
  compatible.</p>

  <div class="example">

   <p>For example, a library called "DoQuery" could use attribute
   names like <code title="">data-doquery-range</code>, and a library
   called "jJo" could use attributes names like <code title="">data-jjo-range</code>. The jJo library could also provide
   an API to set which prefix to use (e.g. <code title="">J.setDataPrefix('j2')</code>, making the attributes have
   names like <code title="">data-j2-range</code>).</p>

  </div>


  <h4 id="element-definitions"><span class="secno">3.2.4 </span>Element definitions</h4>

  <p>Each element in this specification has a definition that includes
  the following information:</p>

  <dl><dt><dfn id="element-dfn-categories" title="element-dfn-categories">Categories</dfn></dt>

   <dd><p>A list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-categories" title="content categories">categories</a>
   to which the element belongs. These are used when defining the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-models">content models</a> for each element.</p></dd>


   <dt><dfn id="element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</dfn></dt>

   <dd>

    <p>A <em>non-normative</em> description of where the element can
    be used. This information is redundant with the content models of
    elements that allow this one as a child, and is provided only as a
    convenience.</p>

    <p class="note">For simplicity, only the most specific
    expectations are listed. For example, an element that is both
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> can be
    used anywhere that either <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> or
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected, but since anywhere that
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected, <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing
    content</a> is also expected (since all <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing
    content</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>), only "where
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected" will be listed.</p>

   </dd>


   <dt><dfn id="element-dfn-content-model" title="element-dfn-content-model">Content model</dfn></dt>

   <dd><p>A normative description of what content must be included as
   children and descendants of the element.</p></dd>


   <dt><dfn id="element-dfn-attributes" title="element-dfn-attributes">Content attributes</dfn></dt>

   <dd><p>A normative list of attributes that may be specified on the
   element (except where otherwise disallowed).</p></dd>


   <dt><dfn id="element-dfn-dom" title="element-dfn-dom">DOM interface</dfn></dt>

   <dd><p>A normative definition of a DOM interface that such elements
   must implement.</p></dd>

  </dl><p>This is then followed by a description of what the element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a>, along with any additional normative
  conformance criteria that may apply to authors<span class="impl" title=""> and implementations</span>. Examples are sometimes
  also included.</p>


  <h5 id="attributes"><span class="secno">3.2.4.1 </span>Attributes</h5>

  <p id="attribute-text">Except where otherwise specified, attributes
  on <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> may have any string value, including
  the empty string. Except where explicitly stated, there is no
  restriction on what text can be specified in such attributes.</p>



  <h4 id="content-models"><span class="secno">3.2.5 </span><dfn>Content models</dfn></h4>

  <p>Each element defined in this specification has a content model: a
  description of the element's expected contents. An <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML
  elements">HTML element</a> must have contents that match the
  requirements described in the element's content model.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a> are
  always allowed between elements. User agents represent these
  characters between elements in the source markup as
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes in the DOM.<!-- not a conf criteria since
  the parser now requires this --> Empty <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes consisting of just sequences of those
  characters are considered <dfn id="inter-element-whitespace">inter-element whitespace</dfn>.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">Inter-element whitespace</a>, comment nodes, and
  processing instruction nodes must be ignored when establishing
  whether an element's contents match the element's content model or
  not, and must be ignored when following algorithms that define
  document and element semantics.</p>

  <p class="note">Thus, an element <var title="">A</var> is said to be
  <i>preceded or followed</i> by a second element <var title="">B</var> if <var title="">A</var> and <var title="">B</var>
  have the same parent node and there are no other element nodes or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes (other than <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element
  whitespace</a>) between them. Similarly, a node is the <i>only
  child</i> of an element if that element contains no other nodes
  other than <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element whitespace</a>, comment nodes, and
  processing instruction nodes.</p>

  <p>Authors must not use <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> anywhere except
  where they are explicitly allowed, as defined for each element, or
  as explicitly required by other specifications. For XML compound
  documents, these contexts could be inside elements from other
  namespaces, if those elements are defined as providing the relevant
  contexts.</p>

  <div class="example">
   <p>For example, the Atom specification defines a <code title="">content</code> element. When its <code title="">type</code> attribute has the value <code title="">xhtml</code>, the Atom specification requires that it
   contain a single HTML <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> element. Thus, a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> element is allowed in that context, even though
   this is not explicitly normatively stated by this specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsATOM">[ATOM]</a></p>
  </div>

  <p>In addition, <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> may be orphan nodes
  (i.e. without a parent node).</p>

  <div class="example">

   <p>For example, creating a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> element and storing it
   in a global variable in a script is conforming, even though
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> elements are otherwise only supposed to be used
   inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements.</p>

   <pre>var data = {
  name: "Banana",
  cell: document.createElement('td'),
};</pre>

  </div>


  <h5 id="kinds-of-content"><span class="secno">3.2.5.1 </span>Kinds of content</h5>

  <p>Each element in HTML falls into zero or more <dfn id="content-categories" title="content
  categories">categories</dfn> that group elements with similar
  characteristics together. The following broad categories are used in
  this specification:</p>

  <ul class="brief"><li><a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">Metadata content</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">Sectioning content</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">Heading content</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">Embedded content</a></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">Interactive content</a></li>
  </ul><p class="note">Some elements also fall into other categories, which
  are defined in other parts of this specification.</p>

  <p>These categories are related as follows:</p>

  <p><object data="http://www.whatwg.org/specs/web-apps/current-work/images/content-venn.svg" height="288" width="1000"><img alt="" src="./HTML Standard_files/content-venn.png"></object></p>

  <p>Sectioning content, heading content, phrasing content, embedded
  content, and interactive content are all types of flow content.
  Metadata is sometimes flow content. Metadata and interactive content
  are sometimes phrasing content. Embedded content is also a type of
  phrasing content, and sometimes is interactive content.</p>

  <p>Other categories are also used for specific purposes, e.g. form
  controls are specified using a number of categories to define common
  requirements. Some elements have unique requirements and do not fit
  into any particular category.</p>


  <h6 id="metadata-content-0"><span class="secno">3.2.5.1.1 </span>Metadata content</h6>

  <p><dfn id="metadata-content">Metadata content</dfn> is content that sets up the
  presentation or behavior of the rest of the content, or that sets
  up the relationship of the document with other documents, or that
  conveys other "out of band" information.</p>

  <!-- when updating this also update the category index -->
  <ul class="brief category-list"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-command-element">command</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code></li>
  </ul><p>Elements from other namespaces whose semantics are primarily
  metadata-related (e.g. RDF) are also <a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">metadata
  content</a>.</p>

  <div class="example">

   <p>Thus, in the XML serialization, one can use RDF, like this:</p>

   <pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:r="http://www.w3.org/1999/02/22-rdf-syntax-ns#"&gt;
 &lt;head&gt;
  &lt;title&gt;Hedral's Home Page&lt;/title&gt;
  &lt;r:RDF&gt;
   &lt;Person xmlns="http://www.w3.org/2000/10/swap/pim/contact#"
           r:about="http://hedral.example.com/#"&gt;
    &lt;fullName&gt;Cat Hedral&lt;/fullName&gt;
    &lt;mailbox r:resource="mailto:hedral@damowmow.com"/&gt;
    &lt;personalTitle&gt;Sir&lt;/personalTitle&gt;
   &lt;/Person&gt;
  &lt;/r:RDF&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;h1&gt;My home page&lt;/h1&gt;
  &lt;p&gt;I like playing with string, I guess. Sister says squirrels are fun
  too so sometimes I follow her to play with them.&lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

   <p>This isn't possible in the HTML serialization, however.</p>

  </div>


  <h6 id="flow-content-0"><span class="secno">3.2.5.1.2 </span>Flow content</h6>

  <p>Most elements that are used in the body of documents and
  applications are categorized as <dfn id="flow-content">flow content</dfn>.</p>

  <!-- when updating this also update the category index -->
  <ul class="brief category-list"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> (if it is a descendant of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdo-element">bdo</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-code-element">code</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-command-element">command</a></code></li>
<!--DATA--><!--FORK-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-data-element">data</a></code></li>
<!--DATA--><!--FORK-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-datalist-element">datalist</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element">details</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dialog-element">dialog</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-fieldset-element">fieldset</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h3</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h4</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h5</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element">hr</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-keygen-element">keygen</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-label-element">label</a></code></li>
<!--MD-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> (if the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present)</li>
<!--MD-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#math">math</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code></li>
<!--MD-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> (if the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present)</li>
<!--MD-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meter-element">meter</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-output-element">output</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-progress-element">progress</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-s-element">s</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> (if the <code title="attr-style-scoped"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-scoped">scoped</a></code> attribute is present)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sub</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sup</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svg">svg</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element">u</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element">var</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-wbr-element">wbr</a></code></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-content" title="text content">Text</a></li>
  </ul><h6 id="sectioning-content-0"><span class="secno">3.2.5.1.3 </span>Sectioning content</h6>

  <p><dfn id="sectioning-content">Sectioning content</dfn> is content that defines the scope
  of <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content" title="heading content">headings</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element" title="footer">footers</a>.</p>

  <!-- when updating this also update the category index -->
  <ul class="brief category-list"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code></li>
  </ul><p>Each <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> element potentially has a
  heading and an <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a>. See the section on
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#headings-and-sections">headings and sections</a> for further details.</p>

  <p class="note">There are also certain elements that are <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root" title="sectioning root">sectioning roots</a>. These are distinct
  from <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>, but they can also have an
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a>.</p>


  <h6 id="heading-content-0"><span class="secno">3.2.5.1.4 </span>Heading content</h6>

  <p><dfn id="heading-content">Heading content</dfn> defines the header of a section
  (whether explicitly marked up using <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>
  elements, or implied by the heading content itself).</p>

  <!-- when updating this also update the category index -->
  <ul class="brief category-list"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h3</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h4</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h5</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code></li>
  </ul><h6 id="phrasing-content-0"><span class="secno">3.2.5.1.5 </span>Phrasing content</h6>

  <p><dfn id="phrasing-content">Phrasing content</dfn> is the text of the document, as well
  as elements that mark up that text at the intra-paragraph
  level. Runs of <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> form <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">paragraphs</a>.</p>

  <!-- when updating this also update the category index -->
  <ul class="brief category-list"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> (if it contains only <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> (if it is a descendant of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdo-element">bdo</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-code-element">code</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-command-element">command</a></code></li>
<!--DATA--><!--FORK-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-data-element">data</a></code></li>
<!--DATA--><!--FORK-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-datalist-element">datalist</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> (if it contains only <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> (if it contains only <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-keygen-element">keygen</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-label-element">label</a></code></li>
<!--MD-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> (if the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present)</li>
<!--MD-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> (if it contains only <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#math">math</a></code></li>
<!--MD-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> (if the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present)</li>
<!--MD-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meter-element">meter</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-output-element">output</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-progress-element">progress</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-s-element">s</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sub</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sup</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svg">svg</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element">u</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element">var</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-wbr-element">wbr</a></code></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-content" title="text content">Text</a></li>
  </ul><p>As a general rule, elements whose content model allows any
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> should have either at least one
  descendant <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node that is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element
  whitespace</a>, or at least one descendant element node that is
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a>. For the purposes of this requirement,
  nodes that are descendants of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements must not be
  counted as contributing to the ancestors of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code>
  element.</p>

  <p class="note">Most elements that are categorized as phrasing
  content can only contain elements that are themselves categorized as
  phrasing content, not any flow content.</p>

  <p><dfn id="text-content" title="text content">Text</dfn>, in the context of content
  models, means <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes. <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-content" title="text
  content">Text</a> is sometimes used as a content model on its
  own, but is also <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>, and can be
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element whitespace</a> (if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code>
  nodes are empty or contain just <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
  characters</a>).</p>

  <p><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes and attribute values must consist of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#unicode-character" title="Unicode character">Unicode characters</a>, must not
  contain U+0000 characters, must not contain permanently undefined
  Unicode characters (noncharacters), and must not contain control
  characters other than <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
  characters</a>.

  <!--<code>Text</code> nodes and attribute values may begin with an
  <i>isolated combining character</i>.--> <!-- commented out since
  nothing disallows it currently, so it's implicit; however, if we
  ever make charmod a normative reference, this will be needed to
  override it -->

  This specification includes extra constraints on the exact value of
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes and attribute values depending on their
  precise context.

  <!-- <a href="#refsUNICODE">[UNICODE]</a>-->

  </p>



  <h6 id="embedded-content-0"><span class="secno">3.2.5.1.6 </span>Embedded content</h6>

  <p><dfn id="embedded-content">Embedded content</dfn> is content that imports another
  resource into the document, or content from another vocabulary that
  is inserted into the document.</p>

  <!-- when updating this also update the category index -->
  <ul class="brief category-list"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#math">math</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svg">svg</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code></li>
  </ul><p>Elements that are from namespaces other than the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-namespace-0">HTML
  namespace</a> and that convey content but not metadata, are
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> for the purposes of the content models
  defined in this specification. (For example, MathML, or SVG.)</p>

  <p>Some embedded content elements can have <dfn id="fallback-content">fallback
  content</dfn>: content that is to be used when the external resource
  cannot be used (e.g. because it is of an unsupported format). The
  element definitions state what the fallback is, if any.</p>
  <!-- we might not need to define fallback content at all. consider
  removing it if we don't end up using it anywhere (e.g. Selection)
  -->


  <h6 id="interactive-content-0"><span class="secno">3.2.5.1.7 </span>Interactive content</h6>

<!--
TESTS:
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cp%20tabindex%3D1%3Etest%20%3Ca%20href%3D%22%22%3E%20%3Cem%3Etest%3C/em%3E%20%3C/a%3E%0A%3Cscript%3E%0A%20function%20test%20%28e%29%20%7B%20w%28e.type%20+%20%27%20on%20%27%20+%20e.target.tagName%20+%20%27%20through%20%27%20+%20e.currentTarget.tagName%29%3B%20%7D%0A%20document.getElementsByTagName%28%27a%27%29%5B0%5D.addEventListener%28%27click%27%2C%20test%2C%20false%29%3B%0A%20document.getElementsByTagName%28%27a%27%29%5B0%5D.addEventListener%28%27DOMActivate%27%2C%20test%2C%20false%29%3B%0A%20document.getElementsByTagName%28%27p%27%29%5B0%5D.addEventListener%28%27click%27%2C%20test%2C%20false%29%3B%0A%20document.getElementsByTagName%28%27p%27%29%5B0%5D.addEventListener%28%27DOMActivate%27%2C%20test%2C%20false%29%3B%0A%3C/script%3E%0A
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20HTML%3E%0A%3Ca%20href%3Dhttp%3A//google.com/%20target%3Da%3EA%3C/a%3E%3Ca%20href%3Dhttp%3A//yahoo.com/%20target%3Db%3EB%3C/a%3E%3Cbr%3E%0A%3Ciframe%20name%3Da%3E%3C/iframe%3E%3Ciframe%20name%3Db%3E%3C/iframe%3E%0A%3Cscript%3E%0A%20var%20a%20%3D%20document.getElementsByTagName%28%27a%27%29%5B0%5D%3B%0A%20var%20b%20%3D%20document.getElementsByTagName%28%27a%27%29%5B1%5D%3B%0A%20a.appendChild%28b%29%3B%0A%3C/script%3E
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20HTML%3E%0A%3Cform%20action%3D%22http%3A//google.com/%22%20onsubmit%3D%22w%28%27onsubmit%27%29%22%3E%3Cem%3EA%3C/em%3E%3C/form%3E%0A%3Cscript%3E%0Adocument.getElementsByTagName%28%27form%27%29%5B0%5D.attachEvent%28%27onsubmit%27%2C%20function%20%28%29%20%7B%20w%28%27submit%20fired%27%29%20%7D%29%3B%0Adocument.getElementsByTagName%28%27form%27%29%5B0%5D.fireEvent%28%27onsubmit%27%29%3B%0A%3C/script%3E
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20HTML%3E%0A%3Cform%20action%3D%22http%3A//google.com/%22%3EX%3C/form%3E%0A%3Cscript%3E%0Avar%20evt%20%3D%20document.createEvent%28%22Events%22%29%3B%0Aevt.initEvent%28%22submit%22%2C%20true%2C%20true%29%3B%0Adocument.getElementsByTagName%28%27form%27%29%5B0%5D.dispatchEvent%28evt%29%3B%0A%3C/script%3E
-->

  <p><dfn id="interactive-content">Interactive content</dfn> is content that is specifically
  intended for user interaction.</p>

  <!-- when updating this also update the category index -->
  <ul class="brief category-list"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> (if the <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code> attribute is present)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element">details</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> (if the <code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code> attribute is present)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> (if the <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute is <em>not</em> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hidden-state-(type=hidden)" title="attr-input-type-hidden">Hidden</a> state)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-keygen-element">keygen</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-label-element">label</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> (if the <code title="attr-menu-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-menu-type">type</a></code> attribute is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#toolbar-state" title="toolbar state">toolbar</a> state)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> (if the <code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code> attribute is present)<!-- see also comment in <object> section --></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> (if the <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code> attribute is present)</li>
  </ul><p>Certain elements in HTML have an <a href="http://www.whatwg.org/specs/web-apps/current-work/#activation-behavior">activation
  behavior</a>, which means that the user can activate them. This
  triggers a sequence of events dependent on the activation mechanism,
  and normally culminating in a <code title="event-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-click">click</a></code>
  event<span class="impl">, as described below</span>.</p>

  <div class="impl">

  <p>The user agent should allow the user to manually trigger elements
  that have an <a href="http://www.whatwg.org/specs/web-apps/current-work/#activation-behavior">activation behavior</a>, for instance using
  keyboard or voice input, or through mouse clicks. When the user
  triggers an element with a defined <a href="http://www.whatwg.org/specs/web-apps/current-work/#activation-behavior">activation behavior</a>
  in a manner other than clicking it, the default action of the
  interaction event must be to <a href="http://www.whatwg.org/specs/web-apps/current-work/#run-synthetic-click-activation-steps">run synthetic click activation
  steps</a> on the element.</p> <!-- interaction event spec point -->

  <p>Each element has a <var title="">click in progress</var> flag,
  initially set to false.</p>

  <p>When a user agent is to <dfn id="run-synthetic-click-activation-steps">run synthetic click activation
  steps</dfn> on an element, the user agent must run the following
  steps:</p>

  <ol><li><p>If the element's <var title="">click in progress</var> flag
   is set to true, then abort these steps.</p></li>

   <li><p>Set the <var title="">click in progress</var> flag on the
   element to true.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#run-pre-click-activation-steps">Run pre-click activation steps</a> on the
   element.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-click-event">Fire a <code title="event-click">click</code>
   event</a> at the element.</p></li>

   <li>

    <p>If this <code title="event-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-click">click</a></code> event is not
    canceled, <a href="http://www.whatwg.org/specs/web-apps/current-work/#run-post-click-activation-steps">run post-click activation steps</a> on the
    element.</p>

    <p>If the event <em>is</em> canceled, the user agent must
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#run-canceled-activation-steps">run canceled activation steps</a> on the element
    instead.</p>

   </li>

   <li><p>Set the <var title="">click in progress</var> flag on the
   element to false.</p></li>

  </ol><p>When a pointing device is clicked, the user agent must run these
  steps:</p>

  <ol><li><p>If the element's <var title="">click in progress</var> flag
   is set to true, then abort these steps.</p></li>

   <li><p>Set the <var title="">click in progress</var> flag on the
   element to true.</p></li>

   <li><p>Let <var title="">e</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nearest-activatable-element">nearest activatable
   element</a> of the element designated by the user (defined
   below), if any.</p></li>

   <li><p>If there is an element <var title="">e</var>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#run-pre-click-activation-steps">run
   pre-click activation steps</a> on it.</p></li>

   <li>

    <p>Dispatch the required <code title="event-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-click">click</a></code>
    event.</p> <!-- interaction event spec point -->

    <p>If there is an element <var title="">e</var> and the <code title="event-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-click">click</a></code> event is not canceled, <a href="http://www.whatwg.org/specs/web-apps/current-work/#run-post-click-activation-steps">run
    post-click activation steps</a> on element <var title="">e</var>.</p>

    <p>If there is an element <var title="">e</var> and the event
    <em>is</em> canceled, <a href="http://www.whatwg.org/specs/web-apps/current-work/#run-canceled-activation-steps">run canceled activation steps</a>
    on element <var title="">e</var>.</p>

   </li>

   <li><p>Set the <var title="">click in progress</var> flag on the
   element to false.</p></li>

  </ol><p class="note">The above doesn't happen for arbitrary synthetic
  events dispatched by author script. However, the <code title="dom-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-click">click()</a></code> method can be used to make it
  happen programmatically.</p>

  <p class="note">Click-focusing behavior (e.g. the focusing of a text
  field when user clicks in one) typically happens before the click,
  when the mouse button is first depressed, and is therefore not
  discussed here.</p> <!-- interaction event spec point -->

  <p>Given an element <var title="">target</var>, the <dfn id="nearest-activatable-element">nearest
  activatable element</dfn> is the element returned by the following
  algorithm:</p>

  <ol><li><p>If <var title="">target</var> has a defined <a href="http://www.whatwg.org/specs/web-apps/current-work/#activation-behavior">activation
   behavior</a>, then return <var title="">target</var> and abort
   these steps.</p></li>

   <li><p>If <var title="">target</var> has a parent element, then set
   <var title="">target</var> to that parent element and return to the
   first step.</p></li>

   <li><p>Otherwise, there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#nearest-activatable-element">nearest activatable
   element</a>.</p></li>

  </ol><p>When a user agent is to <dfn id="run-pre-click-activation-steps">run pre-click activation steps</dfn>
  on an element, it must run the <dfn id="pre-click-activation-steps">pre-click activation steps</dfn>
  defined for that element, if any.</p>

  <p>When a user agent is to <dfn id="run-canceled-activation-steps">run canceled activation steps</dfn>
  on an element, it must run the <dfn id="canceled-activation-steps">canceled activation steps</dfn>
  defined for that element, if any.</p>

  <p>When a user agent is to <dfn id="run-post-click-activation-steps">run post-click activation
  steps</dfn> on an element, it must run the <dfn id="activation-behavior">activation
  behavior</dfn> defined for that element, if any. Activation
  behaviors can refer to the <code title="event-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-click">click</a></code>
  event that was fired by the steps above leading up to this
  point.</p>

  </div>



  <h6 id="palpable-content-0"><span class="secno">3.2.5.1.8 </span>Palpable content</h6>

  <p>As a general rule, elements whose content model allows any
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> should
  have at least one child node that is <dfn id="palpable-content">palpable content</dfn>
  and that does not have the <code title="attr-hidden"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hidden-attribute">hidden</a></code>
  attribute specified.</p>

  <p>This requirement is not a hard requirement, however, as there are
  many cases where an element can be empty legitimately, for example
  when it is used as a placeholder which will later be filled in by a
  script, or when the element is part of a template and would on most
  pages be filled in but on some pages is not relevant.</p>

  <p>Conformance checkers are encouraged to provide a mechanism for
  authors to find elements that fail to fulfill this requirement, as
  an authoring aid.</p>

  <p>The following elements are palpable content:</p>

  <!-- when updating this also update the category index -->
  <ul class="brief category-list"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> (if the <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code> attribute is present)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdo-element">bdo</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-code-element">code</a></code></li>
<!--DATA--><!--FORK-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-data-element">data</a></code></li>
<!--DATA--><!--FORK-->
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element">details</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> (if the element's children include at least one name-value group)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-fieldset-element">fieldset</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element">form</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h3</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h4</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h5</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> (if the <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute is <em>not</em> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hidden-state-(type=hidden)" title="attr-input-type-hidden">Hidden</a> state)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-keygen-element">keygen</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-label-element">label</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#math">math</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> (if the <code title="attr-menu-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-menu-type">type</a></code> attribute is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#toolbar-state" title="toolbar state">toolbar</a> state or the <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-state" title="list state">list</a> state)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meter-element">meter</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> (if the element's children include at least one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-output-element">output</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-progress-element">progress</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-s-element">s</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sub</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sup</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svg">svg</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element">u</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> (if the element's children include at least one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element)</li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element">var</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code></li>
   <li><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-content" title="text content">Text</a> that is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element whitespace</a></li>
  </ul><h5 id="transparent-content-models"><span class="secno">3.2.5.2 </span>Transparent content models</h5>

  <p>Some elements are described as <dfn id="transparent">transparent</dfn>; they have
  "transparent" in the description of their content model. The content
  model of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a> element is derived from the
  content model of its parent element: the elements required in the
  part of the content model that is "transparent" are the same
  elements as required in the part of the content model of the parent
  of the transparent element in which the transparent element finds
  itself.</p>

  <div class="example">

   <p>For instance, an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> element inside a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element cannot contain an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code>
   element, because the part of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element's
   content model that allows <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> elements is the part
   that allows <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>, and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code>
   element is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>.</p>

  </div>

<!--(as far as I can tell, there's no way to violate this requirement
     without first violating the earlier requirement)
  <p>Furthermore, when a content model includes a part that is
  "transparent", those parts must not contain content that would not
  be conformant if all transparent elements in the tree were replaced,
  in their parent element, by the children in the "transparent" part
  of their content model, retaining order.</p>

  <div class="example">

   <p>Consider the following markup fragment:</p>

   <pre>&lt;p>Hello &lt;a href="world.html">&lt;em>wonderful&lt;/em> world&lt;/a>!&lt;/p></pre>

   <p>Its DOM looks like the following:</p>

   <ul class="domTree"><li class="t1"><code>p</code><ul><li class="t3"><code>#text</code>: <span title="">Hello </span></li><li class="t1"><code>a</code> <span class="t2" title=""><code class="attribute name">href</code>="<code class="attribute value">world.html</code>"</span><ul><li class="t1"><code>em</code><ul><li class="t3"><code>#text</code>: <span title="">wonderful</span></li></ul></li><li class="t3"><code>#text</code>: <span title=""> world</span></li></ul></li><li class="t3"><code>#text</code>: <span title="">!</span></li></ul></li></ul>

   <p>The content model of the <code>a</code> element is
   <span>transparent</span>. To see if its contents are conforming,
   therefore, the element is replaced by its contents:</p>

   <ul class="domTree"><li class="t1"><code>p</code><ul><li class="t3"><code>#text</code>: <span title="">Hello </span></li><li class="t1"><code>em</code><ul><li class="t3"><code>#text</code>: <span title="">wonderful</span></li></ul></li><li class="t3"><code>#text</code>: <span title=""> world</span></li><li class="t3"><code>#text</code>: <span title="">!</span></li></ul></li></ul>

   <p>Since that is conforming, the contents of the <code>a</code> are
   conforming in the original fragment (there is no complication
   regarding the various parts of the <code>p</code> element's content
   model, since that element's content model has only one part).</p>

  </div>
-->

  <p class="note">In some cases, where transparent elements are nested
  in each other, the process has to be applied iteratively.</p>

  <div class="example">

   <p>Consider the following markup fragment:</p>

   <pre>&lt;p&gt;&lt;object&gt;&lt;param&gt;&lt;ins&gt;&lt;map&gt;&lt;a href="/"&gt;Apples&lt;/a&gt;&lt;/map&gt;&lt;/ins&gt;&lt;/object&gt;&lt;/p&gt;</pre>

   <p>To check whether "Apples" is allowed inside the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>
   element, the content models are examined. The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>
   element's content model is transparent, as is the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code>
   element's, as is the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> element's, as is the part of
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element's in which the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code>
   element is found. The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element is found in the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element, whose content model is <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing
   content</a>. Thus, "Apples" is allowed, as text is phrasing
   content.</p>

  </div>

  <p>When a transparent element has no parent, then the part of its
  content model that is "transparent" must instead be treated as
  accepting any <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>.</p>


  <h5 id="paragraphs"><span class="secno">3.2.5.3 </span>Paragraphs</h5>

  <p class="note">The term <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph">paragraph</a> as defined in this
  section is used for more than just the definition of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph">paragraph</a> concept defined
  here is used to describe how to interpret documents. The
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element is merely one of several ways of marking up a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph">paragraph</a>.</p>

  <!-- note: the actual definition is below -->
  <p>A <dfn id="paragraph">paragraph</dfn> is typically a run of <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing
  content</a> that forms a block of text with one or more sentences
  that discuss a particular topic, as in typography, but can also
  be used for more general thematic grouping. For instance, an address
  is also a paragraph, as is a part of a form, a byline, or a stanza
  in a poem.</p>

  <div class="example">

   <p>In the following example, there are two paragraphs in a
   section. There is also a heading, which contains phrasing content
   that is not a paragraph. Note how the comments and
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element whitespace</a> do not form paragraphs.</p>

   <pre>&lt;section&gt;
  &lt;h1&gt;Example of paragraphs&lt;/h1&gt;
  This is the &lt;em&gt;first&lt;/em&gt; paragraph in this example.
  &lt;p&gt;This is the second.&lt;/p&gt;
  &lt;!-- This is not a paragraph. --&gt;
&lt;/section&gt;</pre>

  </div>

  <p>Paragraphs in <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> are defined relative to
  what the document looks like without the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> elements
  complicating matters, since those elements, with their hybrid
  content models, can straddle paragraph boundaries, as shown in the
  first two examples below.</p>

  <p class="note">Generally, having elements straddle paragraph
  boundaries is best avoided. Maintaining such markup can be
  difficult.</p>

  <div class="example">

   <p>The following example takes the markup from the earlier example
   and puts <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements around some
   of the markup to show that the text was changed (though in this
   case, the changes admittedly don't make much sense). Notice how
   this example has exactly the same paragraphs as the previous one,
   despite the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements —
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> element straddles the heading and the first
   paragraph, and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> element straddles the boundary
   between the two paragraphs.</p>

   <pre>&lt;section&gt;
  &lt;ins&gt;&lt;h1&gt;Example of paragraphs&lt;/h1&gt;
  This is the &lt;em&gt;first&lt;/em&gt; paragraph in&lt;/ins&gt; this example&lt;del&gt;.
  &lt;p&gt;This is the second.&lt;/p&gt;&lt;/del&gt;
  &lt;!-- This is not a paragraph. --&gt;
&lt;/section&gt;</pre>

  </div>

  <div class="impl">

  <p>Let <var title="">view</var> be a view of the DOM that replaces
  all <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code>, and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> elements in the document with their contents. Then,
  in <var title="">view</var>, for each run of sibling <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing
  content</a> nodes uninterrupted by other types of content, in an
  element that accepts content other than <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing
  content</a> as well as <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>, let <var title="">first</var> be the first node of the run, and let <var title="">last</var> be the last node of the run. For each such run
  that consists of at least one node that is neither <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded
  content</a> nor <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element whitespace</a>, a
  paragraph exists in the original DOM from immediately before <var title="">first</var> to immediately after <var title="">last</var>. (Paragraphs can thus span across
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code>, and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> elements.)</p>

  <p>Conformance checkers may warn authors of cases where they have
  paragraphs that overlap each other (this can happen with
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code>, and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> elements, and indirectly through elements in
  other namespaces that allow HTML to be further embedded therein,
  like <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svg">svg</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#math">math</a></code>).</p> <!-- example below
  -->

  </div>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph">paragraph</a> is also formed explicitly by
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> elements.</p>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element can be used to wrap
  individual paragraphs when there would otherwise not be any content
  other than phrasing content to separate the paragraphs from each
  other.</p>

  <div class="example">

   <p>In the following example, the link spans half of the first
   paragraph, all of the heading separating the two paragraphs, and
   half of the second paragraph. It straddles the paragraphs and the
   heading.</p>

   <pre>&lt;header&gt;
 Welcome!
 &lt;a href="about.html"&gt;
  This is home of...
  &lt;h1&gt;The Falcons!&lt;/h1&gt;
  The Lockheed Martin multirole jet fighter aircraft!
 &lt;/a&gt;
 This page discusses the F-16 Fighting Falcon's innermost secrets.
&lt;/header&gt;</pre>

   <p>Here is another way of marking this up, this time showing the
   paragraphs explicitly, and splitting the one link element into
   three:</p>

   <pre>&lt;header&gt;
 &lt;p&gt;Welcome! &lt;a href="about.html"&gt;This is home of...&lt;/a&gt;&lt;/p&gt;
 &lt;h1&gt;&lt;a href="about.html"&gt;The Falcons!&lt;/a&gt;&lt;/h1&gt;
 &lt;p&gt;&lt;a href="about.html"&gt;The Lockheed Martin multirole jet
 fighter aircraft!&lt;/a&gt; This page discusses the F-16 Fighting
 Falcon's innermost secrets.&lt;/p&gt;
&lt;/header&gt;</pre>

  </div>

  <div class="example">

   <!-- I don't know if there's a better way to deal with this, but if
   there is, let me know... -->

   <p>It is possible for paragraphs to overlap when using certain
   elements that define fallback content. For example, in the
   following section:</p>

   <pre>&lt;section&gt;
 &lt;h1&gt;My Cats&lt;/h1&gt;
 You can play with my cat simulator.
 &lt;object data="cats.sim"&gt;
  To see the cat simulator, use one of the following links:
  &lt;ul&gt;
   &lt;li&gt;&lt;a href="cats.sim"&gt;Download simulator file&lt;/a&gt;
   &lt;li&gt;&lt;a href="http://sims.example.com/watch?v=LYds5xY4INU"&gt;Use online simulator&lt;/a&gt;
  &lt;/ul&gt;
  Alternatively, upgrade to the Mellblom Browser.
 &lt;/object&gt;
 I'm quite proud of it.
&lt;/section&gt;</pre>

   <p>There are five paragraphs:</p>

   <ol class="brief"><li>The paragraph that says "You can play with my cat
    simulator. <i title="">object</i> I'm quite proud of it.", where
    <i title="">object</i> is the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element.</li>

    <li>The paragraph that says "To see the cat simulator, use one of
    the following links:".</li>

    <li>The paragraph that says "Download simulator file".</li>

    <li>The paragraph that says "Use online simulator".</li>

    <li>The paragraph that says "Alternatively, upgrade to the Mellblom Browser.".</li>

   </ol><p>The first paragraph is overlapped by the other four. A user
   agent that supports the "cats.sim" resource will only show the
   first one, but a user agent that shows the fallback will
   confusingly show the first sentence of the first paragraph as
   if it was in the same paragraph as the second one, and will show
   the last paragraph as if it was at the start of the second sentence
   of the first paragraph.</p>

   <p>To avoid this confusion, explicit <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> elements can be
   used.</p>

  </div>



  <h4 id="requirements-relating-to-bidirectional-algorithm-formatting-characters"><span class="secno">3.2.6 </span>Requirements relating to bidirectional-algorithm formatting
  characters</h4>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-content">Text content</a> in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> with
  child <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes, and text in attributes of <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML
  elements</a> that allow free-form text, may contain characters in
  the range U+202A to U+202E (the bidirectional-algorithm formatting
  characters). However, the use of these characters is restricted so
  that any embedding or overrides generated by these characters do not
  start and end with different parent elements, and so that all such
  embeddings and overrides are explicitly terminated by a U+202C POP
  DIRECTIONAL FORMATTING character. This helps reduce incidences of
  text being reused in a manner that has unforeseen effects on the
  bidirectional algorithm. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBIDI">[BIDI]</a></p>

  <p>The aforementioned restrictions are defined by specifying that
  certain parts of documents form <a href="http://www.whatwg.org/specs/web-apps/current-work/#bidirectional-algorithm-formatting-character-ranges">bidirectional-algorithm
  formatting character ranges</a>, and then imposing a requirement
  on such ranges.</p>

  <p>The strings resulting from applying the following algorithm to an
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML elements">HTML element</a> <var title="">element</var> are <a href="http://www.whatwg.org/specs/web-apps/current-work/#bidirectional-algorithm-formatting-character-ranges">bidirectional-algorithm formatting
  character ranges</a>:</p>

  <ol><li><p>Let <var title="">output</var> be an empty list of strings.</p></li>

   <li><p>Let <var title="">string</var> be an empty string.</p></li>

   <li><p>Let <var title="">node</var> be the first child node of <var title="">element</var>, if any, or null otherwise.</p></li>

   <!-- while node != null do -->
   <li><p><i>Loop</i>: If <var title="">node</var> is null, jump to
   the step labeled <i>end</i>.</p></li>

   <li>

    <p>Process <var title="">node</var> according to the first
    matching step from the following list:</p>

    <dl class="switch"><dt>If <var title="">node</var> is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node</dt>

     <dd><p>Append the text data of <var title="">node</var> to <var title="">string</var>.</p></dd>


     <dt>If <var title="">node</var> is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code> element</dt>
     <dt>If <var title="">node</var> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML elements">HTML element</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> but that is not also <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a></dt>

     <dd><p>If <var title="">string</var> is not the empty string,
     push <var title="">string</var> onto <var title="">output</var>,
     and let <var title="">string</var> be empty string.</p></dd>


     <dt>Otherwise</dt>

     <dd>Do nothing.</dd>

    </dl></li>

   <li><p>Let <var title="">node</var> be <var title="">node</var>'s
   next sibling, if any, or null otherwise.</p></li>

   <li><p>Jump to the step labeled <i>loop</i>.</p></li>
   <!-- end while -->

   <li><p><i>End</i>: If <var title="">string</var> is not the empty
   string, push <var title="">string</var> onto <var title="">output</var>.</p></li>

   <li><p>Return <var title="">output</var> as the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#bidirectional-algorithm-formatting-character-ranges">bidirectional-algorithm formatting character
   ranges</a>.</p></li>

  </ol><p>The value of a namespace-less attribute of an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements" title="HTML
  elements">HTML element</a> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#bidirectional-algorithm-formatting-character-ranges" title="bidirectional-algorithm formatting character
  ranges">bidirectional-algorithm formatting character
  range</a>.</p>

<!--(this is unnecessarily pedantic)
  <p>The text data of a comment node is a <span
  title="bidirectional-algorithm formatting character
  ranges">bidirectional-algorithm formatting character
  range</span>.</p>
-->

  <p>Any strings that, as described above, are
  <dfn id="bidirectional-algorithm-formatting-character-ranges">bidirectional-algorithm formatting character ranges</dfn> must
  match the <code title="">string</code> production in the following
  ABNF, the character set for which is Unicode. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsABNF">[ABNF]</a></p>

  <pre>string        = *( plaintext ( embedding / override ) ) plaintext
embedding     = ( lre / rle ) string pdf
override      = ( lro / rlo ) string pdf
lre           = %x202A ; U+202A LEFT-TO-RIGHT EMBEDDING
rle           = %x202B ; U+202B RIGHT-TO-LEFT EMBEDDING
lro           = %x202D ; U+202D LEFT-TO-RIGHT OVERRIDE
rlo           = %x202E ; U+202E RIGHT-TO-LEFT OVERRIDE
pdf           = %x202C ; U+202C POP DIRECTIONAL FORMATTING
plaintext     = *( %x0000-2029 / %x202F-10FFFF )
                ; any string with no bidirectional-algorithm formatting characters</pre>

  <p class="note">Authors are encouraged to use the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdo-element">bdo</a></code> element,
  and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code> element, rather than maintaining the
  bidirectional-algorithm formatting characters manually. The
  bidirectional-algorithm formatting characters interact poorly with
  CSS.</p>



  <h4 id="wai-aria"><span class="secno">3.2.7 </span><dfn>WAI-ARIA</dfn></h4>

  <p>Authors may use the ARIA <code title="attr-aria-role">role</code>
  and <code title="attr-aria-*">aria-*</code> attributes on <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML
  elements</a>, in accordance with the requirements described in
  the ARIA specifications, except where these conflict with the
  <span>strong native semantics</span>
<!--FORK--><!--bug 11557-->
  or are equal to the <span>default implied ARIA semantics</span>
<!--FORK--><!--bug 11557-->
  described below. These exceptions are intended to prevent authors
  from making assistive technology products report nonsensical states
  that do not represent the actual state of the document. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsARIA">[ARIA]</a></p>

<!--FORK--><!--bug 11557-->
  <p>Authors must not set the ARIA <code title="attr-aria-role">role</code> and <code title="attr-aria-*">aria-*</code> attributes in a manner that
  conflicts with the semantics described in the following table,
  except that the <code title="attr-aria-role-presentation">presentation</code> role may
  always be used. Authors must not set the ARIA <code title="attr-aria-role">role</code> and <code title="attr-aria-*">aria-*</code> attributes to values that match
  the <span>default implicit ARIA semantics</span> defined in the
  following two tables.</p>
<!--FORK--><!--bug 11557-->

  <div class="impl">

  <p>User agents are required to implement ARIA semantics on all
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a>, as defined in the ARIA specifications.
  The <span>implicit ARIA semantics</span> defined below must be
  recognized by implementations for the purposes of ARIA processing.
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsARIAIMPL">[ARIAIMPL]</a></p>

  <p class="note">The ARIA attributes defined in the ARIA
  specifications, and the <span>strong native semantics</span> and
  <span>default implicit ARIA semantics</span> defined below, do not
  have any effect on CSS pseudo-class matching, user interface
  modalities that don't use assistive technologies, or the default
  actions of user interaction events as described in this
  specification.</p> <!-- this is a truism, in that there are no
  requirements that require that those attributes have such an effect,
  and no requirements that relax the requirements on those effects
  such that they could be affected by those attributes -->

  </div>

  <p>The following table defines the <span>strong native
  semantics</span> and corresponding <span>default implicit ARIA
  semantics</span> that apply to <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a>. Each
  language feature (element or attribute) in a cell in the first
  column implies the ARIA semantics (role, states, and/or properties)
  given in the cell in the second column of the same row. <span class="impl">When multiple rows apply to an element, the role from
  the last row to define a role must be applied, and the states and
  properties from all the rows must be combined.</span></p>

  <table id="table-aria-strong"><thead><tr><th>Language feature
     </th><th><span>Strong native semantics</span> and <span>default implied ARIA semantics</span>

   </th></tr></thead><tbody><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element that creates a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a>
     </td><td><code title="attr-aria-role-link">link</code> role

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-datalist-element">datalist</a></code> element
     </td><td><code title="attr-aria-role-listbox">listbox</code> role, with the <code title="attr-aria-multiselectable">aria-multiselectable</code> property set to "false"

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element">details</a></code> element
     </td><td><code title="attr-aria-expanded">aria-expanded</code> state set to "true" if the element's <code title="attr-details-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-details-open">open</a></code> attribute is present, and set to "false" otherwise

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dialog-element">dialog</a></code> element without an <code title="attr-dialog-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dialog-open">open</a></code> attribute
     </td><td>The <code title="title-aria-hidden">aria-hidden</code> state set to "true"

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element
     </td><td><code title="attr-aria-role-heading">heading</code> role, with the <code title="attr-aria-level">aria-level</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline-depth">outline depth</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element">hr</a></code> element
     </td><td><code title="attr-aria-role-separator">separator</code> role

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element whose <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute's value is empty
     </td><td><code title="attr-aria-role-presentation">presentation</code> role

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#checkbox-state-(type=checkbox)" title="attr-input-type-checkbox">Checkbox</a> state
     </td><td><code title="attr-aria-checked">aria-checked</code> state set to "mixed" if the element's <code title="dom-input-indeterminate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-input-indeterminate">indeterminate</a></code> IDL attribute is true, or "true" if the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fe-checked" title="concept-fe-checked">checkedness</a> is true, or "false" otherwise

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#color-state-(type=color)" title="attr-input-type-color">Color</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#date-state-(type=date)" title="attr-input-type-date">Date</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#date-and-time-state-(type=datetime)" title="attr-input-type-datetime">Date and Time</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#local-date-and-time-state-(type=datetime-local)" title="attr-input-type-datetime-local">Local Date and Time</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#e-mail-state-(type=email)" title="attr-input-type-email">E-mail</a> state with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-list" title="concept-input-list">suggestions source element</a>
     </td><td><code title="attr-aria-role-textbox">textbox</code> role, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#file-upload-state-(type=file)" title="attr-input-type-file">File Upload</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hidden-state-(type=hidden)" title="attr-input-type-hidden">Hidden</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#month-state-(type=month)" title="attr-input-type-month">Month</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#number-state-(type=number)" title="attr-input-type-number">Number</a> state
     </td><td><code title="attr-aria-role-spinbutton">spinbutton</code> role, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute, the <code title="attr-aria-valuemax">aria-valuemax</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-max" title="concept-input-max">maximum</a>, the <code title="attr-aria-valuemin">aria-valuemin</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-min" title="concept-input-min">minimum</a>, and, if the result of applying the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-floating-point-number-values">rules for parsing floating point number values</a> to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fe-value" title="concept-fe-value">value</a> is a number, with the <code title="attr-aria-valuenow">aria-valuenow</code> property set to that number

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#password-state-(type=password)" title="attr-input-type-password">Password</a> state
     </td><td><code title="attr-aria-role-textbox">textbox</code> role, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#radio-button-state-(type=radio)" title="attr-input-type-radio">Radio Button</a> state
     </td><td><code title="attr-aria-checked">aria-checked</code> state set to "true" if the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fe-checked" title="concept-fe-checked">checkedness</a> is true, or "false" otherwise

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#range-state-(type=range)" title="attr-input-type-range">Range</a> state
     </td><td><code title="attr-aria-role-slider">slider</code> role, with the <code title="attr-aria-valuemax">aria-valuemax</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-max" title="concept-input-max">maximum</a>, the <code title="attr-aria-valuemin">aria-valuemin</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-min" title="concept-input-min">minimum</a>, and the <code title="attr-aria-valuenow">aria-valuenow</code> property set to the result of applying the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-floating-point-number-values">rules for parsing floating point number values</a> to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fe-value" title="concept-fe-value">value</a>, if that results in a number, or the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-value-default-range" title="concept-input-value-default-range">default value</a> otherwise

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#reset-button-state-(type=reset)" title="attr-input-type-reset">Reset Button</a> state
     </td><td><code title="attr-aria-role-button">button</code> role

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-(type=text)-state-and-search-state-(type=search)" title="attr-input-type-search">Search</a> state with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-list" title="concept-input-list">suggestions source element</a>
     </td><td><code title="attr-aria-role-textbox">textbox</code> role, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#submit-button-state-(type=submit)" title="attr-input-type-submit">Submit Button</a> state
     </td><td><code title="attr-aria-role-button">button</code> role

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#telephone-state-(type=tel)" title="attr-input-type-tel">Telephone</a> state with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-list" title="concept-input-list">suggestions source element</a>
     </td><td><code title="attr-aria-role-textbox">textbox</code> role, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-(type=text)-state-and-search-state-(type=search)" title="attr-input-type-text">Text</a> state with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-list" title="concept-input-list">suggestions source element</a>
     </td><td><code title="attr-aria-role-textbox">textbox</code> role, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-(type=text)-state-and-search-state-(type=search)" title="attr-input-type-text">Text</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-(type=text)-state-and-search-state-(type=search)" title="attr-input-type-search">Search</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#telephone-state-(type=tel)" title="attr-input-type-tel">Telephone</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-state-(type=url)" title="attr-input-type-url">URL</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#e-mail-state-(type=email)" title="attr-input-type-email">E-mail</a> states with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-list" title="concept-input-list">suggestions source element</a>
     </td><td><code title="attr-aria-role-combobox">combobox</code> role, with the <code title="attr-aria-owns">aria-owns</code> property set to the same value as the <code title="attr-input-list"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-list">list</a></code> attribute, and the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#time-state-(type=time)" title="attr-input-type-time">Time</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-state-(type=url)" title="attr-input-type-url">URL</a> state with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-list" title="concept-input-list">suggestions source element</a>
     </td><td><code title="attr-aria-role-textbox">textbox</code> role, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#week-state-(type=week)" title="attr-input-type-week">Week</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>, with the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-input-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-input-required" title="concept-input-required">required</a>
     </td><td>The <code title="title-aria-required">aria-required</code> state set to "true"

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-keygen-element">keygen</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-label-element">label</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element that creates a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a>
     </td><td><code title="attr-aria-role-link">link</code> role

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> element with a <code title="attr-menu-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-menu-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#context-menu-state" title="context menu state">context menu</a> state
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> element with a <code title="attr-menu-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-menu-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-state" title="list state">list</a> state
     </td><td><code title="attr-aria-role-menu">menu</code> role

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> element with a <code title="attr-menu-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-menu-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#toolbar-state" title="toolbar state">toolbar</a> state
     </td><td><code title="attr-aria-role-toolbar">toolbar</code> role

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meter-element">meter</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code> element
     </td><td><code title="attr-aria-role-navigation">navigation</code> role

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-optgroup-element">optgroup</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-option-element">option</a></code> element that is in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-select-option-list" title="concept-select-option-list">list of options</a> or that represents a suggestion in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-datalist-element">datalist</a></code> element
     </td><td><code title="attr-aria-role-option">option</code> role, with the <code title="attr-aria-selected">aria-selected</code> state set to "true" if the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-option-selectedness" title="concept-option-selectedness">selectedness</a> is true, or "false" otherwise.

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-param-element">param</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-progress-element">progress</a></code> element
     </td><td><code title="attr-aria-role-progressbar">progressbar</code> role, with, if the progress bar is determinate, the <code title="attr-aria-valuemax">aria-valuemax</code> property set to the maximum value of the progress bar, the <code title="attr-aria-valuemin">aria-valuemin</code> property set to zero, and the <code title="attr-aria-valuenow">aria-valuenow</code> property set to the current value of the progress bar

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element with a <code title="attr-select-multiple"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-select-multiple">multiple</a></code> attribute
     </td><td><code title="attr-aria-role-listbox">listbox</code> role, with the <code title="attr-aria-multiselectable">aria-multiselectable</code> property set to "true"

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element with no <code title="attr-select-multiple"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-select-multiple">multiple</a></code> attribute
     </td><td><code title="attr-aria-role-listbox">listbox</code> role, with the <code title="attr-aria-multiselectable">aria-multiselectable</code> property set to "false"

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-select-element">select</a></code> element with a <code title="attr-select-required"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-select-required">required</a></code> attribute
     </td><td>The <code title="title-aria-required">aria-required</code> state set to "true"

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-summary-element">summary</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code> element
     </td><td><code title="attr-aria-role-textbox">textbox</code> role, with the <code title="attr-aria-multiline">aria-multiline</code> property set to "true", and the <code title="title-aria-readonly">aria-readonly</code> property set to "true" if the element has a <code title="attr-textarea-readonly"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-textarea-readonly">readonly</a></code> attribute

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code> element with a <code title="attr-textarea-required"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-textarea-required">required</a></code> attribute
     </td><td>The <code title="title-aria-required">aria-required</code> state set to "true"

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>

    </td></tr><tr><td>An element that <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-command" title="concept-command">defines a command</a>, whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#command-facet-type" title="command-facet-type">Type</a> facet is "checkbox", and that is a descendant of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> element whose <code title="attr-menu-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-menu-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-state" title="list state">list</a> state
     </td><td><code title="attr-aria-role-menuitemcheckbox">menuitemcheckbox</code> role, with the <code title="attr-aria-checked">aria-checked</code> state set to "true" if the command's <a href="http://www.whatwg.org/specs/web-apps/current-work/#command-facet-checkedstate" title="command-facet-checkedstate">Checked State</a> facet is true, and "false" otherwise

    </td></tr><tr><td>An element that <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-command" title="concept-command">defines a command</a>, whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#command-facet-type" title="command-facet-type">Type</a> facet is "command", and that is a descendant of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> element whose <code title="attr-menu-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-menu-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-state" title="list state">list</a> state
     </td><td><code title="attr-aria-role-menuitem">menuitem</code> role

    </td></tr><tr><td>An element that <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-command" title="concept-command">defines a command</a>, whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#command-facet-type" title="command-facet-type">Type</a> facet is "radio", and that is a descendant of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> element whose <code title="attr-menu-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-menu-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-state" title="list state">list</a> state
     </td><td><code title="attr-aria-role-menuitemradio">menuitemradio</code> role, with the <code title="attr-aria-checked">aria-checked</code> state set to "true" if the command's <a href="http://www.whatwg.org/specs/web-apps/current-work/#command-facet-checkedstate" title="command-facet-checkedstate">Checked State</a> facet is true, and "false" otherwise

    </td></tr><tr><td>Element that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fe-disabled" title="concept-fe-disabled">disabled</a>
     </td><td>The <code title="title-aria-disabled">aria-disabled</code> state set to "true"

    </td></tr><tr><td>Element that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#inert">inert</a>
     </td><td>The <code title="title-aria-disabled">aria-disabled</code> state set to "true"

    </td></tr><tr><td>Element with a <code title="attr-hidden"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hidden-attribute">hidden</a></code> attribute
     </td><td>The <code title="title-aria-hidden">aria-hidden</code> state set to "true"

    </td></tr><tr><td>Element that is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#candidate-for-constraint-validation">candidate for constraint validation</a> but that does not <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-fv-valid" title="concept-fv-valid">satisfy its constraints</a>
     </td><td>The <code title="title-aria-invalid">aria-invalid</code> state set to "true"

  </td></tr></tbody></table><p>Some <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> have native semantics that can be
  overridden. The following table lists these elements and their
  <span>default implicit ARIA semantics</span>, along with the
  restrictions that apply to those elements. Each language feature
  (element or attribute) in a cell in the first column implies, unless
  otherwise overridden, the ARIA semantic (role, state, or property)
  given in the cell in the second column of the same row, but this
  semantic may be overridden under the conditions listed in the cell
  in the third column of that row. In addition, any element may be
  given the <code title="attr-aria-role-presentation">presentation</code> role,
  regardless of the restrictions below.</p>

  <table id="table-aria-weak"><thead><tr><th>Language feature
     </th><th>Default implied ARIA semantic
     </th><th>Restrictions

   </th></tr></thead><tbody><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element that creates a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a>
     </td><td><code title="attr-aria-role-link">link</code> role
     </td><td>Role must be either <code title="attr-aria-role-link">link</code>, <code title="attr-aria-role-button">button</code><!--!-->, <code title="attr-aria-role-checkbox">checkbox</code><!--!-->, <code title="attr-aria-role-menuitem">menuitem</code>, <code title="attr-aria-role-menuitemcheckbox">menuitemcheckbox</code><!--!-->, <code title="attr-aria-role-menuitemradio">menuitemradio</code><!--!-->, <code title="attr-aria-role-tab">tab</code>, or <code title="attr-aria-role-treeitem">treeitem</code><!--!-->

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>
     </td><td>If specified, role must be <code title="attr-aria-role-contentinfo">contentinfo</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element
     </td><td><code title="attr-aria-role-article">article</code> role
     </td><td>Role must be either <code title="attr-aria-role-article">article</code>, <code title="attr-aria-role-document">document</code>, <code title="attr-aria-role-application">application</code>, or <code title="attr-aria-role-main">main</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code> element
     </td><td><code title="attr-aria-role-note">note</code> role
     </td><td>Role must be either <code title="attr-aria-role-note">note</code>, <code title="attr-aria-role-complementary">complementary</code>, or <code title="attr-aria-role-search">search</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>
     </td><td>If specified, role must be <code title="attr-aria-role-application">application</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code> element
     </td><td><code title="attr-aria-role-button">button</code> role
     </td><td>Role must be either <code title="attr-aria-role-button">button</code>, <code title="attr-aria-role-link">link</code><!--!-->, <code title="attr-aria-role-menuitem">menuitem</code>, <code title="attr-aria-role-menuitemcheckbox">menuitemcheckbox</code><!--!-->, <code title="attr-aria-role-menuitemradio">menuitemradio</code><!--!-->, <code title="attr-aria-role-radio">radio</code><!--!-->

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element">details</a></code> element
     </td><td><code title="attr-aria-role-group">group</code> role
     </td><td>Role must be a role that supports <code title="attr-aria-expanded">aria-expanded</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dialog-element">dialog</a></code> element
     </td><td><code title="attr-aria-role-dialog">dialog</code> role
     </td><td>Role must be either
      <code title="attr-aria-role-alert">alert</code>,
      <code title="attr-aria-role-alertdialog">alertdialog</code>,
      <code title="attr-aria-role-application">application</code>,
      <code title="attr-aria-role-contentinfo">contentinfo</code>,
      <code title="attr-aria-role-dialog">dialog</code>,
      <code title="attr-aria-role-document">document</code>,
      <code title="attr-aria-role-log">log</code>,
      <code title="attr-aria-role-main">main</code>,
      <code title="attr-aria-role-marquee">marquee</code>,
      <code title="attr-aria-role-region">region</code>,
      <code title="attr-aria-role-search">search</code>, or
      <code title="attr-aria-role-status">status</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>
     </td><td>If specified, role must be either <code title="attr-aria-role-application">application</code>, <code title="attr-aria-role-document">document</code>, or <code title="attr-aria-role-img">img</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>
     </td><td>If specified, role must be <code title="attr-aria-role-contentinfo">contentinfo</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> element that does not have an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> ancestor
     </td><td><code title="attr-aria-role-heading">heading</code> role, with the <code title="attr-aria-level">aria-level</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline-depth">outline depth</a>
     </td><td>Role must be either <code title="attr-aria-role-heading">heading</code> or <code title="attr-aria-role-tab">tab</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code> element that does not have an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> ancestor
     </td><td><code title="attr-aria-role-heading">heading</code> role, with the <code title="attr-aria-level">aria-level</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline-depth">outline depth</a>
     </td><td>Role must be either <code title="attr-aria-role-heading">heading</code> or <code title="attr-aria-role-tab">tab</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h3</a></code> element that does not have an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> ancestor
     </td><td><code title="attr-aria-role-heading">heading</code> role, with the <code title="attr-aria-level">aria-level</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline-depth">outline depth</a>
     </td><td>Role must be either <code title="attr-aria-role-heading">heading</code> or <code title="attr-aria-role-tab">tab</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h4</a></code> element that does not have an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> ancestor
     </td><td><code title="attr-aria-role-heading">heading</code> role, with the <code title="attr-aria-level">aria-level</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline-depth">outline depth</a>
     </td><td>Role must be either <code title="attr-aria-role-heading">heading</code> or <code title="attr-aria-role-tab">tab</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h5</a></code> element that does not have an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> ancestor
     </td><td><code title="attr-aria-role-heading">heading</code> role, with the <code title="attr-aria-level">aria-level</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline-depth">outline depth</a>
     </td><td>Role must be either <code title="attr-aria-role-heading">heading</code> or <code title="attr-aria-role-tab">tab</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code> element that does not have an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> ancestor
     </td><td><code title="attr-aria-role-heading">heading</code> role, with the <code title="attr-aria-level">aria-level</code> property set to the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline-depth">outline depth</a>
     </td><td>Role must be either <code title="attr-aria-role-heading">heading</code> or <code title="attr-aria-role-tab">tab</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>
     </td><td>If specified, role must be <code title="attr-aria-role-banner">banner</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>
     </td><td>If specified, role must be either <code title="attr-aria-role-application">application</code>, <code title="attr-aria-role-document">document</code>, or <code title="attr-aria-role-img">img</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element whose <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute's value is absent
     </td><td><code title="attr-aria-role-img">img</code> role
     </td><td>No restrictions

    </td></tr><tr><!--!--><!--(there's no reason to convey <img> elements with alt="" text as images to an AT)--><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element whose <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute's value is present and not empty
     </td><td><code title="attr-aria-role-img">img</code> role
     </td><td>No restrictions

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#button-state-(type=button)" title="attr-input-type-button">Button</a> state
     </td><td><code title="attr-aria-role-button">button</code> role
     </td><td>Role must be either <code title="attr-aria-role-button">button</code>, <code title="attr-aria-role-link">link</code><!--!-->, <code title="attr-aria-role-menuitem">menuitem</code>, <code title="attr-aria-role-menuitemcheckbox">menuitemcheckbox</code><!--!-->, <code title="attr-aria-role-menuitemradio">menuitemradio</code><!--!-->, <code title="attr-aria-role-radio">radio</code><!--!-->

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#checkbox-state-(type=checkbox)" title="attr-input-type-checkbox">Checkbox</a> state
     </td><td><code title="attr-aria-role-checkbox">checkbox</code> role
     </td><td>Role must be either <code title="attr-aria-role-checkbox">checkbox</code> or <code title="attr-aria-role-menuitemcheckbox">menuitemcheckbox</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-button-state-(type=image)" title="attr-input-type-image">Image Button</a> state
     </td><td><code title="attr-aria-role-button">button</code> role
     </td><td>Role must be either <code title="attr-aria-role-button">button</code>, <code title="attr-aria-role-link">link</code><!--!-->, <code title="attr-aria-role-menuitem">menuitem</code>, <code title="attr-aria-role-menuitemcheckbox">menuitemcheckbox</code><!--!-->, <code title="attr-aria-role-menuitemradio">menuitemradio</code><!--!-->, <code title="attr-aria-role-radio">radio</code><!--!-->

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element with a <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#radio-button-state-(type=radio)" title="attr-input-type-radio">Radio Button</a> state
     </td><td><code title="attr-aria-role-radio">radio</code> role
     </td><td>Role must be either <code title="attr-aria-role-radio">radio</code> or <code title="attr-aria-role-menuitemradio">menuitemradio</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element whose parent is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> element
     </td><td><code title="attr-aria-role-listitem">listitem</code> role
     </td><td>Role must be either <code title="attr-aria-role-listitem">listitem</code>, <code title="attr-aria-role-menuitemcheckbox">menuitemcheckbox</code>, <code title="attr-aria-role-menuitemradio">menuitemradio</code>, <code title="attr-aria-role-option">option</code>, <code title="attr-aria-role-tab">tab</code>, or <code title="attr-aria-role-treeitem">treeitem</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>
     </td><td>If specified, role must be either <code title="attr-aria-role-application">application</code>, <code title="attr-aria-role-document">document</code>, or <code title="attr-aria-role-img">img</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element
     </td><td><code title="attr-aria-role-list">list</code> role
     </td><td>Role must be either <code title="attr-aria-role-directory">directory</code>, <code title="attr-aria-role-list">list</code>, <code title="attr-aria-role-listbox">listbox</code>, <code title="attr-aria-role-menu">menu</code>, <code title="attr-aria-role-menubar">menubar</code>, <code title="attr-aria-role-tablist">tablist</code>, <code title="attr-aria-role-toolbar ">toolbar</code>, <code title="attr-aria-role-tree">tree</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-output-element">output</a></code> element
     </td><td><code title="attr-aria-role-status">status</code> role
     </td><td>No restrictions

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code> element
     </td><td><code title="attr-aria-role-region">region</code> role
     </td><td>Role must be either
      <code title="attr-aria-role-alert">alert</code>,
      <code title="attr-aria-role-alertdialog">alertdialog</code>,
      <code title="attr-aria-role-application">application</code>,
      <code title="attr-aria-role-contentinfo">contentinfo</code>,
      <code title="attr-aria-role-dialog">dialog</code>,
      <code title="attr-aria-role-document">document</code>,
      <code title="attr-aria-role-log">log</code>,
      <code title="attr-aria-role-main">main</code>,
      <code title="attr-aria-role-marquee">marquee</code>,
      <code title="attr-aria-role-region">region</code>,
      <code title="attr-aria-role-search">search</code>, or
      <code title="attr-aria-role-status">status</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> element
     </td><td><code title="attr-aria-role-list">list</code> role
     </td><td>Role must be either <code title="attr-aria-role-directory">directory</code>, <code title="attr-aria-role-list">list</code>, <code title="attr-aria-role-listbox">listbox</code>, <code title="attr-aria-role-menu">menu</code>, <code title="attr-aria-role-menubar">menubar</code>, <code title="attr-aria-role-tablist">tablist</code>, <code title="attr-aria-role-toolbar ">toolbar</code>, <code title="attr-aria-role-tree">tree</code>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element
     </td><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-role-none" title="concept-role-none">No role</a>
     </td><td>If specified, role must be <code title="attr-aria-role-application">application</code>

    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">The body element</a>
     </td><td><code title="attr-aria-role-document">document</code> role
     </td><td>Role must be either <code title="attr-aria-role-document">document</code> or <code title="attr-aria-role-application">application</code>

  </td></tr></tbody></table><p>The entry "<dfn id="concept-role-none" title="concept-role-none">no role</dfn>", when
  used as a <span title="strong native semantics">strong native
  semantic</span>, means that no role other than <code title="attr-aria-role-presentation">presentation</code> can be used.
  When used as a <span title="default implied ARIA semantics">default
  implied ARIA semantic</span>, it means the user agent has no default
  mapping to ARIA roles. (However, it probably will have its own
  mappings to the accessibility layer.)</p>

  <div class="impl">


  <p>Conformance checkers are encouraged to phrase errors such that
  authors are encouraged to use more appropriate elements rather than
  remove accessibility annotations. For example, if an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>
  element is marked as having the <code title="attr-aria-role-button">button</code> role, a conformance
  checker could say "Use a more appropriate element to represent a
  button, for example a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code> element or an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element" rather than "The <code title="attr-aria-role-button">button</code> role cannot be used with
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> elements".</p>

  </div>

  <div class="example">

   <p>These features can be used to make accessibility tools render
   content to their users in more useful ways. For example, ASCII art,
   which is really an image, appears to be text, and in the absence of
   appropriate annotations would end up being rendered by screen
   readers as a very painful reading of lots of punctuation. Using the
   features described in this section, one can instead make the ATs
   skip the ASCII art and just read the caption:</p>

   <pre>&lt;figure <strong>role="img" aria-labelledby="fish-caption"</strong>&gt; <!-- that's "labelled" with TWO "l"s -->
 &lt;pre&gt;
 o           .'`/
     '      /  (
   O    .-'` ` `'-._      .')
      _/ (o)        '.  .' /
      )       )))     &gt;&lt;  &lt;
      `\  |_\      _.'  '. \
        '-._  _ .-'       '.)
    jgs     `\__\
 &lt;/pre&gt;
 &lt;figcaption <strong>id="fish-caption"</strong>&gt;
  Joan G. Stark, "&lt;cite&gt;fish&lt;/cite&gt;".
  October 1997. ASCII on electrons. 28×8.
 &lt;/figcaption&gt; 
&lt;/figure&gt; 
   </pre>

   <!-- source: http://www.geocities.com/SoHo/7373/aquatic.htm#fish -->

  </div>



  <div class="impl">

  <h3 id="interactions-with-xpath-and-xslt"><span class="secno">3.3 </span>Interactions with XPath and XSLT</h3>

  <p id="xpath-1.0-processors">Implementations of XPath 1.0 that
  operate on <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a> parsed or created in the
  manners described in this specification (e.g. as part of the <code title="">document.evaluate()</code> API) must act as if the
  following edit was applied to the XPath 1.0 specification.</p>

  <p>First, remove this paragraph:</p>

  <blockquote cite="./HTML Standard_files/REC-xpath-19991116">

   <p>A <a href="http://www.w3.org/TR/REC-xml-names#NT-QName">QName</a> in the
   node test is expanded into an <a href="http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name">expanded-name</a>
   using the namespace declarations from the expression context.  This
   is the same way expansion is done for element type names in start
   and end-tags except that the default namespace declared with <code title="">xmlns</code> is not used: if the <a href="http://www.w3.org/TR/REC-xml-names#NT-QName">QName</a> does
   not have a prefix, then the namespace URI is null (this is the same
   way attribute names are expanded).  It is an error if the <a href="http://www.w3.org/TR/REC-xml-names#NT-QName">QName</a> has a
   prefix for which there is no namespace declaration in the
   expression context.</p>

  </blockquote>

  <p>Then, insert in its place the following:</p>

  <blockquote cite="./HTML Standard_files/show_bug.cgi">

   <p>A QName in the node test is expanded into an expanded-name using
   the namespace declarations from the expression context. If the
   QName has a prefix, then there must be a<!-- added 2009-10-27 -
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=8062 --> namespace
   declaration for this prefix in the expression context, and the
   corresponding<!-- typo fixed 2009-10-27 -
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=8063 --> namespace
   URI is the one that is associated with this prefix.  It is an error
   if the QName has a prefix for which there is no namespace
   declaration in the expression context. </p>

   <p>If the QName has no prefix and the principal node type of the
   axis is element, then the default element namespace is
   used. Otherwise if the QName has no prefix, the namespace URI is
   null. The default element namespace is a member of the context for
   the XPath expression. The value of the default element namespace
   when executing an XPath expression through the DOM3 XPath API is
   determined in the following way:</p>

   <ol><li>If the context node is from an HTML DOM, the default element
    namespace is "http://www.w3.org/1999/xhtml".</li>

    <li>Otherwise, the default element namespace URI is null.</li>

   </ol><p class="note">This is equivalent to adding the default element
   namespace feature of XPath 2.0 to XPath 1.0, and using the HTML
   namespace as the default element namespace for HTML documents. It
   is motivated by the desire to have implementations be compatible
   with legacy HTML content while still supporting the changes that
   this specification introduces to HTML regarding the namespace used
   for HTML elements, and by the desire to use XPath 1.0 rather than
   XPath 2.0.</p>

  </blockquote>

  <p class="note">This change is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#willful-violation">willful violation</a> of
  the XPath 1.0 specification, motivated by desire to have
  implementations be compatible with legacy content while still
  supporting the changes that this specification introduces to HTML
  regarding which namespace is used for HTML elements. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXPATH10">[XPATH10]</a></p> <!-- note: version matters for
  this ref -->

  <hr><p id="dom-based-xslt-1.0-processors">XSLT 1.0 processors outputting
  to a DOM when the output method is "html" (either explicitly or via
  the defaulting rule in XSLT 1.0) are affected as follows:</p>

  <p>If the transformation program outputs an element in no namespace,
  the processor must, prior to constructing the corresponding DOM
  element node, change the namespace of the element to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-namespace-0">HTML
  namespace</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#converted-to-ascii-lowercase" title="converted to ASCII
  lowercase">ASCII-lowercase</a> the element's local name, and
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#converted-to-ascii-lowercase" title="converted to ASCII lowercase">ASCII-lowercase</a>
  the names of any non-namespaced attributes on the element.</p>

  <p class="note">This requirement is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#willful-violation">willful violation</a>
  of the XSLT 1.0 specification, required because this specification
  changes the namespaces and case-sensitivity rules of HTML in a
  manner that would otherwise be incompatible with DOM-based XSLT
  transformations. (Processors that serialize the output are
  unaffected.) <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXSLT10">[XSLT10]</a></p> <!-- note:
  version matters for this ref -->

  <p class="note">There are also additional comments regarding the
  interaction of XSLT and HTML <a href="http://www.whatwg.org/specs/web-apps/current-work/#scriptTagXSLT">in the
  <code>script</code> element section</a>.</p>

  </div>



<!--TOPIC:HTML Syntax and Parsing-->
  <h3 id="dynamic-markup-insertion"><span class="secno">3.4 </span><dfn>Dynamic markup insertion</dfn></h3>

  <p class="note">APIs for dynamically inserting markup into the
  document interact with the parser, and thus their behavior varies
  depending on whether they are used with <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a>
  (and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a>) or XHTML in <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML
  documents</a> (and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a>).</p>



  <h4 id="opening-the-input-stream"><span class="secno">3.4.1 </span>Opening the input stream</h4>

  <p>The <dfn id="dom-document-open" title="dom-document-open"><code>open()</code></dfn>
  method comes in several variants with different numbers of
  arguments.</p>

  <dl class="domintro"><dt><var title="">document</var> = <var title="">document</var> . <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">open</a></code>( [ <var title="">type</var> [, <var title="">replace</var> ] ] )</dt>

   <dd>

    <p>Causes the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> to be replaced in-place, as if
    it was a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object, but reusing the
    previous object, which is then returned.</p>

    <p>If the <var title="">type</var> argument is omitted or has the
    value "<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html">text/html</a></code>", then the resulting
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> has an HTML parser associated with it, which
    can be given data to parse using <code title="dom-document-write"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write">document.write()</a></code>. Otherwise, all
    content passed to <code title="dom-document-write"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write">document.write()</a></code> will be parsed
    as plain text.</p>

    <p>If the <var title="">replace</var> argument is present and has
    the value "<code title="">replace</code>", the existing entries in
    the session history for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object are
    removed.</p>

    <p>The method has no effect if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is still
    being parsed.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception if the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents" title="XML documents">XML
    document</a>.</p>

   </dd>

   <dt><var title="">window</var> = <var title="">document</var> . <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">open</a></code>( <var title="">url</var>, <var title="">name</var>, <var title="">features</var> [, <var title="">replace</var> ] )</dt>

   <dd>

    <p>Works like the <code title="dom-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-open">window.open()</a></code>
    method.</p>

   </dd>

  </dl><div class="impl">

  <p>When called with two or fewer arguments, the method must act as
  follows:</p>

  <ol><li>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object is not flagged as an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents" title="HTML documents">HTML document</a>, throw an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception and abort these
   steps.</li>

   <li><p>Let <var title="">type</var> be the value of the first
   argument, if there is one, or "<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html">text/html</a></code>"
   otherwise.</p></li>

   <li><p>Let <var title="">replace</var> be true if there is a second
   argument and it is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match for
   the value "replace", and false otherwise.</p></li>

   <li>

    <p>If the document has an <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-parser">active parser</a> that isn't a
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#script-created-parser">script-created parser</a>, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#insertion-point">insertion
    point</a> associated with that parser's <a href="http://www.whatwg.org/specs/web-apps/current-work/#input-stream">input
    stream</a> is not undefined (that is, it <em>does</em> point to
    somewhere in the input stream), then the method does
    nothing. Abort these steps and return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>
    object on which the method was invoked.</p>

    <p class="note">This basically causes <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">document.open()</a></code> to be ignored
    when it's called in an inline script found during the parsing of
    data sent over the network, while still letting it have an effect
    when called asynchronously or on a document that is itself being
    spoon-fed using these APIs.</p>

   </li>

   <li><p>Release the <a href="http://www.whatwg.org/specs/web-apps/current-work/#storage-mutex">storage mutex</a>.</p></li>

   <li><p>Set the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <var title="concept-document-salvageable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-document-salvageable">salvageable</a></var> state to
   false.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#prompt-to-unload-a-document" title="prompt to unload a document">Prompt to
   unload</a> the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object. If the user
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#refused-to-allow-the-document-to-be-unloaded">refused to allow the document to be unloaded</a>, then
   these steps must be aborted.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#unload-a-document" title="unload a document">Unload</a> the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object, with the <var title="">recycle</var>
   parameter set to true.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#abort-a-document" title="abort a document">Abort</a> the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p></li>

   <li><p>Unregister all event listeners registered on the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> node and its descendants.</p>

   </li><li><p>Remove any <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a>
   associated with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> in any <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task
   source</a>.</p></li> <!-- removes callbacks that fired between
   this algorithm starting and the times and databases being aborted
   in the "unload" step above -->

   <li><p>Remove all child nodes of the document, without firing any
   mutation events.</p></li> <!-- as of 2009-03-30, only WebKit fired
   mutation events here. -->

   <li><p>Replace the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s singleton objects with
   new instances of those objects. (This includes in particular the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#location">Location</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#history-0">History</a></code>,
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#applicationcache">ApplicationCache</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#navigator">Navigator</a></code>, objects,
   the various <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#barprop">BarProp</a></code> objects, the two
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#storage-0">Storage</a></code> objects, the various
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> objects, and objects defined by other
   specifications, like <code>Selection</code> and the document's
   <code>UndoManager</code>. It also includes all the Web IDL
   prototypes in the JavaScript binding, including the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object's prototype.)</p></li>

   <!-- http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E...%3Ciframe%20src%3D%22document%22%3E%3C%2Fiframe%3E%0A%3Cscript%3Eonload%20%3D%20function%20()%20%7B%20f%20%3D%20document.getElementsByTagName('iframe')%5B0%5D%3B%20d%20%3D%20f.contentWindow.document%3B%20%7D%3C%2Fscript%3E%0A%3Cinput%20type%3Dbutton%20onclick%3D%22w(d.documentElement.innerHTML)%22%20value%3D%22dump%22%3E%0A%3Cinput%20type%3Dbutton%20onclick%3D%22d.open()%3B%20d.write('%3Cscript%3Evar%20x%20%3D%20new%20XMLHttpRequest()%3Bx.open(%26quot%3BGET%26quot%3B%2C%20%26quot%3BGET%26quot%3B)%3Bx.onreadystatechange%3Dfunction()%20%7B%20alert(x.readyState)%3B%20%7D%3Bx.send(null)%3B%3C%2Fscript%3E')%3Bd.close()%3B%20setTimeout(function()%20%7B%20d.open()%3B%20d.write('%3Cp%3Etest%3C%2Fp%3E')%3B%20d.close()%20%7D%2C%200)%3B%22%20value%3D%22xhr%22%3E%0A%3Cinput%20type%3Dbutton%20onclick%3D%22d.onclick%20%3D%20function()%20%7B%20w('click')%20%7D%22%20value%3D%22add%20click%20handler%22%3E%0A%3Cinput%20type%3Dbutton%20onclick%3D%22d.open()%3B%20d.write('%3Cp%3Etest%3C%2Fp%3E')%3B%20d.close()%22%20value%3D%22replace%22%3E%0A%3Cinput%20type%3Dbutton%20onclick%3D%22d.open()%3B%20d.write('%3Cp%3E%3Cscript%3Ei%20%3D%200%3B%20setTimeout(%26quot%3Bparent.w(i%2B%2B)%26quot%3B%2C%202000)%3C%2Fscript%3E%3C%2Fp%3E')%3B%20d.close()%22%20value%3D%22replace%20with%20timer%22%3E -->
   <!-- http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A...%3Ciframe%3E%3C%2Fiframe%3E%0D%0A%3Cscript%3E%0D%0Aonload%20%3D%20function%20()%20%7B%0D%0A%20frames%5B0%5D.test%20%3D%201%0D%0A%20w(frames%5B0%5D.test)%3B%0D%0A%20var%20a%20%3D%20frames%5B0%5D.document.location.assign%3B%0D%0A%20w(a)%3B%0D%0A%20w(frames%5B0%5D.document.location.assign%20%3D%3D%3D%20a)%3B%0D%0A%20frames%5B0%5D.document.open()%3B%0D%0A%20frames%5B0%5D.document.write('%3Cscript%3Edocument.write(test)%3C%5C%2Fscript%3E')%3B%0D%0A%20frames%5B0%5D.document.close()%3B%0D%0A%20w(frames%5B0%5D.test)%3B%0D%0A%20w(frames%5B0%5D.document.location.assign%20%3D%3D%3D%20a)%3B%0D%0A%7D%0D%0A%3C%2Fscript%3E -->

   <li><p>Change the <a href="http://www.whatwg.org/specs/web-apps/current-work/#document's-character-encoding">document's character encoding</a> to
   UTF-8.</p></li>

   <li><p>Set the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#reload-override-flag">reload override
   flag</a> and set the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#reload-override-buffer">reload
   override buffer</a> to the empty string.</p></li>

   <li><p>Set the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <var title="concept-document-salvageable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-document-salvageable">salvageable</a></var> state back
   to true.</p></li>

   <li><p>Change <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the document's address</a> to the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#entry-script">entry script</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#script's-document" title="script&#39;s
   document">document</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address" title="the document&#39;s
   address">address</a>.</p></li>

   <li><p>Create a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> and associate it with
   the document. This is a <dfn id="script-created-parser">script-created parser</dfn> (meaning
   that it can be closed by the <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">document.open()</a></code> and <code title="dom-document-close"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-close">document.close()</a></code> methods, and
   that the tokenizer will wait for an explicit call to <code title="dom-document-close"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-close">document.close()</a></code> before emitting
   an end-of-file token). The encoding <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-encoding-confidence" title="concept-encoding-confidence">confidence</a> is
   <i>irrelevant</i>.</p></li>

   <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-document-readiness">current document readiness</a> of the
   document to "<code title="">loading</code>".</p></li>

   <li>

    <!-- text/plain handling -->

    <p>If the <var title="">type</var> string contains a U+003B
    SEMICOLON character (;), remove the first such character and all
    characters from it up to the end of the string.</p>

    </li><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace">Strip leading and trailing whitespace</a> from
    <var title="">type</var>.</p>

    <p>If <var title="">type</var> is <em>not</em> now an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
    case-insensitive</a> match for the string
    "<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html">text/html</a></code>", then act as if the tokenizer had emitted
    a start tag token with the tag name "pre" followed by a single
    U+000A LINE FEED (LF) character<!-- to get eaten, so that a
    leading LF in the written text doesn't get eaten itself-->, then
    switch the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a>'s tokenizer to the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#plaintext-state">PLAINTEXT state</a>.</p>

    <!--
 http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E...%3Ciframe%3E%3C%2Fiframe%3E%3Cscript%3Eonload%20%3D%20function%20()%20%7B%20%0D%0A%20%20var%20d%20%3D%20document.getElementsByTagName('iframe')%5B0%5D.contentDocument%3B%0D%0A%20%20d.open('image%2Fsvg%2Bxml')%3B%0D%0A%20%20d.write(%22%3Cinput%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml'%20value%3D'(x)html'%2F%3E%22)%3B%0D%0A%20%20d.close()%3B%0D%0A%7D%3B%3C%2Fscript%3E
 http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E...%3Ciframe%3E%3C%2Fiframe%3E%3Cscript%3Eonload%20%3D%20function%20()%20%7B%20%0D%0A%20%20var%20d%20%3D%20document.getElementsByTagName('iframe')%5B0%5D.contentDocument%3B%0D%0A%20%20d.open('image%2Fgif')%3B%0D%0A%20%20var%20a%20%3D%20%5B%200x47%2C%200x49%2C%200x46%2C%200x38%2C%200x39%2C%200x61%2C%200x01%2C%200x00%2C%200x01%2C%200x00%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200x80%2C%200xff%2C%200x00%2C%200xc0%2C%200xc0%2C%200xc0%2C%200x00%2C%200x00%2C%200x00%2C%200x21%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200xf9%2C%200x04%2C%200x01%2C%200x00%2C%200x00%2C%200x00%2C%200x00%2C%200x2c%2C%200x00%2C%200x00%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200x00%2C%200x00%2C%200x01%2C%200x00%2C%200x01%2C%200x00%2C%200x00%2C%200x02%2C%200x02%2C%200x44%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%200x01%2C%200x00%2C%200x3b%20%5D%3B%0D%0A%20%20var%20s%20%3D%20%22%22%3B%0D%0A%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20a.length%3B%20i%20%2B%3D%201)%0D%0A%20%20%20%20s%20%2B%3D%20String.fromCharCode(a%5Bi%5D)%3B%0D%0A%20%20d.write(s)%3B%0D%0A%20%20d.close()%3B%0D%0A%7D%3B%3C%2Fscript%3E
 http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E...%3Ciframe%3E%3C%2Fiframe%3E%3Cscript%3Eonload%20%3D%20function%20()%20{%20%0A%20%20var%20d%20%3D%20document.getElementsByTagName(%27iframe%27)[0].contentDocument%3B%0A%20%20d.open(%27Text%2Fplain%27)%3B%0A%20%20d.write(%27%3Cb%3Etest%27)%3B%0A%20%20d.close()%3B%0A}%3B%3C%2Fscript%3E
 http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E...%3Ciframe%3E%3C%2Fiframe%3E%3Cscript%3Eonload%20%3D%20function%20()%20{%20%0A%20%20var%20d%20%3D%20document.getElementsByTagName(%27iframe%27)[0].contentDocument%3B%0A%20%20d.open(%27%20text%2Fplain%27)%3B%0A%20%20d.write(%27%3Cb%3Etest%27)%3B%0A%20%20d.close()%3B%0A}%3B%3C%2Fscript%3E
 http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E...%3Ciframe%3E%3C%2Fiframe%3E%3Cscript%3Eonload%20%3D%20function%20()%20{%20%0A%20%20var%20d%20%3D%20document.getElementsByTagName(%27iframe%27)[0].contentDocument%3B%0A%20%20d.open(%27text%2Fplain%3B%27)%3B%0A%20%20d.write(%27%3Cb%3Etest%27)%3B%0A%20%20d.close()%3B%0A}%3B%3C%2Fscript%3E
    -->

   </li>

   <li>

    <p>Remove all the entries in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>'s
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#session-history">session history</a> after the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-entry">current
    entry</a>. If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-entry">current entry</a> is the last entry
    in the session history, then no entries are removed.</p>

    <p class="note">This <a href="http://www.whatwg.org/specs/web-apps/current-work/#history-notes">doesn't necessarily
    have to affect</a> the user agent's user interface.</p>

   </li>

   <li><p>Remove any <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> queued by
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#history-traversal-task-source">history traversal task source</a>.</p></li>

   <li>Remove any earlier entries that share the same
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</li>

   <li><p>If <var title="">replace</var> is false, then add a new
   entry, just before the last entry, and associate with the new entry
   the text that was parsed by the previous parser associated with the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object, as well as the state of the document
   at the start of these steps. This allows the user to step backwards
   in the session history to see the page before it was blown away by
   the <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">document.open()</a></code> call.
   This new entry does not have a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object, so a
   new one will be created if the session history is traversed to that
   entry.</p></li>

   <li><p>Finally, set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#insertion-point">insertion point</a> to point at
   just before the end of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#input-stream">input stream</a> (which at this
   point will be empty).</p></li>

   <li><p>Return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> on which the method was
   invoked.</p></li>

  </ol><p class="note">The <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">document.open()</a></code> method does not
  affect whether a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#ready-for-post-load-tasks">ready for post-load
  tasks</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#completely-loaded">completely loaded</a>.</p>

  <p>When called with three or more arguments, the <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">open()</a></code> method on the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object must call the <code title="dom-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-open">open()</a></code> method on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code>
  object of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object, with the same
  arguments as the original call to the <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">open()</a></code> method, and return whatever
  that method returned. If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object has no
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code> object, then the method must throw an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidaccesserror">InvalidAccessError</a></code> exception.</p>

  </div>



  <h4 id="closing-the-input-stream"><span class="secno">3.4.2 </span>Closing the input stream</h4>

  <dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-close"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-close">close</a></code>()</dt>

   <dd>

    <p>Closes the input stream that was opened by the <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">document.open()</a></code> method.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception if the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents" title="XML documents">XML
    document</a>.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-document-close" title="dom-document-close"><code>close()</code></dfn>
  method must run the following steps:</p>

  <ol><li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object is not flagged as an
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents" title="HTML documents">HTML document</a>, throw an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception and abort these
   steps.</p></li>

   <li><p>If there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#script-created-parser">script-created parser</a> associated
   with the document, then abort these steps.</p></li>

   <li><p>Insert an <a href="http://www.whatwg.org/specs/web-apps/current-work/#explicit-eof-character">explicit "EOF" character</a> at the end
   of the parser's <a href="http://www.whatwg.org/specs/web-apps/current-work/#input-stream">input stream</a>.</p></li>

   <li><p>If there is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#pending-parsing-blocking-script">pending parsing-blocking script</a>,
   then abort these steps.</p></li>

   <li><p>Run the tokenizer, processing resulting tokens as they are
   emitted, and stopping when the tokenizer reaches the <a href="http://www.whatwg.org/specs/web-apps/current-work/#explicit-eof-character">explicit
   "EOF" character</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#spin-the-event-loop" title="spin the event loop">spins
   the event loop</a>.</p></li>

  </ol></div>



  <h4 id="document.write()"><span class="secno">3.4.3 </span><code title="dom-document-write"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write">document.write()</a></code></h4>

  <dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-write"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write">write</a></code>(<var title="">text</var>...)</dt>

   <dd>

    <p>In general, adds the given string(s) to the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s input stream.</p>

    <p class="warning">This method has very idiosyncratic behavior. In
    some cases, this method can affect the state of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML
    parser</a> while the parser is running, resulting in a DOM that
    does not correspond to the source of the document (e.g. if the
    string written is the string "<code title="">&lt;plaintext&gt;</code>" or "<code title="">&lt;!--</code>"). In other cases, the call can clear the
    current page first, as if <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">document.open()</a></code> had been called.
    In yet more cases, the method is simply ignored, or throws an
    exception. To make matters worse, the exact behavior of this
    method can in some cases be dependent on network latency<!--

     Namely, in the following case:

        <script>
         document.write('<link rel=stylesheet href=foo.css><script></script>x');
         // at this point, whether the DOM contains an "x" or not depends on how quickly the foo.css file could be processed
        </script>

    -->, which can lead to failures that are very hard to debug.
    <strong>For all these reasons, use of this method is strongly
    discouraged.</strong></p>

    <p>This method throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception
    when invoked on <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML documents</a>.</p>

   </dd>

  </dl><div class="impl">

  <p><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> objects have an
  <dfn id="ignore-destructive-writes-counter">ignore-destructive-writes counter</dfn>, which is used in
  conjunction with the processing of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements to
  prevent external scripts from being able to use <code title="dom-document-write"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write">document.write()</a></code> to blow away the
  document by implicitly calling <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">document.open()</a></code>. Initially, the
  counter must be set to zero.</p>

  <p>The <dfn id="dom-document-write" title="dom-document-write"><code>document.write(...)</code></dfn>
  method must act as follows:</p>

  <ol><li>

    <p>If the method was invoked on an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents" title="XML documents">XML
    document</a>, throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code>
    exception and abort these steps.</p>

    <!--
    Where would document.write() insert?
    Consider: data:text/xml,<script xmlns="http://www.w3.org/1999/xhtml"><![CDATA[ document.write('<foo>Test</foo>'); ]]></script>
    -->

   </li>

   <li>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#insertion-point">insertion point</a> is undefined and the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#ignore-destructive-writes-counter">ignore-destructive-writes
    counter</a> is greater than zero, then abort these steps.</p>

   </li>

   <li>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#insertion-point">insertion point</a> is undefined, call the
    <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">open()</a></code> method on the <code title="Document"><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">document</a></code> object (with no arguments). If
    the user <a href="http://www.whatwg.org/specs/web-apps/current-work/#refused-to-allow-the-document-to-be-unloaded">refused to allow the document to be
    unloaded</a>, then abort these steps. Otherwise, the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#insertion-point">insertion point</a> will point at just before the end of
    the (empty) <a href="http://www.whatwg.org/specs/web-apps/current-work/#input-stream">input stream</a>.</p>

   </li>

   <li>

    <p>Insert the string consisting of the concatenation of all the
    arguments to the method into the <a href="http://www.whatwg.org/specs/web-apps/current-work/#input-stream">input stream</a> just
    before the <a href="http://www.whatwg.org/specs/web-apps/current-work/#insertion-point">insertion point</a>.</p>

   </li>

   <li>

    <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#reload-override-flag">reload override
    flag</a> is set, then append the string consisting of the
    concatenation of all the arguments to the method to the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#reload-override-buffer">reload override buffer</a>.</p>

   </li>

   <li>

    <p>If there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#pending-parsing-blocking-script">pending parsing-blocking script</a>,
    have the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> process the characters that were
    inserted, one at a time, processing resulting tokens as they are
    emitted, and stopping when the tokenizer reaches the insertion
    point or when the processing of the tokenizer is aborted by the
    tree construction stage (this can happen if a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
    end tag token is emitted by the tokenizer).

    </p><p class="note">If the <code title="dom-document-write"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write">document.write()</a></code> method was
    called from script executing inline (i.e. executing because the
    parser parsed a set of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> tags), then this is a
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#nestedParsing">reentrant invocation of the
    parser</a>.</p>

   </li>

   <li>

    <p>Finally, return from the method.</p>

   </li>

  </ol></div>


  <h4 id="document.writeln()"><span class="secno">3.4.4 </span><code title="dom-document-writeln"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-writeln">document.writeln()</a></code></h4>

  <dl class="domintro"><dt><var title="">document</var> . <code title="dom-document-writeln"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-writeln">writeln</a></code>(<var title="">text</var>...)</dt>

   <dd>

    <p>Adds the given string(s) to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s input
    stream, followed by a newline character. If necessary, calls the
    <code title="dom-document-open"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-open">open()</a></code> method implicitly
    first.</p>

    <p>This method throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception
    when invoked on <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML documents</a>.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-document-writeln" title="dom-document-writeln"><code>document.writeln(...)</code></dfn>
  method, when invoked, must act as if the <code title="dom-document-write"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write">document.write()</a></code> method had been
  invoked with the same argument(s), plus an extra argument consisting
  of a string containing a single line feed character (U+000A).</p>

  </div>



<!--TOPIC:HTML-->
  <h2 id="semantics"><span class="secno">4 </span>The elements of HTML</h2>

  <h3 id="the-root-element"><span class="secno">4.1 </span>The root element</h3>

  <h4 id="the-html-element"><span class="secno">4.1.1 </span>The <dfn><code>html</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As the root element of a document.</dd>
   <dd>Wherever a subdocument fragment is allowed in a compound document.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element followed by a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-html-manifest"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-html-manifest">manifest</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlhtmlelement">HTMLHtmlElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the root of
  an HTML document.</p>

<!--TOPIC:Offline Web Applications-->
  <p>The <dfn id="attr-html-manifest" title="attr-html-manifest"><code>manifest</code></dfn>
  attribute gives the address of the document's <a href="http://www.whatwg.org/specs/web-apps/current-work/#application-cache">application
  cache</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-appcache-manifest" title="concept-appcache-manifest">manifest</a>, if there is
  one. If the attribute is present, the attribute's value must be a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially surrounded by
  spaces</a>.</p>

  <p>The <code title="attr-html-manifest"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-html-manifest">manifest</a></code> attribute
  only <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-appcache-init" title="concept-appcache-init">has an effect</a> during
  the early stages of document load. Changing the attribute
  dynamically thus has no effect (and thus, no DOM API is provided for
  this attribute).</p>

  <p class="note">For the purposes of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-appcache-init" title="concept-appcache-init">application cache selection</a>,
  later <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> elements cannot affect the <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolving of relative URLs</a> in <code title="attr-html-manifest"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-html-manifest">manifest</a></code> attributes, as the
  attributes are processed before those elements are seen.</p>

  <p class="note">The <code title="dom-applicationCache"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-applicationcache">window.applicationCache</a></code> IDL
  attribute provides scripted access to the offline <a href="http://www.whatwg.org/specs/web-apps/current-work/#application-cache">application
  cache</a> mechanism.</p>
<!--TOPIC:HTML-->

  <div class="example">

   <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> element in the following example declares
   that the document's language is English.</p>

   <pre>&lt;!DOCTYPE html&gt;
<strong>&lt;html lang="en"&gt;</strong>
&lt;head&gt;
&lt;title&gt;Swapping Songs&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Swapping Songs&lt;/h1&gt;
&lt;p&gt;Tonight I swapped some of the songs I wrote with some friends, who
gave me some of the songs they wrote. I love sharing my music.&lt;/p&gt;
&lt;/body&gt;
<strong>&lt;/html&gt;</strong></pre>

  </div>




  <h3 id="document-metadata"><span class="secno">4.2 </span>Document metadata</h3>

  <h4 id="the-head-element"><span class="secno">4.2.1 </span>The <dfn><code>head</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As the first element in an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>If the document is <a href="http://www.whatwg.org/specs/web-apps/current-work/#an-iframe-srcdoc-document">an <code>iframe</code> <code title="attr-iframe-srcdoc">srcdoc</code> document</a> or if title information is available from a higher-level protocol: Zero or more elements of <a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">metadata content</a>.</dd>
   <dd>Otherwise: One or more elements of <a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">metadata content</a>, of which exactly one is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlheadelement">HTMLHeadElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a
  collection of metadata for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>

  <div class="example">

   <p>The collection of metadata in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element can be
   large or small. Here is an example of a very short one:</p>

   <pre>&lt;!doctype html&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;A document with a short head&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
 ...</pre>

   <p>Here is an example of a longer one:</p>

   <pre>&lt;!DOCTYPE HTML&gt;
&lt;HTML&gt;
 &lt;HEAD&gt;
  &lt;META CHARSET="UTF-8"&gt;
  &lt;BASE HREF="http://www.example.com/"&gt;
  &lt;TITLE&gt;An application with a long head&lt;/TITLE&gt;
  &lt;LINK REL="STYLESHEET" HREF="default.css"&gt;
  &lt;LINK REL="STYLESHEET ALTERNATE" HREF="big.css" TITLE="Big Text"&gt;
  &lt;SCRIPT SRC="support.js"&gt;&lt;/SCRIPT&gt;
  &lt;META NAME="APPLICATION-NAME" CONTENT="Long headed application"&gt;
 &lt;/HEAD&gt;
 &lt;BODY&gt;
 ...</pre>

  </div>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element is a required child
  in most situations, but when a higher-level protocol provides title
  information, e.g. in the Subject line of an e-mail when HTML is used
  as an e-mail authoring format, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element can be
  omitted.</p>



  <h4 id="the-title-element"><span class="secno">4.2.2 </span>The <dfn><code>title</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">Metadata content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>In a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element containing no other <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-content" title="text content">Text</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmltitleelement">HTMLTitleElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-title-text" title="dom-title-text">text</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the
  document's title or name. Authors should use titles that identify
  their documents even when they are used out of context, for example
  in a user's history or bookmarks, or in search results. The
  document's title is often different from its first heading, since the
  first heading does not have to stand alone when taken out of
  context.</p>

  <p>There must be no more than one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element per
  document.</p>

<!--TOPIC:DOM APIs-->
  <dl class="domintro"><dt><var title="">title</var> . <code title="dom-title-text"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-title-text">text</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the contents of the element, ignoring child nodes that
    aren't <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes.</p>

    <p>Can be set, to replace the element's children with the given
    value.</p>

   </dd>

  </dl><div class="impl">

  <p>The IDL attribute <dfn id="dom-title-text" title="dom-title-text"><code>text</code></dfn> must return a
  concatenation of the contents of all the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes
  that are children of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element (ignoring any
  other nodes such as comments or elements), in tree order. On
  setting, it must act the same way as the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textcontent">textContent</a></code>
  IDL attribute.</p>

  </div>
<!--TOPIC:HTML-->

  <div class="example">

   <p>Here are some examples of appropriate titles, contrasted with
   the top-level headings that might be used on those same pages.</p>

   <pre>  &lt;title&gt;Introduction to The Mating Rituals of Bees&lt;/title&gt;
    ...
  &lt;h1&gt;Introduction&lt;/h1&gt;
  &lt;p&gt;This companion guide to the highly successful
  &lt;cite&gt;Introduction to Medieval Bee-Keeping&lt;/cite&gt; book is...</pre>

   <p>The next page might be a part of the same site. Note how the
   title describes the subject matter unambiguously, while the first
   heading assumes the reader knows what the context is and therefore
   won't wonder if the dances are Salsa or Waltz:</p>

   <pre>  &lt;title&gt;Dances used during bee mating rituals&lt;/title&gt;
    ...
  &lt;h1&gt;The Dances&lt;/h1&gt;</pre>

  </div>

  <p>The string to use as the document's title is given by the <code title="dom-document-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#document.title">document.title</a></code> IDL attribute.</p>

  <div class="impl">

  <p>User agents should use the document's title when referring to the
  document in their user interface. When the contents of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element are used in this way, <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">the
  directionality</a> of that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code> element should be
  used to set the directionality of the document's title in the user
  interface.</p>

  </div>


  <h4 id="the-base-element"><span class="secno">4.2.3 </span>The <dfn><code>base</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">Metadata content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>In a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element containing no other <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-base-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-href">href</a></code></dd>
   <dd><code title="attr-base-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-target">target</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlbaseelement">HTMLBaseElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-base-href" title="dom-base-href">href</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-base-target" title="dom-base-target">target</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> element allows authors to specify the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#document-base-url">document base URL</a> for the purposes of <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolving relative URLs</a>, and the name
  of the default <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> for the purposes of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#following-hyperlinks">following hyperlinks</a>. The element does not <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a> any content beyond this
  information.</p>

  <p>There must be no more than one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> element per
  document.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> element must have either an <code title="attr-base-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-href">href</a></code> attribute, a <code title="attr-base-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-target">target</a></code> attribute, or both.</p>

  <p>The <dfn id="attr-base-href" title="attr-base-href"><code>href</code></dfn> content
  attribute, if specified, must contain a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-url-potentially-surrounded-by-spaces">valid URL potentially
  surrounded by spaces</a>.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> element, if it has an <code title="attr-base-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-href">href</a></code> attribute, must come before any
  other elements in the tree that have attributes defined as taking
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#url" title="URL">URLs</a>, except the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> element
  (its <code title="attr-html-manifest"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-html-manifest">manifest</a></code> attribute
  isn't affected by <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> elements).</p>

  <div class="impl">

  <p class="note">If there are multiple <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> elements
  with <code title="attr-base-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-href">href</a></code> attributes, all but the
  first are ignored.</p>

  </div>

  <p>The <dfn id="attr-base-target" title="attr-base-target"><code>target</code></dfn>
  attribute, if specified, must contain a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-browsing-context-name-or-keyword">valid browsing context
  name or keyword</a>, which specifies which <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
  context</a> is to be used as the default when <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink" title="hyperlink">hyperlinks</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-form-element" title="form">forms</a> in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> cause <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigation</a>.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> element, if it has a <code title="attr-base-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-target">target</a></code> attribute, must come before
  any elements in the tree that represent <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink" title="hyperlink">hyperlinks</a>.</p>

  <div class="impl">

  <p class="note">If there are multiple <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> elements
  with <code title="attr-base-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-target">target</a></code> attributes, all but
  the first are ignored.</p>

  <p>The <dfn id="dom-base-href" title="dom-base-href"><code>href</code></dfn> and <dfn id="dom-base-target" title="dom-base-target"><code>target</code></dfn> IDL attributes
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the
  same name.</p>

  </div>

  <div class="example">

   <p>In this example, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code> element is used to set the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#document-base-url">document base URL</a>:</p>

   <pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;This is an example for the &amp;lt;base&amp;gt; element&lt;/title&gt;
        &lt;base href="http://www.example.com/news/index.html"&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;Visit the &lt;a href="archives.html"&gt;archives&lt;/a&gt;.&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre>

   <p>The link in the above example would be a link to "<code title="">http://www.example.com/news/archives.html</code>".</p>

  </div>




  <h4 id="the-link-element"><span class="secno">4.2.4 </span>The <dfn><code>link</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">Metadata content</a>.</dd>
<!--MD-->
   <dd>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present: <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>.</dd>
   <dd>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present: <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>.</dd>
<!--MD-->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">metadata content</a> is expected.</dd>
   <dd>In a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element that is a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element.</dd>
<!--MD-->
   <dd>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
<!--MD-->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-link-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-href">href</a></code></dd>
   <dd><code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code></dd>
   <dd><code title="attr-link-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-media">media</a></code></dd>
   <dd><code title="attr-link-hreflang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-hreflang">hreflang</a></code></dd>
   <dd><code title="attr-link-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-type">type</a></code></dd>
   <dd><code title="attr-link-sizes"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-sizes">sizes</a></code></dd>
   <dd>Also, the <code title="attr-link-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-title">title</a></code> attribute has special semantics on this element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmllinkelement">HTMLLinkElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-link-disabled" title="dom-link-disabled">disabled</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-link-href" title="dom-link-href">href</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-link-rel" title="dom-link-rel">rel</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domtokenlist">DOMTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-link-rellist" title="dom-link-relList">relList</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-link-media" title="dom-link-media">media</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-link-hreflang" title="dom-link-hreflang">hreflang</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-link-type" title="dom-link-type">type</a>;
  [PutForwards=<span title="dom-DOMSettableTokenList-value">value</span>] readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-link-sizes" title="dom-link-sizes">sizes</a>;
};
<a href="http://www.whatwg.org/specs/web-apps/current-work/#htmllinkelement">HTMLLinkElement</a> implements <a href="http://www.whatwg.org/specs/web-apps/current-work/#linkstyle">LinkStyle</a>;</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element allows authors to link their
  document to other resources.</p>

  <p>The destination of the link(s) is given by the <dfn id="attr-link-href" title="attr-link-href"><code>href</code></dfn> attribute, which must
  be present and must contain a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially
  surrounded by spaces</a>. <span class="impl">If the <code title="attr-link-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-href">href</a></code> attribute is absent, then the
  element does not define a link.</span></p>

<!--MD-->
  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element must have either a <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code> attribute or an <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute, but not both.</p>

  <p class="note">If the <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code>
  attribute is used, the element is restricted to the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element. When used with the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute, the element can be
  used both in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element and in the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> of the page, subject to the constraints of the
  microdata model.</p>

  <p>The types of link indicated (the relationships) are given by the
  value of the <dfn id="attr-link-rel" title="attr-link-rel"><code>rel</code></dfn>
  attribute, which, if present, must have a value that is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-space-separated-tokens">set
  of space-separated tokens</a>. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#linkTypes">allowed
  keywords and their meanings</a> are defined in a later
  section. <span class="impl">If the <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code> attribute is absent, has no
  keywords, or if none of the keywords used are allowed according to
  the definitions in this specification, then the element does not
  create any links.</span></p>

  <p>Two categories of links can be created using the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element: <a href="http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link" title="external resource
  link">Links to external resources</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink" title="hyperlink">hyperlinks</a>. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#linkTypes">link
  types section</a> defines whether a particular link type is an
  external resource or a hyperlink. One <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element can
  create multiple links (of which some might be external resource
  links and some might be hyperlinks); exactly which and how many
  links are created depends on the keywords given in the <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code> attribute. User agents must process
  the links on a per-link basis, not a per-element basis.</p>

  <p class="note">Each link created for a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element is
  handled separately. For instance, if there are two <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code>
  elements with <code title="">rel="stylesheet"</code>, they each
  count as a separate external resource, and each is affected by its
  own attributes independently. Similarly, if a single
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element has a <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code> attribute with the value <code title="">next stylesheet</code>, it creates both a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a> (for the <code title="rel-next"><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-next">next</a></code>
  keyword) and an <a href="http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link">external resource link</a> (for the <code title="rel-stylesheet"><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-stylesheet">stylesheet</a></code> keyword), and they are
  affected by other attributes (such as <code title="attr-link-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-media">media</a></code> or <code title="attr-link-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-title">title</a></code>) differently.</p>

  <div class="example">

   <p>For example, the following <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element creates two
   hyperlinks (to the same page):</p>

   <pre>&lt;link rel="author license" href="/about"&gt;</pre>

   <p>The two links created by this element are one whose semantic is
   that the target page has information about the current page's
   author, and one whose semantic is that the target page has
   information regarding the license under which the current page is
   provided.</p>

  </div>

  <p>The exact behavior for links to external resources depends on the
  exact relationship, as defined for the relevant link type. Some of
  the attributes control whether or not the external resource is to be
  applied (as defined below).</p>

  <div class="impl">

  <p>For external resources that are represented in the
  DOM (for example, style sheets), the DOM representation must be made
  available even if the resource is not applied. To <dfn id="concept-link-obtain" title="concept-link-obtain">obtain the resource</dfn>, the user
  agent must run the following steps:</p>

  <ol><li><p>If the <code title="attr-link-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-href">href</a></code> attribute's
   value is the empty string, then abort these steps.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">Resolve</a> the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> given by the <code title="attr-link-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-href">href</a></code> attribute, relative to the
   element.</p></li>

   <li><p>If the previous step fails, then abort these steps.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">Fetch</a> the resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute
   URL</a>.</p></li> <!-- http-origin privacy sensitive -->

  </ol><p>User agents may opt to only try to obtain such resources when
  they are needed, instead of pro-actively <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching</a> all the external resources that are
  not applied.</p>

  <p>The semantics of the protocol used (e.g. HTTP) must be followed
  when fetching external resources. (For example, redirects will be
  followed and 404 responses will cause the external resource to not
  be applied.)</p>

  <!-- the next few paragraph are similar to text in the <style> section -->
  <p>Once the attempts to obtain the resource and its <a href="http://www.whatwg.org/specs/web-apps/current-work/#critical-subresources">critical
  subresources</a> are complete, the user agent must, if the loads
  were successful, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
  event</a> named <code title="event-load">load</code> at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element, or, if the resource or one of its
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#critical-subresources">critical subresources</a> failed to completely load for any
  reason (e.g. DNS error, HTTP 404 response, a connection being
  prematurely closed, unsupported Content-Type), <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
  task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-error">error</code> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code>
  element. Non-network errors in processing the resource or its
  subresources (e.g. CSS parse errors, PNG decoding errors) are not
  failures for the purposes of this paragraph.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a> for these <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-manipulation-task-source">DOM manipulation task
  source</a>.</p>

  <p>The element must <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load event</a> of the
  element's document until all the attempts to obtain the resource and
  its <a href="http://www.whatwg.org/specs/web-apps/current-work/#critical-subresources">critical subresources</a> are complete. (Resources that
  the user agent has not yet attempted to obtain, e.g. because it is
  waiting for the resource to be needed, do not <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load
  event</a>.)</p>

  <hr><p id="linkui">Interactive user agents may provide users with a
  means to <a href="http://www.whatwg.org/specs/web-apps/current-work/#following-hyperlinks" title="following hyperlinks">follow the
  hyperlinks</a> created using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element,
  somewhere within their user interface. The exact interface is not
  defined by this specification, but it could include the following
  information (obtained from the element's attributes, again as
  defined below), in some form or another (possibly simplified), for
  each hyperlink created with each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element in the
  document:</p>

  <ul><!-- the order here is the order that makes most sense for a UI --><li>The relationship between this document and the resource (given
   by the <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code> attribute)</li>

   <li>The title of the resource (given by the <code title="attr-link-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-title">title</a></code> attribute).</li>

   <li>The address of the resource (given by the <code title="attr-link-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-href">href</a></code> attribute).</li>

   <li>The language of the resource (given by the <code title="attr-link-hreflang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-hreflang">hreflang</a></code> attribute).</li>

   <li>The optimum media for the resource (given by the <code title="attr-link-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-media">media</a></code> attribute).</li>

  </ul><p>User agents could also include other information, such as the
  type of the resource (as given by the <code title="attr-link-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-type">type</a></code> attribute).</p>

  </div>

  <p class="note">Hyperlinks created with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code>
  element and its <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code> attribute
  apply to the whole page. This contrasts with the <code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel</a></code> attribute of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>
  and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements, which indicates the type of a link
  whose context is given by the link's location within the
  document.</p>

  <p>The <dfn id="attr-link-media" title="attr-link-media"><code>media</code></dfn>
  attribute says which media the resource applies to. The value must
  be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-media-query">valid media query</a>.</p>

  <div class="impl">

  <p>If the link is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a> then the <code title="attr-link-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-media">media</a></code> attribute is purely advisory,
  and describes for which media the document in question was
  designed.</p>

  <p>However, if the link is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link">external resource link</a>,
  then the <code title="attr-link-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-media">media</a></code> attribute is
  prescriptive. The user agent must apply the external resource when
  the <code title="attr-link-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-media">media</a></code> attribute's value
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#matches-the-environment">matches the environment</a> and the other relevant
  conditions apply, and must not apply it otherwise.</p><!-- note
  similar text in <style> section -->

  <p class="note">The external resource might have further
  restrictions defined within that limit its applicability. For
  example, a CSS style sheet might have some <code title="">@media</code> blocks. This specification does not override
  such further restrictions or requirements.</p><!-- note similar text
  in <style> section -->

  </div>

  <p id="default-media">The default, if the <code title="attr-link-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-media">media</a></code> attribute is omitted, is "<code title="">all</code>", meaning that by default links apply to all
  media.</p>

  <p>The <dfn id="attr-link-hreflang" title="attr-link-hreflang"><code>hreflang</code></dfn>
  attribute on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element has the same semantics as
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-hreflang" title="attr-hyperlink-hreflang"><code>hreflang</code>
  attribute on <code>a</code> and <code>area</code>
  elements</a>.</p>

  <p>The <dfn id="attr-link-type" title="attr-link-type"><code>type</code></dfn> attribute
  gives the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> of the linked resource. It is
  purely advisory.  The value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">valid MIME
  type</a>.</p>

  <p>For <a href="http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link" title="external resource link">external resource
  links</a>, the <code title="attr-link-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-type">type</a></code> attribute
  is used as a hint to user agents so that they can avoid fetching
  resources they do not support. <span class="impl">If the attribute
  is present, then the user agent must assume that the resource is of
  the given type (even if that is not a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">valid MIME type</a>,
  e.g. the empty string). If the attribute is omitted, but the
  external resource link type has a default type defined, then the
  user agent must assume that the resource is of that type. If the UA
  does not support the given <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> for the given link
  relationship, then the UA should not <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-link-obtain" title="concept-link-obtain">obtain</a> the resource; if the UA
  does support the given <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> for the given link
  relationship, then the UA should <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-link-obtain" title="concept-link-obtain">obtain</a> the resource at the
  appropriate time as specified for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link">external resource
  link</a>'s particular type. If the attribute is omitted, and the
  external resource link type does not have a default type defined,
  but the user agent would <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-link-obtain" title="concept-link-obtain">obtain</a> the resource if the type
  was known and supported, then the user agent should <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-link-obtain" title="concept-link-obtain">obtain</a> the resource under the
  assumption that it will be supported.</span></p>

  <div class="impl">

  <p>User agents must not consider the <code title="attr-link-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-type">type</a></code> attribute authoritative —
  upon fetching the resource, user agents must not use the <code title="attr-link-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-type">type</a></code> attribute to determine its actual
  type. Only the actual type (as defined in the next paragraph) is
  used to determine whether to <em>apply</em> the resource, not the
  aforementioned assumed type.</p>

  <p id="concept-link-type-sniffing">If the external resource link
  type defines rules for processing the resource's <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content-Type metadata</a>, then those rules
  apply. Otherwise, if the resource is expected to be an image, user
  agents may apply the <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type-sniffing:-image" title="Content-Type sniffing:
  image">image sniffing rules</a>, with the <var title="">official
  type</var> being the type determined from the resource's <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content-Type metadata</a>, and use the
  resulting sniffed type of the resource as if it was the actual
  type. Otherwise, if neither of these conditions apply or if the user
  agent opts not to apply the image sniffing rules, then the user
  agent must use the resource's <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content-Type metadata</a> to determine the
  type of the resource. If there is no type metadata, but the external
  resource link type has a default type defined, then the user agent
  must assume that the resource is of that type.</p>

  <p class="note">The <code title="rel-stylesheet"><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-stylesheet">stylesheet</a></code>
  link type defines rules for processing the resource's <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content-Type metadata</a>.</p>

  <p>Once the user agent has established the type of the resource, the
  user agent must apply the resource if it is of a supported type and
  the other relevant conditions apply, and must ignore the resource
  otherwise.</p>

  <div class="example">

   <p>If a document contains style sheet links labeled as follows:</p>

   <pre>&lt;link rel="stylesheet" href="A" type="text/plain"&gt;
&lt;link rel="stylesheet" href="B" type="text/css"&gt;
&lt;link rel="stylesheet" href="C"&gt;</pre>

   <p>...then a compliant UA that supported only CSS style sheets
   would fetch the B and C files, and skip the A file (since
   <code>text/plain</code> is not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> for CSS style
   sheets).</p>

   <p>For files B and C, it would then check the actual types returned
   by the server. For those that are sent as <code>text/css</code>, it
   would apply the styles, but for those labeled as
   <code>text/plain</code>, or any other type, it would not.</p>

   <p>If one of the two files was returned without a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type">Content-Type</a> metadata, or with a syntactically
   incorrect type like <code title="">Content-Type:&nbsp;"null"</code>, then the default type
   for <code title="rel-stylesheet"><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-stylesheet">stylesheet</a></code> links would kick
   in. Since that default type is <code title="">text/css</code>, the
   style sheet <em>would</em> nonetheless be applied.</p>

  </div>

  </div>

  <p>The <dfn id="attr-link-title" title="attr-link-title"><code>title</code></dfn>
  attribute gives the title of the link. With one exception, it is
  purely advisory. The value is text. The exception is for style sheet
  links, where the <code title="attr-link-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-title">title</a></code>
  attribute defines <a href="http://www.whatwg.org/specs/web-apps/current-work/#alternative-style-sheet-sets">alternative style sheet sets</a>.</p>

  <p class="note">The <code title="attr-link-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-title">title</a></code>
  attribute on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements differs from the global
  <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute of most other
  elements in that a link without a title does not inherit the title
  of the parent element: it merely has no title.</p>

  <p>The <code title="attr-link-sizes"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-sizes">sizes</a></code> attribute is used
  with the <code title="rel-icon"><a href="http://www.whatwg.org/specs/web-apps/current-work/#rel-icon">icon</a></code> link type. The attribute
  must not be specified on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements that do not have
  a <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code> attribute that specifies
  the <code title="rel-icon"><a href="http://www.whatwg.org/specs/web-apps/current-work/#rel-icon">icon</a></code> keyword.</p>

  <div class="impl">

  <!--!--><!-- s/header fields/headers/ for consistency with the rest of the spec -->

  <p>HTTP <code title="http-link">Link:</code> header fields, if
  supported, must be assumed to come before any links in the document,
  in the order that they were given in the HTTP message. These header
  fields are to be processed according to the rules given in the
  relevant specifications. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTTP">[HTTP]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBLINK">[WEBLINK]</a></p> <!-- WEBLINK is ref for Link:
  header -->

  <p class="note">Registration of relation types in HTTP Link: header
  fields is distinct from <a href="http://www.whatwg.org/specs/web-apps/current-work/#linkTypes">HTML link types</a>,
  and thus their semantics can be different from same-named HTML
  types.</p>

  <p>The IDL attributes <dfn id="dom-link-href" title="dom-link-href"><code>href</code></dfn>, <dfn id="dom-link-rel" title="dom-link-rel"><code>rel</code></dfn>, <dfn id="dom-link-media" title="dom-link-media"><code>media</code></dfn>, <dfn id="dom-link-hreflang" title="dom-link-hreflang"><code>hreflang</code></dfn>, <dfn id="dom-link-type" title="dom-link-type"><code>type</code></dfn>, and <dfn id="dom-link-sizes" title="dom-link-sizes"><code>sizes</code></dfn> each must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name.</p>

  <p>The IDL attribute <dfn id="dom-link-rellist" title="dom-link-rellist"><code>relList</code></dfn> <span class="impl">must</span> <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect" title="reflect">reflect</a> the <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code> content attribute.</p>

  </div>

  <p>The IDL attribute <dfn id="dom-link-disabled" title="dom-link-disabled"><code>disabled</code></dfn> only applies
  to style sheet links. When the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element defines a
  style sheet link, then the <code title="dom-link-disabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-link-disabled">disabled</a></code> attribute behaves as
  defined <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-linkstyle-disabled" title="dom-linkstyle-disabled">for the alternative
  style sheets DOM</a>. For all other <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements it
  always return false and does nothing on setting.</p> <!-- that is
  normatively required in the definition of dom-linkstyle-disabled -->

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#linkstyle">LinkStyle</a></code> interface is also implemented by
  this element; the <a href="http://www.whatwg.org/specs/web-apps/current-work/#styling">styling processing model</a> defines
  how. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p>

  <div class="example">

   <p>Here, a set of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements provide some style
   sheets:</p>

   <pre>&lt;!-- a persistent style sheet --&gt;
&lt;link rel="stylesheet" href="default.css"&gt;

&lt;!-- the preferred alternate style sheet --&gt;
&lt;link rel="stylesheet" href="green.css" title="Green styles"&gt;

&lt;!-- some alternate style sheets --&gt;
&lt;link rel="alternate stylesheet" href="contrast.css" title="High contrast"&gt;
&lt;link rel="alternate stylesheet" href="big.css" title="Big fonts"&gt;
&lt;link rel="alternate stylesheet" href="wide.css" title="Wide screen"&gt;</pre>

  </div>

  <div class="example">

   <p>The following example shows how you can specify versions of the
   page that use alternative formats, are aimed at other languages,
   and that are intended for other media:</p>

   <pre>&lt;link rel=alternate href="/en/html" hreflang=en type=text/html title="English HTML"&gt;
&lt;link rel=alternate href="/fr/html" hreflang=fr type=text/html title="French HTML"&gt;
&lt;link rel=alternate href="/en/html/print" hreflang=en type=text/html media=print title="English HTML (for printing)"&gt;
&lt;link rel=alternate href="/fr/html/print" hreflang=fr type=text/html media=print title="French HTML (for printing)"&gt;
&lt;link rel=alternate href="/en/pdf" hreflang=en type=application/pdf title="English PDF"&gt;
&lt;link rel=alternate href="/fr/pdf" hreflang=fr type=application/pdf title="French PDF"&gt;</pre>

  </div>





  <h4 id="the-meta-element"><span class="secno">4.2.5 </span>The <dfn id="meta"><code>meta</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">Metadata content</a>.</dd>
<!--MD-->
   <dd>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present: <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>.</dd>
   <dd>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present: <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>.</dd>
<!--MD-->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>If the <code title="attr-meta-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-charset">charset</a></code> attribute is present, or if the element's <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding declaration state</a>: in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element.</dd>
   <dd>If the <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute is present but not in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding declaration state</a>: in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element.</dd>
   <dd>If the <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute is present but not in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding declaration state</a>: in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element that is a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element.</dd>
   <dd>If the <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code> attribute is present: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">metadata content</a> is expected.</dd>
<!--MD-->
   <dd>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">metadata content</a> is expected.</dd>
   <dd>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attribute is present: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
<!--MD-->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code></dd>
   <dd><code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code></dd>
   <dd><code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code></dd>
   <dd><code title="attr-meta-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-charset">charset</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlmetaelement">HTMLMetaElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-meta-name" title="dom-meta-name">name</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-meta-httpequiv" title="dom-meta-httpEquiv">httpEquiv</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-meta-content" title="dom-meta-content">content</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> various
  kinds of metadata that cannot be expressed using the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element can represent document-level
  metadata with the <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code>
  attribute, pragma directives with the <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute, and the
  file's <a href="http://www.whatwg.org/specs/web-apps/current-work/#character-encoding-declaration">character encoding declaration</a> when an HTML
  document is serialized to string form (e.g. for transmission over
  the network or for disk storage) with the <code title="attr-meta-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-charset">charset</a></code> attribute.</p>

<!--MD-->
  <p>Exactly one of the <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code>,
  <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code>, <code title="attr-meta-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-charset">charset</a></code>, and <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> attributes must be
  specified.</p>

  <p>If either <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code>, <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code>, or <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> is specified, then the <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute must also be
  specified. Otherwise, it must be omitted.</p>

  <p>The <dfn id="attr-meta-charset" title="attr-meta-charset"><code>charset</code></dfn>
  attribute specifies the character encoding used by the
  document. This is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#character-encoding-declaration">character encoding declaration</a>. If
  the attribute is present in an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents" title="XML documents">XML
  document</a>, its value must be an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
  case-insensitive</a> match for the string "<code title="">UTF-8</code>" (and the document is therefore forced to use
  UTF-8 as its encoding).</p>

  <p class="note">The <code title="attr-meta-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-charset">charset</a></code>
  attribute on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element has no effect in XML
  documents, and is only allowed in order to facilitate migration to
  and from XHTML.</p>

  <p>There must not be more than one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with a
  <code title="attr-meta-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-charset">charset</a></code> attribute per
  document.</p>

  <p>The <dfn id="attr-meta-content" title="attr-meta-content"><code>content</code></dfn>
  attribute gives the value of the document metadata or pragma
  directive when the element is used for those purposes. The allowed
  values depend on the exact context, as described in subsequent
  sections of this specification.</p>

  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element has a <dfn id="attr-meta-name" title="attr-meta-name"><code>name</code></dfn> attribute, it sets
  document metadata. Document metadata is expressed in terms of
  name-value pairs, the <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code>
  attribute on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element giving the name, and the
  <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute on the same
  element giving the value. The name specifies what aspect of metadata
  is being set; valid names and the meaning of their values are
  described in the following sections. If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element
  has no <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute,
  then the value part of the metadata name-value pair is the empty
  string.</p>

  <div class="impl">

  <p>The <dfn id="dom-meta-name" title="dom-meta-name"><code>name</code></dfn> and <dfn id="dom-meta-content" title="dom-meta-content"><code>content</code></dfn> IDL attributes
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the
  same name. The IDL attribute <dfn id="dom-meta-httpequiv" title="dom-meta-httpEquiv"><code>httpEquiv</code></dfn> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code>.</p>

  </div>


  <h5 id="standard-metadata-names"><span class="secno">4.2.5.1 </span>Standard metadata names</h5>

  <p>This specification defines a few names for the <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code> attribute of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element.</p>

  <p>Names are case-insensitive<span class="impl">, and must be compared
  in an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> manner</span>.</p>

  <dl><dt><dfn id="meta-application-name" title="meta-application-name"><code>application-name</code></dfn></dt>

   <dd><p>The value must be a short free-form string giving the name
   of the Web application that the page represents. If the page is not
   a Web application, the <code title="meta-application-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#meta-application-name">application-name</a></code> metadata name
   must not be used. There must not be more than one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code>
   element with its <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code> attribute
   set to the value <code title="meta-application-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#meta-application-name">application-name</a></code> per
   document. <span class="impl">User agents may use the application
   name in UI in preference to the page's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-element">title</a></code>, since
   the title might include status messages and the like relevant to
   the status of the page at a particular moment in time instead of
   just being the name of the application.</span></p></dd>

   <dt><dfn id="meta-author" title="meta-author"><code>author</code></dfn></dt>

   <dd><p>The value must be a free-form string giving the name of one
   of the page's authors.</p></dd>

   <dt><dfn id="meta-description" title="meta-description"><code>description</code></dfn></dt>

   <dd><p>The value must be a free-form string that describes the
   page. The value must be appropriate for use in a directory of
   pages, e.g. in a search engine. There must not be more than one
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with its <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code> attribute set to the value <code title="meta-description"><a href="http://www.whatwg.org/specs/web-apps/current-work/#meta-description">description</a></code> per document.</p></dd>

   <dt><dfn id="meta-generator" title="meta-generator"><code>generator</code></dfn></dt>

   <dd>

    <p>The value must be a free-form string that identifies one of the
    software packages used to generate the document. This value must
    not be used on hand-authored pages.</p>

    <div class="example">

     <p>Here is what a tool called "Frontweaver" could include in its
     output, in the page's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element, to identify
     itself as the tool used to generate the page:</p>

     <pre>&lt;meta name=generator content="Frontweaver 8.2"&gt;</pre>

    </div>

   </dd>

   <dt><dfn id="meta-keywords" title="meta-keywords"><code>keywords</code></dfn></dt>

   <dd>

    <p>The value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-comma-separated-tokens">set of comma-separated tokens</a>,
    each of which is a keyword relevant to the page.</p>

    <div class="example">

     <p>This page about typefaces on British motorways uses a
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element to specify some keywords that users
     might use to look for the page:</p>

     <pre>&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Typefaces on UK motorways&lt;/title&gt;
  &lt;meta name="keywords" content="british,type face,font,fonts,highway,highways"&gt;
 &lt;/head&gt;
 &lt;body&gt;
  ...</pre>

    </div>

    <p class="note">Many search engines do not consider such keywords,
    because this feature has historically been used unreliably and
    even misleadingly as a way to spam search engine results in a way
    that is not helpful for users.</p>

    <div class="impl">

    <p>To obtain the list of keywords that the author has specified as
    applicable to the page, the user agent must run the following
    steps:</p>

    <ol><li><p>Let <var title="">keywords</var> be an empty
     list.</p></li>

     <li>

      <p>For each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with a <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code> attribute and a <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute and whose
      <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code> attribute's value is
      <code title="meta-keywords"><a href="http://www.whatwg.org/specs/web-apps/current-work/#meta-keywords">keywords</a></code>, run the following
      substeps:</p>

      <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#split-a-string-on-commas" title="split a string on commas">Split the value
       of the element's <code title="attr-meta-content">content</code>
       attribute on commas</a>.</p></li>

       <li><p>Add the resulting tokens, if any, to <var title="">keywords</var>.</p></li>

      </ol></li>

     <li><p>Remove any duplicates from <var title="">keywords</var>.</p></li>

     <li><p>Return <var title="">keywords</var>. This is the list of
     keywords that the author has specified as applicable to the
     page.</p></li>

    </ol><p>User agents should not use this information when there is
    insufficient confidence in the reliability of the value.</p>

    <p class="example">For instance, it would be reasonable for a
    content management system to use the keyword information of pages
    within the system to populate the index of a site-specific search
    engine, but a large-scale content aggregator that used this
    information would likely find that certain users would try to game
    its ranking mechanism through the use of inappropriate
    keywords.</p>

    </div>

   </dd>

  </dl><h5 id="other-metadata-names"><span class="secno">4.2.5.2 </span>Other metadata names</h5>

  <p><dfn id="concept-meta-extensions" title="concept-meta-extensions">Extensions to the predefined
  set of metadata names</dfn> may be registered in the <a href="http://wiki.whatwg.org/wiki/MetaExtensions">WHATWG Wiki
  MetaExtensions page</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWHATWGWIKI">[WHATWGWIKI]</a></p>

  <p>Anyone is free to edit the WHATWG Wiki MetaExtensions page at any
  time to add a type. These new names must be specified with the
  following information:</p>

  <dl><dt>Keyword</dt>

   <dd><p>The actual name being defined. The name should not be
   confusingly similar to any other defined name (e.g. differing only
   in case).</p></dd>


   <dt>Brief description</dt>

   <dd><p>A short non-normative description of what the metadata
   name's meaning is, including the format the value is required to be
   in.</p></dd>


   <dt>Specification</dt>

   <dd>A link to a more detailed description of the metadata name's
   semantics and requirements. It could be another page on the Wiki,
   or a link to an external page.</dd>


   <dt>Synonyms</dt>

   <dd><p>A list of other names that have exactly the same processing
   requirements. Authors should not use the names defined to be
   synonyms, they are only intended to allow user agents to support
   legacy content. Anyone may remove synonyms that are not used in
   practice; only names that need to be processed as synonyms for
   compatibility with legacy content are to be registered in this
   way.</p></dd>


   <dt>Status</dt>

   <dd>

    <p>One of the following:</p>

    <dl><dt>Proposed</dt>

     <dd>The name has not received wide peer review and
     approval. Someone has proposed it and is, or soon will be, using
     it.</dd>

     <dt>Ratified</dt>

     <dd>The name has received wide peer review and approval. It has a
     specification that unambiguously defines how to handle pages that
     use the name, including when they use it in incorrect ways.</dd>

     <dt>Discontinued</dt>

     <dd>The metadata name has received wide peer review and it has
     been found wanting. Existing pages are using this metadata name,
     but new pages should avoid it. The "brief description" and
     "specification" entries will give details of what authors should
     use instead, if anything.</dd>

    </dl><p>If a metadata name is found to be redundant with existing
    values, it should be removed and listed as a synonym for the
    existing value.</p>

    <p>If a metadata name is registered in the "proposed" state for a
    period of a month or more without being used or specified, then it
    may be removed from the registry.</p>

    <p>If a metadata name is added with the "proposed" status and
    found to be redundant with existing values, it should be removed
    and listed as a synonym for the existing value. If a metadata name
    is added with the "proposed" status and found to be harmful, then
    it should be changed to "discontinued" status.</p>

    <p>Anyone can change the status at any time, but should only do so
    in accordance with the definitions above.</p>

   </dd>

  </dl><div class="impl">

  <p>Conformance checkers must use the information given on the WHATWG
  Wiki MetaExtensions page to establish if a value is allowed or not:
  values defined in this specification or marked as "proposed" or
  "ratified" must be accepted, whereas values marked as "discontinued"
  or not listed in either this specification or on the aforementioned
  page must be rejected as invalid. Conformance checkers may cache
  this information (e.g. for performance reasons or to avoid the use
  of unreliable network connectivity).</p>

  <p>When an author uses a new metadata name not defined by either
  this specification or the Wiki page, conformance checkers should
  offer to add the value to the Wiki, with the details described
  above, with the "proposed" status.</p>

  </div>

  <p>Metadata names whose values are to be <a href="http://www.whatwg.org/specs/web-apps/current-work/#url" title="URL">URLs</a> must not be proposed or accepted. Links must
  be represented using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element, not the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element.</p>



  <h5 id="pragma-directives"><span class="secno">4.2.5.3 </span>Pragma directives</h5>

  <p>When the <dfn id="attr-meta-http-equiv" title="attr-meta-http-equiv"><code>http-equiv</code></dfn> attribute
  is specified on a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element, the element is a pragma
  directive.</p>

  <p>The <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code>
  attribute is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#enumerated-attribute">enumerated attribute</a>. The following
  table lists the keywords defined for this attribute. The states
  given in the first cell of the rows with keywords give the states to
  which those keywords map. <span class="impl">Some of the keywords
  are non-conforming, as noted in the last column.</span></p>

<!-- things that are neither conforming nor do anything are commented out -->
  <table id="table-http-equiv"><thead><tr><th>State
     </th><th>Keyword
     </th><th>Notes
   </th></tr></thead><tbody><tr class="impl"><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-language" title="attr-meta-http-equiv-content-language">Content Language</a>
     </td><td><code title="">content-language</code>
     </td><td>Non-conforming
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding declaration</a>
     </td><td><code title="">content-type</code>
     </td><td>
<!--
    <tr class="impl">
     <td><span title="attr-meta-http-equiv-content-script-type">Content-Script-Type</span>
     <td><code title="">Content-Script-Type</code>
     <td>Non-conforming
    <tr class="impl">
     <td><span title="attr-meta-http-equiv-content-style-type">Content-Style-Type</span>
     <td><code title="">Content-Style-Type</code>
     <td>Non-conforming
-->
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-default-style" title="attr-meta-http-equiv-default-style">Default style</a>
     </td><td><code title="">default-style</code>
     </td><td>
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-refresh" title="attr-meta-http-equiv-refresh">Refresh</a>
     </td><td><code title="">refresh</code>
     </td><td>
    </td></tr><tr class="impl"><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-set-cookie" title="attr-meta-http-equiv-set-cookie">Cookie setter</a>
     </td><td><code title="">set-cookie</code>
     </td><td>Non-conforming
  </td></tr></tbody></table><!--
DATA: According to Henri's validator stats, here are common
non-conforming values used by people who validate (sample of 400
pages):

COUNT ERROR
   20 Bad value "Content-Language" for attribute "http-equiv" on element "meta".
   17 Bad value "Content-Style-Type" for attribute "http-equiv" on element "meta".
   12 Bad value "Expires" for attribute "http-equiv" on element "meta".
   11 Bad value "Pragma" for attribute "http-equiv" on element "meta".
   11 Bad value "imagetoolbar" for attribute "http-equiv" on element "meta".
   10 Bad value "Content-Script-Type" for attribute "http-equiv" on element "meta".
   10 Bad value "content-language" for attribute "http-equiv" on element "meta".
 [...]
http://hsivonen.iki.fi/test/moz/analysis.txt

Here's some more data, this time from Philip`, on a sample of 15k pages.

  COUNT VALUE
   1181 Content-Language
    430 Content-Style-Type
    342 imagetoolbar
    276 content-language
    269 Pragma
    260 expires
    227 Expires
    211 pragma
    146 Content-Script-Type
    132 keywords
    119 Page-Enter
    116 description
    106 reply-to
    102 Cache-Control
   [...]
http://philip.html5.org/data/meta-http-equiv.txt

These numbers are low; further study is required to establish what
people expect to have work and what is necessary.
--><div class="impl">

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#insert-an-element-into-a-document" title="insert an
  element into a document">inserted into the document</a>, if its
  <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute is
  present and represents one of the above states, then the user agent
  must run the algorithm appropriate for that state, as described in
  the following list:</p>

  </div>

  <dl><dt class="impl"><dfn id="attr-meta-http-equiv-content-language" title="attr-meta-http-equiv-content-language">Content language state</dfn> (<code title="">http-equiv="content-language"</code>)

   </dt><dd class="impl">

    <p class="note">This feature is non-conforming. Authors are
    encouraged to use the <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code>
    attribute instead.</p>

    <p>This pragma sets the <dfn id="pragma-set-default-language">pragma-set default
    language</dfn>. Until the pragma is successfully processed, there
    is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#pragma-set-default-language">pragma-set default language</a>.</p>

    <ol><li><p>If another <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with an <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute in the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-language" title="attr-meta-http-equiv-content-language">Content
     Language state</a> has already been successfully processed
     (i.e. when it was inserted the user agent processed it and
     reached the last step of this list of steps), then abort these
     steps.</p></li>

     <li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element has no <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute, or if that
     attribute's value is the empty string, then abort these
     steps.</p></li>

     <li><p>If the element's <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute contains a
     U+002C COMMA character (,) then abort these steps.</p></li><!--
     if you remove this, un-comment-out the corresponding bits in the
     step below. -->

     <li><p>Let <var title="">input</var> be the value of the
     element's <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code>
     attribute.</p></li>

     <li><p>Let <var title="">position</var> point at the first
     character of <var title="">input</var>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters" title="collect a sequence of characters">Collect a
     sequence of characters</a> that are not<!--neither--> <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a><!-- nor a U+002C
     COMMA character (,)-->.</p></li>

     <li><p>Let the <a href="http://www.whatwg.org/specs/web-apps/current-work/#pragma-set-default-language">pragma-set default language</a> be the
     string that resulted from the previous step.</p></li>

    </ol><p class="note">This pragma is not exactly equivalent to the HTTP
    <code>Content-Language</code> header. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsHTTP">[HTTP]</a></p>

   </dd>

   <dt><dfn id="attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding declaration state</dfn> (<code title="">http-equiv="content-type"</code>)

   </dt><dd>

    <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding
    declaration state</a> is just an alternative form of setting
    the <code title="meta-charset">charset</code> attribute: it is a
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#character-encoding-declaration">character encoding declaration</a>. <span class="impl">This state's user agent requirements are all handled
    by the parsing section of the specification.</span></p>

    <p>For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> elements with an <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute in the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding
    declaration state</a>, the <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute must have a
    value that is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match for a
    string that consists of: the literal string "<code title="">text/html;</code>", optionally followed by any number of
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>, followed by
    the literal string "<code title="">charset=</code>", followed by
    the character encoding name of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#character-encoding-declaration">character encoding
    declaration</a>.</p>

    <p>A document must not contain both a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element
    with an <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code>
    attribute in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding declaration
    state</a> and a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with the <code title="attr-meta-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-charset">charset</a></code> attribute present.</p>

    <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding
    declaration state</a> may be used in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML
    documents</a>, but elements with an <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute in that
    state must not be used in <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML documents</a>.</p>

   </dd>

   <dt><dfn id="attr-meta-http-equiv-default-style" title="attr-meta-http-equiv-default-style">Default style state</dfn> (<code title="">http-equiv="default-style"</code>)

   </dt><dd>

    <p>This pragma sets the name of the default <a href="http://www.whatwg.org/specs/web-apps/current-work/#alternative-style-sheet-sets" title="alternative style sheet sets">alternative style sheet
    set</a>.</p>

    <div class="impl">

    <ol><li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element has no <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute, or if that
     attribute's value is the empty string, then abort these
     steps.</p></li>

     <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#preferred-style-sheet-set">preferred style sheet set</a> to the
     value of the element's <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p></li>

    </ol></div>

   </dd>

   <dt><dfn id="attr-meta-http-equiv-refresh" title="attr-meta-http-equiv-refresh">Refresh state</dfn> (<code title="">http-equiv="refresh"</code>)

   </dt><dd>

    <p>This pragma acts as timed redirect.</p>

    <div class="impl">

    <ol><!-- TESTS: http://www.hixie.ch/tests/adhoc/html/meta/refresh/ --><!-- http://software.hixie.ch/utilities/js/live-dom-viewer/saved/734 --><li><p>If another <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with an <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute in the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-refresh" title="attr-meta-http-equiv-refresh">Refresh state</a>
     has already been successfully processed (i.e. when it was
     inserted the user agent processed it and reached the last step of
     this list of steps), then abort these steps.</p></li>

     <li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element has no <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute, or if that
     attribute's value is the empty string, then abort these
     steps.</p></li>

     <li><p>Let <var title="">input</var> be the value of the
     element's <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code>
     attribute.</p></li>

     <li><p>Let <var title="">position</var> point at the first
     character of <var title="">input</var>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters" title="collect a sequence of characters">Collect a
     sequence of characters</a> in the range U+0030 DIGIT ZERO (0)
     to U+0039 DIGIT NINE (9), and parse the resulting string using
     the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers">rules for parsing non-negative integers</a>. If the
     sequence of characters collected is the empty string, then no
     number will have been parsed; abort these steps. Otherwise, let
     <var title="">time</var> be the parsed number.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters" title="collect a sequence of characters">Collect a
     sequence of characters</a> in the range U+0030 DIGIT ZERO (0) to
     U+0039 DIGIT NINE (9) and U+002E FULL STOP (.). Ignore any collected
     characters.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

     <li><p>Let <var title="">url</var> be the address of the current
     page.</p></li>

     <li><p>If the character in <var title="">input</var> pointed to
     by <var title="">position</var> is a U+003B SEMICOLON (;), then
     advance <var title="">position</var> to the next character.
     Otherwise, jump to the last step.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

     <li><p>If the character in <var title="">input</var> pointed to
     by <var title="">position</var> is a U+0055 LATIN CAPITAL LETTER
     U character (U) or a U+0075 LATIN SMALL LETTER U character (u),
     then advance <var title="">position</var> to the next
     character. Otherwise, jump to the last step.</p></li>

     <li><p>If the character in <var title="">input</var> pointed to
     by <var title="">position</var> is a U+0052 LATIN CAPITAL LETTER
     R character (R) or a U+0072 LATIN SMALL LETTER R character (r),
     then advance <var title="">position</var> to the next
     character. Otherwise, jump to the last step.</p></li>

     <li><p>If the character in <var title="">input</var> pointed to
     by <var title="">position</var> is s U+004C LATIN CAPITAL LETTER
     L character (L) or a U+006C LATIN SMALL LETTER L character (l),
     then advance <var title="">position</var> to the next
     character. Otherwise, jump to the last step.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

     <li><p>If the character in <var title="">input</var> pointed to
     by <var title="">position</var> is a U+003D EQUALS SIGN (=), then
     advance <var title="">position</var> to the next character.
     Otherwise, jump to the last step.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip whitespace</a>.</p></li>

     <li><p>If the character in <var title="">input</var> pointed to
     by <var title="">position</var> is either a U+0027 APOSTROPHE
     character (') or U+0022 QUOTATION MARK character ("), then let
     <var title="">quote</var> be that character, and advance <var title="">position</var> to the next character. Otherwise, let
     <var title="">quote</var> be the empty string.</p></li>

     <li><p>Let <var title="">url</var> be equal to the substring of
     <var title="">input</var> from the character at <var title="">position</var> to the end of the string.</p></li>

     <li><p>If <var title="">quote</var> is not the empty string, and
     there is a character in <var title="">url</var> equal to <var title="">quote</var>, then truncate <var title="">url</var> at
     that character, so that it and all subsequent characters are
     removed.</p>

     </li><li><p>Strip any trailing <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
     characters</a> from the end of <var title="">url</var>.</p></li>

     <li><p>Strip any U+0009 CHARACTER TABULATION (tab), U+000A LINE
     FEED (LF), and U+000D CARRIAGE RETURN (CR) characters from <var title="">url</var>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">Resolve</a> the <var title="">url</var> value to an <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>,
     relative to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element. If this fails, abort
     these steps.</p></li>

     <li>

      <p>Perform one or more of the following steps:</p>

      <ul><li>

        <p>After the refresh has come due (as defined below), if the
        user has not canceled the redirect and if the
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-sandboxing-flag-set">active sandboxing flag set</a> does not have the
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxed-automatic-features-browsing-context-flag">sandboxed automatic features browsing context
        flag</a> set, <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigate</a><!--DONAV meta refresh--> the
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> to <var title="">url</var>, with <a href="http://www.whatwg.org/specs/web-apps/current-work/#replacement-enabled">replacement enabled</a>, and
        with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>
        as the <a href="http://www.whatwg.org/specs/web-apps/current-work/#source-browsing-context">source browsing context</a>.</p>

        <p>For the purposes of the previous paragraph, a refresh is
        said to have come due as soon as the <em>later</em> of the
        following two conditions occurs:</p>

        <ul><li>At least <var title="">time</var> seconds have elapsed
         since the document has <a href="http://www.whatwg.org/specs/web-apps/current-work/#completely-loaded">completely loaded</a>,
         adjusted to take into account user or user agent
         preferences.</li>
         <!-- http://software.hixie.ch/utilities/js/live-dom-viewer/saved/774 -->

         <li>At least <var title="">time</var> seconds have elapsed
         since the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element was <a href="http://www.whatwg.org/specs/web-apps/current-work/#insert-an-element-into-a-document" title="insert
         an element into a document">inserted into the
         <code>Document</code></a>, adjusted to take into account
         user or user agent preferences.</li>
         <!-- http://software.hixie.ch/utilities/js/live-dom-viewer/saved/772 -->

        </ul></li>

       <li><p>Provide the user with an interface that, when selected,
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigates</a><!--DONAV meta
       refresh--> a <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> to <var title="">url</var>, with the document's browsing context as the
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#source-browsing-context">source browsing context</a>.</p></li>

       <li><p>Do nothing.</p></li>

      </ul><p>In addition, the user agent may, as with anything, inform the
      user of any and all aspects of its operation, including the
      state of any timers, the destinations of any timed redirects,
      and so forth.</p>

     </li>

    </ol></div>

    <p>For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> elements with an <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute in the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-refresh" title="attr-meta-http-equiv-refresh">Refresh state</a>,
    the <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute must
    have a value consisting either of:</p>

    <ul><li>just a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative integer</a>, or</li>

     <li>a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative integer</a>, followed by a
     U+003B SEMICOLON character (;), followed by one or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>, followed by a
     substring that is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match
     for the string "<code title="">URL</code>", followed by a U+003D
     EQUALS SIGN character (=), followed by a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-url">valid URL</a>
     that does not start with a literal U+0027 APOSTROPHE (') or
     U+0022 QUOTATION MARK (") character.</li>

    </ul><p>In the former case, the integer represents a number of seconds
    before the page is to be reloaded; in the latter case the integer
    represents a number of seconds before the page is to be replaced
    by the page at the given <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>.</p>

    <div class="example">

     <p>A news organization's front page could include the following
     markup in the page's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element, to ensure that
     the page automatically reloads from the server every five
     minutes:</p>

     <pre>&lt;meta http-equiv="Refresh" content="300"&gt;</pre>

    </div>

    <div class="example">

     <p>A sequence of pages could be used as an automated slide show
     by making each page refresh to the next page in the sequence,
     using markup such as the following:</p>

     <pre>&lt;meta http-equiv="Refresh" content="20; URL=page4.html"&gt;</pre>

    </div>

   </dd>

   <dt class="impl"><dfn id="attr-meta-http-equiv-set-cookie" title="attr-meta-http-equiv-set-cookie">Cookie setter</dfn> (<code title="">http-equiv="set-cookie"</code>)

   </dt><dd class="impl">

    <p>This pragma sets an HTTP cookie. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCOOKIES">[COOKIES]</a></p>

    <p>It is non-conforming. Real HTTP headers should be used instead.</p>

    <ol><li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element has no <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute, or if that
     attribute's value is the empty string, then abort these
     steps.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#obtain-the-storage-mutex">Obtain the storage mutex</a>.</p></li>

     <li><p>Act as if <a href="http://www.whatwg.org/specs/web-apps/current-work/#receives-a-set-cookie-string" title="receives a
     set-cookie-string">receiving a set-cookie-string</a> for
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address">the document's address</a> via a "non-HTTP" API,
     consisting of the value of the element's <code title="attr-meta-content"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-content">content</a></code> attribute encoded as
     UTF-8. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCOOKIES">[COOKIES]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3629">[RFC3629]</a></p></li>

    </ol></dd>

  </dl><p>There must not be more than one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with
  any particular state in the document at a time.</p>


  <h5 id="other-pragma-directives"><span class="secno">4.2.5.4 </span>Other pragma directives</h5>

  <p><dfn id="concept-http-equiv-extensions" title="concept-http-equiv-extensions">Extensions to the
  predefined set of pragma directives</dfn> may, under certain
  conditions, be registered in the <a href="http://wiki.whatwg.org/wiki/PragmaExtensions">WHATWG Wiki
  PragmaExtensions page</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWHATWGWIKI">[WHATWGWIKI]</a></p>

  <p>Such extensions must use a name that is identical to an HTTP
  header registered in the Permanent Message Header Field Registry,
  and must have behavior identical to that described for the HTTP
  header. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsIANAPERMHEADERS">[IANAPERMHEADERS]</a></p>

  <p>Pragma directives corresponding to headers describing metadata,
  or not requiring specific user agent processing, must not be
  registered; instead, use <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-meta-extensions" title="concept-meta-extensions">metadata names</a>. Pragma
  directives corresponding to headers that affect the HTTP processing
  model (e.g. caching) must not be registered, as they would result in
  HTTP-level behavior being different for user agents that implement
  HTML than for user agents that do not.</p>

  <p>Anyone is free to edit the WHATWG Wiki PragmaExtensions page at
  any time to add a pragma directive satisfying these conditions. Such
  registrations must specify the following information:</p>

  <dl><dt>Keyword</dt>

   <dd><p>The actual name being defined. The name must match a
   previously-registered HTTP name with the same
   requirements.</p></dd>


   <dt>Brief description</dt>

   <dd><p>A short non-normative description of the purpose of the
   pragma directive.</p></dd>


   <dt>Specification</dt>

   <dd>A link to the specification defining the corresponding HTTP
   header.</dd>

  </dl><div class="impl">

  <p>Conformance checkers must use the information given on the WHATWG
  Wiki PragmaExtensions page to establish if a value is allowed or
  not: values defined in this specification or listed on the
  aforementioned page must be accepted, whereas values not listed in
  either this specification or on the aforementioned page must be
  rejected as invalid. Conformance checkers may cache this information
  (e.g. for performance reasons or to avoid the use of unreliable
  network connectivity).</p>

  </div>




  <h5 id="charset"><span class="secno">4.2.5.5 </span>Specifying the document's character encoding</h5>

  <!-- READ ME WHEN EDITING: if we ever move this to the "writing
  HTML" section, then we have to duplicate the requirements in the
  parsing section for conformance checkers, and we have to make sure
  that the requirements for charset="" apply even in XML, for the
   polyglot hack. -->

  <p>A <dfn id="character-encoding-declaration">character encoding declaration</dfn> is a mechanism by
  which the character encoding used to store or transmit a document is
  specified.</p>

  <p>The following restrictions apply to character encoding
  declarations:</p>

  <ul><li>The character encoding name given must be the name of the
   character encoding used to serialize the file.</li>

   <li>The value must be a valid character encoding name, and must be
   an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match for the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#preferred-mime-name">preferred MIME name</a> for that encoding. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsIANACHARSET">[IANACHARSET]</a></li>

   <li>The character encoding declaration must be serialized without
   the use of <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-charref" title="syntax-charref">character references</a>
   or character escapes of any kind.</li>

   <li id="charset1024"><span id="charset512" title="">The element
   containing the character encoding declaration must be serialized
   completely within the first 1024 bytes of the document.</span></li>
   <!-- span is for historical reasons, to keep an old ID alive -->

  </ul><p>In addition, due to a number of restrictions on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code>
  elements, there can only be one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code>-based character
  encoding declaration per document.</p> <!-- conformance criteria for
  this one are given in the XML spec, the <meta> section just after
  defining charset="", and the character encoding pragma section. Note
  that you _can_ have two character encoding declaration per document,
  if the document is an XML document and one is an XML declaration,
  the other is <meta charset>, and the encoding is UTF-8. -->

  <p>If an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents" title="HTML documents">HTML document</a> does not
  start with a BOM, and if its encoding is not explicitly given by
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content-Type metadata</a>, and the
  document is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#an-iframe-srcdoc-document">an <code>iframe</code> <code title="attr-iframe-srcdoc">srcdoc</code> document</a>, then the
  character encoding used must be an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-compatible-character-encoding">ASCII-compatible character
  encoding</a>, and, in addition, if that encoding isn't US-ASCII
  itself, then the encoding must be specified using a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with a <code title="attr-meta-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-charset">charset</a></code> attribute or a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with an <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding declaration
  state</a>.</p>

  <p>If the document is <a href="http://www.whatwg.org/specs/web-apps/current-work/#an-iframe-srcdoc-document">an <code>iframe</code> <code title="attr-iframe-srcdoc">srcdoc</code> document</a>, the
  document must not have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#character-encoding-declaration">character encoding
  declaration</a>. (In this case, the source is already decoded,
  since it is part of the document that contained the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>.)</p>

  <p>If an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents" title="HTML documents">HTML document</a> contains
  a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with a <code title="attr-meta-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-charset">charset</a></code> attribute or a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with an <code title="attr-meta-http-equiv"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv">http-equiv</a></code> attribute in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-http-equiv-content-type" title="attr-meta-http-equiv-content-type">Encoding declaration
  state</a>, then the character encoding used must be an
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-compatible-character-encoding">ASCII-compatible character encoding</a>.</p>

  <p>Authors are encouraged to use UTF-8. Conformance checkers may
  advise authors against using legacy encodings. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3629">[RFC3629]</a></p>

  <div class="impl">

  <p>Authoring tools should default to using UTF-8 for newly-created
  documents. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3629">[RFC3629]</a></p>

  </div>

  <p>Encodings in which a series of bytes in the range 0x20 to 0x7E
  can encode characters other than the corresponding characters in the
  range U+0020 to U+007E represent a potential security vulnerability:
  a user agent that does not support the encoding (or does not support
  the label used to declare the encoding, or does not use the same
  mechanism to detect the encoding of unlabelled content as another
  user agent) might end up interpreting technically benign plain text
  content as HTML tags and JavaScript. For example, this applies to
  encodings in which the bytes corresponding to "<code title="">&lt;script&gt;</code>" in ASCII can encode a different
  string. Authors should not use such encodings, which are known to
  include JIS_C6226-1983<!-- aka JIS-X-0208, x-JIS0208 -->,
  JIS_X0212-1990<!-- aka JIS-X-0212 -->, HZ-GB-2312<!-- has crazy
  handling of ASCII "~" -->, JOHAB <!-- a supplementary encoding in KS
  C 5601-1992 Annex 3 (= KS X 1001:1998 Annex 3) --> (Windows code
  page 1361), encodings based on ISO-2022<!--
  http://krijnhoetmer.nl/irc-logs/whatwg/20090628#l-422 and
  http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-October/023797.html
  -->, and encodings based on EBCDIC. Furthermore, authors must not
  use the CESU-8, UTF-7, BOCU-1 and SCSU encodings, which also fall
  into this category, because these encodings were never intended for
  use for Web content.
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC1345">[RFC1345]</a><!-- for the JIS types -->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC1842">[RFC1842]</a><!-- HZ-GB-2312 -->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC1468">[RFC1468]</a><!-- ISO-2022-JP -->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC2237">[RFC2237]</a><!-- ISO-2022-JP-1 -->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC1554">[RFC1554]</a><!-- ISO-2022-JP-2 -->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCP50220">[CP50220]</a><!-- CP50220, the compatibility replacement for ISO-2022-JP -->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC1922">[RFC1922]</a><!-- ISO-2022-CN and ISO-2022-CN-EXT -->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC1557">[RFC1557]</a><!-- ISO-2022-KR -->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCESU8">[CESU8]</a>
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUTF7">[UTF7]</a>
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBOCU1">[BOCU1]</a>
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSCSU">[SCSU]</a>
  <!-- no idea what to reference for JOHAB or EBCDIC, so... -->
  </p>

  <p>Authors should not use UTF-32, as the encoding detection
  algorithms described in this specification intentionally do not
  distinguish it from UTF-16. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsUNICODE">[UNICODE]</a></p>

  <p class="note">Using non-UTF-8 encodings can have unexpected
  results on form submission and URL encodings, which use the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#document's-character-encoding">document's character encoding</a> by default.</p>

  <p>In XHTML, the XML declaration should be used for inline character
  encoding information, if necessary.</p>

  <div class="example">

   <p>In HTML, to declare that the character encoding is UTF-8, the
   author could include the following markup near the top of the
   document (in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element):</p>

   <pre>&lt;meta charset="utf-8"&gt;</pre>

   <p>In XML, the XML declaration would be used instead, at the very
   top of the markup:</p>

   <pre>&lt;?xml version="1.0" encoding="utf-8"?&gt;</pre>

  </div>


  <h4 id="the-style-element"><span class="secno">4.2.6 </span>The <dfn><code>style</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">Metadata content</a>.</dd>
   <dd>If the <code title="attr-style-scoped"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-scoped">scoped</a></code> attribute is present: <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>If the <code title="attr-style-scoped"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-scoped">scoped</a></code> attribute is absent: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">metadata content</a> is expected.</dd>
   <dd>If the <code title="attr-style-scoped"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-scoped">scoped</a></code> attribute is absent: in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element that is a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element.</dd>
   <dd>If the <code title="attr-style-scoped"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-scoped">scoped</a></code> attribute is present: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected, but before any other <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> other than <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element whitespace</a>, and not as the child of an element whose content model is <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Depends on the value of the <code title="attr-style-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-type">type</a></code> attribute, but must match requirements described in prose below.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-style-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-media">media</a></code></dd>
   <dd><code title="attr-style-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-type">type</a></code></dd>
   <dd><code title="attr-style-scoped"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-scoped">scoped</a></code></dd>
   <dd>Also, the <code title="attr-style-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-title">title</a></code> attribute has special semantics on this element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlstyleelement">HTMLStyleElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-style-disabled" title="dom-style-disabled">disabled</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-style-media" title="dom-style-media">media</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-style-type" title="dom-style-type">type</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-style-scoped" title="dom-style-scoped">scoped</a>;
};
<a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlstyleelement">HTMLStyleElement</a> implements <a href="http://www.whatwg.org/specs/web-apps/current-work/#linkstyle">LinkStyle</a>;</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element allows authors to embed style
  information in their documents. The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element is
  one of several inputs to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#styling">styling processing
  model</a>. The element does not <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a> content for the user.</p>

  <p>The <dfn id="attr-style-type" title="attr-style-type"><code>type</code></dfn>
  attribute gives the styling language. If the attribute is present,
  its value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">valid MIME type</a> that designates a
  styling language. The <code title="">charset</code> parameter must
  not be specified. The default value for the <code title="attr-style-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-type">type</a></code> attribute, which is used if the
  attribute is absent, is "<code title="">text/css</code>". <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC2318">[RFC2318]</a></p>

  <div class="impl">

  <!-- this paragraph is also present in the <script> section -->
  <p>When examining types to determine if they support the language,
  user agents must not ignore unknown MIME parameters — types
  with unknown parameters must be assumed to be unsupported. The <code title="">charset</code> parameter must be treated as an unknown
  parameter for the purpose of comparing <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type" title="MIME type">MIME
  types</a> here.</p>

  </div>

  <p>The <dfn id="attr-style-media" title="attr-style-media"><code>media</code></dfn>
  attribute says which media the styles apply to. The value must be a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-media-query">valid media query</a>.  <span class="impl">The user agent
  must apply the styles when the <code title="attr-style-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-media">media</a></code> attribute's value
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#matches-the-environment">matches the environment</a> and the other relevant
  conditions apply, and must not apply them otherwise.</span></p><!--
  note similar text in <link> section -->

  <div class="impl">

  <p class="note">The styles might be further limited in scope,
  e.g. in CSS with the use of <code title="">@media</code>
  blocks. This specification does not override such further
  restrictions or requirements.</p><!-- note similar text in <link>
  section -->

  </div>

  <p id="style-default-media">The default, if the <code title="attr-style-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-media">media</a></code> attribute is omitted, is
  "<code title="">all</code>", meaning that by default styles apply to
  all media.</p>

  <p>The <dfn id="attr-style-scoped" title="attr-style-scoped"><code>scoped</code></dfn>
  attribute is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute">boolean attribute</a>. If present, it
  indicates that the styles are intended just for the subtree rooted
  at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element's parent element, as opposed to
  the whole <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>

  <p>If the <code title="attr-style-scoped"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-scoped">scoped</a></code> attribute is
  present and the element has a parent element, then the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element must be the first node of <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow
  content</a> in its parent element other than <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element
  whitespace</a>, and the parent element's content model must not
  have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a> component.</p>

  <p class="note">This implies that only one scoped <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code>
  element is allowed at a time, and that such elements cannot be
  children of, e.g., <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> elements, even
  when those are used as <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> containers.</p>

  <div class="impl">

  <p>If the <code title="attr-style-scoped"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-scoped">scoped</a></code> attribute is
  present, then the user agent must apply the specified style
  information only to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element's parent element
  (if any), and that element's descendants. Otherwise, the specified
  styles must, if applied, be applied to the entire document.</p>

  <p class="critical">The following will eventually be moved to a CSS
  specification; it is specified here only on an interim basis until
  an editor can be found to own this.</p>

  <p>Within scoped CSS resources, authors may use an <code title="">@global</code> @-rule. The syntax of this rule is defined
  as follows.</p>

  <p>The following production is added to the grammar:</p>

  <pre>global
  : GLOBAL_SYM S* ruleset
  ;</pre>

  <p>The following rules are added to the Flex tokenizer:</p>

  <pre>B                     b|\\0{0,4}(42|62)(\r\n|[ \t\r\n\f])?
@{G}{L}{O}{B}{A}{L}   {return GLOBAL_SYM;}</pre>

  <p>Simple selectors in rule sets prefixed by the <code title="">@global</code> @-rule in scoped CSS resources must be
  processed in the same way as normal rule sets in non-scoped CSS
  resources.</p>

  <p>Simple selectors in scoped CSS resources that are not prefixed by
  an <code title="">@global</code> @-rule must only match the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element's parent element (if any), and that
  element's descendants.</p>

  <p>For scoped CSS resources, the effect of other @-rules must be
  scoped to the scoped sheet and its subresources, even if the @-rule
  in question would ordinarily apply to all style sheets that affect
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>. Any '@page' rules in scoped CSS resources
  must be ignored.</p>

  <p class="example">For example, an '@font-face' rule defined in a
  scoped style sheet would only define the font for the purposes of
  font rules in the scoped section; style sheets outside the scoped
  section using the same font name would not end up using that
  embedded font.</p>

  <hr></div>

  <p id="title-on-style">The <dfn id="attr-style-title" title="attr-style-title"><code>title</code></dfn> attribute on
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> elements defines <a href="http://www.whatwg.org/specs/web-apps/current-work/#alternative-style-sheet-sets">alternative style sheet
  sets</a>. If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element has no <code title="attr-style-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-title">title</a></code> attribute, then it has no
  title; the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute of
  ancestors does not apply to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p>

  <p class="note">The <code title="attr-style-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-title">title</a></code>
  attribute on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> elements, like the <code title="attr-link-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-title">title</a></code> attribute on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code>
  elements, differs from the global <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute in that a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> block without a title does not inherit the title
  of the parent element: it merely has no title.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textcontent">textContent</a></code> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element must
  match the <code title="">style</code> production in the following
  ABNF, the character set for which is Unicode. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsABNF">[ABNF]</a></p>

  <pre>style         = no-c-start *( c-start no-c-end c-end no-c-start )
no-c-start    = &lt;any string that doesn't contain a substring that matches c-start &gt;
c-start       = "&lt;!--"
no-c-end      = &lt;any string that doesn't contain a substring that matches c-end &gt;
c-end         = "--&gt;"</pre>

  <!-- Unmatched comment-like syntax is invalid on a temporary basis,
       waiting for IE, WebKit, and Opera to fix their parsing bug
       whereby such comments trigger a weird escape in which </style>
       is ignored. Otherwise, parsing behaviour in those browsers
       could differ substantially from the parsing behaviour of HTML5.
       Once everyone follows the HTML5 spec, we can drop this
       requirement.
  -->

  <div class="impl">

  <p>All descendant elements must be processed, according to their
  semantics, before the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element itself is
  evaluated. For styling languages that consist of pure text (as
  opposed to XML), user agents must evaluate <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code>
  elements by passing the concatenation of the contents of all the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes that are children of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element (not any other nodes such as comments or
  elements), in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>, to the style system. For
  XML-based styling languages, user agents must pass all the child
  nodes of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element to the style system.</p>

  <p>All <a href="http://www.whatwg.org/specs/web-apps/current-work/#url" title="URL">URLs</a> found by the styling language's
  processor must be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolved</a>,
  relative to the element (or as defined by the styling language),
  when the processor is invoked.<!-- so dynamic changes to the base
  URL don't affect the CSS --></p>

  <!-- the next few paragraph are similar to text in the <style> section -->
  <p>Once the attempts to obtain the style sheet's <a href="http://www.whatwg.org/specs/web-apps/current-work/#critical-subresources">critical
  subresources</a>, if any, are complete, or, if the style sheet
  has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#critical-subresources">critical subresources</a>, once the style sheet has
  been parsed and processed, the user agent must, if the loads were
  successful or there were none, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-load">load</code> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element,
  or, if one of the style sheet's <a href="http://www.whatwg.org/specs/web-apps/current-work/#critical-subresources">critical subresources</a>
  failed to completely load for any reason (e.g. DNS error, HTTP 404
  response, a connection being prematurely closed, unsupported
  Content-Type), <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
  event</a> named <code title="event-error">error</code> at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element. Non-network errors in processing the
  style sheet or its subresources (e.g. CSS parse errors, PNG decoding
  errors) are not failures for the purposes of this paragraph.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a> for these <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-manipulation-task-source">DOM manipulation task
  source</a>.</p>

  <p>The element must <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load event</a> of the
  element's document until all the attempts to obtain the style
  sheet's <a href="http://www.whatwg.org/specs/web-apps/current-work/#critical-subresources">critical subresources</a>, if any, are
  complete.</p>

  </div>

  <p class="note">This specification does not specify a style system,
  but CSS is expected to be supported by most Web browsers. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>

  <div class="impl">

  <p>The <dfn id="dom-style-media" title="dom-style-media"><code>media</code></dfn>, <dfn id="dom-style-type" title="dom-style-type"><code>type</code></dfn> and <dfn id="dom-style-scoped" title="dom-style-scoped"><code>scoped</code></dfn> IDL attributes
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the
  same name.</p>

  </div>

  <p>The <dfn id="dom-style-disabled" title="dom-style-disabled"><code>disabled</code></dfn>
  IDL attribute behaves as defined <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-linkstyle-disabled" title="dom-linkstyle-disabled">for the alternative style sheets
  DOM</a>.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#linkstyle">LinkStyle</a></code> interface is also implemented by
  this element; the <a href="http://www.whatwg.org/specs/web-apps/current-work/#styling">styling processing model</a> defines
  how. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p>

  <div class="example">

   <p>The following document has its emphasis styled as bright red
   text rather than italics text, while leaving titles of works and
   Latin words in their default italics. It shows how using
   appropriate elements enables easier restyling of documents.</p>

   <pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en-US"&gt;
 &lt;head&gt;
  &lt;title&gt;My favorite book&lt;/title&gt;
  &lt;style&gt;
   body { color: black; background: white; }
   em { font-style: normal; color: red; }
  &lt;/style&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;p&gt;My &lt;em&gt;favorite&lt;/em&gt; book of all time has &lt;em&gt;got&lt;/em&gt; to be
  &lt;cite&gt;A Cat's Life&lt;/cite&gt;. It is a book by P. Rahmel that talks
  about the &lt;i lang="la"&gt;Felis Catus&lt;/i&gt; in modern human society.&lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  </div>




  <h4 id="styling"><span class="secno">4.2.7 </span><dfn title="styling processing model">Styling</dfn></h4>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> elements can provide
  styling information for the user agent to use when rendering the
  document. The CSS and CSSOM specifications specify what styling
  information is to be used by the user agent and how it is to be
  used. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements implement
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#linkstyle">LinkStyle</a></code> interface. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p>

  <div class="impl">

  <p>For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> elements, if the user agent does not
  support the specified styling language, then the <code title="dom-LinkStyle-sheet"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-linkstyle-sheet">sheet</a></code> attribute of the element's
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#linkstyle">LinkStyle</a></code> interface must return null. Similarly,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements that do not represent <a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-stylesheet" title="rel-stylesheet">external resource links that contribute to
  the styling processing model</a> (i.e. that do not have a <code title="rel-stylesheet"><a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-stylesheet">stylesheet</a></code> keyword in their <code title="attr-link-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel">rel</a></code> attribute), or for which <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-is-an-alternative-stylesheet">the
  link is an alternative stylesheet</a> but whose <code title="dom-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-title">title</a></code> content attribute is absent or empty,
  must have their <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#linkstyle">LinkStyle</a></code> interface's <code title="dom-LinkStyle-sheet"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-linkstyle-sheet">sheet</a></code> attribute return null.</p>

  <p>Otherwise, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#linkstyle">LinkStyle</a></code> interface's <code title="dom-LinkStyle-sheet"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-linkstyle-sheet">sheet</a></code> attribute must return a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#stylesheet">StyleSheet</a></code> object with the following properties: <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p>

  <dl><dt>The style sheet type</dt>

   <dd><p>The style sheet type must be the same as the style's specified
   type. For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> elements, this is the same as the
   <code title="attr-style-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-style-type">type</a></code> content attribute's
   value, or <code title="">text/css</code> if that is omitted. For
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements, this is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content-Type metadata of the specified
   resource</a>.</p></dd>

   <dt>The style sheet location</dt>

   <dd><p>For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements, the location must be the
   result of <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolving</a> the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> given by the element's <code title="attr-link-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-link-href">href</a></code> content attribute, relative to
   the element, or the empty string if that fails. For
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> elements, there is no location.</p></dd> <!--
   note that this might not match the style sheet URL, if the base URL
   has changed for instance -->

   <dt>The style sheet media</dt>

   <dd><p>The media must be the same as the value of the element's
   <code title="">media</code> content attribute, or the empty string,
   if the attribute is omitted.</p></dd>

   <dt>The style sheet title</dt>

   <dd><p>The title must be the same as the value of the element's
   <code title="dom-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-title">title</a></code> content attribute, if the
   attribute is present and has a non-empty value. If the attribute is
   absent or its value is the empty string, then the style sheet does
   not have a title (it is the empty string). The title is used for
   defining <a href="http://www.whatwg.org/specs/web-apps/current-work/#alternative-style-sheet-sets">alternative style sheet sets</a>.</p></dd>

   <dt>The style sheet alternate flag</dt>

   <dd><p>For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements, true if <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-is-an-alternative-stylesheet">the link is an
   alternative stylesheet</a>. In all other cases, false.</p></dd>

<!--
   <dt>The style sheet disabled flag</dt>
   (not included, because I assume CSSOM will change to not require
   this spec to initialise the value, but will instead initialise it
   based on the other values)
-->

  </dl><p>The same object must be returned each time.</p>

  <p>The <dfn id="dom-linkstyle-disabled" title="dom-LinkStyle-disabled"><code>disabled</code></dfn> IDL
  attribute on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> elements must
  return false and do nothing on setting, if the <code title="dom-linkstyle-sheet"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-linkstyle-sheet">sheet</a></code> attribute of their
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#linkstyle">LinkStyle</a></code> interface is null. Otherwise, it must return
  the value of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#stylesheet">StyleSheet</a></code> interface's <code title="dom-stylesheet-disabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-stylesheet-disabled">disabled</a></code> attribute on
  getting, and forward the new value to that same attribute on
  setting.</p>

  <!-- [CSSOM] covers the following: the term "alternative style sheet
  sets", the term "default style sheet set", preferred stylesheets,
  alternative stylesheets, persistent stylesheets, ordering of
  stylesheets, dynamic additions/removals, window.styleSheets, style
  sheets given by HTTP Link: headers, and the alternative style sheet
  API -->

  <p id="alternate-style-sheets">The rules for handling alternative
  style sheets are defined in the CSS object model specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p>

  <hr><p>Style sheets, whether added by a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element, a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element, an <code>&lt;?xml-stylesheet&gt;</code> PI,
  an HTTP <code title="http-link">Link:</code> header, or some other
  mechanism, have a <dfn id="style-sheet-ready">style sheet ready</dfn> flag, which is
  initially unset.</p>

  <p>When a style sheet is ready to be applied, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#style-sheet-ready">style sheet
  ready</a> flag must be set. If the style sheet referenced no
  other resources (e.g. it was an internal style sheet given by a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element with no <code title="">@import</code>
  rules), then the style rules must be synchronously made available to
  script; otherwise, the style rules must only be made available to
  script once the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> reaches its "update the
  rendering" step.</p>

  <p>A style sheet in the context of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of an
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a> is said to be
  <dfn id="a-style-sheet-that-is-blocking-scripts">a style sheet that is blocking scripts</dfn> if the element was
  created by that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s parser, and the element is
  either a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> element or a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> element
  that was an <a href="http://www.whatwg.org/specs/web-apps/current-work/#link-type-stylesheet" title="rel-stylesheet">external resource link that
  contributes to the styling processing model</a> when the element
  was created by the parser, and the element's style sheet was enabled
  when the element was created by the parser, and the element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#style-sheet-ready">style sheet ready</a> flag is not yet set, and, the last
  time the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> reached step 1, the element was
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document" title="in a document">in that <code>Document</code></a>,
  and the user agent hasn't given up on that particular style sheet
  yet. A user agent may give up on a style sheet at any time.</p>

  <p class="note">Giving up on a style sheet before the style sheet
  loads, if the style sheet eventually does still load, means that the
  script might end up operating with incorrect information. For
  example, if a style sheet sets the color of an element to green, but
  a script that inspects the resulting style is executed before the
  sheet is loaded, the script will find that the element is black (or
  whatever the default color is), and might thus make poor choices
  (e.g. deciding to use black as the color elsewhere on the page,
  instead of green). Implementors have to balance the likelihood of a
  script using incorrect information with the performance impact of
  doing nothing while waiting for a slow network request to
  finish.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> <dfn id="has-a-style-sheet-that-is-blocking-scripts">has a style sheet that is blocking
  scripts</dfn> if there is either <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-style-sheet-that-is-blocking-scripts">a style sheet that is
  blocking scripts</a> in the context of that
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, or if that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is in a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> that has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#parent-browsing-context">parent browsing
  context</a>, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of that
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#parent-browsing-context">parent browsing context</a> itself <a href="http://www.whatwg.org/specs/web-apps/current-work/#has-a-style-sheet-that-is-blocking-scripts">has a style sheet
  that is blocking scripts</a>.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> <dfn id="has-no-style-sheet-that-is-blocking-scripts">has no style sheet that is blocking
  scripts</dfn> if it does not <a href="http://www.whatwg.org/specs/web-apps/current-work/#has-a-style-sheet-that-is-blocking-scripts" title="has a style sheet that is
  blocking scripts">have a style sheet that is blocking scripts</a>
  as defined in the previous paragraph.</p>

  </div>



  <h3 id="scripting-1"><span class="secno">4.3 </span>Scripting</h3>

  <p>Scripts allow authors to add interactivity to their documents.</p>

  <p>Authors are encouraged to use declarative alternatives to
  scripting where possible, as declarative mechanisms are often more
  maintainable, and many users disable scripting.</p>

  <div class="example">
   <p>For example, instead of using script to show or hide a section
   to show more details, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element">details</a></code> element could be
   used.</p>
  </div>

  <p>Authors are also encouraged to make their applications degrade
  gracefully in the absence of scripting support.</p>

  <div class="example">
   <p>For example, if an author provides a link in a table header to
   dynamically resort the table, the link could also be made to
   function without scripts by requesting the sorted table from the
   server.</p>
  </div>


  <h4 id="the-script-element"><span class="secno">4.3.1 </span>The <dfn id="script"><code>script</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">Metadata content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">metadata content</a> is expected.</dd>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>If there is no <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code>
   attribute, depends on the value of the <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code> attribute, but must match
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#restrictions-for-contents-of-script-elements">script content restrictions</a>.</dd>
   <dd>If there <em>is</em> a <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code>
   attribute, the element must be either empty or contain only
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#inline-documentation-for-external-scripts">script documentation</a> that also matches <a href="http://www.whatwg.org/specs/web-apps/current-work/#restrictions-for-contents-of-script-elements">script
   content restrictions</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code></dd>
   <dd><code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code></dd>
   <dd><code title="attr-script-defer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-defer">defer</a></code></dd>
   <dd><code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code></dd>
   <dd><code title="attr-script-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-charset">charset</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlscriptelement">HTMLScriptElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-src" title="dom-script-src">src</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-async" title="dom-script-async">async</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-defer" title="dom-script-defer">defer</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-type" title="dom-script-type">type</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-charset" title="dom-script-charset">charset</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-text" title="dom-script-text">text</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element allows authors to include dynamic
  script and data blocks in their documents. The element does not
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a> content for the user.</p>

  <p>When used to include dynamic scripts, the scripts may either be
  embedded inline or may be imported from an external file using the
  <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute. If the language
  is not that described by "<code title="">text/javascript</code>",
  then the <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code> attribute must
  be present, as described below. Whatever language is used, the
  contents of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element must conform with the
  requirements of that language's specification.</p>

  <p>When used to include data blocks (as opposed to scripts), the
  data must be embedded inline, the format of the data must be given
  using the <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code> attribute, the
  <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute must not be
  specified, and the contents of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element must
  conform to the requirements defined for the format used.</p>

  <p>The <dfn id="attr-script-type" title="attr-script-type"><code>type</code></dfn>
  attribute gives the language of the script or format of the data. If
  the attribute is present, its value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">valid MIME
  type</a>. The <code title="">charset</code> parameter must not be
  specified. The default, which is used if the attribute is absent,
  is "<code title="">text/javascript</code>".</p>

  <p>The <dfn id="attr-script-src" title="attr-script-src"><code>src</code></dfn>
  attribute, if specified, gives the address of the external script
  resource to use. The value of the attribute must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid
  non-empty URL potentially surrounded by spaces</a> identifying a
  script resource of the type given by the <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code> attribute, if the attribute is
  present, or of the type "<code title="">text/javascript</code>", if
  the attribute is absent. A resource is a script resource of a given
  type if that type identifies a scripting language and the resource
  conforms with the requirements of that language's specification.</p>

  <p>The <dfn id="attr-script-charset" title="attr-script-charset"><code>charset</code></dfn>
  attribute gives the character encoding of the external script
  resource. The attribute must not be specified if the <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute is not present. If the
  attribute is set, its value must be a valid character encoding name,
  must be an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match for the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#preferred-mime-name">preferred MIME name</a> for that encoding, and must match
  the encoding given in the <code title="">charset</code> parameter of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content-Type metadata</a> of the
  external file, if any. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsIANACHARSET">[IANACHARSET]</a></p>

  <p>The <dfn id="attr-script-async" title="attr-script-async"><code>async</code></dfn> and
  <dfn id="attr-script-defer" title="attr-script-defer"><code>defer</code></dfn> attributes
  are <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute" title="boolean attribute">boolean attributes</a> that
  indicate how the script should be executed. The <code title="attr-script-defer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-defer">defer</a></code> and <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> attributes must not be
  specified if the <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute
  is not present.</p>

  <p>There are three possible modes that can be selected using these
  attributes. If the <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code>
  attribute is present, then the script will be executed
  asynchronously, as soon as it is available. If the <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> attribute is not present but
  the <code title="attr-script-defer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-defer">defer</a></code> attribute is
  present, then the script is executed when the page has finished
  parsing. If neither attribute is present, then the script is
  fetched and executed immediately, before the user agent continues
  parsing the page.</p>

  <p class="note">The exact processing details for these attributes
  are, for mostly historical reasons, somewhat non-trivial, involving
  a number of aspects of HTML. The implementation requirements are
  therefore by necessity scattered throughout the specification. The
  algorithms below (in this section) describe the core of this
  processing, but these algorithms reference and are referenced by the
  parsing rules for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> <a href="http://www.whatwg.org/specs/web-apps/current-work/#scriptTag">start</a>
  and <a href="http://www.whatwg.org/specs/web-apps/current-work/#scriptEndTag">end</a> tags in HTML, <a href="http://www.whatwg.org/specs/web-apps/current-work/#scriptForeignEndTag">in foreign content</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#scriptTagXML">in XML</a>, the rules for the <code title="dom-document-write"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write">document.write()</a></code> method, the
  handling of <a href="http://www.whatwg.org/specs/web-apps/current-work/#scripting">scripting</a>, etc.</p>

  <p>The <code title="attr-script-defer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-defer">defer</a></code> attribute may be
  specified even if the <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code>
  attribute is specified, to cause legacy Web browsers that only
  support <code title="attr-script-defer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-defer">defer</a></code> (and not <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code>) to fall back to the <code title="attr-script-defer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-defer">defer</a></code> behavior instead of the
  synchronous blocking behavior that is the default.</p>

  <p>Changing the <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code>, <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code>, <code title="attr-script-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-charset">charset</a></code>, <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code>, and <code title="attr-script-defer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-defer">defer</a></code> attributes dynamically has no
  direct effect; these attribute are only used at specific times
  described below.</p> <!-- by implication, changes to the base URL
  also have no effect -->

  <div class="impl">

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element has several associated pieces of
  state.</p>

  <p>The first is a flag indicating whether or not the script block
  has been <dfn id="already-started">"already started"</dfn>. Initially,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements must have this flag unset (script
  blocks, when created, are not "already started"). The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-node-clone-ext" title="concept-node-clone-ext">cloning steps</a> for
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements must set the "already started" flag on
  the copy if it is set on the element being cloned.</p>

  <p>The second is a flag indicating whether the element was
  <dfn id="parser-inserted">"parser-inserted"</dfn>. Initially, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
  elements must have this flag unset. It is set by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML
  parser</a> and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a> on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
  elements they insert and affects the processing of those
  elements.</p>

  <p>The third is a flag indicating whether the element will
  <dfn id="force-async">"force-async"</dfn>. Initially, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements
  must have this flag set. It is unset by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a>
  and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a> on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements they
  insert. In addition, whenever a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element whose
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#force-async">"force-async"</a> flag is set has a <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> content attribute added, the
  element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#force-async">"force-async"</a> flag must be unset.</p> <!--
  there's no need to unset it when the attribute is removed since you
  can't have the attribute and the flag set at once. -->

  <p>The fourth is a flag indicating whether or not the script block is
  <dfn id="ready-to-be-parser-executed">"ready to be parser-executed"</dfn>. Initially,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements must have this flag unset (script
  blocks, when created, are not "ready to be parser-executed"). This
  flag is used only for elements that are also
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a>, to let the parser know when to
  execute the script.</p>

  <p>The last few pieces of state are <dfn id="the-script-block&#39;s-type"><var>the script block's
  type</var></dfn>, <dfn id="the-script-block&#39;s-character-encoding"><var>the script block's character
  encoding</var></dfn>, and <dfn id="the-script-block&#39;s-fallback-character-encoding"><var>the script block's fallback
  character encoding</var></dfn>. They are determined when the script
  is prepared, based on the attributes on the element at that time,
  and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
  element.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element that is not marked as being
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a> experiences one of the events listed
  in the following list, the user agent must synchronously <a href="http://www.whatwg.org/specs/web-apps/current-work/#prepare-a-script" title="prepare a script">prepare</a> the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
  element:</p>

  <ul><li>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element gets <a href="http://www.whatwg.org/specs/web-apps/current-work/#insert-an-element-into-a-document" title="insert an
   element into a document">inserted into a document</a>.</li>

   <li>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document">in a
   <code>Document</code></a> and a node or document fragment is
   <span title="concept-node-insert">inserted</span> into the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element.</li>

   <li>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document">in a
   <code>Document</code></a> and has a <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute set where previously
   the element had no such attribute.</li>

  </ul><p>To <dfn id="prepare-a-script" title="prepare a script">prepare a script</dfn>, the user
  agent must act as follows:</p>

  <ol><li>

    <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element is marked as having
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#already-started">"already started"</a>, then the user agent must abort
    these steps at this point. The script is not executed.</p>

   </li>

   <li>

    <p>If the element has its <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a> flag set,
    then set <var title="">was-parser-inserted</var> to true and unset
    the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a> flag. Otherwise, set
    <var title="">was-parser-inserted</var> to false.</p>

    <p class="note">This is done so that if parser-inserted
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements fail to run when the parser tries to
    run them, e.g. because they are empty or specify an unsupported
    scripting language, another script can later mutate them and cause
    them to run again.</p>

    <!-- q.v. http://hsivonen.iki.fi/test/moz/script-setting-src-on-parser-inserted-script.html -->

   </li>

   <li>

    <p>If <var title="">was-parser-inserted</var> is true and the
    element does not have an <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> attribute, then set the
    element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#force-async">"force-async"</a> flag to true.</p>

    <p class="note">This is done so that if a parser-inserted
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element fails to run when the parser tries to
    run it, but it is later executed after a script dynamically
    updates it, it will execute asynchronously even if the
    <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> attribute isn't
    set.</p>

   </li>

   <li id="script-processing-empty">

    <p>If the element has no <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code>
    attribute, and its child nodes, if any, consist only of comment
    nodes and empty <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes, then the user agent must
    abort these steps at this point. The script is not executed.</p>

   </li>

   <li>

    <p>If the element is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document">in a <code>Document</code></a>,
    then the user agent must abort these steps at this point. The
    script is not executed.</p>

   </li>

   <li id="script-processing-prepare">

    <p>If either:</p>

    <ul class="brief"><li>the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element has a <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code> attribute and its value is
     the empty string, or</li>

     <li>the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element has no <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code> attribute but it has a <code title="attr-script-language"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-language">language</a></code> attribute and
     <em>that</em> attribute's value is the empty string, or</li>

     <li>the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element has neither a <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code> attribute nor a <code title="attr-script-language"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-language">language</a></code> attribute, then</li>

    </ul><p>...let <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the script block's type</a></var> for this
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element be "<code title="">text/javascript</code>".</p>

    <p>Otherwise, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element has a <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code> attribute, let <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the
    script block's type</a></var> for this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element be
    the value of that attribute with any leading or trailing sequences
    of <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>
    removed.</p> <!-- <span>Strip leading and trailing
    whitespace</span> from... -->

    <p>Otherwise, the element has a non-empty <code title="attr-script-language"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-language">language</a></code> attribute; let
    <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the script block's type</a></var> for this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
    element be the concatenation of the string "<code title="">text/</code>" followed by the value of the <code title="attr-script-language"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-language">language</a></code> attribute.</p> <!--
    user agents already support, e.g., type="text/javascript1.3", so
    we don't have to support that separately. -->

    <p class="note">The <code title="attr-script-language"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-language">language</a></code> attribute is never
    conforming, and is always ignored if there is a <code title="attr-script-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-type">type</a></code> attribute present.</p>

   </li>

   <li>

    <p>If the user agent does not <a href="http://www.whatwg.org/specs/web-apps/current-work/#support-the-scripting-language">support the scripting
    language</a> given by <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the script block's type</a></var> for
    this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element, then the user agent must abort
    these steps at this point. The script is not executed.</p>

   </li>

   <li>

    <p>If <var title="">was-parser-inserted</var> is true, then flag
    the element as <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a> again, and set the
    element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#force-async">"force-async"</a> flag to false.</p>

   </li>

   <li id="script-processing-start">

    <p>The user agent must set the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#already-started">"already
    started"</a> flag.</p>

    <p class="note">The state of the element at this moment <a href="http://www.whatwg.org/specs/web-apps/current-work/#establish-script-block-source">is later used</a> to
    determine the script source.</p>

   </li>

   <li>

    <p>If the element is flagged as <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a>,
    but the element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is not the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the parser that created the element, then
    abort these steps.</p>

   </li>

   <li id="script-processing-noscript">

    <p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-noscript" title="concept-n-noscript">scripting is
    disabled</a> for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element, then the user
    agent must abort these steps at this point. The script is not
    executed.</p>

    <p class="note">The definition of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-noscript" title="concept-n-noscript">scripting is disabled</a> means
    that, amongst others, the following scripts will not execute:
    scripts in <code>XMLHttpRequest</code>'s <code title="dom-XMLHttpRequest-responseXML">responseXML</code>
    documents, scripts in <code>DOMParser</code>-created documents,
    scripts in documents created by <code>XSLTProcessor</code>'s <code title="dom-XSLTProcessor-transformToDocument">transformToDocument</code>
    feature, and scripts that are first inserted by a script into a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that was created using the <code title="dom-DOMImplementation-createDocument"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-domimplementation-createdocument">createDocument()</a></code>
    API. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXHR">[XHR]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMPARSING">[DOMPARSING]</a> <!--<a
    href="#refsXSLTP">[XSLTP]</a>--> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMCORE">[DOMCORE]</a></p>


   </li>

   <li id="script-processing-for">

    <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element has an <code title="attr-script-event"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-event">event</a></code> attribute and a <code title="attr-script-for"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-for">for</a></code> attribute, then run these
    substeps:</p>

    <ol><li><p>Let <var title="">for</var> be the value of the <code title="attr-script-for"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-for">for</a></code> attribute.</p></li>

     <li><p>Let <var title="">event</var> be the value of the <code title="attr-script-event"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-event">event</a></code> attribute.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#strip-leading-and-trailing-whitespace">Strip leading and trailing whitespace</a> from
     <var title="">event</var> and <var title="">for</var>.</p></li>

     <li><p>If <var title="">for</var> is not an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
     case-insensitive</a> match for the string "<code title="">window</code>", then the user agent must abort these
     steps at this point. The script is not executed.</p></li>

     <li><p>If <var title="">event</var> is not an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
     case-insensitive</a> match for either the string "<code title="">onload</code>" or the string "<code title="">onload()</code>", then the user agent must abort these
     steps at this point. The script is not executed.</p></li>

    </ol></li>

   <li id="script-processing-encoding">

    <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element has a <code title="attr-script-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-charset">charset</a></code> attribute, then let
    <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-character-encoding">the script block's character encoding</a></var> for this
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element be the encoding given by the <code title="attr-script-charset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-charset">charset</a></code> attribute.</p>

    <p>Otherwise, let <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-fallback-character-encoding">the script block's fallback character
    encoding</a></var> for this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element be the same as
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#document's-character-encoding" title="document&#39;s character encoding">the encoding of the
    document itself</a>.</p>

    <p class="note">Only one of these two pieces of state is set.</p>

   </li>

   <li id="script-processing-src-prepare">

    <p>If the element has a <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code>
    attribute whose value is not the empty string, then the value of
    that attribute must be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolved</a>
    relative to the element, and if that is successful, the specified
    resource must then be <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a>, from the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of the element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>
    <!-- not http-origin privacy sensitive -->

    <p>If the <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute's
    value is the empty string or if it could not be resolved, then the
    user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
    event</a> named <code title="event-error">error</code> at the
    element, and abort these steps.</p>

    <p>For historical reasons, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#javascript-protocol" title="javascript protocol"><code title="">javascript:</code>
    URL</a>, then the user agent must not, despite the requirements
    in the definition of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching</a>
    algorithm, actually execute the script in the URL; instead the
    user agent must act as if it had received an empty HTTP 400
    response.</p>

    <p>For performance reasons, user agents may start fetching the
    script as soon as the attribute is set, instead, in the hope that
    the element will be inserted into the document. Either way, once
    the element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#insert-an-element-into-a-document" title="insert an element into a
    document">inserted into the document</a>, the load must have
    started. If the UA performs such prefetching, but the element is
    never inserted in the document, or the <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute is dynamically
    changed,<!-- or the base URL is dynamically changed,--> then the
    user agent will not execute the script, and the fetching process
    will have been effectively wasted.</p>

   </li>

   <!-- at this point if the element is "parser-inserted" then we know
   it is not "force-async". -->

   <li>

    <p>Then, the first of the following options that describes the
    situation must be followed:</p>

    <dl class="switch"><dt id="script-processing-defer">If the element has a <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute, and the element has
     a <code title="attr-script-defer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-defer">defer</a></code> attribute, and the
     element has been flagged as <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a>, and
     the element does not have an <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> attribute</dt>

     <dd>

      <p>The element must be added to the end of the <dfn id="list-of-scripts-that-will-execute-when-the-document-has-finished-parsing">list of
      scripts that will execute when the document has finished
      parsing</dfn> associated with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the
      parser that created the element.</p>

      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> places on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-queue">task
      queue</a> once the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching
      algorithm</a> has completed must set the element's
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#ready-to-be-parser-executed">"ready to be parser-executed"</a> flag. The parser will
      handle executing the script.</p>

     </dd>


     <dt id="script-processing-parser-inserted">If the element has a
     <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute, and the
     element has been flagged as <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a>, and
     the element does not have an <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> attribute</dt>

     <dd>

      <p>The element is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#pending-parsing-blocking-script">pending parsing-blocking
      script</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the parser that
      created the element. (There can only be one such script per
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> at a time.)</p>

      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> places on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-queue">task
      queue</a> once the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching
      algorithm</a> has completed must set the element's
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#ready-to-be-parser-executed">"ready to be parser-executed"</a> flag. The parser will
      handle executing the script.</p>

     </dd>


     <dt id="script-processing-style-delayed">If the element does not
     have a <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute, and
     the element has been flagged as <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a>,
     and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> or
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a> that created the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
     element <a href="http://www.whatwg.org/specs/web-apps/current-work/#has-a-style-sheet-that-is-blocking-scripts">has a style sheet that is blocking
     scripts</a></dt>

     <dd>

      <p>The element is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#pending-parsing-blocking-script">pending parsing-blocking
      script</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the parser that
      created the element. (There can only be one such script per
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> at a time.)</p>

      <p>Set the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#ready-to-be-parser-executed">"ready to be parser-executed"</a>
      flag. The parser will handle executing the script.</p>

     </dd>


     <dt id="script-processing-src-sync">If the element has a <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute, does not have an
     <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> attribute, and does
     not have the <a href="http://www.whatwg.org/specs/web-apps/current-work/#force-async">"force-async"</a> flag set</dt>

     <dd>

      <p>The element must be added to the end of the <dfn id="list-of-scripts-that-will-execute-in-order-as-soon-as-possible">list of
      scripts that will execute in order as soon as possible</dfn>
      associated with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element at the time the <a href="http://www.whatwg.org/specs/web-apps/current-work/#prepare-a-script">prepare a
      script</a> algorithm started.</p>

      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> places on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-queue">task
      queue</a> once the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching
      algorithm</a> has completed must run the following steps:</p>

      <ol><li><p>If the element is not now the first element in the
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-scripts-that-will-execute-in-order-as-soon-as-possible">list of scripts that will execute in order as soon as
       possible</a> to which it was added above, then mark the
       element as ready but abort these steps without executing the
       script yet.</p></li>

       <li><p><i>Execution</i>: <a href="http://www.whatwg.org/specs/web-apps/current-work/#execute-the-script-block">Execute the script block</a>
       corresponding to the first script element in this <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-scripts-that-will-execute-in-order-as-soon-as-possible">list of
       scripts that will execute in order as soon as
       possible</a>.</p></li>

       <li><p>Remove the first element from this <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-scripts-that-will-execute-in-order-as-soon-as-possible">list of scripts
       that will execute in order as soon as possible</a>.</p></li>

       <li><p>If this <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-scripts-that-will-execute-in-order-as-soon-as-possible">list of scripts that will execute in order
       as soon as possible</a> is still not empty and the first
       entry has already been marked as ready, then jump back to the
       step labeled <i>execution</i>.</p></li>

      </ol></dd>


     <dt id="script-processing-src">If the element has a <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute</dt>

     <dd>

      <p>The element must be added to the <dfn id="set-of-scripts-that-will-execute-as-soon-as-possible">set of scripts that
      will execute as soon as possible</dfn> of the
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element at the
      time the <a href="http://www.whatwg.org/specs/web-apps/current-work/#prepare-a-script">prepare a script</a> algorithm started.</p>

      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> places on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-queue">task
      queue</a> once the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching
      algorithm</a> has completed must <a href="http://www.whatwg.org/specs/web-apps/current-work/#execute-the-script-block">execute the script
      block</a> and then remove the element from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#set-of-scripts-that-will-execute-as-soon-as-possible">set of
      scripts that will execute as soon as possible</a>.</p>

     </dd>


     <dt id="script-processing-inline">Otherwise</dt>

     <dd>The user agent must immediately <a href="http://www.whatwg.org/specs/web-apps/current-work/#execute-the-script-block">execute the script
     block</a>, even if other scripts are already executing.</dd>

    </dl></li>

  </ol><!-- similar text in various places --><p>Fetching an external script must <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load
  event</a> of the element's document until the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a
  task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> once
  the resource has been <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> (defined
  above) has been run.</p>

  <p>The <dfn id="pending-parsing-blocking-script">pending parsing-blocking script</dfn> of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is used by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s
  parser(s).</p>

  <p class="note">If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element that blocks a
  parser gets moved to another <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> before it would
  normally have stopped blocking that parser, it nonetheless continues
  blocking that parser until the condition that causes it to be
  blocking the parser no longer applies (e.g. if the script is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#pending-parsing-blocking-script">pending parsing-blocking script</a> because there was
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-style-sheet-that-is-blocking-scripts">a style sheet that is blocking scripts</a> when it was
  parsed, but then the script is moved to another
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> before the style sheet loads, the script still
  blocks the parser until the style sheets are all loaded, at which
  time the script executes and the parser is unblocked).</p>

  <!-- also (and this would be worth testing): the way the spec is
  written, if you do not have a style sheet that is blocking scripts,
  then you parse a <script src>, then while waiting for the script to
  load you insert an external style sheet, the script will delay until
  the sheet is loaded, because there's just a binary "are style sheets
  blocking scripts" state, things aren't defined in terms of which
  style sheets are blocking which scripts -->

  <p>When the user agent is required to <dfn id="execute-the-script-block" title="execute the script
  block">execute a script block</dfn>, it must run the following
  steps:</p>

  <ol><li>

    <p>If the element is flagged as <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a>,
    but the element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is not the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> of the parser that created the element, then
    abort these steps.</p>

   </li>

   <li>

    <p>Jump to the appropriate set of steps from the list below:</p>

    <dl class="switch"><dt>If the load resulted in an error (for example a DNS error, or
     an HTTP 404 error)</dt>

     <dd><p>Executing the script block must just consist of <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event" title="fire a simple event">firing a simple event</a> named
     <code title="event-error">error</code> at the element.</p></dd>

     <dt>If the load was successful</dt>

     <!-- SCRIPT EXEC -->
     <dd>

      <p>Executing the script block must consist of running the
      following steps. For the purposes of these steps, the script is
      considered to be from an <i>external file</i> if, while the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#prepare-a-script">prepare a script</a> algorithm above was running for
      this script, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element had a <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute specified.</p>

      <ol><li id="establish-script-block-source">

        <p>Initialize <dfn id="the-script-block&#39;s-source"><var>the script block's source</var></dfn>
        as follows:</p>

        <dl class="switch"><dt>If the script is from an external file and <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the
         script block's type</a></var> is a text-based language</dt>

         <dd>

          <p>The contents of that file, interpreted as a Unicode
          string, are the script source.</p>

          <p>To obtain the Unicode string, the user agent run the
          following steps:</p>

          <ol><li><p>If the resource's <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content
           Type metadata</a>, if any, specifies a character
           encoding, and the user agent supports that encoding, then
           let <var title="">character encoding</var> be that
           encoding, and jump to the bottom step in this series of
           steps.</p></li>

           <li><p>If the algorithm above set <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-character-encoding">the script block's
           character encoding</a></var>, then let <var title="">character
           encoding</var> be that encoding, and jump to the bottom
           step in this series of steps.</p></li>

           <li><p>For each of the rows in the following table,
           starting with the first one and going down, if the file has
           as many or more bytes available than the number of bytes in
           the first column, and the first bytes of the file match the
           bytes given in the first column, then set <var title="">character encoding</var> to the encoding given in
           the cell in the second column of that row, and jump to the
           bottom step in this series of steps:</p>

            <!-- this table is present in several forms in this file; keep them in sync -->
            <table id="table-script-bom"><thead><tr><th>Bytes in Hexadecimal
               </th><th>Encoding
             </th></tr></thead><tbody><!-- nobody uses this
              <tr>
               <td>00 00 FE FF
               <td>UTF-32BE
              <tr>
               <td>FF FE 00 00
               <td>UTF-32LE
    --><tr><td>FE FF
               </td><td>Big-endian UTF-16
              </td></tr><tr><td>FF FE
               </td><td>Little-endian UTF-16
              </td></tr><tr><td>EF BB BF
               </td><td>UTF-8
    <!-- nobody uses this
              <tr>
               <td>DD 73 66 73
               <td>UTF-EBCDIC
    -->
            </td></tr></tbody></table><p class="note">This step looks for Unicode Byte Order
            Marks (BOMs).</p>

           </li>

           <li><p>Let <var title="">character encoding</var> be
           <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-fallback-character-encoding">the script block's fallback character
           encoding</a></var>.</p></li>

           <li><p>Convert the file to Unicode using <var>character
           encoding</var>, following the rules for doing so given by
           the specification for <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the script block's
           type</a></var>.</p></li>

          </ol></dd>

         <dt>If the script is from an external file and <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the
         script block's type</a></var> is an XML-based language</dt>

         <dd>

          <p>The external file is the script source. When it is later
          executed, it must be interpreted in a manner consistent with
          the specification defining the language given by <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the
          script block's type</a></var>.</p>

         </dd>

         <dt>If the script is inline and <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the script block's
         type</a></var> is a text-based language</dt>

         <dd>

          <p>The value of the <code title="dom-script-text"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-text">text</a></code> IDL attribute at the
          time the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#already-started">"already started"</a> flag was
          last set is the script source.</p>

         </dd>

         <dt>If the script is inline and <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the script block's
         type</a></var> is an XML-based language</dt>

         <dd>

          <p>The child nodes of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element at the
          time the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#already-started">"already started"</a> flag was
          last set are the script source.</p>

         </dd>

        </dl></li>

       <li>

        <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">Fire a simple event</a> named <code title="event-beforescriptexecute">beforescriptexecute</code>
        that bubbles and is cancelable at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
        element.</p>

        <p>If the event is canceled, then abort these steps.</p>

       </li>

       <li>

        <p>If the script is from an external file, then increment the
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#ignore-destructive-writes-counter">ignore-destructive-writes counter</a> of the
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>. Let <var title="">neutralized doc</var> be that
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>

       </li>

       <li>

        <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#create-a-script-from-a-node" title="create a script from a node">Create a
        script</a> from the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element node, using
        <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-source">the script block's source</a></var>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>
        from which the script was obtained, and <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the script
        block's type</a></var>.</p>

        <p class="note">This is where the script is compiled and
        actually executed.</p>

       </li>

       <li>

        <p>Decrement the <a href="http://www.whatwg.org/specs/web-apps/current-work/#ignore-destructive-writes-counter">ignore-destructive-writes
        counter</a> of <var title="">neutralized doc</var>, if it
        was incremented in the earlier step.</p>

       </li>

       <li>

        <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">Fire a simple event</a> named <code title="event-afterscriptexecute">afterscriptexecute</code>
        that bubbles (but is not cancelable) at the
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element.</p>

       </li>

       <li>

        <p>If the script is from an external file, <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
        event</a> named <code title="event-load">load</code> at the
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element.</p>

        <p>Otherwise, the script is internal; <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
        task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-load">load</code> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
        element.</p>

       </li>

      </ol></dd>

    </dl></li>

  </ol><p>The IDL attributes <dfn id="dom-script-src" title="dom-script-src"><code>src</code></dfn>, <dfn id="dom-script-type" title="dom-script-type"><code>type</code></dfn>, <dfn id="dom-script-charset" title="dom-script-charset"><code>charset</code></dfn>, and <dfn id="dom-script-defer" title="dom-script-defer"><code>defer</code></dfn>, each must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name.</p>

  <p>The <dfn id="dom-script-async" title="dom-script-async"><code>async</code></dfn> IDL
  attribute controls whether the element will execute asynchronously
  or not. If the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#force-async">"force-async"</a> flag is set,
  then, on getting, the <code title="dom-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-async">async</a></code>
  IDL attribute must return true, and on setting, the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#force-async">"force-async"</a> flag must first be unset, and then the
  content attribute must be removed if the IDL attribute's new value
  is false, and must be set to the empty string if the IDL attribute's
  new value is true. If the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#force-async">"force-async"</a> flag
  is <em>not</em> set, the IDL attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the
  <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> content attribute.</p>

  </div>

<!--TOPIC:DOM APIs-->
  <dl class="domintro"><dt><var title="">script</var> . <code title="dom-script-text"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-text">text</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the contents of the element, ignoring child nodes that
    aren't <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes.</p>

    <p>Can be set, to replace the element's children with the given
    value.</p>

   </dd>

  </dl><div class="impl">

  <p>The IDL attribute <dfn id="dom-script-text" title="dom-script-text"><code>text</code></dfn> must return a
  concatenation of the contents of all the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes
  that are children of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element (ignoring any
  other nodes such as comments or elements), in tree order. On
  setting, it must act the same way as the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textcontent">textContent</a></code>
  IDL attribute.</p>

  </div>
<!--TOPIC:HTML-->

  <p class="note">When inserted using the <code title="dom-document-write"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-write">document.write()</a></code> method,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements execute (typically synchronously), but
  when inserted using <code title="dom-innerHTML"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-innerhtml">innerHTML</a></code> and <code title="dom-outerHTML"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-outerhtml">outerHTML</a></code> attributes, they do not
  execute at all.</p>

  <div class="example">

   <p>In this example, two <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements are used. One
   embeds an external script, and the other includes some data.</p>

   <pre>&lt;script src="game-engine.js"&gt;&lt;/script&gt;
&lt;script type="text/x-game-map"&gt;
........U.........e
o............A....e
.....A.....AAA....e
.A..AAA...AAAAA...e
&lt;/script&gt;</pre>

   <p>The data in this case might be used by the script to generate
   the map of a video game. The data doesn't have to be used that way,
   though; maybe the map data is actually embedded in other parts of
   the page's markup, and the data block here is just used by the
   site's search engine to help users who are looking for particular
   features in their game maps.</p>

  </div>

  <div class="example">

   <p>The following sample shows how a script element can be used to
   define a function that is then used by other parts of the
   document. It also shows how a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element can be
   used to invoke script while the document is being parsed, in this
   case to initialize the form's output.</p>

   <pre>&lt;script&gt;
 function calculate(form) {
   var price = 52000;
   if (form.elements.brakes.checked)
     price += 1000;
   if (form.elements.radio.checked)
     price += 2500;
   if (form.elements.turbo.checked)
     price += 5000;
   if (form.elements.sticker.checked)
     price += 250;
   form.elements.result.value = price;
 }
&lt;/script&gt;
&lt;form name="pricecalc" onsubmit="return false" onchange="calculate(this)"&gt;
 &lt;fieldset&gt;
  &lt;legend&gt;Work out the price of your car&lt;/legend&gt;
  &lt;p&gt;Base cost: £52000.&lt;/p&gt;
  &lt;p&gt;Select additional options:&lt;/p&gt;
  &lt;ul&gt;
   &lt;li&gt;&lt;label&gt;&lt;input type=checkbox name=brakes&gt; Ceramic brakes (£1000)&lt;/label&gt;&lt;/li&gt;
   &lt;li&gt;&lt;label&gt;&lt;input type=checkbox name=radio&gt; Satellite radio (£2500)&lt;/label&gt;&lt;/li&gt;
   &lt;li&gt;&lt;label&gt;&lt;input type=checkbox name=turbo&gt; Turbo charger (£5000)&lt;/label&gt;&lt;/li&gt;
   &lt;li&gt;&lt;label&gt;&lt;input type=checkbox name=sticker&gt; "XZ" sticker (£250)&lt;/label&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;p&gt;Total: £&lt;output name=result&gt;&lt;/output&gt;&lt;/p&gt;
 &lt;/fieldset&gt;
 &lt;script&gt;
  calculate(document.forms.pricecalc);
 &lt;/script&gt;
&lt;/form&gt;</pre>

  </div>



  <h5 id="scriptingLanguages"><span class="secno">4.3.1.1 </span>Scripting languages</h5>

  <div class="impl">

  <p>A user agent is said to <dfn id="support-the-scripting-language">support the scripting language</dfn>
  if <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-block's-type">the script block's type</a></var> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
  case-insensitive</a> match for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> string
  of a scripting language that the user agent implements.</p>

  </div>

  <p>The following lists some <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> strings and the
  languages to which they refer:</p>

  <dl><dt>"<code>application/ecmascript</code>"</dt>
   <dt>"<code>application/javascript</code>"</dt>
   <dt>"<code>application/x-ecmascript</code>"</dt>
   <dt>"<code>application/x-javascript</code>"</dt>
   <dt>"<code>text/ecmascript</code>"</dt>
   <dt>"<code>text/javascript</code>"</dt>
   <dt>"<code>text/javascript1.0</code>"</dt>
   <dt>"<code>text/javascript1.1</code>"</dt>
   <dt>"<code>text/javascript1.2</code>"</dt>
   <dt>"<code>text/javascript1.3</code>"</dt>
   <dt>"<code>text/javascript1.4</code>"</dt>
   <dt>"<code>text/javascript1.5</code>"</dt>
   <dt>"<code>text/jscript</code>"</dt>
   <dt>"<code>text/livescript</code>"</dt>
   <dt>"<code>text/x-ecmascript</code>"</dt>
   <dt>"<code>text/x-javascript</code>"</dt>
   <dd>JavaScript. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsECMA262">[ECMA262]</a></dd>

   <dt>"<code>text/javascript;e4x=1</code>"</dt>
   <dd>JavaScript with ECMAScript for XML. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsECMA357">[ECMA357]</a></dd>

  </dl><div class="impl">

  <p>User agents may support other <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type" title="MIME type">MIME
  types</a> and other languages.</p>

  <p>The following <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type" title="MIME type">MIME types</a> must not
  be interpreted as scripting languages:</p>

  <ul class="brief"><li>"<code>text/plain</code>"
   </li><li>"<code>text/xml</code>"
   <!--<li>"<code>text/html</code>"-->
   </li><li>"<code>application/octet-stream</code>"
   </li><li>"<code>application/xml</code>"
   <!--<li>"<code>application/xhtml+xml</code>"-->
   <!--<li>"<code>image/svg+xml</code>"-->

   <!-- the commented-out ones aren't listed here because they
   couldn't sanely be interpreted as a scripting language anyway:
   they're defined to be something else. I just don't want this to
   devolve into a list of every non-scripting type in existence. -->

  </li></ul><p class="note">These types are explicitly listed here because they
  are poorly-defined types that are nonetheless likely to be used as
  formats for data blocks, and it would be problematic if they were
  suddenly to be interpreted as script by a user agent.</p>

  <!-- this paragraph is also present in the <style> section -->
  <p>When examining types to determine if they support the language,
  user agents must not ignore unknown MIME parameters — types
  with unknown parameters must be assumed to be unsupported. The <code title="">charset</code> parameter must be treated as an unknown
  parameter for the purpose of comparing <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type" title="MIME type">MIME
  types</a> here.</p>

  </div>


  <h5 id="restrictions-for-contents-of-script-elements"><span class="secno">4.3.1.2 </span><dfn title="script content restrictions">Restrictions for contents of <code>script</code> elements</dfn></h5>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textcontent">textContent</a></code> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element
  must match the <code title="">script</code> production in the
  following ABNF, the character set for which is Unicode. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsABNF">[ABNF]</a></p>

  <pre>script        = data1 *( escape [ script-start data3 ] "--&gt;" data1 ) [ escape ]
escape        = "&lt;!--" data2 *( script-start data3 script-end data2 )

data1         = &lt;any string that doesn't contain a substring that matches not-data1&gt;
not-data1     = <!-- script-end / -->"&lt;!--"             <!-- the script-end is redundant here since it would close the element -->

data2         = &lt;any string that doesn't contain a substring that matches not-data2&gt;
not-data2     = <!-- script-end / -->script-start / "--&gt;"  <!-- the script-end is redundant here since it would close the element -->

data3         = &lt;any string that doesn't contain a substring that matches not-data3&gt;
not-data3     = script-end / "--&gt;"

script-start  = lt       s c r i p t tag-end
script-end    = lt slash s c r i p t tag-end

lt            =  %x003C ; U+003C LESS-THAN SIGN character (&lt;)
slash         =  %x002F ; U+002F SOLIDUS character (/)

s             =  %x0053 ; U+0053 LATIN CAPITAL LETTER S
s             =/ %x0073 ; U+0073 LATIN SMALL LETTER S
c             =  %x0043 ; U+0043 LATIN CAPITAL LETTER C
c             =/ %x0063 ; U+0063 LATIN SMALL LETTER C
r             =  %x0052 ; U+0052 LATIN CAPITAL LETTER R
r             =/ %x0072 ; U+0072 LATIN SMALL LETTER R
i             =  %x0049 ; U+0049 LATIN CAPITAL LETTER I
i             =/ %x0069 ; U+0069 LATIN SMALL LETTER I
p             =  %x0050 ; U+0050 LATIN CAPITAL LETTER P
p             =/ %x0070 ; U+0070 LATIN SMALL LETTER P
t             =  %x0054 ; U+0054 LATIN CAPITAL LETTER T
t             =/ %x0074 ; U+0074 LATIN SMALL LETTER T

tag-end       =  %x0009 ; U+0009 CHARACTER TABULATION (tab)
tag-end       =/ %x000A ; U+000A LINE FEED (LF)
tag-end       =/ %x000C ; U+000C FORM FEED (FF)
tag-end       =/ %x0020 ; U+0020 SPACE
tag-end       =/ %x002F ; U+002F SOLIDUS (/)
tag-end       =/ %x003E ; U+003E GREATER-THAN SIGN (&gt;)</pre>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element contains <a href="http://www.whatwg.org/specs/web-apps/current-work/#inline-documentation-for-external-scripts">script
  documentation</a>, there are further restrictions on the contents
  of the element, as described in the section below.</p>


  <h5 id="inline-documentation-for-external-scripts"><span class="secno">4.3.1.3 </span><dfn title="script documentation">Inline documentation for external scripts</dfn></h5>

  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element's <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute is specified, then the
  contents of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element, if any, must be such
  that the value of the <code title="dom-script-text"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-text">text</a></code> IDL
  attribute, which is derived from the element's contents, matches the
  <code title="">documentation</code> production in the following
  ABNF, the character set for which is Unicode. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsABNF">[ABNF]</a></p>

  <pre>documentation = *( *( space / tab / comment ) [ line-comment ] newline )
comment       = slash star *( not-star / star not-slash ) 1*star slash
line-comment  = slash slash *not-newline

; characters
tab           = %x0009 ; U+0009 CHARACTER TABULATION (tab)
newline       = %x000A ; U+000A LINE FEED (LF)
space         = %x0020 ; U+0020 SPACE
star          = %x002A ; U+002A ASTERISK (*)
slash         = %x002F ; U+002F SOLIDUS (/)
not-newline   = %x0000-0009 / %x000B-10FFFF
                ; a <a href="http://www.whatwg.org/specs/web-apps/current-work/#unicode-character">Unicode character</a> other than U+000A LINE FEED (LF)
not-star      = %x0000-0029 / %x002B-10FFFF
                ; a <a href="http://www.whatwg.org/specs/web-apps/current-work/#unicode-character">Unicode character</a> other than U+002A ASTERISK (*)
not-slash     = %x0000-002E / %x0030-10FFFF
                ; a <a href="http://www.whatwg.org/specs/web-apps/current-work/#unicode-character">Unicode character</a> other than U+002F SOLIDUS (/)</pre>

  <p class="note">This corresponds to putting the contents of the
  element in JavaScript comments.</p>

  <p class="note">This requirement is in addition to the earlier
  restrictions on the syntax of contents of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
  elements.</p>

  <div class="example">

   <p>This allows authors to include documentation, such as license
   information or API information, inside their documents while still
   referring to external script files. The syntax is constrained so
   that authors don't accidentally include what looks like valid
   script while also providing a <code title="attr-script-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-src">src</a></code> attribute.</p>

   <pre>&lt;script src="cool-effects.js"&gt;
 // create new instances using:
 //    var e = new Effect();
 // start the effect using .play, stop using .stop:
 //    e.play();
 //    e.stop();
&lt;/script&gt;</pre>

  </div>


  <div class="impl">

  <h5 id="scriptTagXSLT"><span class="secno">4.3.1.4 </span>Interaction of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements and XSLT</h5>

  <p><i>This section is non-normative.</i></p>

  <p>This specification does not define how XSLT interacts with the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element (or, indeed, how XSLT processing
  triggers the <a href="http://www.whatwg.org/specs/web-apps/current-work/#stop-parsing">stop parsing</a> steps, how it interacts with
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigation</a> algorithm, or how it
  fits in with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a>). However, in the absence
  of another specification actually defining this, here are some
  guidelines for implementors, based on existing implementations:</p>

  <ul><li><p>When an XSLT transformation program is triggered by an <code title="">&lt;?xml-stylesheet?&gt;</code> processing instruction and
   the browser implements a direct-to-DOM transformation,
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements created by the XSLT processor need to
   be marked <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a> and run in document order
   (modulo scripts marked <code title="attr-script-defer"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-defer">defer</a></code>
   or <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code>), asynchronously
   while the transformation is occurring.</p></li>

   <li><p>The <code title="dom-XSLTProcessor-transformToDocument">XSLTProcessor.transformToDocument()</code>
   method adds elements to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that is not in a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>, and, accordingly, any
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements they create need to have their
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#already-started">"already started"</a> flag set in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#prepare-a-script">prepare a
   script</a> algorithm and never get executed (<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-bc-noscript" title="concept-bc-noscript">scripting is disabled</a>). Such
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements still need to be marked
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a>, though, such that their <code title="dom-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-script-async">async</a></code> IDL attribute will return
   false in the absence of an <code title="attr-script-async"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async">async</a></code> content attribute.</p></li>

   <li><p>The <code title="dom-XSLTProcessor-transformToFragment">XSLTProcessor.transformToFragment()</code>
   method needs to create a fragment that is equivalent to one built
   manually by creating the elements using <code title="dom-document-createElementNS"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-createelementns">document.createElementNS()</a></code>.
   For instance, it needs to create <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements that
   aren't <a href="http://www.whatwg.org/specs/web-apps/current-work/#parser-inserted">"parser-inserted"</a> and that don't have their
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#already-started">"already started"</a> flag set, so that they will execute
   when the fragment is inserted into a document.</p></li>

  </ul><p>The main distinction between the first two cases and the last
  case is that the first two operate on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>s and the
  last operates on a fragment.</p>

  </div>



  <h4 id="the-noscript-element"><span class="secno">4.3.2 </span>The <dfn><code>noscript</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#metadata-content">Metadata content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>In a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element of an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents" title="HTML documents">HTML document</a>, if there are no ancestor <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> elements.</dd>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a>, if there are no ancestor <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>When <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-noscript" title="concept-n-noscript">scripting is disabled</a>, in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element: in any order, zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code> elements, zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code> elements, and zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> elements.</dd>
   <dd>When <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-noscript" title="concept-n-noscript">scripting is disabled</a>, not in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element: <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a>, but there must be no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element descendants.</dd>
   <dd>Otherwise: text that conforms to the requirements given in the prose.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> nothing
  if <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-script" title="concept-n-script">scripting is enabled</a>, and
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> its children if <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-noscript" title="concept-n-noscript">scripting is disabled</a>. It is used
  to present different markup to user agents that support scripting
  and those that don't support scripting, by affecting how the
  document is parsed.</p>

  <p>When used in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a>, the allowed content
  model is as follows:</p>

  <dl><dt>In a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element, if <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-noscript" title="concept-n-noscript">scripting is disabled</a> for the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element</dt>

   <dd><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element must contain only
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code>
   elements.</p></dd>

   <dt>In a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> element, if <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-script" title="concept-n-script">scripting is enabled</a> for the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element</dt>

   <dd><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element must contain only text,
   except that invoking the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-fragment-parsing-algorithm">HTML fragment parsing
   algorithm</a> <!-- (which disables <script> execution) --> with
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element as the <var title="concept-frag-parse-context"><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-frag-parse-context">context</a></var> element and the
   text contents as the <var title="">input</var> must result in a
   list of nodes that consists only of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">link</a></code>,
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-style-element">style</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> elements that would be
   conforming if they were children of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code>
   element, and no <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-error" title="parse error">parse
   errors</a>.</p></dd>

   <dt>Outside of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> elements, if <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-noscript" title="concept-n-noscript">scripting is disabled</a> for the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element</dt>

   <dd><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element's content model is
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a>, with the additional restriction that a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element must not have a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code>
   element as an ancestor (that is, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> can't be
   nested).</p></dd>

   <dt>Outside of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-head-element">head</a></code> elements, if <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-script" title="concept-n-script">scripting is enabled</a> for the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element</dt>

   <dd>

    <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element must contain only text,
    except that the text must be such that running the following
    algorithm results in a conforming document with no
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> elements and no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code>
    elements, and such that no step in the algorithm causes an
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> to flag a <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-error">parse error</a>:</p>

    <ol><li>Remove every <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> element from the
     document.</li>

     <li>Make a list of every <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element in the
     document. For every <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element in that list,
     perform the following steps:

      <ol><li>Let the <var title="">parent element</var> be the parent
       element of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element.</li>

       <li>Take all the children of the <var title="">parent element</var>
       that come before the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element, and call these
       elements <var title="">the before children</var>.</li>

       <li>Take all the children of the <var title="">parent element</var>
       that come <em>after</em> the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element, and
       call these elements <var title="">the after children</var>.</li>

       <li>Let <var title="">s</var> be the concatenation of all the
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node children of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code>
       element.</li>

       <li>Set the <code title="dom-innerHTML"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-innerhtml">innerHTML</a></code>
       attribute of the <var title="">parent element</var> to the value
       of <var title="">s</var>. (This, as a side-effect, causes the
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element to be removed from the
       document.)</li>

       <li>Insert <var title="">the before children</var> at the start of
       the <var title="">parent element</var>, preserving their original
       relative order.</li>

       <li>Insert <var title="">the after children</var> at the end of the
       <var title="">parent element</var>, preserving their original
       relative order.</li>

      </ol></li>

    </ol></dd>

  </dl><p class="note">All these contortions are required because, for
  historical reasons, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element is handled
  differently by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> based on whether <a href="http://www.whatwg.org/specs/web-apps/current-work/#scripting-flag" title="scripting flag">scripting was enabled or not</a> when the
  parser was invoked.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element must not be used in <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML
  documents</a>.</p>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element is only effective
  in <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">the HTML syntax</a>, it has no effect in <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xhtml-syntax">the XHTML
  syntax</a>. This is because the way it works is by essentially
  "turning off" the parser when scripts are enabled, so that the
  contents of the element are treated as pure text and not as real
  elements. XML does not define a mechanism by which to do this.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element has no other requirements. In
  particular, children of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element are not
  exempt from <a href="http://www.whatwg.org/specs/web-apps/current-work/#form-submission">form submission</a>, scripting, and so forth,
  even when <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-script" title="concept-n-script">scripting is enabled</a>
  for the element.</p>

  </div>

  <div class="example">

   <p>In the following example, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element is
   used to provide fallback for a script.</p>

   <pre>&lt;form action="calcSquare.php"&gt;
 &lt;p&gt;
  &lt;label for=x&gt;Number&lt;/label&gt;:
  &lt;input id="x" name="x" type="number"&gt;
 &lt;/p&gt;
 &lt;script&gt;
  var x = document.getElementById('x');
  var output = document.createElement('p');
  output.textContent = 'Type a number; it will be squared right then!';
  x.form.appendChild(output);
  x.form.onsubmit = function () { return false; }
  x.oninput = function () {
    var v = x.valueAsNumber;
    output.textContent = v + ' squared is ' + v * v;
  };
 &lt;/script&gt;
 &lt;noscript&gt;
  &lt;input type=submit value="Calculate Square"&gt;
 &lt;/noscript&gt;
&lt;/form&gt;</pre>

   <p>When script is disabled, a button appears to do the calculation
   on the server side. When script is enabled, the value is computed
   on-the-fly instead.</p>

   <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> element is a blunt
   instrument. Sometimes, scripts might be enabled, but for some
   reason the page's script might fail. For this reason, it's
   generally better to avoid using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code>, and to
   instead design the script to change the page from being a
   scriptless page to a scripted page on the fly, as in the next
   example:</p>

   <pre>&lt;form action="calcSquare.php"&gt;
 &lt;p&gt;
  &lt;label for=x&gt;Number&lt;/label&gt;:
  &lt;input id="x" name="x" type="number"&gt;
 &lt;/p&gt;
 <strong>&lt;input id="submit" type=submit value="Calculate Square"&gt;</strong>
 &lt;script&gt;
  var x = document.getElementById('x');
  var output = document.createElement('p');
  output.textContent = 'Type a number; it will be squared right then!';
  x.form.appendChild(output);
  x.form.onsubmit = function () { return false; }
  x.oninput = function () {
    var v = x.valueAsNumber;
    output.textContent = v + ' squared is ' + v * v;
  };
<strong>  var submit = document.getElementById('submit');
  submit.parentNode.removeChild(submit);</strong>
 &lt;/script&gt;
&lt;/form&gt;</pre>

   <p>The above technique is also useful in XHTML, since
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-noscript-element">noscript</a></code> is not supported in <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xhtml-syntax">the XHTML
   syntax</a>.</p>

  </div>



  <h3 id="sections"><span class="secno">4.4 </span>Sections</h3>

  <h4 id="the-body-element"><span class="secno">4.4.1 </span>The <dfn><code>body</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">Sectioning root</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As the second element in an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="handler-window-onafterprint"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onafterprint">onafterprint</a></code></dd>
   <dd><code title="handler-window-onbeforeprint"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onbeforeprint">onbeforeprint</a></code></dd>
   <dd><code title="handler-window-onbeforeunload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onbeforeunload">onbeforeunload</a></code></dd>
   <dd><code title="handler-window-onblur"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onblur">onblur</a></code></dd>
   <dd><code title="handler-window-onerror"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onerror">onerror</a></code></dd>
   <dd><code title="handler-window-onfocus"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onfocus">onfocus</a></code></dd>
   <dd><code title="handler-window-onhashchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onhashchange">onhashchange</a></code></dd>
   <dd><code title="handler-window-onload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onload">onload</a></code></dd>
   <dd><code title="handler-window-onmessage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onmessage">onmessage</a></code></dd>
   <dd><code title="handler-window-onoffline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onoffline">onoffline</a></code></dd>
   <dd><code title="handler-window-ononline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-ononline">ononline</a></code></dd>
   <dd><code title="handler-window-onpagehide"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onpagehide">onpagehide</a></code></dd>
   <dd><code title="handler-window-onpageshow"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onpageshow">onpageshow</a></code></dd>
   <dd><code title="handler-window-onpopstate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onpopstate">onpopstate</a></code></dd>
   <dd><code title="handler-window-onresize"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onresize">onresize</a></code></dd>
   <dd><code title="handler-window-onscroll"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onscroll">onscroll</a></code></dd>
   <dd><code title="handler-window-onstorage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onstorage">onstorage</a></code></dd>
   <dd><code title="handler-window-onunload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onunload">onunload</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlbodyelement">HTMLBodyElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onafterprint" title="handler-window-onafterprint">onafterprint</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onbeforeprint" title="handler-window-onbeforeprint">onbeforeprint</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onbeforeunload" title="handler-window-onbeforeunload">onbeforeunload</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onblur" title="handler-window-onblur">onblur</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onerror" title="handler-window-onerror">onerror</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onfocus" title="handler-window-onfocus">onfocus</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onhashchange" title="handler-window-onhashchange">onhashchange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onload" title="handler-window-onload">onload</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onmessage" title="handler-window-onmessage">onmessage</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onoffline" title="handler-window-onoffline">onoffline</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-ononline" title="handler-window-ononline">ononline</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onpopstate" title="handler-window-onpopstate">onpopstate</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onpagehide" title="handler-window-onpagehide">onpagehide</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onpageshow" title="handler-window-onpageshow">onpageshow</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onresize" title="handler-window-onresize">onresize</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onscroll" title="handler-window-onscroll">onscroll</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onstorage" title="handler-window-onstorage">onstorage</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onunload" title="handler-window-onunload">onunload</a>;
};</pre>
</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the main
  content of the document.</p>

  <p>In conforming documents, there is only one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code>
  element. The <code title="dom-document-body"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-document-body">document.body</a></code>
  IDL attribute provides scripts with easy access to a document's
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element.</p>

  <div class="impl">

  <p class="note">Some DOM operations (for example, parts of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dnd">drag and drop</a> model) are defined in terms of "<a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the
  body element</a>". This refers to a particular element in the
  DOM, as per the definition of the term, and not any arbitrary
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element.</p>

  </div>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element exposes as <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-content-attributes">event handler
  content attributes</a> a number of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers">event
  handlers</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code> object. It also mirrors
  their <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-idl-attributes">event handler IDL attributes</a>.</p>

  <p>The <code title="handler-window-onblur"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onblur">onblur</a></code>, <code title="handler-window-onerror"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onerror">onerror</a></code>, <code title="handler-window-onfocus"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onfocus">onfocus</a></code>, <code title="handler-window-onload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onload">onload</a></code>, and <code title="handler-window-onscroll"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onscroll">onscroll</a></code> <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers">event
  handlers</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code> object, exposed on the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element, shadow the generic <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers">event
  handlers</a> with the same names normally supported by <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML
  elements</a>.</p>

  <p class="example">Thus, for example, a bubbling <code title="event-error">error</code> event dispatched on a child of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body element</a> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> would first
  trigger the <code title="handler-onerror"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-onerror">onerror</a></code> <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-content-attributes">event
  handler content attributes</a> of that element, then that of the
  root <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> element, and only <em>then</em> would it
  trigger the <code title="handler-window-onerror"><a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-window-onerror">onerror</a></code>
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-content-attributes" title="event handler content attributes">event handler content
  attribute</a> on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element. This is because
  the event would bubble from the target, to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code>, to
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code>, to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, to the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code>, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers" title="event handlers">event
  handler</a> on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> is watching the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code> not the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code>. A regular event
  listener attached to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> using <code title="">addEventListener()</code>, however, would be run when the
  event bubbled through the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> and not when it reaches
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code> object.</p>

  <div class="example">

   <p>This page updates an indicator to show whether or not the user
   is online:</p>

   <pre>&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Online or offline?&lt;/title&gt;
  &lt;script&gt;
   function update(online) {
     document.getElementById('status').textContent =
       online ? 'Online' : 'Offline';
   }
  &lt;/script&gt;
 &lt;/head&gt;
 &lt;body ononline="update(true)"
       onoffline="update(false)"
       onload="update(navigator.onLine)"&gt;
  &lt;p&gt;You are: &lt;span id="status"&gt;(Unknown)&lt;/span&gt;&lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  </div>



  <h4 id="the-section-element"><span class="secno">4.4.2 </span>The <dfn><code>section</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">Sectioning content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a
  generic section of a document or application. A section, in this
  context, is a thematic grouping of content, typically with a
  heading.</p>

  <p class="example">Examples of sections would be chapters, the
  various tabbed pages in a tabbed dialog box, or the numbered
  sections of a thesis. A Web site's home page could be split into
  sections for an introduction, news items, and contact
  information.</p>

  <p class="note">Authors are encouraged to use the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element instead of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code>
  element when it would make sense to syndicate the contents of the
  element.</p>

  <p class="note" id="use-div-for-wrappers">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code>
  element is not a generic container element. When an element is
  needed only for styling purposes or as a convenience for scripting,
  authors are encouraged to use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> element instead.
  A general rule is that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code> element is
  appropriate only if the element's contents would be listed
  explicitly in the document's <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a>.</p>

  <div class="example">

   <p>In the following example, we see an article (part of a larger
   Web page) about apples, containing two short sections.</p>

   <pre>&lt;article&gt;
 &lt;hgroup&gt;
  &lt;h1&gt;Apples&lt;/h1&gt;
  &lt;h2&gt;Tasty, delicious fruit!&lt;/h2&gt;
 &lt;/hgroup&gt;
 &lt;p&gt;The apple is the pomaceous fruit of the apple tree.&lt;/p&gt;
 &lt;section&gt;
  &lt;h1&gt;Red Delicious&lt;/h1&gt;
  &lt;p&gt;These bright red apples are the most common found in many
  supermarkets.&lt;/p&gt;
 &lt;/section&gt;
 &lt;section&gt;
  &lt;h1&gt;Granny Smith&lt;/h1&gt;
  &lt;p&gt;These juicy, green apples make a great filling for
  apple pies.&lt;/p&gt;
 &lt;/section&gt;
&lt;/article&gt;</pre>

   <p>Notice how the use of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code> means that the author
   can use <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> elements throughout, without having to
   worry about whether a particular section is at the top level, the
   second level, the third level, and so on.</p>

  </div>

  <div class="example">

   <p>Here is a graduation programme with two sections, one for the
   list of people graduating, and one for the description of the
   ceremony.</p>

   <pre>&lt;!DOCTYPE Html&gt;
&lt;Html
 &gt;&lt;Head
   &gt;&lt;Title
     &gt;Graduation Ceremony Summer 2022&lt;/Title
   &gt;&lt;/Head
 &gt;&lt;Body
   &gt;&lt;H1
     &gt;Graduation&lt;/H1
   &gt;&lt;Section
     &gt;&lt;H1
       &gt;Ceremony&lt;/H1
     &gt;&lt;P
       &gt;Opening Procession&lt;/P
     &gt;&lt;P
       &gt;Speech by Validactorian&lt;/P
     &gt;&lt;P
       &gt;Speech by Class President&lt;/P
     &gt;&lt;P
       &gt;Presentation of Diplomas&lt;/P
     &gt;&lt;P
       &gt;Closing Speech by Headmaster&lt;/P
   &gt;&lt;/Section
   &gt;&lt;Section
     &gt;&lt;H1
       &gt;Graduates&lt;/H1
     &gt;&lt;Ul
       &gt;&lt;Li
         &gt;Molly Carpenter&lt;/Li
       &gt;&lt;Li
         &gt;Anastasia Luccio&lt;/Li
       &gt;&lt;Li
         &gt;Ebenezar McCoy&lt;/Li
       &gt;&lt;Li
         &gt;Karrin Murphy&lt;/Li
       &gt;&lt;Li
         &gt;Thomas Raith&lt;/Li
       &gt;&lt;Li
         &gt;Susan Rodriguez&lt;/Li
     &gt;&lt;/Ul
   &gt;&lt;/Section
 &gt;&lt;/Body
&gt;&lt;/Html&gt;</pre>

  </div>

  <div class="example">

   <p>In this example, a book author has marked up some sections as
   chapters and some as appendices, and uses CSS to style the headers
   in these two classes of section differently. The whole book is
   wrapped in an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element as part of an even
   larger document containing other books.</p>

   <pre>&lt;article class="book"&gt;
 &lt;style&gt;
  section { border: double medium; margin: 2em; }
  section.chapter h1 { font: 2em Roboto, Helvetica Neue, sans-serif; }
  section.appendix h1 { font: small-caps 2em Roboto, Helvetica Neue, sans-serif; }
 &lt;/style&gt;
 &lt;header&gt;
  &lt;hgroup&gt;
   &lt;h1&gt;My Book&lt;/h1&gt;
   &lt;h2&gt;A sample with not much content&lt;/h2&gt;
  &lt;/hgroup&gt;
  &lt;p&gt;&lt;small&gt;Published by Dummy Publicorp Ltd.&lt;/small&gt;&lt;/p&gt;
 &lt;/header&gt;
 &lt;section class="chapter"&gt;
  &lt;h1&gt;My First Chapter&lt;/h1&gt;
  &lt;p&gt;This is the first of my chapters. It doesn't say much.&lt;/p&gt;
  &lt;p&gt;But it has two paragraphs!&lt;/p&gt;
 &lt;/section&gt;
 &lt;section class="chapter"&gt;
  &lt;h1&gt;It Continutes: The Second Chapter&lt;/h1&gt;
  &lt;p&gt;Bla dee bla, dee bla dee bla. Boom.&lt;/p&gt;
 &lt;/section&gt;
 &lt;section class="chapter"&gt;
  &lt;h1&gt;Chapter Three: A Further Example&lt;/h1&gt;
  &lt;p&gt;It's not like a battle between brightness and earthtones would go
  unnoticed.&lt;/p&gt;
  &lt;p&gt;But it might ruin my story.&lt;/p&gt;
 &lt;/section&gt;
 &lt;section class="appendix"&gt;
  &lt;h1&gt;Appendix A: Overview of Examples&lt;/h1&gt;
  &lt;p&gt;These are demonstrations.&lt;/p&gt;
 &lt;/section&gt;
 &lt;section class="appendix"&gt;
  &lt;h1&gt;Appendix B: Some Closing Remarks&lt;/h1&gt;
  &lt;p&gt;Hopefully this long example shows that you &lt;em&gt;can&lt;/em&gt; style
  sections, so long as they are used to indicate actual sections.&lt;/p&gt;
 &lt;/section&gt;
&lt;/article&gt;</pre>

  </div>



  <h4 id="the-nav-element"><span class="secno">4.4.3 </span>The <dfn><code>nav</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">Sectioning content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a section of
  a page that links to other pages or to parts within the page: a
  section with navigation links.</p>

  <p class="note">Not all groups of links on a page need to be in a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code> element — the element is primarily intended
  for sections that consist of major navigation blocks. In particular,
  it is common for footers to have a short list of links to various
  pages of a site, such as the terms of service, the home page, and a
  copyright page. The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element alone is sufficient
  for such cases; while a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code> element can be used in such
  cases, it is usually unnecessary.</p>

  <p class="note">User agents (such as screen readers) that are
  targeted at users who can benefit from navigation information being
  omitted in the initial rendering, or who can benefit from navigation
  information being immediately available, can use this element as a
  way to determine what content on the page to initially skip and/or
  provide on request.</p>

  <div class="example">

   <p>In the following example, the page has several places where
   links are present, but only one of those places is considered a
   navigation section.</p>

   <pre>&lt;body itemscope itemtype="http://schema.org/Blog"&gt;
 &lt;header&gt;
  &lt;h1&gt;Wake up sheeple!&lt;/h1&gt;
  &lt;p&gt;&lt;a href="news.html"&gt;News&lt;/a&gt; -
     &lt;a href="blog.html"&gt;Blog&lt;/a&gt; -
     &lt;a href="forums.html"&gt;Forums&lt;/a&gt;&lt;/p&gt;
  &lt;p&gt;Last Modified: &lt;span itemprop="dateModified"&gt;2009-04-01&lt;/span&gt;&lt;/p&gt;
  &lt;nav&gt;
   &lt;h1&gt;Navigation&lt;/h1&gt;
   &lt;ul&gt;
    &lt;li&gt;&lt;a href="articles.html"&gt;Index of all articles&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="today.html"&gt;Things sheeple need to wake up for today&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="successes.html"&gt;Sheeple we have managed to wake&lt;/a&gt;&lt;/li&gt;
   &lt;/ul&gt;
  &lt;/nav&gt;
 &lt;/header&gt;
 &lt;div&gt;
  &lt;article itemprop="blogPosts" itemscope itemtype="http://schema.org/BlogPosting"&gt;
   &lt;header&gt;
    &lt;h1 itemprop="headline"&gt;My Day at the Beach&lt;/h1&gt;
   &lt;/header&gt;
   &lt;div itemprop="articleBody"&gt;
    &lt;p&gt;Today I went to the beach and had a lot of fun.&lt;/p&gt;
    <em>...more content...</em>
   &lt;/div&gt;
   &lt;footer&gt;
    &lt;p&gt;Posted &lt;time itemprop="datePublished" datetime="2009-10-10"&gt;Thursday&lt;/time&gt;.&lt;/p&gt;
   &lt;/footer&gt;
  &lt;/article&gt;
  <em>...more blog posts...</em>
 &lt;/div&gt;
 &lt;footer&gt;
  &lt;p&gt;Copyright ©
   &lt;span itemprop="copyrightYear"&gt;2010&lt;/span&gt;
   &lt;span itemprop="copyrightHolder"&gt;The Example Company&lt;/span&gt;
  &lt;/p&gt;
  &lt;p&gt;&lt;a href="about.html"&gt;About&lt;/a&gt; -
     &lt;a href="policy.html"&gt;Privacy Policy&lt;/a&gt; -
     &lt;a href="contact.html"&gt;Contact Us&lt;/a&gt;&lt;/p&gt;
 &lt;/footer&gt;
&lt;/body&gt;</pre>

   <p>Notice the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> elements being used to wrap all the
   contents of the page other than the header and footer, and all the
   contents of the blog entry other than its header and footer.</p>

   <p>You can also see microdata annotations in the above example that
   use the schema.org vocabulary to provide the publication date and
   other metadata about the blog post.</p>

  </div>

  <div class="example">

   <p>In the following example, there are two <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code>
   elements, one for primary navigation around the site, and one for
   secondary navigation around the page itself.</p>

   <pre>&lt;body&gt;
 &lt;h1&gt;The Wiki Center Of Exampland&lt;/h1&gt;
 &lt;nav&gt;
  &lt;ul&gt;
   &lt;li&gt;&lt;a href="/"&gt;Home&lt;/a&gt;&lt;/li&gt;
   &lt;li&gt;&lt;a href="/events"&gt;Current Events&lt;/a&gt;&lt;/li&gt;
   <em>...more...</em>
  &lt;/ul&gt;
 &lt;/nav&gt;
 &lt;article&gt;
  &lt;header&gt;
   &lt;h1&gt;Demos in Exampland&lt;/h1&gt;
   &lt;p&gt;Written by A. N. Other.&lt;/p&gt;
  &lt;/header&gt;
  &lt;nav&gt;
   &lt;ul&gt;
    &lt;li&gt;&lt;a href="#public"&gt;Public demonstrations&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="#destroy"&gt;Demolitions&lt;/a&gt;&lt;/li&gt;
    <em>...more...</em>
   &lt;/ul&gt;
  &lt;/nav&gt;
  &lt;div&gt;
   &lt;section id="public"&gt;
    &lt;h1&gt;Public demonstrations&lt;/h1&gt;
    &lt;p&gt;<em>...more...</em>&lt;/p&gt;
   &lt;/section&gt;
   &lt;section id="destroy"&gt;
    &lt;h1&gt;Demolitions&lt;/h1&gt;
    &lt;p&gt;<em>...more...</em>&lt;/p&gt;
   &lt;/section&gt;
   <em>...more...</em>
  &lt;/div&gt;
  &lt;footer&gt;
   &lt;p&gt;&lt;a href="?edit"&gt;Edit&lt;/a&gt; | &lt;a href="?delete"&gt;Delete&lt;/a&gt; | &lt;a href="?Rename"&gt;Rename&lt;/a&gt;&lt;/p&gt;
  &lt;/footer&gt;
 &lt;/article&gt;
 &lt;footer&gt;
  &lt;p&gt;&lt;small&gt;© copyright 1998 Exampland Emperor&lt;/small&gt;&lt;/p&gt;
 &lt;/footer&gt;
&lt;/body&gt;</pre>

  </div>

  <div class="example">

   <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code> element doesn't have to contain a list, it
   can contain other kinds of content as well. In this navigation
   block, links are provided in prose:</p>

   <pre>&lt;nav&gt;
 &lt;h1&gt;Navigation&lt;/h1&gt;
 &lt;p&gt;You are on my home page. To the north lies &lt;a href="/blog"&gt;my
 blog&lt;/a&gt;, from whence the sounds of battle can be heard. To the east
 you can see a large mountain, upon which many &lt;a
 href="/school"&gt;school papers&lt;/a&gt; are littered. Far up thus mountain
 you can spy a little figure who appears to be me, desperately
 scribbling a &lt;a href="/school/thesis"&gt;thesis&lt;/a&gt;.&lt;/p&gt;
 &lt;p&gt;To the west are several exits. One fun-looking exit is labeled &lt;a
 href="http://games.example.com/"&gt;"games"&lt;/a&gt;. Another more
 boring-looking exit is labeled &lt;a
 href="http://isp.example.net/"&gt;ISP™&lt;/a&gt;.&lt;/p&gt;
 &lt;p&gt;To the south lies a dark and dank &lt;a href="/about"&gt;contacts
 page&lt;/a&gt;. Cobwebs cover its disused entrance, and at one point you
 see a rat run quickly out of the page.&lt;/p&gt;
&lt;/nav&gt;</pre>

  </div>


  <h4 id="the-article-element"><span class="secno">4.4.4 </span>The <dfn><code>article</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">Sectioning content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a
  self-contained composition in a document, page, application, or site
  and that is, in principle, independently distributable or reusable,
  e.g. in syndication. This could be a forum post, a magazine or
  newspaper article, a blog entry, a user-submitted comment, an
  interactive widget or gadget, or any other independent item of
  content.</p>

  <p>When <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> elements are nested, the inner
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> elements represent articles that are in
  principle related to the contents of the outer article. For
  instance, a blog entry on a site that accepts user-submitted
  comments could represent the comments as <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code>
  elements nested within the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element for the blog
  entry.</p>

  <p>Author information associated with an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code>
  element (q.v. the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element) does not apply to
  nested <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> elements.</p>

  <p class="note">When used specifically with content to be
  redistributed in syndication, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element is
  similar in purpose to the <code title="">entry</code> element in
  Atom. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsATOM">[ATOM]</a>

  </p><p class="note">The schema.org microdata vocabulary can be used to
  provide the publication date for an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code>
  element, using one of the CreativeWork subtypes.</p>

  <div class="example" id="article-example">

   <p>This example shows a blog post using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code>
   element, with some schema.org annotations:</p>

   <pre>&lt;article itemscope itemtype="http://schema.org/BlogPosting"&gt;
 &lt;header&gt;
  &lt;h1 itemprop="headline"&gt;The Very First Rule of Life&lt;/h1&gt;
  &lt;p&gt;&lt;time itemprop="datePublished" datetime="2009-10-09"&gt;3 days ago&lt;/time&gt;&lt;/p&gt;
  &lt;link itemprop="url" href="?comments=0"&gt;
 &lt;/header&gt;[
 &lt;p&gt;If there's a microphone anywhere near you, assume it's hot and
 sending whatever you're saying to the world. Seriously.&lt;/p&gt;
 &lt;p&gt;<em>...</em>&lt;/p&gt;
 &lt;footer&gt;
  &lt;a itemprop="discussionUrl" href="?comments=1"&gt;Show comments...&lt;/a&gt;
 &lt;/footer&gt;
&lt;/article&gt;</pre>

   <p>Here is that same blog post, but showing some of the comments:</p>

   <pre>&lt;article itemscope itemtype="http://schema.org/BlogPosting"&gt;
 &lt;header&gt;
  &lt;h1 itemprop="headline"&gt;The Very First Rule of Life&lt;/h1&gt;
  &lt;p&gt;&lt;time itemprop="datePublished" datetime="2009-10-09"&gt;3 days ago&lt;/time&gt;&lt;/p&gt;
  &lt;link itemprop="url" href="?comments=0"&gt;
 &lt;/header&gt;
 &lt;p&gt;If there's a microphone anywhere near you, assume it's hot and
 sending whatever you're saying to the world. Seriously.&lt;/p&gt;
 &lt;p&gt;<em>...</em>&lt;/p&gt;
 &lt;section&gt;
  &lt;h1&gt;Comments&lt;/h1&gt;
  &lt;article itemprop="comment" itemscope itemtype="http://schema.org/UserComments" id="c1"&gt;
   &lt;link itemprop="url" href="#c1"&gt;
   &lt;footer&gt;
    &lt;p&gt;Posted by: &lt;span itemprop="creator" itemscope itemtype="http://schema.org/Person"&gt;
     &lt;span itemprop="name"&gt;George Washington&lt;/span&gt;
    &lt;/span&gt;&lt;/p&gt;
    &lt;p&gt;&lt;time itemprop="commentTime" datetime="2009-10-10"&gt;15 minutes ago&lt;/time&gt;&lt;/p&gt;
   &lt;/footer&gt;
   &lt;p&gt;Yeah! Especially when talking about your lobbyist friends!&lt;/p&gt;
  &lt;/article&gt;
  &lt;article itemprop="comment" itemscope itemtype="http://schema.org/UserComments" id="c2"&gt;
   &lt;link itemprop="url" href="#c2"&gt;
   &lt;footer&gt;
    &lt;p&gt;Posted by: &lt;span itemprop="creator" itemscope itemtype="http://schema.org/Person"&gt;
     &lt;span itemprop="name"&gt;George Hammond&lt;/span&gt;
    &lt;/span&gt;&lt;/p&gt;
    &lt;p&gt;&lt;time itemprop="commentTime" datetime="2009-10-10"&gt;5 minutes ago&lt;/time&gt;&lt;/p&gt;
   &lt;/footer&gt;
   &lt;p&gt;Hey, you have the same first name as me.&lt;/p&gt;
  &lt;/article&gt;
 &lt;/section&gt;
&lt;/article&gt;</pre>

   <p>Notice the use of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> to give the information
   for each comment (such as who wrote it and when): the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element <em>can</em> appear at the start of its
   section when appropriate, such as in this case. (Using
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> in this case wouldn't be wrong either; it's
   mostly a matter of authoring preference.)</p>

  </div>




  <h4 id="the-aside-element"><span class="secno">4.4.5 </span>The <dfn><code>aside</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">Sectioning content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a section
  of a page that consists of content that is tangentially related to
  the content around the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code> element, and which could
  be considered separate from that content. Such sections are often
  represented as sidebars in printed typography.</p>

  <p>The element can be used for typographical effects like pull
  quotes or sidebars, for advertising, for groups of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code>
  elements, and for other content that is considered separate from the
  main content of the page.</p>

  <p class="note">It's not appropriate to use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code>
  element just for parentheticals, since those are part of the main
  flow of the document.</p>

  <div class="example">

   <p>The following example shows how an aside is used to mark up
   background material on Switzerland in a much longer news story on
   Europe.</p>

   <pre>&lt;aside&gt;
 &lt;h1&gt;Switzerland&lt;/h1&gt;
 &lt;p&gt;Switzerland, a land-locked country in the middle of geographic
 Europe, has not joined the geopolitical European Union, though it is
 a signatory to a number of European treaties.&lt;/p&gt;
&lt;/aside&gt;</pre>

  </div>

  <div class="example">

   <p>The following example shows how an aside is used to mark up
   a pull quote in a longer article.</p>

   <pre>...

&lt;p&gt;He later joined a large company, continuing on the same work.
&lt;q&gt;I love my job. People ask me what I do for fun when I'm not at
work. But I'm paid to do my hobby, so I never know what to
answer. Some people wonder what they would do if they didn't have to
work... but I know what I would do, because I was unemployed for a
year, and I filled that time doing exactly what I do now.&lt;/q&gt;&lt;/p&gt;

&lt;aside&gt;
 &lt;q&gt; People ask me what I do for fun when I'm not at work. But I'm
 paid to do my hobby, so I never know what to answer. &lt;/q&gt;
&lt;/aside&gt;

&lt;p&gt;Of course his work — or should that be hobby? —
isn't his only passion. He also enjoys other pleasures.&lt;/p&gt;

...</pre>

  </div>

  <div class="example">

   <p>The following extract shows how <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code> can be used
   for blogrolls and other side content on a blog:</p>

   <pre>&lt;body&gt;
 &lt;header&gt;
  &lt;h1&gt;My wonderful blog&lt;/h1&gt;
  &lt;p&gt;My tagline&lt;/p&gt;
 &lt;/header&gt;
 &lt;aside&gt;
  &lt;!-- <em>this aside contains two sections that are tangentially related
  to the page, namely, links to other blogs, and links to blog posts
  from this blog</em> --&gt;
  &lt;nav&gt;
   &lt;h1&gt;My blogroll&lt;/h1&gt;
   &lt;ul&gt;
    &lt;li&gt;&lt;a href="http://blog.example.com/"&gt;Example Blog&lt;/a&gt;
   &lt;/ul&gt;
  &lt;/nav&gt;
  &lt;nav&gt;
   &lt;h1&gt;Archives&lt;/h1&gt;
   &lt;ol reversed&gt;
    &lt;li&gt;&lt;a href="/last-post"&gt;My last post&lt;/a&gt;
    &lt;li&gt;&lt;a href="/first-post"&gt;My first post&lt;/a&gt;
   &lt;/ol&gt;
  &lt;/nav&gt;
 &lt;/aside&gt;
 &lt;aside&gt;
  &lt;!-- <em>this aside is tangentially related to the page also, it
  contains twitter messages from the blog author</em> --&gt;
  &lt;h1&gt;Twitter Feed&lt;/h1&gt;
  &lt;blockquote cite="http://twitter.example.net/t31351234"&gt;
   I'm on vacation, writing my blog.
  &lt;/blockquote&gt;
  &lt;blockquote cite="http://twitter.example.net/t31219752"&gt;
   I'm going to go on vacation soon.
  &lt;/blockquote&gt;
 &lt;/aside&gt;
 &lt;article&gt;
  &lt;!-- <em>this is a blog post</em> --&gt;
  &lt;h1&gt;My last post&lt;/h1&gt;
  &lt;p&gt;This is my last post.&lt;/p&gt;
  &lt;footer&gt;
   &lt;p&gt;&lt;a href="/last-post" rel=bookmark&gt;Permalink&lt;/a&gt;
  &lt;/footer&gt;
 &lt;/article&gt;
 &lt;article&gt;
  &lt;!-- <em>this is also a blog post</em> --&gt;
  &lt;h1&gt;My first post&lt;/h1&gt;
  &lt;p&gt;This is my first post.&lt;/p&gt;
  &lt;aside&gt;
   &lt;!-- <em>this aside is about the blog post, since it's inside the
   &lt;article&gt; element; it would be wrong, for instance, to put the
   blogroll here, since the blogroll isn't really related to this post
   specifically, only to the page as a whole</em> --&gt;
   &lt;h1&gt;Posting&lt;/h1&gt;
   &lt;p&gt;While I'm thinking about it, I wanted to say something about
   posting. Posting is fun!&lt;/p&gt;
  &lt;/aside&gt;
  &lt;footer&gt;
   &lt;p&gt;&lt;a href="/first-post" rel=bookmark&gt;Permalink&lt;/a&gt;
  &lt;/footer&gt;
 &lt;/article&gt;
 &lt;footer&gt;
  &lt;nav&gt;
   &lt;a href="/archives"&gt;Archives&lt;/a&gt; —
   &lt;a href="/about"&gt;About me&lt;/a&gt; —
   &lt;a href="/copyright"&gt;Copyright&lt;/a&gt;
  &lt;/nav&gt;
 &lt;/footer&gt;
&lt;/body&gt;</pre>

  </div>



  <h4 id="the-h1,-h2,-h3,-h4,-h5,-and-h6-elements"><span class="secno">4.4.6 </span>The <dfn id="the-h1-element"><code>h1</code></dfn>, <dfn id="the-h2-element"><code>h2</code></dfn>, <dfn id="the-h3-element"><code>h3</code></dfn>, <dfn id="the-h4-element"><code>h4</code></dfn>, <dfn id="the-h5-element"><code>h5</code></dfn>, and <dfn id="the-h6-element"><code>h6</code></dfn> elements</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">Heading content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element.</dd>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlheadingelement">HTMLHeadingElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>These elements <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a> headings
  for their sections.</p>

  <p>The semantics and meaning of these elements are defined in the
  section on <a href="http://www.whatwg.org/specs/web-apps/current-work/#headings-and-sections">headings and sections</a>.</p>

  <p>These elements have a <dfn id="rank">rank</dfn> given by the number in
  their name. The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> element is said to have the highest
  rank, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code> element has the lowest rank, and two
  elements with the same name have equal rank.</p>

  <div class="example">

   <p>As far as their respective document outlines (their heading and
   section structures) are concerned, these two snippets are
   semantically equivalent:</p>

   <pre>&lt;body&gt;
&lt;h1&gt;Let's call it a draw(ing surface)&lt;/h1&gt;
&lt;h2&gt;Diving in&lt;/h2&gt;
&lt;h2&gt;Simple shapes&lt;/h2&gt;
&lt;h2&gt;Canvas coordinates&lt;/h2&gt;
&lt;h3&gt;Canvas coordinates diagram&lt;/h3&gt;
&lt;h2&gt;Paths&lt;/h2&gt;
&lt;/body&gt;</pre>

   <pre>&lt;body&gt;
 &lt;h1&gt;Let's call it a draw(ing surface)&lt;/h1&gt;
 &lt;section&gt;
  &lt;h1&gt;Diving in&lt;/h1&gt;
 &lt;/section&gt;
 &lt;section&gt;
  &lt;h1&gt;Simple shapes&lt;/h1&gt;
 &lt;/section&gt;
 &lt;section&gt;
  &lt;h1&gt;Canvas coordinates&lt;/h1&gt;
  &lt;section&gt;
   &lt;h1&gt;Canvas coordinates diagram&lt;/h1&gt;
  &lt;/section&gt;
 &lt;/section&gt;
 &lt;section&gt;
  &lt;h1&gt;Paths&lt;/h1&gt;
 &lt;/section&gt;
&lt;/body&gt;</pre>

   <p>Authors might prefer the former style for its terseness, or the
   latter style for its convenience in the face of heavy editing;
   which is best is purely an issue of preferred authoring style.</p>

  </div>




  <h4 id="the-hgroup-element"><span class="secno">4.4.7 </span>The <dfn><code>hgroup</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">Heading content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>One or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h3</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h4</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h5</a></code>, and/or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the
  heading of a section. The element is used to group a set of
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>–<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code> elements when the heading has
  multiple levels, such as subheadings, alternative titles, or
  taglines.</p>

  <p>For the purposes of document summaries, outlines, and the like,
  the text of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> elements is defined to be the text
  of the highest <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank" title="rank">ranked</a>
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>–<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code> element descendant of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element, if there are any such elements, and the
  first such element if there are multiple elements with that
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank">rank</a>. If there are no such elements, then the text of
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element is the empty string.</p>

  <p>Other elements of <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading content</a> in the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element indicate subheadings or subtitles.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank">rank</a> of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element is the
  rank of the highest-ranked <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>–<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code>
  element descendant of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element, if there are
  any such elements, or otherwise the same as for an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>
  element (the highest rank).</p>

  <p>The section on <a href="http://www.whatwg.org/specs/web-apps/current-work/#headings-and-sections">headings and sections</a>
  defines how <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> elements are assigned to individual
  sections.</p>

  <div class="example">

   <p>Here are some examples of valid headings. In each case, the
   emphasized text represents the text that would be used as the
   heading in an application extracting heading data and ignoring
   subheadings.</p>

   <pre>&lt;hgroup&gt;
 &lt;h1&gt;<strong>The reality dysfunction</strong>&lt;/h1&gt;
 &lt;h2&gt;Space is not the only void&lt;/h2&gt;
&lt;/hgroup&gt;</pre>

   <pre>&lt;hgroup&gt;
 &lt;h1&gt;<strong>Dr. Strangelove</strong>&lt;/h1&gt;
 &lt;h2&gt;Or: How I Learned to Stop Worrying and Love the Bomb&lt;/h2&gt;
&lt;/hgroup&gt;</pre>

  <p>The point of using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> in these examples is to
  mask the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code> element (which acts as a secondary title)
  from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> algorithm.</p><!--
  http://www.brucelawson.co.uk/2009/html-5-is-a-mess/#comment-618895
  -->

  </div>


  <h4 id="the-header-element"><span class="secno">4.4.8 </span>The <dfn><code>header</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>, but with no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> or
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element descendants.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a group
  of introductory or navigational aids.</p>

  <p class="note">A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> element is intended to usually
  contain the section's heading (an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>–<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code> element or an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element), but this is not required. The
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> element can also be used to wrap a section's
  table of contents, a search form, or any relevant logos.</p>

  <div class="example">

  <p>Here are some sample headers. This first one is for a game:</p>

   <pre>&lt;header&gt;
 &lt;p&gt;Welcome to...&lt;/p&gt;
 &lt;h1&gt;Voidwars!&lt;/h1&gt;
&lt;/header&gt;</pre>

   <p>The following snippet shows how the element can be used to mark
   up a specification's header:</p>

   <pre>&lt;header&gt;
 &lt;hgroup&gt;
  &lt;h1&gt;Scalable Vector Graphics (SVG) 1.2&lt;/h1&gt;
  &lt;h2&gt;W3C Working Draft 27 October 2004&lt;/h2&gt;
 &lt;/hgroup&gt;
 &lt;dl&gt;
  &lt;dt&gt;This version:&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="http://www.w3.org/TR/2004/WD-SVG12-20041027/"&gt;http://www.w3.org/TR/2004/WD-SVG12-20041027/&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;Previous version:&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="http://www.w3.org/TR/2004/WD-SVG12-20040510/"&gt;http://www.w3.org/TR/2004/WD-SVG12-20040510/&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;Latest version of SVG 1.2:&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="http://www.w3.org/TR/SVG12/"&gt;http://www.w3.org/TR/SVG12/&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;Latest SVG Recommendation:&lt;/dt&gt;
  &lt;dd&gt;&lt;a href="http://www.w3.org/TR/SVG/"&gt;http://www.w3.org/TR/SVG/&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;Editor:&lt;/dt&gt;
  &lt;dd&gt;Dean Jackson, W3C, &lt;a href="mailto:dean@w3.org"&gt;dean@w3.org&lt;/a&gt;&lt;/dd&gt;
  &lt;dt&gt;Authors:&lt;/dt&gt;
  &lt;dd&gt;See &lt;a href="#authors"&gt;Author List&lt;/a&gt;&lt;/dd&gt;
 &lt;/dl&gt;
 &lt;p class="copyright"&gt;&lt;a href="http://www.w3.org/Consortium/Legal/ipr-notic <em>...</em>
&lt;/header&gt;</pre>

  </div>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> element is not
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>; it doesn't introduce a new
  section.</p>

  <div class="example">

  <p>In this example, the page has a page heading given by the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> element, and two subsections whose headings are
  given by <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code> elements. The content after the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> element is still part of the last subsection
  started in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> element, because the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> element doesn't take part in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> algorithm.</p>

   <pre>&lt;body&gt;
 &lt;header&gt;
  &lt;h1&gt;Little Green Guys With Guns&lt;/h1&gt;
  &lt;nav&gt;
   &lt;ul&gt;
    &lt;li&gt;&lt;a href="/games"&gt;Games&lt;/a&gt;
    &lt;li&gt;&lt;a href="/forum"&gt;Forum&lt;/a&gt;
    &lt;li&gt;&lt;a href="/download"&gt;Download&lt;/a&gt;
   &lt;/ul&gt;
  &lt;/nav&gt;
  &lt;h2&gt;Important News&lt;/h2&gt; &lt;!-- this starts a second subsection --&gt;
  &lt;!-- this is part of the subsection entitled "Important News" --&gt;
  &lt;p&gt;To play today's games you will need to update your client.&lt;/p&gt;
  &lt;h2&gt;Games&lt;/h2&gt; &lt;!-- this starts a third subsection --&gt;
 &lt;/header&gt;
 &lt;p&gt;You have three active games:&lt;/p&gt;
 &lt;!-- this is still part of the subsection entitled "Games" --&gt;
 ...</pre>

  </div>




  <h4 id="the-footer-element"><span class="secno">4.4.9 </span>The <dfn><code>footer</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>, but with no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code> or
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element descendants.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a footer
  for its nearest ancestor <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> or
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element. A footer typically contains
  information about its section such as who wrote it, links to related
  documents, copyright data, and the like.</p>

  <p>When the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element contains entire sections,
  they <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a> appendices, indexes,
  long colophons, verbose license agreements, and other such
  content.</p>

  <p class="note">Contact information for the author or editor of a
  section belongs in an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element, possibly itself
  inside a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code>.</p>

  <p>Footers don't necessarily have to appear at the <em>end</em> of a
  section, though they usually do.</p>

  <p>When the nearest ancestor <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> or
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body
  element</a>, then it applies to the whole page.</p>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element is not
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>; it doesn't introduce a new
  section.</p>

  <div class="example">

   <p>Here is a page with two footers, one at the top and one at the
   bottom, with the same content:</p>

   <pre>&lt;body&gt;
 &lt;footer&gt;&lt;a href="../"&gt;Back to index...&lt;/a&gt;&lt;/footer&gt;
 &lt;hgroup&gt;
  &lt;h1&gt;Lorem ipsum&lt;/h1&gt;
  &lt;h2&gt;The ipsum of all lorems&lt;/h2&gt;
 &lt;/hgroup&gt;
 &lt;p&gt;A dolor sit amet, consectetur adipisicing elit, sed do eiusmod
 tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
 veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
 ea commodo consequat. Duis aute irure dolor in reprehenderit in
 voluptate velit esse cillum dolore eu fugiat nulla
 pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
 culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;
 &lt;footer&gt;&lt;a href="../"&gt;Back to index...&lt;/a&gt;&lt;/footer&gt;
&lt;/body&gt;</pre>

  </div>

  <div class="example">

   <p>Here is an example which shows the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element
   being used both for a site-wide footer and for a section
   footer.</p>

   <pre>&lt;!DOCTYPE HTML&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;TITLE&gt;The Ramblings of a Scientist&lt;/TITLE&gt;
&lt;BODY&gt;
&lt;H1&gt;The Ramblings of a Scientist&lt;/H1&gt;
&lt;ARTICLE&gt;
 &lt;H1&gt;Episode 15&lt;/H1&gt;
 &lt;VIDEO SRC="/fm/015.ogv" CONTROLS PRELOAD&gt;
  &lt;P&gt;&lt;A HREF="/fm/015.ogv"&gt;Download video&lt;/A&gt;.&lt;/P&gt;
 &lt;/VIDEO&gt;
 &lt;FOOTER&gt; &lt;!-- footer for article --&gt;
  &lt;P&gt;Published &lt;TIME DATETIME="2009-10-21T18:26-07:00"&gt;on 2009/10/21 at 6:26pm&lt;/TIME&gt;&lt;/P&gt;
 &lt;/FOOTER&gt;
&lt;/ARTICLE&gt;
&lt;ARTICLE&gt;
 &lt;H1&gt;My Favorite Trains&lt;/H1&gt;
 &lt;P&gt;I love my trains. My favorite train of all time is a Köf.&lt;/P&gt;
 &lt;P&gt;It is fun to see them pull some coal cars because they look so
 dwarfed in comparison.&lt;/P&gt;
 &lt;FOOTER&gt; &lt;!-- footer for article --&gt;
  &lt;P&gt;Published &lt;TIME DATETIME="2009-09-15T14:54-07:00"&gt;on 2009/09/15 at 2:54pm&lt;/TIME&gt;&lt;/P&gt;
 &lt;/FOOTER&gt;
&lt;/ARTICLE&gt;
&lt;FOOTER&gt; &lt;!-- site wide footer --&gt;
 &lt;NAV&gt;
  &lt;P&gt;&lt;A HREF="/credits.html"&gt;Credits&lt;/A&gt; —
     &lt;A HREF="/tos.html"&gt;Terms of Service&lt;/A&gt; —
     &lt;A HREF="/index.html"&gt;Blog Index&lt;/A&gt;&lt;/P&gt;
 &lt;/NAV&gt;
 &lt;P&gt;Copyright © 2009 Gordon Freeman&lt;/P&gt;
&lt;/FOOTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre>

  </div>

  <div class="example">

   <p>Some site designs have what is sometimes referred to as "fat
   footers" — footers that contain a lot of material, including
   images, links to other articles, links to pages for sending
   feedback, special offers... in some ways, a whole "front page" in
   the footer.</p>

   <p>This fragment shows the bottom of a page on a site with a "fat
   footer":</p>

   <pre>...
 &lt;footer&gt;
  &lt;nav&gt;
   &lt;section&gt;
    &lt;h1&gt;Articles&lt;/h1&gt;
    &lt;p&gt;&lt;img src="images/somersaults.jpeg" alt=""&gt; Go to the gym with
    our somersaults class! Our teacher Jim takes you through the paces
    in this two-part article. &lt;a href="articles/somersaults/1"&gt;Part
    1&lt;/a&gt; · &lt;a href="articles/somersaults/1"&gt;Part 2&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;img src="images/kindplus.jpeg"&gt; Tired of walking on the edge of
    a clif&lt;!-- sic --&gt;? Our guest writer Lara shows you how to bumble
    your way through the bars. &lt;a href="articles/kindplus/1"&gt;Read
    more...&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;img src="images/crisps.jpeg"&gt; The chips are down, now all
    that's left is a potato. What can you do with it? &lt;a
    href="articles/crisps/1"&gt;Read more...&lt;/a&gt;&lt;/p&gt;
   &lt;/section&gt;
   &lt;ul&gt;
    &lt;li&gt; &lt;a href="/about"&gt;About us...&lt;/a&gt;
    &lt;li&gt; &lt;a href="/feedback"&gt;Send feedback!&lt;/a&gt;
    &lt;li&gt; &lt;a href="/sitemap"&gt;Sitemap&lt;/a&gt;
   &lt;/ul&gt;
  &lt;/nav&gt;
  &lt;p&gt;&lt;small&gt;Copyright © 2015 The Snacker —
  &lt;a href="/tos"&gt;Terms of Service&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;
 &lt;/footer&gt;
&lt;/body&gt;</pre>

  </div>


  <h4 id="the-address-element"><span class="secno">4.4.10 </span>The <dfn><code>address</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>, but with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading
   content</a> descendants, no <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>
   descendants, and no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code>, or
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element descendants.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the
  contact information for its nearest <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element ancestor. If that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body
  element</a>, then the contact information applies to the document
  as a whole.</p>

  <div class="example">
   <p>For example, a page at the W3C Web site related to HTML might
   include the following contact information:</p>
   <pre>&lt;ADDRESS&gt;
 &lt;A href="../People/Raggett/"&gt;Dave Raggett&lt;/A&gt;,
 &lt;A href="../People/Arnaud/"&gt;Arnaud Le Hors&lt;/A&gt;,
 contact persons for the &lt;A href="Activity"&gt;W3C HTML Activity&lt;/A&gt;
&lt;/ADDRESS&gt;</pre>
  </div>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element must not be used to represent
  arbitrary addresses (e.g. postal addresses), unless those addresses
  are in fact the relevant contact information. (The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code>
  element is the appropriate element for marking up postal addresses
  in general.)</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element must not contain information
  other than contact information.</p>

  <div class="example">
   <p>For example, the following is non-conforming use of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element:</p>
   <pre class="bad">&lt;ADDRESS&gt;Last Modified: 1999/12/24 23:37:50&lt;/ADDRESS&gt;</pre>
  </div>

  <p>Typically, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> element would be included
  along with other information in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code> element.</p>

  <div class="impl">

  <p>The contact information for a node <var title="">node</var> is a
  collection of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> elements defined by the first
  applicable entry from the following list:</p>

  <dl class="switch"><dt>If <var title="">node</var> is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element</dt>
   <dt>If <var title="">node</var> is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element</dt>

   <dd>

    <p>The contact information consists of all the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-address-element">address</a></code> elements that have <var title="">node</var>
    as an ancestor and do not have another <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> or
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element ancestor that is a descendant of <var title="">node</var>.</p>

   </dd>

   <dt>If <var title="">node</var> has an ancestor element that is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element</dt>
   <dt>If <var title="">node</var> has an ancestor element that is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element</dt>

   <dd>

    <p>The contact information of <var title="">node</var> is the same
    as the contact information of the nearest <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> or
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> element ancestor, whichever is nearest.</p>

   </dd>

   <dt>If <var title="">node</var>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> has <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0" title="the body element">a body element</a></dt>

   <dd>

    <p>The contact information of <var title="">node</var> is the same
    as the contact information of <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body element</a> of the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>

   </dd>

   <dt>Otherwise</dt>

   <dd>

    <p>There is no contact information for <var title="">node</var>.</p>

   </dd>

  </dl><p>User agents may expose the contact information of a node to the
  user, or use it for other purposes, such as indexing sections based
  on the sections' contact information.</p>

  </div>

  <div class="example">

   <p>In this example the footer contains contact information and a
   copyright notice.</p>

   <pre>&lt;footer&gt;
 &lt;address&gt;
  For more details, contact
  &lt;a href="mailto:js@example.com"&gt;John Smith&lt;/a&gt;.
 &lt;/address&gt;
 &lt;p&gt;&lt;small&gt;© copyright 2038 Example Corp.&lt;/small&gt;&lt;/p&gt;
&lt;/footer&gt;</pre>

  </div>



  <h4 id="headings-and-sections"><span class="secno">4.4.11 </span><dfn>Headings and sections</dfn></h4>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>–<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code> elements and the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hgroup-element">hgroup</a></code> element are headings.</p>

  <p>The first element of <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading content</a> in an element
  of <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the
  heading for that section. Subsequent headings of equal or higher
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank">rank</a> start new (implied) sections, headings of lower
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank">rank</a> start implied subsections that are part of the
  previous one. In both cases, the element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the
  heading of the implied section.</p>

  <p>Certain elements are said to be <dfn id="sectioning-root" title="sectioning
  root">sectioning roots</dfn>, including <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> elements. These elements can have their own
  outlines, but the sections and headings inside these elements do not
  contribute to the outlines of their ancestors.</p>

  <!-- when updating this also update the category index -->
  <ul class="brief category-list"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element">details</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dialog-element">dialog</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-fieldset-element">fieldset</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code></li>
   <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code></li>
  </ul><!-- a root element isn't a sectioning root. This means, for
  instance, that you don't get an outline if you just have a random
  XML file with <html:h1> elements in it. Other vocabs need to define
  what their sectioning root is. --><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">Sectioning content</a> elements are always considered
  subsections of their nearest ancestor <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a>
  or their nearest ancestor element of <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning
  content</a>, whichever is nearest, regardless of what implied
  sections other headings may have created.</p>

  <div class="example">
   <p>For the following fragment:</p>
   <pre>&lt;body&gt;
 &lt;h1&gt;Foo&lt;/h1&gt;
 &lt;h2&gt;Bar&lt;/h2&gt;
 &lt;blockquote&gt;
  &lt;h3&gt;Bla&lt;/h3&gt;
 &lt;/blockquote&gt;
 &lt;p&gt;Baz&lt;/p&gt;
 &lt;h2&gt;Quux&lt;/h2&gt;
 &lt;section&gt;
  &lt;h3&gt;Thud&lt;/h3&gt;
 &lt;/section&gt;
 &lt;p&gt;Grunt&lt;/p&gt;
&lt;/body&gt;</pre>
   <p>...the structure would be:</p>
   <ol><li>
     Foo (heading of explicit <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> section, containing the "Grunt" paragraph)
     <ol><li>
       Bar (heading starting implied section, containing a block quote and the "Baz" paragraph)
      </li>
      <li>
       Quux (heading starting implied section with no content other than the heading itself)
      </li>
      <li>
       Thud (heading of explicit <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code> section)
      </li>
     </ol></li>
   </ol><p>Notice how the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code> ends the earlier implicit
   section so that a later paragraph ("Grunt") is back at the top
   level.</p>
  </div>

  <p>Sections may contain headings of any <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank">rank</a>, but
  authors are strongly encouraged to either use only <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>
  elements, or to use elements of the appropriate <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank">rank</a>
  for the section's nesting level.</p>

  <p>Authors are also encouraged to explicitly wrap sections in
  elements of <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>, instead of relying on
  the implicit sections generated by having multiple headings in one
  element of <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>.</p>

  <div class="example">
   <p>For example, the following is correct:</p>

   <pre>&lt;body&gt;
 &lt;h4&gt;Apples&lt;/h4&gt;
 &lt;p&gt;Apples are fruit.&lt;/p&gt;
 &lt;section&gt;
  &lt;h2&gt;Taste&lt;/h2&gt;
  &lt;p&gt;They taste lovely.&lt;/p&gt;
  &lt;h6&gt;Sweet&lt;/h6&gt;
  &lt;p&gt;Red apples are sweeter than green ones.&lt;/p&gt;
  &lt;h1&gt;Color&lt;/h1&gt;
  &lt;p&gt;Apples come in various colors.&lt;/p&gt;
 &lt;/section&gt;
&lt;/body&gt;</pre>

   <p>However, the same document would be more clearly expressed
   as:</p>

   <pre>&lt;body&gt;
 &lt;h1&gt;Apples&lt;/h1&gt;
 &lt;p&gt;Apples are fruit.&lt;/p&gt;
 &lt;section&gt;
  &lt;h2&gt;Taste&lt;/h2&gt;
  &lt;p&gt;They taste lovely.&lt;/p&gt;
  &lt;section&gt;
   &lt;h3&gt;Sweet&lt;/h3&gt;
   &lt;p&gt;Red apples are sweeter than green ones.&lt;/p&gt;
  &lt;/section&gt;
 &lt;/section&gt;
 &lt;section&gt;
  &lt;h2&gt;Color&lt;/h2&gt;
  &lt;p&gt;Apples come in various colors.&lt;/p&gt;
 &lt;/section&gt;
&lt;/body&gt;</pre>

   <p>Both of the documents above are semantically identical and would
   produce the same outline in compliant user agents.</p>

   <p>This third example is also semantically identical, and might be
   easier to maintain (e.g. if sections are often moved around in
   editing):</p>

   <pre>&lt;body&gt;
 &lt;h1&gt;Apples&lt;/h1&gt;
 &lt;p&gt;Apples are fruit.&lt;/p&gt;
 &lt;section&gt;
  &lt;h1&gt;Taste&lt;/h1&gt;
  &lt;p&gt;They taste lovely.&lt;/p&gt;
  &lt;section&gt;
   &lt;h1&gt;Sweet&lt;/h1&gt;
   &lt;p&gt;Red apples are sweeter than green ones.&lt;/p&gt;
  &lt;/section&gt;
 &lt;/section&gt;
 &lt;section&gt;
  &lt;h1&gt;Color&lt;/h1&gt;
  &lt;p&gt;Apples come in various colors.&lt;/p&gt;
 &lt;/section&gt;
&lt;/body&gt;</pre>

   <p>This final example would need explicit style rules to be
   rendered well in legacy browsers. Legacy browsers without CSS
   support would render all the headings as top-level headings.</p>

  </div>


  <h5 id="outlines"><span class="secno">4.4.11.1 </span>Creating an outline</h5>

  <div class="impl">

  <!-- v2 idea: It would be nice if there was a way to use this to
  autogenerate a table of contents or some such -->

  <p>This section defines an algorithm for creating an outline for a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> element or a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning
  root</a> element. It is defined in terms of a walk over the nodes
  of a DOM tree, in tree order, with each node being visited when it
  is <i>entered</i> and when it is <i>exited</i> during the walk.</p>

  </div>

  <p>The <dfn id="outline">outline</dfn> for a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>
  element or a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element consists of a list
  of one or more potentially nested <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">sections</a>. A <dfn id="concept-section" title="concept-section">section</dfn> is a container that
  corresponds to some nodes in the original DOM tree. Each section can
  have one heading associated with it, and can contain any number of
  further nested sections. <span class="impl">The algorithm for the
  outline also associates each node in the DOM tree with a particular
  section and potentially a heading.</span> (The sections in the
  outline aren't <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code> elements, though some may
  correspond to such elements — they are merely conceptual
  sections.)</p>

  <div class="example">

   <p>The following markup fragment:</p>

   <pre>&lt;body&gt;
 &lt;h1&gt;A&lt;/h1&gt;
 &lt;p&gt;B&lt;/p&gt;
 &lt;h2&gt;C&lt;/h2&gt;
 &lt;p&gt;D&lt;/p&gt;
 &lt;h2&gt;E&lt;/h2&gt;
 &lt;p&gt;F&lt;/p&gt;
&lt;/body&gt;</pre>

   <p>...results in the following outline being created for the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> node (and thus the entire document):</p>

   <ol class="brief"><li>
     <p>Section created for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> node.</p>
     <p>Associated with heading "A".</p>
     <p>Also associated with paragraph "B".</p>
     <p>Nested sections:</p>
     <ol class="brief"><li>
       <p>Section implied for first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code> element.</p>
       <p>Associated with heading "C".</p>
       <p>Also associated with paragraph "D".</p>
       <p>No nested sections.</p>
      </li>
      <li>
       <p>Section implied for second <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code> element.</p>
       <p>Associated with heading "E".</p>
       <p>Also associated with paragraph "F".</p>
       <p>No nested sections.</p>
      </li>
     </ol></li>
   </ol></div>

  <div class="impl">

  <p>The algorithm that must be followed during a walk of a DOM
  subtree rooted at a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> element or a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element to determine that element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> is as follows:</p>

  <ol><li><p>Let <var title="">current outlinee</var> be null. (It holds
   the element whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> is being created.)</p></li>

   <li><p>Let <var title="">current section</var> be null. (It holds a
   pointer to a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a>, so that
   elements in the DOM can all be associated with a section.)</p></li>

   <li><p>Create a stack to hold elements, which is used to handle
   nesting. Initialize this stack to empty.</p></li>

   <li>

    <p>As you walk over the DOM in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>, starting
    with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> element or
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element at the root of the subtree
    for which an outline is to be created, trigger the first relevant
    step below for each element as you enter and exit it.</p>

    <dl class="switch"><dt>If you are exiting an element and that element is the element
     at the top of the stack</dt>

     <dd>

      <p class="note">The element being exited is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading
      content</a> element.</p>

      <p>Pop that element from the stack.</p>

     </dd>


     <dt>If the top of the stack is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading content</a>
     element</dt>

     <dd><p>Do nothing.</p></dd>


     <dt>When entering a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> element or a
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element</dt>

     <dd>

      <p>If <var title="">current outlinee</var> is not null, and the
      <var title="">current section</var> has no heading, create an
      implied heading and let that be the heading for the <var title="">current section</var>.</p>

      <p>If <var title="">current outlinee</var> is not null, push
      <var title="">current outlinee</var> onto the stack.</p>

      <p>Let <var title="">current outlinee</var> be the element
      that is being entered.</p>

      <p>Let <var title="">current section</var> be a newly created
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> for the <var title="">current outlinee</var> element.</p>

      <p>Associate <var title="">current outlinee</var> with <var title="">current section</var>.</p>

      <p>Let there be a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> for the new <var title="">current outlinee</var>, initialized with just the new
      <var title="">current section</var> as the only <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> in the outline.</p>

     </dd>


     <dt>When exiting a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> element, if
     the stack is not empty</dt>

     <dd>

      <p>Pop the top element from the stack, and let the <var title="">current outlinee</var> be that element.</p>

      <p>Let <var title="">current section</var> be the last section
      in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> of the <var title="">current
      outlinee</var> element.</p>

      <p>Append the <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning
      content</a> element being exited to the <var title="">current
      section</var>. (This does not change which section is the last
      section in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a>.)</p>

     </dd>


     <dt>When exiting a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element, if the
     stack is not empty</dt>

     <dd>

      <p>Run these steps:</p>

      <ol><li><p>Pop the top element from the stack, and let the <var title="">current outlinee</var> be that element.</p></li>

       <li><p>Let <var title="">current section</var> be the last
       section in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> of the <var title="">current
       outlinee</var> element.</p></li>

       <li><p><i>Finding the deepest child</i>: If <var title="">current section</var> has no child sections, stop
       these steps.</p></li>

       <li><p>Let <var title="">current section</var> be the last
       child <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> of the
       current <var title="">current section</var>.</p></li>

       <li><p>Go back to the substep labeled <i>finding the deepest
       child</i>.</p></li>

      </ol></dd>


     <dt>When exiting a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a> element or a
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element</dt>

     <dd>

      <p class="note">The <var title="">current outlinee</var> is the
      element being exited, and it is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning
      content</a> element or a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element
      at the root of the subtree for which an outline is being
      generated.</p>

      <p>Let <var title="">current section</var> be the first <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> in the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> of the <var title="">current outlinee</var>
      element.</p>

      <p>Skip to the next step in the overall set of steps. (The walk
      is over.)</p>

     </dd>


     <dt>When entering a <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading content</a> element</dt>

     <dd>

      <p>If the <var title="">current section</var> has no heading,
      let the element being entered be the heading for the <var title="">current section</var>.</p>

      <p>Otherwise, if the element being entered has a
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank">rank</a> equal to or greater than the heading of the
      last section of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> of the <var title="">current outlinee</var>, then create a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> and append it to the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> of the <var title="">current outlinee</var>
      element, so that this new section is the new last section of
      that outline. Let <var title="">current section</var> be that
      new section. Let the element being entered be the new heading
      for the <var title="">current section</var>.</p>

      <p>Otherwise, run these substeps:</p>

      <ol><li><p>Let <var title="">candidate section</var> be <var title="">current section</var>.</p></li>

       <li><p>If the element being entered has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank">rank</a>
       lower than the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rank">rank</a> of the heading of the <var title="">candidate section</var>, then create a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a>, and append it to <var title="">candidate section</var>. (This does not change which
       section is the last section in the outline.) Let <var title="">current section</var> be this new section. Let the
       element being entered be the new heading for the <var title="">current section</var>. Abort these substeps.</p>

       </li><li><p>Let <var title="">new candidate section</var> be the
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> that contains <var title="">candidate section</var> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> of
       <var title="">current outlinee</var>.</p></li>

       <li><p>Let <var title="">candidate section</var> be <var title="">new candidate section</var>.</p></li>

       <li><p>Return to step 2.</p></li>

      </ol><p>Push the element being entered onto the stack. (This causes
      the algorithm to skip any descendants of the element.)</p>

      <p class="note">Recall that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> has the
      <em>highest</em> rank, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code> has the lowest
      rank.</p>

     </dd>


     <dt>Otherwise</dt>

     <dd><p>Do nothing.</p></dd>

    </dl><p id="associatedSection">In addition, whenever you exit a node,
    after doing the steps above, if the node is not associated with a
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> yet, associate the
    node with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> <var title="">current section</var>.</p>

   </li>

   <li><p>Associate all nodes with the heading of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> with which they are
   associated, if any.</p></li>

  </ol><p>The tree of sections created by the algorithm above, or a proper
  subset thereof, must be used when generating document outlines, for
  example when generating tables of contents.</p>

  <p>The outline created for <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element-0">the body element</a> of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> of the entire
  document.</p>

  <p>When creating an interactive table of contents, entries should
  jump the user to the relevant <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>
  element, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> was
  created for a real element in the original document, or to the
  relevant <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading content</a> element, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> in the tree was generated for
  a heading in the above process.</p>

  <p class="note">Selecting the first <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> of the document therefore
  always takes the user to the top of the document, regardless of
  where the first heading in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code> is to be found.</p>

  <p>The <dfn id="outline-depth">outline depth</dfn> of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading content</a>
  element associated with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a> <var title="">section</var>
  is the number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">sections</a> that
  are ancestors of <var title="">section</var> in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a> that <var title="">section</var> finds itself
  in when the <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline" title="outline">outlines</a> of its
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s elements are created, plus 1. The
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline-depth">outline depth</a> of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading content</a> element
  not associated with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-section" title="concept-section">section</a>
  is 1.</p>

  <p>User agents should provide default headings for sections that do
  not have explicit section headings.</p>

  <div class="example">

   <p>Consider the following snippet:</p>

   <pre>&lt;body&gt;
 &lt;nav&gt;
  &lt;p&gt;&lt;a href="/"&gt;Home&lt;/a&gt;&lt;/p&gt;
 &lt;/nav&gt;
 &lt;p&gt;Hello world.&lt;/p&gt;
 &lt;aside&gt;
  &lt;p&gt;My cat is cute.&lt;/p&gt;
 &lt;/aside&gt;
&lt;/body&gt;</pre>

   <p>Although it contains no headings, this snippet has three
   sections: a document (the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-body-element">body</a></code>) with two subsections
   (a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code> and an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code>). A user agent could
   present the outline as follows:</p>

   <ol class="brief"><li>Untitled document
     <ol><li>Navigation</li>
      <li>Sidebar</li>
     </ol></li>
   </ol><p>These default headings ("Untitled document", "Navigation",
   "Sidebar") are not specified by this specification, and might vary
   with the user's language, the page's language, the user's
   preferences, the user agent implementor's preferences, etc.</p>

  </div>

  <div class="note">

   <p>The following JavaScript function shows how the tree walk could
   be implemented. The <var title="">root</var> argument is the root
   of the tree to walk (either a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>
   element or a <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">sectioning root</a> element), and the <var title="">enter</var> and <var title="">exit</var> arguments are
   callbacks that are called with the nodes as they are entered and
   exited. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsECMA262">[ECMA262]</a></p>

   <pre>function (root, enter, exit) {
  var node = root;
  start: while (node) {
    enter(node);
    if (node.firstChild) {
      node = node.firstChild;
      continue start;
    }
    while (node) {
      exit(node);
      if (node == root) {
        node = null;
      } else if (node.nextSibling) {
        node = node.nextSibling;
        continue start;
      } else {
        node = node.parentNode;
      }
    }
  }
}</pre>

  </div>

  </div>



  <h3 id="grouping-content"><span class="secno">4.5 </span>Grouping content</h3>

  <h4 id="the-p-element"><span class="secno">4.5.1 </span>The <dfn><code>p</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlparagraphelement">HTMLParagraphElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph">paragraph</a>.</p>

  <p class="note">While paragraphs are usually represented in visual
  media by blocks of text that are physically separated from adjacent
  blocks through blank lines, a style sheet or user agent would be
  equally justified in presenting paragraph breaks in a different
  manner, for instance using inline pilcrows (¶).</p>

  <div class="example">
   <p>The following examples are conforming HTML fragments:</p>
   <pre>&lt;p&gt;The little kitten gently seated himself on a piece of
carpet. Later in his life, this would be referred to as the time the
cat sat on the mat.&lt;/p&gt;</pre>
   <pre>&lt;fieldset&gt;
 &lt;legend&gt;Personal information&lt;/legend&gt;
 &lt;p&gt;
   &lt;label&gt;Name: &lt;input name="n"&gt;&lt;/label&gt;
   &lt;label&gt;&lt;input name="anon" type="checkbox"&gt; Hide from other users&lt;/label&gt;
 &lt;/p&gt;
 &lt;p&gt;&lt;label&gt;Address: &lt;textarea name="a"&gt;&lt;/textarea&gt;&lt;/label&gt;&lt;/p&gt;
&lt;/fieldset&gt;</pre>
   <pre>&lt;p&gt;There was once an example from Femley,&lt;br&gt;
Whose markup was of dubious quality.&lt;br&gt;
The validator complained,&lt;br&gt;
So the author was pained,&lt;br&gt;
To move the error from the markup to the rhyming.&lt;/p&gt;</pre>
  </div>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element should not be used when a more
  specific element is more appropriate.</p>

  <div class="example">

   <p>The following example is technically correct:</p>

<pre>&lt;section&gt;
 &lt;!-- ... --&gt;
 &lt;p&gt;Last modified: 2001-04-23&lt;/p&gt;
 &lt;p&gt;Author: fred@example.com&lt;/p&gt;
&lt;/section&gt;</pre>

   <p>However, it would be better marked-up as:</p>

<pre>&lt;section&gt;
 &lt;!-- ... --&gt;
 &lt;footer&gt;Last modified: 2001-04-23&lt;/footer&gt;
 &lt;address&gt;Author: fred@example.com&lt;/address&gt;
&lt;/section&gt;</pre>

   <p>Or:</p>

<pre>&lt;section&gt;
 &lt;!-- ... --&gt;
 &lt;footer&gt;
  &lt;p&gt;Last modified: 2001-04-23&lt;/p&gt;
  &lt;address&gt;Author: fred@example.com&lt;/address&gt;
 &lt;/footer&gt;
&lt;/section&gt;</pre>

  </div>

  <div class="note">

   <p>List elements (in particular, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> and
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> elements) cannot be children of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code>
   elements. When a sentence contains a bulleted list, therefore, one
   might wonder how it should be marked up.</p>

   <div class="example">
    <p>For instance, this fantastic sentence has bullets relating to</p>
    <ul><li>wizards,
     </li><li>faster-than-light travel, and
     </li><li>telepathy,
    </li></ul><p>and is further discussed below.</p>
   </div>

   <p>The solution is to realise that a <i><a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph">paragraph</a></i>, in HTML
   terms, is not a logical concept, but a structural one. In the
   fantastic example above, there are actually <em>five</em> <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">paragraphs</a> as defined by this
   speciication: one before the list, one for each bullet, and one
   after the list.</p>

   <div class="example">

    <p>The markup for the above example could therefore be:</p>

    <pre>&lt;p&gt;For instance, this fantastic sentence has bullets relating to&lt;/p&gt;
&lt;ul&gt;
 &lt;li&gt;wizards,
 &lt;li&gt;faster-than-light travel, and
 &lt;li&gt;telepathy,
&lt;/ul&gt;
&lt;p&gt;and is further discussed below.&lt;/p&gt;</pre>

   </div>

   <p>Authors wishing to conveniently style such "logical" paragraphs
   consisting of multiple "structural" paragraphs can use the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> element instead of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element.</p>

   <div class="example">

    <p>Thus for instance the above example could become the following:</p>

    <pre>&lt;div&gt;For instance, this fantastic sentence has bullets relating to
&lt;ul&gt;
 &lt;li&gt;wizards,
 &lt;li&gt;faster-than-light travel, and
 &lt;li&gt;telepathy,
&lt;/ul&gt;
and is further discussed below.&lt;/div&gt;</pre>

    <p>This example still has five structural paragraphs, but now the
    author can style just the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> instead of having to
    consider each part of the example separately.</p>

   </div>

  </div>



  <h4 id="the-hr-element"><span class="secno">4.5.2 </span>The <dfn><code>hr</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlhrelement">HTMLHRElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element">hr</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph">paragraph</a>-level thematic break, e.g. a scene change in
  a story, or a transition to another topic within a section of a
  reference book.</p>

  <div class="example">

   <p>The following fictional extract from a project manual shows two
   sections that use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element">hr</a></code> element to separate topics
   within the section.</p>

   <pre>&lt;section&gt;
 &lt;h1&gt;Communication&lt;/h1&gt;
 &lt;p&gt;There are various methods of communication. This section
 covers a few of the important ones used by the project.&lt;/p&gt;
 <strong>&lt;hr&gt;</strong>
 &lt;p&gt;Communication stones seem to come in pairs and have mysterious
 properties:&lt;/p&gt;
 &lt;ul&gt;
  &lt;li&gt;They can transfer thoughts in two directions once activated
  if used alone.&lt;/li&gt;
  &lt;li&gt;If used with another device, they can transfer one's
  consciousness to another body.&lt;/li&gt;
  &lt;li&gt;If both stones are used with another device, the
  consciousnesses switch bodies.&lt;/li&gt;
 &lt;/ul&gt;
 <strong>&lt;hr&gt;</strong>
 &lt;p&gt;Radios use the electromagnetic spectrum in the meter range and
 longer.&lt;/p&gt;
 <strong>&lt;hr&gt;</strong>
 &lt;p&gt;Signal flares use the electromagnetic spectrum in the
 nanometer range.&lt;/p&gt;
&lt;/section&gt;
&lt;section&gt;
 &lt;h1&gt;Food&lt;/h1&gt;
 &lt;p&gt;All food at the project is rationed:&lt;/p&gt;
 &lt;dl&gt;
  &lt;dt&gt;Potatoes&lt;/dt&gt;
  &lt;dd&gt;Two per day&lt;/dd&gt;
  &lt;dt&gt;Soup&lt;/dt&gt;
  &lt;dd&gt;One bowl per day&lt;/dd&gt;
 &lt;/dl&gt;
 <strong>&lt;hr&gt;</strong>
 &lt;p&gt;Cooking is done by the chefs on a set rotation.&lt;/p&gt;
&lt;/section&gt;</pre>

   <p>There is no need for an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element">hr</a></code> element between the
   sections themselves, since the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code> elements and
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> elements imply thematic changes themselves.</p>

  </div>

  <div class="example">

   <p>The following extract from <cite>Pandora's Star</cite> by Peter
   F. Hamilton shows two paragraphs that precede a scene change and
   the paragraph that follows it. The scene change, represented in the
   printed book by a gap containing a solitary centered star between
   the second and third paragraphs, is here represented using the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element">hr</a></code> element.</p>

   <!-- ISBN 1-4050-0020-1; bottom of page 14 -->

   <pre lang="en-GB">&lt;p&gt;Dudley was ninety-two, in his second life, and fast approaching
time for another rejuvenation. Despite his body having the physical
age of a standard fifty-year-old, the prospect of a long degrading
campaign within academia was one he regarded with dread. For a
supposedly advanced civilization, the Intersolar Commonwealth could be
appallingly backward at times, not to mention cruel.&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Maybe it won't be that bad&lt;/i&gt;, he told himself. The lie was
comforting enough to get him through the rest of the night's
shift.&lt;/p&gt;
<strong>&lt;hr&gt;</strong>
&lt;p&gt;The Carlton AllLander drove Dudley home just after dawn. Like the
astronomer, the vehicle was old and worn, but perfectly capable of
doing its job. It had a cheap diesel engine, common enough on a
semi-frontier world like Gralmond, although its drive array was a
thoroughly modern photoneural processor. With its high suspension and
deep-tread tyres it could plough along the dirt track to the
observatory in all weather and seasons, including the metre-deep snow
of Gralmond's winters.&lt;/p&gt;</pre>

  </div>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-hr-element">hr</a></code> element does not affect the
  document's <a href="http://www.whatwg.org/specs/web-apps/current-work/#outline">outline</a>.</p>


  <h4 id="the-pre-element"><span class="secno">4.5.3 </span>The <dfn><code>pre</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlpreelement">HTMLPreElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a block of
  preformatted text, in which structure is represented by typographic
  conventions rather than by elements.</p>

  <p class="note">In <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">the HTML syntax</a>, a leading
  newline character immediately following the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> element
  start tag is stripped.</p>

  <p>Some examples of cases where the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> element could
  be used:</p>

  <ul><li>Including an e-mail, with paragraphs indicated by blank lines,
   lists indicated by lines prefixed with a bullet, and so on.</li>

   <li>Including fragments of computer code, with structure indicated
   according to the conventions of that language.</li>

   <li>Displaying ASCII art.</li>

  </ul><p class="note">Authors are encouraged to consider how preformatted
  text will be experienced when the formatting is lost, as will be the
  case for users of speech synthesizers, braille displays, and the
  like. For cases like ASCII art, it is likely that an alternative
  presentation, such as a textual description, would be more
  universally accessible to the readers of the document.</p>

  <p>To represent a block of computer code, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code>
  element can be used with a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-code-element">code</a></code> element; to represent a
  block of computer output the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> element can be used
  with a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code> element. Similarly, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code>
  element can be used within a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> element to indicate
  text that the user is to enter.</p>

  <div class="impl">

  <p>A newline in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> element should separate
  paragraphs for the purposes of the Unicode bidirectional algorithm.
  This requirement may be implemented indirectly through the style
  layer. For example, an HTML+CSS user agent could implement these
  requirements by implementing the CSS 'unicode-bidi' property. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBIDI">[BIDI]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>

  </div>

  <div class="example">

   <p>In the following snippet, a sample of computer code is
   presented.</p>

   <pre>&lt;p&gt;This is the &lt;code&gt;Panel&lt;/code&gt; constructor:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function Panel(element, canClose, closeHandler) {
  this.element = element;
  this.canClose = canClose;
  this.closeHandler = function () { if (closeHandler) closeHandler() };
}&lt;/code&gt;&lt;/pre&gt;</pre>

  </div>

  <div class="example">

   <p>In the following snippet, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code>
   elements are mixed in the contents of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> element to
   show a session of Zork I.</p>

   <pre>&lt;pre&gt;&lt;samp&gt;You are in an open field west of a big white house with a boarded
front door.
There is a small mailbox here.

&gt;&lt;/samp&gt; &lt;kbd&gt;open mailbox&lt;/kbd&gt;

&lt;samp&gt;Opening the mailbox reveals:
A leaflet.

&gt;&lt;/samp&gt;&lt;/pre&gt;</pre>

  </div>

  <div class="example">

   <p>The following shows a contemporary poem that uses the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> element to preserve its unusual formatting, which
   forms an intrinsic part of the poem itself.</p>

   <pre>&lt;pre&gt;                maxling

it is with a          heart
               heavy

that i admit loss of a feline
        so           loved

a friend lost to the
        unknown
                                (night)

~cdr 11dec07&lt;/pre&gt;</pre>

  </div>



  <h4 id="the-blockquote-element"><span class="secno">4.5.4 </span>The <dfn><code>blockquote</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">Sectioning root</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-blockquote-cite"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-blockquote-cite">cite</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlquoteelement">HTMLQuoteElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-quote-cite" title="dom-quote-cite">cite</a>;
};</pre>
    <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlquoteelement">HTMLQuoteElement</a></code> interface is
    also used by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> element.</p>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a
  section that is quoted from another source.</p>

  <p>Content inside a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> must be quoted from
  another source, whose address, if it has one, may be cited in the
  <dfn id="attr-blockquote-cite" title="attr-blockquote-cite"><code>cite</code></dfn>
  attribute.</p>

  <p>If the <code title="attr-blockquote-cite"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-blockquote-cite">cite</a></code> attribute
  is present, it must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-url-potentially-surrounded-by-spaces">valid URL potentially surrounded by
  spaces</a>. <span class="impl">To obtain the corresponding
  citation link, the value of the attribute must be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolved</a> relative to the element. User
  agents should allow users to follow such citation links.</span></p>

  <p>The content of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> may be abbreviated or
  may have context added in the conventional manner for the text's
  language.</p>

  <div class="example">

   <p>For example, in English this is traditionally done using square
   brackets. Consider a page with the sentence "Fred ate the cracker.
   He then said he liked apples and fish."; it could be quoted as
   follows:</p>

   <pre>&lt;blockquote&gt;
 &lt;p&gt;[Fred] then said he liked [...] fish.&lt;/p&gt;
&lt;/blockquote&gt;</pre>

  </div>

  <p>Attribution for the quotation, if any, must be placed outside the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> element.</p> <!-- Eventually someone is
  going to ask about quotes that are self-attributing, e.g. someone
  quoting an e-mail with full headers... -->

  <div class="example">

   <p>For example, here the attribution is given in a paragraph after
   the quote:</p>

   <pre>&lt;blockquote&gt;
 &lt;p&gt;I contend that we are both atheists. I just believe in one fewer
 god than you do. When you understand why you dismiss all the other
 possible gods, you will understand why I dismiss yours.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;— Stephen Roberts&lt;/p&gt;</pre>

   <p>The other examples below show other ways of showing
   attribution.</p>

  </div>

  <div class="impl">

  <p>The <dfn id="dom-quote-cite" title="dom-quote-cite"><code>cite</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the element's <code title="">cite</code> content attribute.</p>

  </div>

  <div class="example">

   <p>Here a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> element is used in conjunction
   with a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element and its <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code>
   to clearly relate a quote to its attribution (which is not part of
   the quote and therefore doesn't belong inside the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> itself):</p>

   <pre>&lt;figure&gt;
 &lt;blockquote&gt;
  &lt;p&gt;The truth may be puzzling. It may take some work to grapple with.
  It may be counterintuitive. It may contradict deeply held
  prejudices. It may not be consonant with what we desperately want to
  be true. But our preferences do not determine what's true. We have a
  method, and that method helps us to reach not absolute truth, only
  asymptotic approaches to the truth — never there, just closer
  and closer, always finding vast new oceans of undiscovered
  possibilities. Cleverly designed experiments are the key.&lt;/p&gt;
 &lt;/blockquote&gt;
 &lt;figcaption&gt;Carl Sagan, in "&lt;cite&gt;Wonder and Skepticism&lt;/cite&gt;", from
 the &lt;cite&gt;Skeptical Enquirer&lt;/cite&gt; Volume 19, Issue 1 (January-February
 1995)&lt;/cite&gt;&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  </div>

  <div class="example">

   <p>This next example shows the use of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code> alongside
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code>:</p>

   <pre>&lt;p&gt;His next piece was the aptly named &lt;cite&gt;Sonnet 130&lt;/cite&gt;:&lt;/p&gt;
&lt;blockquote cite="http://quotes.example.org/s/sonnet130.html"&gt;
  &lt;p&gt;My mistress' eyes are nothing like the sun,&lt;br&gt;
  Coral is far more red, than her lips red,&lt;br&gt;
  ...</pre>

  </div>

  <div class="example">

   <p>This example shows how a forum post could use
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> to show what post a user is replying
   to. The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code> element is used for each post, to mark
   up the threading.</p>

   <pre>&lt;article&gt;
 &lt;h1&gt;&lt;a href="http://bacon.example.com/?blog=109431"&gt;Bacon on a crowbar&lt;/a&gt;&lt;/h1&gt;
 &lt;article&gt;
  &lt;header&gt;&lt;strong&gt;t3yw&lt;/strong&gt; 12 points 1 hour ago&lt;/header&gt;
  &lt;p&gt;I bet a narwhal would love that.&lt;/p&gt;
  &lt;footer&gt;&lt;a href="?pid=29578"&gt;permalink&lt;/a&gt;&lt;/footer&gt;
  &lt;article&gt;
   &lt;header&gt;&lt;strong&gt;greg&lt;/strong&gt; 8 points 1 hour ago&lt;/header&gt;
   &lt;blockquote&gt;&lt;p&gt;I bet a narwhal would love that.&lt;/p&gt;&lt;/blockquote&gt;
   &lt;p&gt;Dude narwhals don't eat bacon.&lt;/p&gt;
   &lt;footer&gt;&lt;a href="?pid=29579"&gt;permalink&lt;/a&gt;&lt;/footer&gt;
   &lt;article&gt;
    &lt;header&gt;&lt;strong&gt;t3yw&lt;/strong&gt; 15 points 1 hour ago&lt;/header&gt;
    &lt;blockquote&gt;
     &lt;blockquote&gt;&lt;p&gt;I bet a narwhal would love that.&lt;/p&gt;&lt;/blockquote&gt;
     &lt;p&gt;Dude narwhals don't eat bacon.&lt;/p&gt;
    &lt;/blockquote&gt;
    &lt;p&gt;Next thing you'll be saying they don't get capes and wizard
    hats either!&lt;/p&gt;
    &lt;footer&gt;&lt;a href="?pid=29580"&gt;permalink&lt;/a&gt;&lt;/footer&gt;
    &lt;article&gt;
     &lt;article&gt;
      &lt;header&gt;&lt;strong&gt;boing&lt;/strong&gt; -5 points 1 hour ago&lt;/header&gt;
      &lt;p&gt;narwhals are worse than ceiling cat&lt;/p&gt;
      &lt;footer&gt;&lt;a href="?pid=29581"&gt;permalink&lt;/a&gt;&lt;/footer&gt;
     &lt;/article&gt;
    &lt;/article&gt;
   &lt;/article&gt;
  &lt;/article&gt;
  &lt;article&gt;
   &lt;header&gt;&lt;strong&gt;fred&lt;/strong&gt; 1 points 23 minutes ago&lt;/header&gt;
   &lt;blockquote&gt;&lt;p&gt;I bet a narwhal would love that.&lt;/p&gt;&lt;/blockquote&gt;
   &lt;p&gt;I bet they'd love to peel a banana too.&lt;/p&gt;
   &lt;footer&gt;&lt;a href="?pid=29582"&gt;permalink&lt;/a&gt;&lt;/footer&gt;
  &lt;/article&gt;
 &lt;/article&gt;
&lt;/article&gt;</pre>

  </div>

  <div class="example">

   <p>This example shows the use of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code> for
   short snippets, demonstrating that one does not have to use
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> elements inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code>
   elements:</p>

   <pre>&lt;p&gt;He began his list of "lessons" with the following:&lt;/p&gt;
&lt;blockquote&gt;One should never assume that his side of 
the issue will be recognized, let alone that it will 
be conceded to have merits.&lt;/blockquote&gt;
&lt;p&gt;He continued with a number of similar points, ending with:&lt;/p&gt;
&lt;blockquote&gt;Finally, one should be prepared for the threat 
of breakdown in negotiations at any given moment and not 
be cowed by the possiblity.&lt;/blockquote&gt;
&lt;p&gt;We shall now discuss these points...</pre>

  </div>

  <p class="note"><a href="http://www.whatwg.org/specs/web-apps/current-work/#conversations">Examples of how to
  represent a conversation</a> are shown in a later section; it is not
  appropriate to use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-blockquote-element">blockquote</a></code>
  elements for this purpose.</p>



  <h4 id="the-ol-element"><span class="secno">4.5.5 </span>The <dfn><code>ol</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd>If the element's children include at least one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element: <a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-ol-reversed"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-reversed">reversed</a></code></dd>
   <dd><code title="attr-ol-start"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-start">start</a></code></dd>
   <dd><code title="attr-ol-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-type">type</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlolistelement">HTMLOListElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-ol-reversed" title="dom-ol-reversed">reversed</a>;
           attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-ol-start" title="dom-ol-start">start</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-ol-type" title="dom-ol-type">type</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a list of
  items, where the items have been intentionally ordered, such that
  changing the order would change the meaning of the document.</p>

  <p>The items of the list are the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element child nodes
  of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element, in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.</p>

  <p>The <dfn id="attr-ol-reversed" title="attr-ol-reversed"><code>reversed</code></dfn>
  attribute is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute">boolean attribute</a>. If present, it
  indicates that the list is a descending list (..., 3, 2, 1). If the
  attribute is omitted, the list is an ascending list (1, 2, 3,
  ...).</p>

  <p>The <dfn id="attr-ol-start" title="attr-ol-start"><code>start</code></dfn>
  attribute, if present, must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-integer">valid integer</a> giving
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#ordinal-value">ordinal value</a> of the first list item.</p>

  <div class="impl">

  <p>If the <code title="attr-ol-start"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-start">start</a></code> attribute is
  present, user agents must <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-integers" title="rules for parsing
  integers">parse it as an integer</a>, in order to determine the
  attribute's value. The default value, used if the attribute is
  missing or if the value cannot be converted to a number according to
  the referenced algorithm, is 1 if the element has no <code title="attr-ol-reversed"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-reversed">reversed</a></code> attribute, and is the
  number of child <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> elements otherwise.</p>

  <p>The first item in the list has the <a href="http://www.whatwg.org/specs/web-apps/current-work/#ordinal-value">ordinal value</a>
  given by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element's <code title="attr-ol-start"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-start">start</a></code> attribute, unless that
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element has a <code title="attr-li-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-li-value">value</a></code> attribute with a value that can
  be successfully parsed, in which case it has the <a href="http://www.whatwg.org/specs/web-apps/current-work/#ordinal-value">ordinal
  value</a> given by that <code title="attr-li-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-li-value">value</a></code>
  attribute.</p>

  <p>Each subsequent item in the list has the <a href="http://www.whatwg.org/specs/web-apps/current-work/#ordinal-value">ordinal
  value</a> given by its <code title="attr-li-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-li-value">value</a></code>
  attribute, if it has one, or, if it doesn't, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#ordinal-value">ordinal
  value</a> of the previous item, plus one if the <code title="attr-ol-reversed"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-reversed">reversed</a></code> is absent, or minus one if
  it is present.</p>

  </div>

  <p>The <dfn id="attr-ol-type" title="attr-ol-type"><code>type</code></dfn> attribute
  can be used to specify the kind of marker to use in the list, in the
  cases where that matters (e.g. because items are to be referenced by
  their number/letter). The attribute, if specified, must have a value
  that is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a> match for one of the
  characters given in the first cell of one of the rows of the
  following table. <span class="impl">The <code title="attr-ol-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-type">type</a></code> attribute represents the state
  given in the cell in the second column of the row whose first cell
  matches the attribute's value; if none of the cells match, or if the
  attribute is omitted, then the attribute represents the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-type-state-decimal" title="attr-ol-type-state-decimal">decimal</a> state.</span></p>

  <table><thead><tr><th>Keyword
     </th><th>State
     </th><th>Description
     </th><th colspan="8">Examples for values 1-3 and 3999-4001
   </th></tr></thead><tbody><tr><td><dfn id="attr-ol-type-keyword-decimal" title="attr-ol-type-keyword-decimal"><code>1</code></dfn> (U+0031)
     </td><td><dfn id="attr-ol-type-state-decimal" title="attr-ol-type-state-decimal">decimal</dfn>
     </td><td>Decimal numbers
     </td><td class="eg"><samp>1.</samp> </td><td class="eg"><samp>2.</samp> </td><td class="eg"><samp>3.</samp> </td><td class="eg">... </td><td class="eg"><samp>3999.</samp> </td><td class="eg"><samp>4000.</samp> </td><td class="eg"><samp>4001.</samp> </td><td class="eg">...
    </td></tr><tr><td><dfn id="attr-ol-type-keyword-lower-alpha" title="attr-ol-type-keyword-lower-alpha"><code>a</code></dfn> (U+0061)
     </td><td><dfn id="attr-ol-type-state-lower-alpha" title="attr-ol-type-state-lower-alpha">lower-alpha</dfn>
     </td><td>Lowercase latin alphabet
     </td><td class="eg"><samp>a.</samp> </td><td class="eg"><samp>b.</samp> </td><td class="eg"><samp>c.</samp> </td><td class="eg">... </td><td class="eg"><samp>ewu.</samp> </td><td class="eg"><samp>ewv.</samp> </td><td class="eg"><samp>eww.</samp> </td><td class="eg">...
    </td></tr><tr><td><dfn id="attr-ol-type-keyword-upper-alpha" title="attr-ol-type-keyword-upper-alpha"><code>A</code></dfn> (U+0041)
     </td><td><dfn id="attr-ol-type-state-upper-alpha" title="attr-ol-type-state-upper-alpha">upper-alpha</dfn>
     </td><td>Uppercase latin alphabet
     </td><td class="eg"><samp>A.</samp> </td><td class="eg"><samp>B.</samp> </td><td class="eg"><samp>C.</samp> </td><td class="eg">... </td><td class="eg"><samp>EWU.</samp> </td><td class="eg"><samp>EWV.</samp> </td><td class="eg"><samp>EWW.</samp> </td><td class="eg">...
    </td></tr><tr><td><dfn id="attr-ol-type-keyword-lower-roman" title="attr-ol-type-keyword-lower-roman"><code>i</code></dfn> (U+0069)
     </td><td><dfn id="attr-ol-type-state-lower-roman" title="attr-ol-type-state-lower-roman">lower-roman</dfn>
     </td><td>Lowercase roman numerals
     </td><td class="eg"><samp>i.</samp> </td><td class="eg"><samp>ii.</samp> </td><td class="eg"><samp>iii.</samp> </td><td class="eg">... </td><td class="eg"><samp>mmmcmxcix.</samp> </td><td class="eg"><samp>i̅v̅.</samp> </td><td class="eg"><samp>i̅v̅i.</samp> </td><td class="eg">...
    </td></tr><tr><td><dfn id="attr-ol-type-keyword-upper-roman" title="attr-ol-type-keyword-upper-roman"><code>I</code></dfn> (U+0049)
     </td><td><dfn id="attr-ol-type-state-upper-roman" title="attr-ol-type-state-upper-roman">upper-roman</dfn>
     </td><td>Uppercase roman numerals
     </td><td class="eg"><samp>I.</samp> </td><td class="eg"><samp>II.</samp> </td><td class="eg"><samp>III.</samp> </td><td class="eg">... </td><td class="eg"><samp>MMMCMXCIX.</samp> </td><td class="eg"><samp>I̅V̅.</samp> </td><td class="eg"><samp>I̅V̅I.</samp> </td><td class="eg">...
  </td></tr></tbody></table><div class="impl">

  <p>User agents should render the items of the list in a manner
  consistent with the state of the <code title="attr-ol-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-type">type</a></code> attribute of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code>
  element. Numbers less than or equal to zero should always use the
  decimal system regardless of the <code title="attr-ol-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-type">type</a></code> attribute.</p>

  <p class="note">For CSS user agents, a mapping for this attribute to
  the 'list-style-type' CSS property is given <a href="http://www.whatwg.org/specs/web-apps/current-work/#decohints">in
  the rendering section</a> (the mapping is straightforward: the
  states above have the same names as their corresponding CSS
  values).</p>

  </div>

  <!-- v2: resuming numbering of lists from previous lists? -->

  <div class="impl">

  <p>The <dfn id="dom-ol-reversed" title="dom-ol-reversed"><code>reversed</code></dfn>,
  <dfn id="dom-ol-start" title="dom-ol-start"><code>start</code></dfn>, and <dfn id="dom-ol-type" title="dom-ol-type"><code>type</code></dfn> IDL attributes must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name. The <code title="dom-ol-start"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-ol-start">start</a></code> IDL attribute has
  the same default as its content attribute.</p>

  </div>

  <div class="example">

   <p>The following markup shows a list where the order matters, and
   where the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element is therefore appropriate. Compare
   this list to the equivalent list in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> section to
   see an example of the same items using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code>
   element.</p>

   <pre>&lt;p&gt;I have lived in the following countries (given in the order of when
I first lived there):&lt;/p&gt;
&lt;ol&gt;
 &lt;li&gt;Switzerland
 &lt;li&gt;United Kingdom
 &lt;li&gt;United States
 &lt;li&gt;Norway
&lt;/ol&gt;</pre>

   <p>Note how changing the order of the list changes the meaning of
   the document. In the following example, changing the relative order
   of the first two items has changed the birthplace of the
   author:</p>

   <pre>&lt;p&gt;I have lived in the following countries (given in the order of when
I first lived there):&lt;/p&gt;
&lt;ol&gt;
 &lt;li&gt;United Kingdom
 &lt;li&gt;Switzerland
 &lt;li&gt;United States
 &lt;li&gt;Norway
&lt;/ol&gt;</pre>

  </div>


  <h4 id="the-ul-element"><span class="secno">4.5.6 </span>The <dfn><code>ul</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd>If the element's children include at least one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element: <a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlulistelement">HTMLUListElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a list of
  items, where the order of the items is not important — that
  is, where changing the order would not materially change the meaning
  of the document.</p>

  <p>The items of the list are the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element child nodes
  of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> element.</p>

  <div class="example">

   <p>The following markup shows a list where the order does not
   matter, and where the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> element is therefore
   appropriate. Compare this list to the equivalent list in the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> section to see an example of the same items using
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element.</p>

   <pre>&lt;p&gt;I have lived in the following countries:&lt;/p&gt;
&lt;ul&gt;
 &lt;li&gt;Norway
 &lt;li&gt;Switzerland
 &lt;li&gt;United Kingdom
 &lt;li&gt;United States
&lt;/ul&gt;</pre>

   <p>Note that changing the order of the list does not change the
   meaning of the document. The items in the snippet above are given
   in alphabetical order, but in the snippet below they are given in
   order of the size of their current account balance in 2007, without
   changing the meaning of the document whatsoever:</p>

   <pre>&lt;p&gt;I have lived in the following countries:&lt;/p&gt;
&lt;ul&gt;
 &lt;li&gt;Switzerland
 &lt;li&gt;Norway
 &lt;li&gt;United Kingdom
 &lt;li&gt;United States
&lt;/ul&gt;</pre>

  </div>


  <h4 id="the-li-element"><span class="secno">4.5.7 </span>The <dfn><code>li</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> elements.</dd>
   <dd>Inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code> elements.</dd>
   <dd>Inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd>If the element is a child of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element: <code title="attr-li-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-li-value">value</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmllielement">HTMLLIElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-li-value" title="dom-li-value">value</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a list
  item. If its parent element is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code>,
  or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> element, then the element is an item of the
  parent element's list, as defined for those elements. Otherwise, the
  list item has no defined list-related relationship to any other
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element.</p>

  <p>If the parent element is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element, then the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element has an <dfn id="ordinal-value">ordinal value</dfn>.</p>

  <p>The <dfn id="attr-li-value" title="attr-li-value"><code>value</code></dfn>
  attribute, if present, must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-integer">valid integer</a> giving
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#ordinal-value">ordinal value</a> of the list item.</p>

  <div class="impl">

  <p>If the <code title="attr-li-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-li-value">value</a></code> attribute is
  present, user agents must <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-integers" title="rules for parsing
  integers">parse it as an integer</a>, in order to determine the
  attribute's value. If the attribute's value cannot be converted to a
  number, the attribute must be treated as if it was absent. The
  attribute has no default value.</p>

  <p>The <code title="attr-li-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-li-value">value</a></code> attribute is
  processed relative to the element's parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element
  (q.v.), if there is one. If there is not, the attribute has no
  effect.</p>

  <p>The <dfn id="dom-li-value" title="dom-li-value"><code>value</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the value of the <code title="dom-li-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-li-value">value</a></code> content attribute.</p>

  </div>

  <div class="example">
   <p>The following example, the top ten movies are listed (in reverse
   order). Note the way the list is given a title by using a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element and its <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code>
   element.</p>
   <pre>&lt;figure&gt;
 &lt;figcaption&gt;The top 10 movies of all time&lt;/figcaption&gt;
 &lt;ol&gt;
  &lt;li value="10"&gt;&lt;cite&gt;Josie and the Pussycats&lt;/cite&gt;, 2001&lt;/li&gt;
  &lt;li value="9"&gt;&lt;cite lang="sh"&gt;Црна мачка, бели мачор&lt;/cite&gt;, 1998&lt;/li&gt;
  &lt;li value="8"&gt;&lt;cite&gt;A Bug's Life&lt;/cite&gt;, 1998&lt;/li&gt;
  &lt;li value="7"&gt;&lt;cite&gt;Toy Story&lt;/cite&gt;, 1995&lt;/li&gt;
  &lt;li value="6"&gt;&lt;cite&gt;Monsters, Inc&lt;/cite&gt;, 2001&lt;/li&gt;
  &lt;li value="5"&gt;&lt;cite&gt;Cars&lt;/cite&gt;, 2006&lt;/li&gt;
  &lt;li value="4"&gt;&lt;cite&gt;Toy Story 2&lt;/cite&gt;, 1999&lt;/li&gt;
  &lt;li value="3"&gt;&lt;cite&gt;Finding Nemo&lt;/cite&gt;, 2003&lt;/li&gt;
  &lt;li value="2"&gt;&lt;cite&gt;The Incredibles&lt;/cite&gt;, 2004&lt;/li&gt;
  &lt;li value="1"&gt;&lt;cite&gt;Ratatouille&lt;/cite&gt;, 2007&lt;/li&gt;
 &lt;/ol&gt;
&lt;/figure&gt;</pre>

   <p>The markup could also be written as follows, using the <code title="attr-ol-reversed"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-ol-reversed">reversed</a></code> attribute on the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> element:</p>

   <pre>&lt;figure&gt;
 &lt;figcaption&gt;The top 10 movies of all time&lt;/figcaption&gt;
 &lt;ol reversed&gt;
  &lt;li&gt;&lt;cite&gt;Josie and the Pussycats&lt;/cite&gt;, 2001&lt;/li&gt;
  &lt;li&gt;&lt;cite lang="sh"&gt;Црна мачка, бели мачор&lt;/cite&gt;, 1998&lt;/li&gt;
  &lt;li&gt;&lt;cite&gt;A Bug's Life&lt;/cite&gt;, 1998&lt;/li&gt;
  &lt;li&gt;&lt;cite&gt;Toy Story&lt;/cite&gt;, 1995&lt;/li&gt;
  &lt;li&gt;&lt;cite&gt;Monsters, Inc&lt;/cite&gt;, 2001&lt;/li&gt;
  &lt;li&gt;&lt;cite&gt;Cars&lt;/cite&gt;, 2006&lt;/li&gt;
  &lt;li&gt;&lt;cite&gt;Toy Story 2&lt;/cite&gt;, 1999&lt;/li&gt;
  &lt;li&gt;&lt;cite&gt;Finding Nemo&lt;/cite&gt;, 2003&lt;/li&gt;
  &lt;li&gt;&lt;cite&gt;The Incredibles&lt;/cite&gt;, 2004&lt;/li&gt;
  &lt;li&gt;&lt;cite&gt;Ratatouille&lt;/cite&gt;, 2007&lt;/li&gt;
 &lt;/ol&gt;
&lt;/figure&gt;</pre>
  </div>

  <p class="note">If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element is the child of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-menu-element">menu</a></code> element and itself has a child that defines a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-command" title="concept-command">command</a>, then the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element will match the <code title="selector-enabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#selector-enabled">:enabled</a></code> and <code title="selector-disabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#selector-disabled">:disabled</a></code> pseudo-classes in the
  same way as the first such child element does.</p>

  <p class="note">While it is conforming to include heading elements
  (e.g. <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>) inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> elements, it likely
  does not convey the semantics that the author intended. A heading
  starts a new section, so a heading in a list implicitly splits the
  list into spanning multiple sections.</p>



  <h4 id="the-dl-element"><span class="secno">4.5.8 </span>The <dfn><code>dl</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd>If the element's children include at least one name-value group: <a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Zero or more groups each consisting of one or more
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> elements followed by one or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code>
   elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmldlistelement">HTMLDListElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> an
  association list consisting of zero or more name-value groups (a
  description list). Each group must consist of one or more names
  (<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> elements) followed by one or more values
  (<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> elements). Within a single <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element,
  there should not be more than one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> element for each
  name.</p>

  <p>Name-value groups may be terms and definitions, metadata topics
  and values, questions and answers, or any other groups of name-value
  data.</p>

  <p>The values within a group are alternatives; multiple paragraphs
  forming part of the same value must all be given within the same
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> element.</p>

  <p>The order of the list of groups, and of the names and values
  within each group, may be significant.</p>

  <div class="impl">

  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element is empty, it contains no groups.</p>

  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element has one or more non-<a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace" title="inter-element whitespace">whitespace</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code>
  node children, or has child elements that are neither
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> nor <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> elements, all such
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes and elements, as well as their descendants
  (including any <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> elements), do not
  form part of any groups in that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code>.</p>

  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element has one or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code>
  element children but no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> element children, then it
  consists of one group with names but no values.</p>

  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element has one or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code>
  element children but no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> element children, then it
  consists of one group with values but no names.</p>

  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element's first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> element child is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> element, then the
  first group has no associated name.</p>

  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element's last <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> element child is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> element, then the
  last group has no associated value.</p>

  <p class="note">When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element doesn't match its
  content model, it is often due to accidentally using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code>
  elements in the place of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> elements and vice
  versa. Conformance checkers can spot such mistakes and might be able
  to advise authors how to correctly use the markup.</p>

  </div>

  <div class="example">
   <p>In the following example, one entry ("Authors") is linked to two
   values ("John" and "Luke").</p>
   <pre>&lt;dl&gt;
 &lt;dt&gt; Authors
 &lt;dd&gt; John
 &lt;dd&gt; Luke
 &lt;dt&gt; Editor
 &lt;dd&gt; Frank
&lt;/dl&gt;</pre>
  </div>

  <div class="example">
   <p>In the following example, one definition is linked to two
   terms.</p>
   <pre>&lt;dl&gt;
 &lt;dt lang="en-US"&gt; &lt;dfn&gt;color&lt;/dfn&gt; &lt;/dt&gt;
 &lt;dt lang="en-GB"&gt; &lt;dfn&gt;colour&lt;/dfn&gt; &lt;/dt&gt;
 &lt;dd&gt; A sensation which (in humans) derives from the ability of
 the fine structure of the eye to distinguish three differently
 filtered analyses of a view. &lt;/dd&gt;
&lt;/dl&gt;</pre>
  </div>

  <div class="example">
   <p>The following example illustrates the use of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code>
   element to mark up metadata of sorts. At the end of the example,
   one group has two metadata labels ("Authors" and "Editors") and two
   values ("Robert Rothman" and "Daniel Jackson").</p>
   <pre>&lt;dl&gt;
 &lt;dt&gt; Last modified time &lt;/dt&gt;
 &lt;dd&gt; 2004-12-23T23:33Z &lt;/dd&gt;
 &lt;dt&gt; Recommended update interval &lt;/dt&gt;
 &lt;dd&gt; 60s &lt;/dd&gt;
 &lt;dt&gt; Authors &lt;/dt&gt;
 &lt;dt&gt; Editors &lt;/dt&gt;
 &lt;dd&gt; Robert Rothman &lt;/dd&gt;
 &lt;dd&gt; Daniel Jackson &lt;/dd&gt;
&lt;/dl&gt;</pre>
  </div>

  <div class="example">

   <p>The following example shows the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element used to
   give a set of instructions. The order of the instructions here is
   important (in the other examples, the order of the blocks was not
   important).</p>

   <pre>&lt;p&gt;Determine the victory points as follows (use the
first matching case):&lt;/p&gt;
&lt;dl&gt;
 &lt;dt&gt; If you have exactly five gold coins &lt;/dt&gt;
 &lt;dd&gt; You get five victory points &lt;/dd&gt;
 &lt;dt&gt; If you have one or more gold coins, and you have one or more silver coins &lt;/dt&gt;
 &lt;dd&gt; You get two victory points &lt;/dd&gt;
 &lt;dt&gt; If you have one or more silver coins &lt;/dt&gt;
 &lt;dd&gt; You get one victory point &lt;/dd&gt;
 &lt;dt&gt; Otherwise &lt;/dt&gt;
 &lt;dd&gt; You get no victory points &lt;/dd&gt;
&lt;/dl&gt;</pre>
  </div>

  <div class="example">
   <p>The following snippet shows a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element being used
   as a glossary. Note the use of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> to indicate the
   word being defined.</p>
   <pre>&lt;dl&gt;
 &lt;dt&gt;&lt;dfn&gt;Apartment&lt;/dfn&gt;, n.&lt;/dt&gt;
 &lt;dd&gt;An execution context grouping one or more threads with one or
 more COM objects.&lt;/dd&gt;
 &lt;dt&gt;&lt;dfn&gt;Flat&lt;/dfn&gt;, n.&lt;/dt&gt;
 &lt;dd&gt;A deflated tire.&lt;/dd&gt;
 &lt;dt&gt;&lt;dfn&gt;Home&lt;/dfn&gt;, n.&lt;/dt&gt;
 &lt;dd&gt;The user's login directory.&lt;/dd&gt;
&lt;/dl&gt;</pre>
  </div>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element is inappropriate for
  marking up dialogue. <a href="http://www.whatwg.org/specs/web-apps/current-work/#conversations">Examples of how to
  mark up dialogue</a> are shown below.</p>



  <h4 id="the-dt-element"><span class="secno">4.5.9 </span>The <dfn><code>dt</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Before <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> elements inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>, but with no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading content</a> descendants.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the term, or
  name, part of a term-description group in a description list
  (<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element).</p>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> element itself, when used in a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element, does not indicate that its contents are a
  term being defined, but this can be indicated using the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> element.</p>

  <div class="example">

   <p>This example shows a list of frequently asked questions (a FAQ)
   marked up using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> element for questions and the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> element for answers.</p>

   <pre>&lt;article&gt;
 &lt;h1&gt;FAQ&lt;/h1&gt;
 &lt;dl&gt;
  &lt;dt&gt;What do we want?&lt;/dt&gt;
  &lt;dd&gt;Our data.&lt;/dd&gt;
  &lt;dt&gt;When do we want it?&lt;/dt&gt;
  &lt;dd&gt;Now.&lt;/dd&gt;
  &lt;dt&gt;Where is it?&lt;/dt&gt;
  &lt;dd&gt;We are not sure.&lt;/dd&gt;
 &lt;/dl&gt;
&lt;/article&gt;</pre>

  </div>



  <h4 id="the-dd-element"><span class="secno">4.5.10 </span>The <dfn><code>dd</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>After <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> elements inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the
  description, definition, or value, part of a term-description group
  in a description list (<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> element).</p>

  <div class="example">

   <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element">dl</a></code> can be used to define a vocabulary list, like
   in a dictionary. In the following example, each entry, given by a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dt-element">dt</a></code> with a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code>, has several
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dd-element">dd</a></code>s, showing the various parts of the definition.</p>

   <!-- the actual pronunciations below are nonsense. -->
   <pre>&lt;dl&gt;
 &lt;dt&gt;&lt;dfn&gt;happiness&lt;/dfn&gt;&lt;/dt&gt;
 &lt;dd class="pronunciation"&gt;/'hæ p. nes/&lt;/dd&gt;
 &lt;dd class="part-of-speech"&gt;&lt;i&gt;&lt;abbr&gt;n.&lt;/abbr&gt;&lt;/i&gt;&lt;/dd&gt;
 &lt;dd&gt;The state of being happy.&lt;/dd&gt;
 &lt;dd&gt;Good fortune; success. &lt;q&gt;Oh &lt;b&gt;happiness&lt;/b&gt;! It worked!&lt;/q&gt;&lt;/dd&gt;
 &lt;dt&gt;&lt;dfn&gt;rejoice&lt;/dfn&gt;&lt;/dt&gt;
 &lt;dd class="pronunciation"&gt;/ri jois'/&lt;/dd&gt;
 &lt;dd&gt;&lt;i class="part-of-speech"&gt;&lt;abbr&gt;v.intr.&lt;/abbr&gt;&lt;/i&gt; To be delighted oneself.&lt;/dd&gt;
 &lt;dd&gt;&lt;i class="part-of-speech"&gt;&lt;abbr&gt;v.tr.&lt;/abbr&gt;&lt;/i&gt; To cause one to be delighted.&lt;/dd&gt;
&lt;/dl&gt;</pre>
  </div>


  <h4 id="the-figure-element"><span class="secno">4.5.11 </span>The <dfn><code>figure</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">Sectioning root</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Either: One <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element followed by <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>.</dd>
   <dd>Or: <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a> followed by one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element.</dd>
   <dd>Or: <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><!-- v2: Add a <credit> element for photo credits --><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> some
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>, optionally with a caption, that is
  self-contained and is typically referenced as a single unit from the
  main flow of the document.</p>

  <p>The element can thus be used to annotate illustrations, diagrams,
  photos, code listings, etc, that are referred to from the main
  content of the document, but that could, without affecting the flow
  of the document, be moved away from that primary content, e.g. to
  the side of the page, to dedicated pages, or to an appendix.</p>

  <p>The <span class="impl">first</span> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code>
  element child of the element, if any, represents the caption of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element's contents. If there is no child
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element, then there is no caption.</p>

  <div class="example">

   <p>This example shows the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element to mark up a
   code listing.</p>

   <pre>&lt;p&gt;In &lt;a href="#l4"&gt;listing 4&lt;/a&gt; we see the primary core interface
API declaration.&lt;/p&gt;
&lt;figure id="l4"&gt;
 &lt;figcaption&gt;Listing 4. The primary core interface API declaration.&lt;/figcaption&gt;
 &lt;pre&gt;&lt;code&gt;interface PrimaryCore {
 boolean verifyDataLine();
 void sendData(in sequence&amp;lt;byte&gt; data);
 void initSelfDestruct();
}&lt;/code&gt;&lt;/pre&gt;
&lt;/figure&gt;
&lt;p&gt;The API is designed to use UTF-8.&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>Here we see a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element to mark up a
   photo.</p>

   <pre>&lt;figure&gt;
 &lt;img src="bubbles-work.jpeg"
      alt="Bubbles, sitting in his office chair, works on his
           latest project intently."&gt;
 &lt;figcaption&gt;Bubbles at work&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  </div>

  <div class="example">

   <p>In this example, we see an image that is <em>not</em>
   a figure, as well as an image and a video that are.</p>

   <pre>&lt;h2&gt;Malinko's comics&lt;/h2&gt;

&lt;p&gt;This case centered on some sort of "intellectual property"
infringement related to a comic (see Exhibit A). The suit started
after a trailer ending with these words:

&lt;blockquote&gt;
 &lt;img src="promblem-packed-action.png" alt="ROUGH COPY! Promblem-Packed Action!"&gt;
&lt;/blockquote&gt;

&lt;p&gt;...was aired. A lawyer, armed with a Bigger Notebook, launched a
preemptive strike using snowballs. A complete copy of the trailer is
included with Exhibit B.

&lt;figure&gt;
 &lt;img src="ex-a.png" alt="Two squiggles on a dirty piece of paper."&gt;
 &lt;figcaption&gt;Exhibit A. The alleged &lt;cite&gt;rough copy&lt;/cite&gt; comic.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
 &lt;video src="ex-b.mov"&gt;&lt;/video&gt;
 &lt;figcaption&gt;Exhibit B. The &lt;cite&gt;Rough Copy&lt;/cite&gt; trailer.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The case was resolved out of court.</pre>

  </div>

  <div class="example">

   <p>Here, a part of a poem is marked up using
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code>.</p>

   <pre>&lt;figure&gt;
 &lt;p&gt;'Twas brillig, and the slithy toves&lt;br&gt;
 Did gyre and gimble in the wabe;&lt;br&gt;
 All mimsy were the borogoves,&lt;br&gt;
 And the mome raths outgrabe.&lt;/p&gt;
 &lt;figcaption&gt;&lt;cite&gt;Jabberwocky&lt;/cite&gt; (first verse). Lewis Carroll, 1832-98&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  </div>

  <div class="example">

   <p>In this example, which could be part of a much larger work
   discussing a castle, nested <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> elements are used
   to provide both a group caption and individual captions for each
   figure in the group:</p>

   <pre>&lt;figure&gt;
 &lt;figcaption&gt;The castle through the ages: 1423, 1858, and 1999 respectively.&lt;/figcaption&gt;
 &lt;figure&gt;
  &lt;figcaption&gt;Etching. Anonymous, ca. 1423.&lt;/figcaption&gt;
  &lt;img src="castle1423.jpeg" alt="The castle has one tower, and a tall wall around it."&gt;
 &lt;/figure&gt;
 &lt;figure&gt;
  &lt;figcaption&gt;Oil-based paint on canvas. Maria Towle, 1858.&lt;/figcaption&gt;
  &lt;img src="castle1858.jpeg" alt="The castle now has two towers and two walls."&gt;
 &lt;/figure&gt;
 &lt;figure&gt;
  &lt;figcaption&gt;Film photograph. Peter Jankle, 1999.&lt;/figcaption&gt;
  &lt;img src="castle1999.jpeg" alt="The castle lies in ruins, the original tower all that remains in one piece."&gt;
 &lt;/figure&gt;
&lt;/figure&gt;</pre>

  </div>

<!--FORK--><!--TITLE-->
  <div class="example">

   <p>The previous example could also be more succintly written as
   follows (using <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attributes in
   place of the nested <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code>/<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code>
   pairs):</p>

   <pre>&lt;figure&gt;
 &lt;img src="castle1423.jpeg" title="Etching. Anonymous, ca. 1423."
      alt="The castle has one tower, and a tall wall around it."&gt;
 &lt;img src="castle1858.jpeg" title="Oil-based paint on canvas. Maria Towle, 1858."
      alt="The castle now has two towers and two walls."&gt;
 &lt;img src="castle1999.jpeg" title="Film photograph. Peter Jankle, 1999."
      alt="The castle lies in ruins, the original tower all that remains in one piece."&gt;
 &lt;figcaption&gt;The castle through the ages: 1423, 1858, and 1999 respectively.&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  </div>
<!--FORK--><!--TITLE-->


  <h4 id="the-figcaption-element"><span class="secno">4.5.12 </span>The <dfn><code>figcaption</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As the first or last child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a
  caption or legend for the rest of the contents of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element's parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code>
  element<span class="impl">, if any</span>.</p>



  <h4 id="the-div-element"><span class="secno">4.5.13 </span>The <dfn><code>div</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmldivelement">HTMLDivElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> element has no special meaning at all. It
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> its children. It can be used with the <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code>, <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code>, and <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attributes to mark up semantics
  common to a group of consecutive elements.</p>

  <p class="note">Authors are strongly encouraged to view the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> element as an element of last resort, for when no
  other element is suitable. Use of more appropriate elements instead
  of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> element leads to better accessibility for
  readers and easier maintainability for authors.</p>

  <div class="example">

   <p>For example, a blog post would be marked up using
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-article-element">article</a></code>, a chapter using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-section-element">section</a></code>, a
   page's navigation aids using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-nav-element">nav</a></code>, and a group of form
   controls using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-fieldset-element">fieldset</a></code>.</p>

   <p>On the other hand, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> elements can be useful for
   stylistic purposes or to wrap multiple paragraphs within a section
   that are all to be annotated in a similar way. In the following
   example, we see <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-div-element">div</a></code> elements used as a way to set the
   language of two paragraphs at once, instead of setting the language
   on the two paragraph elements separately:</p>

   <pre>&lt;article lang="en-US"&gt;
 &lt;h1&gt;My use of language and my cats&lt;/h1&gt;
 &lt;p&gt;My cat's behavior hasn't changed much since her absence, except
 that she plays her new physique to the neighbors regularly, in an
 attempt to get pets.&lt;/p&gt;
 &lt;div lang="en-GB"&gt;
  &lt;p&gt;My other cat, coloured black and white, is a sweetie. He followed
  us to the pool today, walking down the pavement with us. Yesterday
  he apparently visited our neighbours. I wonder if he recognises that
  their flat is a mirror image of ours.&lt;/p&gt;
  &lt;p&gt;Hm, I just noticed that in the last paragraph I used British
  English. But I'm supposed to write in American English. So I
  shouldn't say "pavement" or "flat" or "colour"...&lt;/p&gt;
 &lt;/div&gt;
 &lt;p&gt;I should say "sidewalk" and "apartment" and "color"!&lt;/p&gt;
&lt;/article&gt;</pre>

  </div>


  <h3 id="text-level-semantics"><span class="secno">4.6 </span>Text-level semantics</h3>

  <h4 id="the-a-element"><span class="secno">4.6.1 </span>The <dfn><code>a</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd>When the element only contains <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>: <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">Interactive content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>When the element only contains <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dd>Otherwise: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">Transparent</a>, but there must be no <a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">interactive content</a> descendant.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code></dd>
   <dd><code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code></dd>
<!--DOWNLOAD--><!--PING-->
   <dd><code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code></dd>
   <dd><code title="attr-hyperlink-ping"><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping">ping</a></code></dd>
<!--DOWNLOAD--><!--PING-->
   <dd><code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel</a></code></dd>
   <dd><code title="attr-hyperlink-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-media">media</a></code></dd>
   <dd><code title="attr-hyperlink-hreflang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-hreflang">hreflang</a></code></dd>
   <dd><code title="attr-hyperlink-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-type">type</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlanchorelement">HTMLAnchorElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
  stringifier attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-href" title="dom-a-href">href</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-target" title="dom-a-target">target</a>;
<!--DOWNLOAD--><!--PING-->
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-download" title="dom-a-download">download</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-ping" title="dom-a-ping">ping</a>;
<!--DOWNLOAD--><!--PING-->
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-rel" title="dom-a-rel">rel</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domtokenlist">DOMTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-rellist" title="dom-a-relList">relList</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-media" title="dom-a-media">media</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-hreflang" title="dom-a-hreflang">hreflang</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-type" title="dom-a-type">type</a>;

           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-text" title="dom-a-text">text</a>;

  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL decomposition IDL attributes</a>
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-protocol" title="dom-a-protocol">protocol</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-host" title="dom-a-host">host</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-hostname" title="dom-a-hostname">hostname</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-port" title="dom-a-port">port</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-pathname" title="dom-a-pathname">pathname</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-search" title="dom-a-search">search</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-hash" title="dom-a-hash">hash</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element has an <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute, then it
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a> (a hypertext
  anchor).</p>

  <!-- v2: Eric Meyer requests the ability to nest links so that a big
  hyperlink, e.g. representing a calendar event, can be clickable,
  while within it there are subareas that represent links to distinct
  areas, e.g. a link to see photos of the event, or to edit the event,
  or some such. -->

  <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element has no <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute, then the element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a placeholder for where a link might
  otherwise have been placed, if it had been relevant.</p>

  <p>The <code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code>,
<!--DOWNLOAD--><!--PING-->
  <code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code>,
  <code title="attr-hyperlink-ping"><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping">ping</a></code>,
<!--DOWNLOAD--><!--PING-->
  <code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel</a></code>, <code title="attr-hyperlink-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-media">media</a></code>, <code title="attr-hyperlink-hreflang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-hreflang">hreflang</a></code>, and <code title="attr-hyperlink-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-type">type</a></code> attributes must be omitted
  if the <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute is
  not present.</p>

<!--MD-->
  <p>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> is specified
  on an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element, then the <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute must also be
  specified.</p>
<!--MD-->

  <div class="example">
   <p>If a site uses a consistent navigation toolbar on every page,
   then the link that would normally link to the page itself could be
   marked up using an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element:</p>
   <pre>&lt;nav&gt;
 &lt;ul&gt;
  &lt;li&gt; &lt;a href="/"&gt;Home&lt;/a&gt; &lt;/li&gt;
  &lt;li&gt; &lt;a href="/news"&gt;News&lt;/a&gt; &lt;/li&gt;
  &lt;li&gt; &lt;a&gt;Examples&lt;/a&gt; &lt;/li&gt;
  &lt;li&gt; &lt;a href="/legal"&gt;Legal&lt;/a&gt; &lt;/li&gt;
 &lt;/ul&gt;
&lt;/nav&gt;</pre>
  </div>

  <div class="impl">

  <p>The <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code>,
  <code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code>,
<!--DOWNLOAD--><!--PING-->
  <code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code>, and
  <code title="attr-hyperlink-ping"><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping">ping</a></code>
<!--DOWNLOAD--><!--PING-->
  attributes affect what happens when users <a href="http://www.whatwg.org/specs/web-apps/current-work/#following-hyperlinks" title="following
  hyperlinks">follow hyperlinks</a>
<!--DOWNLOAD-->
  or <a href="http://www.whatwg.org/specs/web-apps/current-work/#downloading-hyperlinks" title="downloading hyperlinks">download hyperlinks</a>
<!--DOWNLOAD-->
  created using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element.  The
  <code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel</a></code>, <code title="attr-hyperlink-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-media">media</a></code>, <code title="attr-hyperlink-hreflang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-hreflang">hreflang</a></code>, and <code title="attr-hyperlink-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-type">type</a></code> attributes may be used to
  indicate to the user the likely nature of the target resource before
  the user follows the link.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#activation-behavior">activation behavior</a> of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> elements
  that create <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink" title="hyperlink">hyperlinks</a> is to run the
  following steps:</p>

  <ol><li><p>If the algorithm is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#allowed-to-show-a-pop-up">allowed to show a
   pop-up</a> and either the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>
<!--DOWNLOAD-->
   element has a <code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code> attribute or the
<!--DOWNLOAD-->
   element's <code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code>
   attribute is present and applying <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name">the rules for choosing a
   browsing context given a browsing context name</a>, using the
   value of the <code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code>
   attribute as the browsing context name, would result in there not
   being a chosen browsing context, then throw an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidaccesserror">InvalidAccessError</a></code> exception and abort these
   steps.</p></li>

   <li><p>If the target of the <code title="event-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-click">click</a></code>
   event is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element with an <code title="attr-img-ismap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-ismap">ismap</a></code> attribute specified, then
   server-side image map processing must be performed, as follows:</p>

    <ol><!-- http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A...%3Ca%20href%3D%22%23%22%3E%3Cimg%20ismap%20usemap%3D%22%23a%22%20src%3D/resources/images/smallcats%3E%3C/a%3E%0A%3Cmap%20name%3Da%3E%3Carea%20shape%3Drect%20coords%3D0%2C0%2C50%2C50%20href%3Db%3E%3C/map%3E --><li>If the <code title="event-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-click">click</a></code> event was a
     real pointing-device-triggered <code title="event-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-click">click</a></code> event on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>
     element, then let <var title="">x</var> be the distance in CSS
     pixels from the left edge of the image's left border, if it has
     one, or the left edge of the image otherwise, to the location of
     the click, and let <var title="">y</var> be the distance in CSS
     pixels from the top edge of the image's top border, if it has
     one, or the top edge of the image otherwise, to the location of
     the click. Otherwise, let <var title="">x</var> and <var title="">y</var> be zero.</li>

     <li>Let the <dfn id="hyperlink-suffix"><var>hyperlink suffix</var></dfn> be a U+003F
     QUESTION MARK character, the value of <var title="">x</var>
     expressed as a base-ten integer using ASCII digits, a U+002C
     COMMA character (,), and the value of <var title="">y</var>
     expressed as a base-ten integer using ASCII digits. ASCII digits
     are the characters in the range U+0030 DIGIT ZERO (0) to U+0039
     DIGIT NINE (9).</li>

    </ol></li>

   <li><p>Finally, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#following-hyperlinks" title="following
   hyperlinks">follow the hyperlink</a>
<!--DOWNLOAD-->
   or <a href="http://www.whatwg.org/specs/web-apps/current-work/#downloading-hyperlinks" title="downloading hyperlinks">download the hyperlink</a>
<!--DOWNLOAD-->
   created by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element, as determined by
<!--DOWNLOAD-->
   the <code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code> attribute and
<!--DOWNLOAD-->
   any expressed user preference. If the steps above defined a
   <var><a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink-suffix">hyperlink suffix</a></var>, then take that into account when
   following or downloading the hyperlink.</p></li>

  </ol></div>

<!--TOPIC:DOM APIs-->
  <dl class="domintro"><dt><var title="">a</var> . <code title="dom-a-text"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-a-text">text</a></code></dt>

   <dd>

    <p>Same as <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textcontent">textContent</a></code>.</p>

   </dd>

  </dl><div class="impl">

  <p>The IDL attributes
  <dfn id="dom-a-href" title="dom-a-href"><code>href</code></dfn>,
<!--DOWNLOAD--><!--PING-->
  <dfn id="dom-a-download" title="dom-a-download"><code>download</code></dfn>,
  <dfn id="dom-a-ping" title="dom-a-ping"><code>ping</code></dfn>,
<!--DOWNLOAD--><!--PING-->
  <dfn id="dom-a-target" title="dom-a-target"><code>target</code></dfn>, <dfn id="dom-a-rel" title="dom-a-rel"><code>rel</code></dfn>, <dfn id="dom-a-media" title="dom-a-media"><code>media</code></dfn>, <dfn id="dom-a-hreflang" title="dom-a-hreflang"><code>hreflang</code></dfn>, and <dfn id="dom-a-type" title="dom-a-type"><code>type</code></dfn>, must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name.</p>

  <p>The IDL attribute <dfn id="dom-a-rellist" title="dom-a-rellist"><code>relList</code></dfn> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel</a></code>
  content attribute.</p>

  <p>The <dfn id="dom-a-text" title="dom-a-text"><code>text</code></dfn> IDL
  attribute, on getting, must return the same value as the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textcontent">textContent</a></code> IDL attribute on the element, and on
  setting, must act as if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textcontent">textContent</a></code> IDL attribute
  on the element had been set to the new value.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element also supports the complement of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL decomposition IDL attributes</a>, <dfn id="dom-a-protocol" title="dom-a-protocol"><code>protocol</code></dfn>, <dfn id="dom-a-host" title="dom-a-host"><code>host</code></dfn>, <dfn id="dom-a-port" title="dom-a-port"><code>port</code></dfn>, <dfn id="dom-a-hostname" title="dom-a-hostname"><code>hostname</code></dfn>, <dfn id="dom-a-pathname" title="dom-a-pathname"><code>pathname</code></dfn>, <dfn id="dom-a-search" title="dom-a-search"><code>search</code></dfn>, and <dfn id="dom-a-hash" title="dom-a-hash"><code>hash</code></dfn>. These must follow the
  rules given for <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL decomposition IDL attributes</a>, with
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> being the result of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolving</a> the element's <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute relative to the
  element, if there is such an attribute and resolving it is
  successful, or the empty string otherwise; and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-setter" title="concept-uda-setter">common setter action</a> being the
  same as setting the element's <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute to the new output
  value.</p>

  </div>
<!--TOPIC:HTML-->

  <div class="example">

   <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element may be wrapped around entire
   paragraphs, lists, tables, and so forth, even entire sections, so
   long as there is no interactive content within (e.g. buttons or
   other links). This example shows how this can be used to make an
   entire advertising block into a link:</p>

   <pre>&lt;aside class="advertising"&gt;
 &lt;h1&gt;Advertising&lt;/h1&gt;
 &lt;a href="http://ad.example.com/?adid=1929&amp;amp;pubid=1422"&gt;
  &lt;section&gt;
   &lt;h1&gt;Mellblomatic 9000!&lt;/h1&gt;
   &lt;p&gt;Turn all your widgets into mellbloms!&lt;/p&gt;
   &lt;p&gt;Only $9.99 plus shipping and handling.&lt;/p&gt;
  &lt;/section&gt;
 &lt;/a&gt;
 &lt;a href="http://ad.example.com/?adid=375&amp;amp;pubid=1422"&gt;
  &lt;section&gt;
   &lt;h1&gt;The Mellblom Browser&lt;/h1&gt;
   &lt;p&gt;Web browsing at the speed of light.&lt;/p&gt;
   &lt;p&gt;No other browser goes faster!&lt;/p&gt;
  &lt;/section&gt;
 &lt;/a&gt;
&lt;/aside&gt;</pre>

  </div>


  <h4 id="the-em-element"><span class="secno">4.6.2 </span>The <dfn><code>em</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> stress
  emphasis of its contents.</p>

  <p>The level of emphasis that a particular piece of content has is
  given by its number of ancestor <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code> elements.</p>

  <p>The placement of emphasis changes the meaning of the sentence.
  The element thus forms an integral part of the content. The precise
  way in which emphasis is used in this way depends on the
  language.</p>

  <div class="example">

   <p>These examples show how changing the emphasis changes the
   meaning. First, a general statement of fact, with no emphasis:</p>

   <pre>&lt;p&gt;Cats are cute animals.&lt;/p&gt;</pre>

   <p>By emphasizing the first word, the statement implies that the
   kind of animal under discussion is in question (maybe someone is
   asserting that dogs are cute):</p>

   <pre>&lt;p&gt;&lt;em&gt;Cats&lt;/em&gt; are cute animals.&lt;/p&gt;</pre>

   <p>Moving the emphasis to the verb, one highlights that the truth
   of the entire sentence is in question (maybe someone is saying cats
   are not cute):</p>

   <pre>&lt;p&gt;Cats &lt;em&gt;are&lt;/em&gt; cute animals.&lt;/p&gt;</pre>

   <p>By moving it to the adjective, the exact nature of the cats
   is reasserted (maybe someone suggested cats were <em>mean</em>
   animals):</p>

   <pre>&lt;p&gt;Cats are &lt;em&gt;cute&lt;/em&gt; animals.&lt;/p&gt;</pre>

   <p>Similarly, if someone asserted that cats were vegetables,
   someone correcting this might emphasize the last word:</p>

   <pre>&lt;p&gt;Cats are cute &lt;em&gt;animals&lt;/em&gt;.&lt;/p&gt;</pre>

   <p>By emphasizing the entire sentence, it becomes clear that the
   speaker is fighting hard to get the point across. This kind of
   emphasis also typically affects the punctuation, hence the
   exclamation mark here.</p>

   <pre>&lt;p&gt;&lt;em&gt;Cats are cute animals!&lt;/em&gt;&lt;/p&gt;</pre>

   <p>Anger mixed with emphasizing the cuteness could lead to markup
   such as:</p>

   <pre>&lt;p&gt;&lt;em&gt;Cats are &lt;em&gt;cute&lt;/em&gt; animals!&lt;/em&gt;&lt;/p&gt;</pre>

  </div>

  <div class="note">

   <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code> element isn't a generic "italics"
   element. Sometimes, text is intended to stand out from the rest of
   the paragraph, as if it was in a different mood or voice. For this,
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> element is more appropriate.</p>

   <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code> element also isn't intended to convey
   importance; for that purpose, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code> element is
   more appropriate.</p>

   <!--

    Thus the following is a bad use of <em>:

      <p><em>Note</em>: ...</p>

    You should use <strong> or <i> for this instead (depending on
    exactly what you're doing).

   -->

  </div>



  <h4 id="the-strong-element"><span class="secno">4.6.3 </span>The <dfn><code>strong</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> strong
  importance for its contents.</p>

  <p>The relative level of importance of a piece of content is given
  by its number of ancestor <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code> elements; each
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code> element increases the importance of its
  contents.</p>

  <p>Changing the importance of a piece of text with the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code> element does not change the meaning of the
  sentence.</p>

  <div class="example">
   <p>Here is an example of a warning notice in a game, with the
   various parts marked up according to how important they are:</p>
   <!-- DO NOT REFLOW THIS EXAMPLE it has been carefully balanced -->
   <pre>&lt;p&gt;&lt;strong&gt;Warning.&lt;/strong&gt; This dungeon is dangerous.
&lt;strong&gt;Avoid the ducks.&lt;/strong&gt; Take any gold you find.
&lt;strong&gt;&lt;strong&gt;Do not take any of the diamonds&lt;/strong&gt;,
they are explosive and &lt;strong&gt;will destroy anything within
ten meters.&lt;/strong&gt;&lt;/strong&gt; You have been warned.&lt;/p&gt;</pre>
  </div>


  <h4 id="the-small-element"><span class="secno">4.6.4 </span>The <dfn><code>small</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> side
  comments such as small print.</p>

  <p class="note">Small print typically features disclaimers, caveats,
  legal restrictions, or copyrights. Small print is also sometimes
  used for attribution, or for satisfying licensing requirements.</p>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code> element does not
  "de-emphasize" or lower the importance of text emphasized by the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code> element or marked as important with the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code> element. To mark text as not emphasized or
  important, simply do not mark it up with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code> elements respectively.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code> element should not be used for extended
  spans of text, such as multiple paragraphs, lists, or sections of
  text. It is only intended for short runs of text. The text of a page
  listing terms of use, for instance, would not be a suitable
  candidate for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code> element: in such a case, the
  text is not a side comment, it is the main content of the page.</p>

  <div class="example">

   <p>In this example, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code> element is used to
   indicate that value-added tax is not included in a price of a hotel
   room:</p>

   <pre class="example">&lt;dl&gt;
 &lt;dt&gt;Single room
 &lt;dd&gt;199 € &lt;small&gt;breakfast included, VAT not included&lt;/small&gt;
 &lt;dt&gt;Double room
 &lt;dd&gt;239 € &lt;small&gt;breakfast included, VAT not included&lt;/small&gt;
&lt;/dl&gt;</pre>

  </div>

  <div class="example">

   <p>In this second example, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code> element is used
   for a side comment in an article.</p>

   <pre>&lt;p&gt;Example Corp today announced record profits for the
second quarter &lt;small&gt;(Full Disclosure: Foo News is a subsidiary of
Example Corp)&lt;/small&gt;, leading to speculation about a third quarter
merger with Demo Group.&lt;/p&gt;</pre>

   <p>This is distinct from a sidebar, which might be multiple
   paragraphs long and is removed from the main flow of text. In the
   following example, we see a sidebar from the same article. This
   sidebar also has small print, indicating the source of the
   information in the sidebar.</p>

   <pre>&lt;aside&gt;
 &lt;h1&gt;Example Corp&lt;/h1&gt;
 &lt;p&gt;This company mostly creates small software and Web
 sites.&lt;/p&gt;
 &lt;p&gt;The Example Corp company mission is "To provide entertainment
 and news on a sample basis".&lt;/p&gt;
 &lt;p&gt;&lt;small&gt;Information obtained from &lt;a
 href="http://example.com/about.html"&gt;example.com&lt;/a&gt; home
 page.&lt;/small&gt;&lt;/p&gt;
&lt;/aside&gt;</pre>

  </div>

  <div class="example">

   <p>In this last example, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code> element is marked
   as being <em>important</em> small print.</p>

   <pre>&lt;p&gt;&lt;strong&gt;&lt;small&gt;Continued use of this service will result in a kiss.&lt;/small&gt;&lt;/strong&gt;&lt;/p&gt;</pre>

  </div>


  <h4 id="the-s-element"><span class="secno">4.6.5 </span>The <dfn><code>s</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-s-element">s</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> contents that
  are no longer accurate or no longer relevant.</p>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-s-element">s</a></code> element is not appropriate when
  indicating document edits; to mark a span of text as having been
  removed from a document, use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> element.</p>

  <div class="example">

   <p>In this example a recommended retail price has been marked as no
   longer relevant as the product in question has a new sale
   price.</p>

   <pre>&lt;p&gt;Buy our Iced Tea and Lemonade!&lt;/p&gt;
&lt;p&gt;&lt;s&gt;Recommended retail price: $3.99 per bottle&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Now selling for just $2.99 a bottle!&lt;/strong&gt;&lt;/p&gt;</pre>

  </div>


  <h4 id="the-cite-element"><span class="secno">4.6.6 </span>The <dfn><code>cite</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the title
  of a work (e.g.
  a book,
  a paper,
  an essay,
  a poem,
  a score,
  a song,
  a script,
  a film,
  a TV show,
  a game,
  a sculpture,
  a painting,
  a theatre production,
  a play,
  an opera,
  a musical,
  an exhibition,
  a legal case report,
  etc). This can be a work that is being quoted or
  referenced in detail (i.e. a citation), or it can just be a work
  that is mentioned in passing.</p>

  <p>A person's name is not the title of a work — even if people
  call that person a piece of work — and the element must
  therefore not be used to mark up people's names. (In some cases, the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code> element might be appropriate for names; e.g. in a
  gossip article where the names of famous people are keywords
  rendered with a different style to draw attention to them. In other
  cases, if an element is <em>really</em> needed, the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> element can be used.)</p>

<!--(some people argue a ship is a work)
  <p>A ship is similarly not a work, and the element must not be used
  to mark up ship names (the <code>i</code> element can be used for
  that purpose).</p>
-->

  <div class="example">

   <p>This next example shows a typical use of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code>
   element:</p>

   <pre>&lt;p&gt;My favorite book is &lt;cite&gt;The Reality Dysfunction&lt;/cite&gt; by
Peter F. Hamilton. My favorite comic is &lt;cite&gt;Pearls Before
Swine&lt;/cite&gt; by Stephan Pastis. My favorite track is &lt;cite&gt;Jive
Samba&lt;/cite&gt; by the Cannonball Adderley Sextet.&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>This is correct usage:</p>

   <pre>&lt;p&gt;According to the Wikipedia article &lt;cite&gt;HTML&lt;/cite&gt;, as it
stood in mid-February 2008, leaving attribute values unquoted is
unsafe. This is obviously an over-simplification.&lt;/p&gt;</pre>

   <p>The following, however, is incorrect usage, as the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code> element here is containing far more than the
   title of the work:</p>

   <pre class="bad">&lt;!-- do not copy this example, it is an example of bad usage! --&gt;
&lt;p&gt;According to &lt;cite&gt;the Wikipedia article on HTML&lt;/cite&gt;, as it
stood in mid-February 2008, leaving attribute values unquoted is
unsafe. This is obviously an over-simplification.&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code> element is obviously a key part of any
   citation in a bibliography, but it is only used to mark the
   title:</p>

   <pre>&lt;p&gt;&lt;cite&gt;Universal Declaration of Human Rights&lt;/cite&gt;, United Nations,
December 1948. Adopted by General Assembly resolution 217 A (III).&lt;/p&gt;</pre>

  </div>

  <p class="note">A <em>citation</em> is not a <em>quote</em> (for
  which the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> element is appropriate).</p>

  <div class="example">

   <p>This is incorrect usage, because <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code> is not for
   quotes:</p>

   <pre class="bad">&lt;p&gt;&lt;cite&gt;This is wrong!&lt;/cite&gt;, said Ian.&lt;/p&gt;</pre>

   <p>This is also incorrect usage, because a person is not a
   work:</p>

   <pre class="bad">&lt;p&gt;&lt;q&gt;This is still wrong!&lt;/q&gt;, said &lt;cite&gt;Ian&lt;/cite&gt;.&lt;/p&gt;</pre>

   <p>The correct usage does not use a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code> element:</p>

   <pre>&lt;p&gt;&lt;q&gt;This is correct&lt;/q&gt;, said Ian.&lt;/p&gt;</pre>

   <p>As mentioned above, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code> element might be relevant
   for marking names as being keywords in certain kinds of
   documents:</p>

   <pre>&lt;p&gt;And then &lt;b&gt;Ian&lt;/b&gt; said &lt;q&gt;this might be right, in a
gossip column, maybe!&lt;/q&gt;.&lt;/p&gt;</pre>

  </div>



  <h4 id="the-q-element"><span class="secno">4.6.7 </span>The <dfn><code>q</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-q-cite"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-q-cite">cite</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlquoteelement">HTMLQuoteElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> some <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content" title="phrasing content">phrasing content</a> quoted from another
  source.</p>

  <p>Quotation punctuation (such as quotation marks) that is quoting
  the contents of the element must not appear immediately before,
  after, or inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> elements; they will be inserted into
  the rendering by the user agent.</p>

  <p>Content inside a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> element must be quoted from
  another source, whose address, if it has one, may be cited in the
  <dfn id="attr-q-cite" title="attr-q-cite"><code>cite</code></dfn> attribute. The
  source may be fictional, as when quoting characters in a novel or
  screenplay.</p>

  <p>If the <code title="attr-q-cite"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-q-cite">cite</a></code> attribute is
  present, it must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-url-potentially-surrounded-by-spaces">valid URL potentially surrounded by
  spaces</a>. <span class="impl">To obtain the corresponding
  citation link, the value of the attribute must be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolved</a> relative to the element. User
  agents should allow users to follow such citation links.</span></p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> element must not be used in place of quotation
  marks that do not represent quotes; for example, it is inappropriate
  to use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> element for marking up sarcastic
  statements.</p>

  <p>The use of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> elements to mark up quotations is
  entirely optional; using explicit quotation punctuation without
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> elements is just as correct.</p>

  <div class="example">

   <p>Here is a simple example of the use of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code>
   element:</p>

   <pre>&lt;p&gt;The man said &lt;q&gt;Things that are impossible just take
longer&lt;/q&gt;. I disagreed with him.&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>Here is an example with both an explicit citation link in the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> element, and an explicit citation outside:</p>

   <pre>&lt;p&gt;The W3C page &lt;cite&gt;About W3C&lt;/cite&gt; says the W3C's
mission is &lt;q cite="http://www.w3.org/Consortium/"&gt;To lead the
World Wide Web to its full potential by developing protocols and
guidelines that ensure long-term growth for the Web&lt;/q&gt;. I
disagree with this mission.&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>In the following example, the quotation itself contains a
   quotation:</p>

   <pre>&lt;p&gt;In &lt;cite&gt;Example One&lt;/cite&gt;, he writes &lt;q&gt;The man
said &lt;q&gt;Things that are impossible just take longer&lt;/q&gt;. I
disagreed with him&lt;/q&gt;. Well, I disagree even more!&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>In the following example, quotation marks are used instead of
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code> element:</p>

   <pre>&lt;p&gt;His best argument was ❝I disagree❞, which
I thought was laughable.&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>In the following example, there is no quote — the
   quotation marks are used to name a word. Use of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code>
   element in this case would be inappropriate.</p>

   <pre>&lt;p&gt;The word "ineffable" could have been used to describe the disaster
resulting from the campaign's mismanagement.&lt;/p&gt;</pre>

  </div>


  <h4 id="the-dfn-element"><span class="secno">4.6.8 </span>The <dfn><code>dfn</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>, but there must be no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> element descendants.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd>Also, the <code title="attr-dfn-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dfn-title">title</a></code> attribute has special semantics on this element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the defining
  instance of a term. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">paragraph</a>,
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dl-element" title="dl">description list group</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content" title="sectioning content">section</a> that is the nearest
  ancestor of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> element must also contain the
  definition(s) for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#defining-term" title="defining term">term</a> given
  by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> element.</p>

  <p><dfn id="defining-term">Defining term</dfn>: If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> element has a
  <dfn id="attr-dfn-title" title="attr-dfn-title"><code>title</code></dfn> attribute, then
  the exact value of that attribute is the term being defined.
  Otherwise, if it contains exactly one element child node and no
  child <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> nodes, and that child
  element is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code> element with a <code title="attr-abbr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-abbr-title">title</a></code> attribute, then the exact value
  of <em>that</em> attribute is the term being defined. Otherwise, it
  is the exact <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textcontent">textContent</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code>
  element that gives the term being defined.</p>

  <!-- note that this means <dfn>x \n x</dfn> won't match <span>x x</span> -->

  <p>If the <code title="attr-dfn-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dfn-title">title</a></code> attribute of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> element is present, then it must contain only the
  term being defined.</p>

  <p class="note">The <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute
  of ancestor elements does not affect <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> elements.</p>

  <p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element that links to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code>
  element represents an instance of the term defined by the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> element.</p>

  <div class="example">

   <p>In the following fragment, the term "Garage Door Opener" is
   first defined in the first paragraph, then used in the second. In
   both cases, its abbreviation is what is actually displayed.</p>

   <pre>&lt;p&gt;The <strong>&lt;dfn&gt;&lt;abbr title="Garage Door Opener"&gt;GDO&lt;/abbr&gt;&lt;/dfn&gt;</strong>
is a device that allows off-world teams to open the iris.&lt;/p&gt;
&lt;!-- ... later in the document: --&gt;
&lt;p&gt;Teal'c activated his <strong>&lt;abbr title="Garage Door Opener"&gt;GDO&lt;/abbr&gt;</strong>
and so Hammond ordered the iris to be opened.&lt;/p&gt;</pre>

   <p>With the addition of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element, the reference
   can be made explicit:</p>

   <pre>&lt;p&gt;The &lt;dfn <strong>id=gdo</strong>&gt;&lt;abbr title="Garage Door Opener"&gt;GDO&lt;/abbr&gt;&lt;/dfn&gt;
is a device that allows off-world teams to open the iris.&lt;/p&gt;
&lt;!-- ... later in the document: --&gt;
&lt;p&gt;Teal'c activated his <strong>&lt;a href=#gdo&gt;</strong>&lt;abbr title="Garage Door Opener"&gt;GDO&lt;/abbr&gt;<strong>&lt;/a&gt;</strong>
and so Hammond ordered the iris to be opened.&lt;/p&gt;</pre>

  </div>



  <h4 id="the-abbr-element"><span class="secno">4.6.9 </span>The <dfn><code>abbr</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd>Also, the <code title="attr-abbr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-abbr-title">title</a></code> attribute has special semantics on this element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> an
  abbreviation or acronym, optionally with its expansion. The <dfn id="attr-abbr-title" title="attr-abbr-title"><code>title</code></dfn> attribute may be
  used to provide an expansion of the abbreviation. The attribute, if
  specified, must contain an expansion of the abbreviation, and
  nothing else.</p>

  <div class="example">
   <p>The paragraph below contains an abbreviation marked up with the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code> element. This paragraph <a href="http://www.whatwg.org/specs/web-apps/current-work/#defining-term" title="defining
   term">defines the term</a> "Web Hypertext Application Technology
   Working Group".</p>
   <pre>&lt;p&gt;The &lt;dfn id=whatwg&gt;&lt;abbr
title="Web Hypertext Application Technology Working Group"&gt;WHATWG&lt;/abbr&gt;&lt;/dfn&gt;
is a loose unofficial collaboration of Web browser manufacturers and
interested parties who wish to develop new technologies designed to
allow authors to write and deploy Applications over the World Wide
Web.&lt;/p&gt;</pre>
   <p>An alternative way to write this would be:</p>
   <pre>&lt;p&gt;The &lt;dfn id=whatwg&gt;Web Hypertext Application Technology
Working Group&lt;/dfn&gt; (&lt;abbr
title="Web Hypertext Application Technology Working Group"&gt;WHATWG&lt;/abbr&gt;)
is a loose unofficial collaboration of Web browser manufacturers and
interested parties who wish to develop new technologies designed to
allow authors to write and deploy Applications over the World Wide
Web.&lt;/p&gt;</pre>
  </div>

  <div class="example">
   <p>This paragraph has two abbreviations. Notice how only one is
   defined; the other, with no expansion associated with it, does not
   use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code> element.</p>
   <pre>&lt;p&gt;The
&lt;abbr title="Web Hypertext Application Technology Working Group"&gt;WHATWG&lt;/abbr&gt;
started working on HTML5 in 2004.&lt;/p&gt;</pre>
  </div>

  <div class="example">
   <p>This paragraph links an abbreviation to its definition.</p>
   <pre>&lt;p&gt;The &lt;a href="#whatwg"&gt;&lt;abbr
title="Web Hypertext Application Technology Working Group"&gt;WHATWG&lt;/abbr&gt;&lt;/a&gt;
community does not have much representation from Asia.&lt;/p&gt;</pre>
  </div>

  <div class="example">
   <p>This paragraph marks up an abbreviation without giving an
   expansion, possibly as a hook to apply styles for abbreviations
   (e.g. smallcaps).</p>
   <pre>&lt;p&gt;Philip` and Dashiva both denied that they were going to
get the issue counts from past revisions of the specification to
backfill the &lt;abbr&gt;WHATWG&lt;/abbr&gt; issue graph.&lt;/p&gt;</pre>
  </div>

  <p>If an abbreviation is pluralized, the expansion's grammatical
  number (plural vs singular) must match the grammatical number of the
  contents of the element.</p>

  <div class="example">

   <p>Here the plural is outside the element, so the expansion is in
   the singular:</p>

   <pre>&lt;p&gt;Two &lt;abbr title="Working Group"&gt;WG&lt;/abbr&gt;s worked on
this specification: the &lt;abbr&gt;WHATWG&lt;/abbr&gt; and the
&lt;abbr&gt;HTMLWG&lt;/abbr&gt;.&lt;/p&gt;</pre>

   <p>Here the plural is inside the element, so the expansion is in
   the plural:</p>

   <pre>&lt;p&gt;Two &lt;abbr title="Working Groups"&gt;WGs&lt;/abbr&gt; worked on
this specification: the &lt;abbr&gt;WHATWG&lt;/abbr&gt; and the
&lt;abbr&gt;HTMLWG&lt;/abbr&gt;.&lt;/p&gt;</pre>

  </div>

  <p>Abbreviations do not have to be marked up using this element. It
  is expected to be useful in the following cases:</p>

  <ul><li>Abbreviations for which the author wants to give expansions,
   where using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code> element with a <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute is an alternative to
   including the expansion inline (e.g. in parentheses).</li>

   <li>Abbreviations that are likely to be unfamiliar to the
   document's readers, for which authors are encouraged to either mark
   up the abbreviation using an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code> element with a <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute or include the expansion
   inline in the text the first time the abbreviation is used.</li>

   <li>Abbreviations whose presence needs to be semantically
   annotated, e.g. so that they can be identified from a style sheet
   and given specific styles, for which the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code> element
   can be used without a <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code>
   attribute.</li>

  </ul><p title="note">Providing an expansion in a <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute once will not necessarily
  cause other <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code> elements in the same document with the
  same contents but without a <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code>
  attribute to behave as if they had the same expansion. Every
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code> element is independent.</p>



<!--DATA--><!--FORK-->
  <h4 id="the-data-element"><span class="secno">4.6.10 </span>The <dfn><code>data</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-data-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-value">value</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmldataelement">HTMLDataElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-data-value" title="dom-data-value">value</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-data-element">data</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> its
  contents, along with a machine-readable form of those contents in
  the <code title="attr-data-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-value">value</a></code> attribute.</p>

  <p>The <dfn id="attr-data-value" title="attr-data-value"><code>value</code></dfn>
  attribute must be present. Its value must be a representation of the
  element's contents in a machine-readable format.</p>

  <p class="note">When the value is date- or time-related, the more
  specific <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element can be used instead.</p>

  <p>The element can be used for several purposes.</p>

  <p>When combined with microformats or the <a href="http://www.whatwg.org/specs/web-apps/current-work/#microdata">microdata attributes</a> defined in this
  specification, the element serves to provide both a machine-readable
  value for the purposes of data processors, and a human-readable value
  for the purposes of rendering in a Web browser. In this case, the
  format to be used in the <code title="attr-data-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-value">value</a></code>
  attribute is determined by the microformats or microdata
  vocabulary in use.</p>

  <p>The element can also, however, be used in conjunction with
  scripts in the page, for when a script has a literal value to store
  alongside a human-readable value. In such cases, the format to be
  used depends only on the needs of the script. (The <code title="attr-data-*"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-data-*">data-*</a></code> attributes can also be useful in
  such situations.)</p>

  <div class="impl">

  <p>The <dfn id="dom-data-value" title="dom-data-value"><code>value</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name.</p>

  </div>

  <div class="example">

   <p>Here, a short table has its numeric values encoded using
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-data-element">data</a></code> so that a script can provide a sorting mechanism
   on each column, despite the numbers being presented in textual
   form in one column and in a decomposed form in another.</p>

   <pre>&lt;table class="sortable"&gt; &lt;!-- class used by script to find tables to which to add sorting controls --&gt;
 &lt;thead&gt; &lt;tr&gt; &lt;th&gt; Game &lt;th&gt; Corporations &lt;th&gt; Map Size
 &lt;tbody&gt;
  &lt;tr&gt; &lt;td&gt; 1830 &lt;td&gt; &lt;data value="8"&gt;Eight&lt;/data&gt; &lt;td&gt; &lt;data value="93"&gt;19+74 hexes (93 total)&lt;/data&gt;
  &lt;tr&gt; &lt;td&gt; 1856 &lt;td&gt; &lt;data value="11"&gt;Eleven&lt;/data&gt; &lt;td&gt; &lt;data value="99"&gt;12+87 hexes (99 total)&lt;/data&gt;
  &lt;tr&gt; &lt;td&gt; 1870 &lt;td&gt; &lt;data value="10"&gt;Ten&lt;/data&gt; &lt;td&gt; &lt;data value="149"&gt;4+145 hexes (149 total)&lt;/data&gt;
&lt;/table&gt;</pre>

  </div>
<!--DATA--><!--FORK-->




  <h4 id="the-time-element"><span class="secno">4.6.11 </span>The <dfn><code>time</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-time-datetime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-time-datetime">datetime</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmltimeelement">HTMLTimeElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-time-datetime" title="dom-time-datetime">datetime</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> its
  contents, along with a machine-readable form of those contents in
  the <code title="attr-time-datetime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-time-datetime">datetime</a></code> attribute. The
  kind of content is limited to various kinds of dates, times,
  time-zone offsets, and durations, as described below.</p>

  <p>The <dfn id="attr-time-datetime" title="attr-time-datetime"><code>datetime</code></dfn>
  attribute may be present. If present, its value must be a
  representation of the element's contents in a machine-readable
  format.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element that does not have a <code title="attr-time-datetime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-time-datetime">datetime</a></code> content attribute must
  not have any element descendants.</p>

  <p>The <dfn id="datetime-value">datetime value</dfn> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element is
  the value of the element's <code title="attr-time-datetime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-time-datetime">datetime</a></code> content attribute, if
  it has one, or the element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textcontent">textContent</a></code>, if it does
  not.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element
  must match one of the following syntaxes.</p>

  <dl><dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-month-string">valid month string</a></dt>

   <dd>

    <pre class="example">&lt;time&gt;2011-11&lt;/time&gt;</pre>

   </dd>


   <dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-date-string">valid date string</a></dt>

   <dd>

    <pre class="example">&lt;time&gt;2011-11-12&lt;/time&gt;</pre>

   </dd>


   <dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-yearless-date-string">valid yearless date string</a></dt>

   <dd>

    <pre class="example">&lt;time&gt;11-12&lt;/time&gt;</pre>

   </dd>


   <dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-time-string">valid time string</a></dt>

   <dd>

    <pre class="example">&lt;time&gt;14:54&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;14:54:39&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;14:54:39.92922&lt;/time&gt;</pre>

   </dd>


   <dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-local-date-and-time-string">valid local date and time string</a></dt>

   <dd>

    <pre class="example">&lt;time&gt;2011-11-12T14:54&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T14:54:39&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T14:54:39.92922&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 14:54&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 14:54:39&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 14:54:39.92922&lt;/time&gt;</pre>

   </dd>


   <dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-time-zone-offset-string">valid time-zone offset string</a></dt>

   <dd>

    <pre class="example">&lt;time&gt;Z&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;+0000&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;+00:00&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;-0800&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;-08:00&lt;/time&gt;</pre>

   </dd>


   <dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-global-date-and-time-string">valid global date and time string</a></dt>

   <dd>

    <pre class="example">&lt;time&gt;2011-11-12T14:54Z&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T14:54:39Z&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T14:54:39.92922Z&lt;/time&gt;</pre>

    <pre class="example">&lt;time&gt;2011-11-12T14:54+0000&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T14:54:39+0000&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T14:54:39.92922+0000&lt;/time&gt;</pre> 

    <pre class="example">&lt;time&gt;2011-11-12T14:54+00:00&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T14:54:39+00:00&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T14:54:39.92922+00:00&lt;/time&gt;</pre>

    <pre class="example">&lt;time&gt;2011-11-12T06:54-0800&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T06:54:39-0800&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T06:54:39.92922-0800&lt;/time&gt;</pre>

    <pre class="example">&lt;time&gt;2011-11-12T06:54-08:00&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T06:54:39-08:00&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12T06:54:39.92922-08:00&lt;/time&gt;</pre>

    <pre class="example">&lt;time&gt;2011-11-12 14:54Z&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 14:54:39Z&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 14:54:39.92922Z&lt;/time&gt;</pre>

    <pre class="example">&lt;time&gt;2011-11-12 14:54+0000&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 14:54:39+0000&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 14:54:39.92922+0000&lt;/time&gt;</pre> 

    <pre class="example">&lt;time&gt;2011-11-12 14:54+00:00&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 14:54:39+00:00&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 14:54:39.92922+00:00&lt;/time&gt;</pre>

    <pre class="example">&lt;time&gt;2011-11-12 06:54-0800&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 06:54:39-0800&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 06:54:39.92922-0800&lt;/time&gt;</pre>

    <pre class="example">&lt;time&gt;2011-11-12 06:54-08:00&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 06:54:39-08:00&lt;/time&gt;</pre>
    <pre class="example">&lt;time&gt;2011-11-12 06:54:39.92922-08:00&lt;/time&gt;</pre>

   </dd>


   <dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-week-string">valid week string</a></dt>

   <dd>

    <pre class="example">&lt;time&gt;2011-W46&lt;/time&gt;</pre>

   </dd>


   <dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative integer</a> representing a year</dt>

   <dd>

    <pre class="example">&lt;time&gt;2011&lt;/time&gt;</pre>

   </dd>


   <dt>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-duration-string">valid duration string</a></dt>

   <dd>

    <pre class="example">&lt;time&gt;PT4H18M3S&lt;/time&gt;</pre>

    <pre class="example">&lt;time&gt;4h 18m 3s&lt;/time&gt;</pre>

   </dd>

  </dl><div class="impl">

  <p>The machine-readable equivalent of the element's contents must be
  obtained from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a> by using the
  following algorithm:</p>

  <ol><li><p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-month-string" title="parse a month string">parsing a month
   string</a> from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a>
   returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-month" title="concept-month">month</a>, that is the
   machine-readable equivalent; abort these steps.</p></li>

   <li><p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-date-string" title="parse a date string">parsing a date
   string</a> from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a>
   returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-date" title="concept-date">date</a>, that is the
   machine-readable equivalent; abort these steps.</p></li>

   <li><p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-yearless-date-string" title="parse a yearless date string">parsing a
   yearless date string</a> from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime
   value</a> returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-yearless-date" title="concept-yearless-date">yearless date</a>, that is the
   machine-readable equivalent; abort these steps.</p></li>

   <li><p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-time-string" title="parse a time string">parsing a time
   string</a> from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a>
   returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-time" title="concept-time">time</a>, that is the
   machine-readable equivalent; abort these steps.</p></li>

   <li><p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-local-date-and-time-string" title="parse a local date and time string">parsing
   a local date and time string</a> from the element's
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a> returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime-local" title="concept-datetime-local">local date and time</a>, that is
   the machine-readable equivalent; abort these steps.</p></li>

   <li><p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-time-zone-offset-string" title="parse a time-zone offset string">parsing a
   time-zone offset string</a> from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime
   value</a> returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-timezone" title="concept-timezone">time-zone
   offset</a>, that is the machine-readable equivalent; abort
   these steps.</p></li>

   <li><p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-global-date-and-time-string" title="parse a global date and time
   string">parsing a global date and time string</a> from the
   element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a> returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime" title="concept-datetime">global date and time</a>, that is the
   machine-readable equivalent; abort these steps.</p></li>

   <li><p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-week-string" title="parse a week string">parsing a week
   string</a> from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a>
   returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-week" title="concept-week">week</a>, that is the
   machine-readable equivalent; abort these steps.</p></li>

   <li><p>If the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a> consists of
   only characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT
   NINE (9), then the machine-readable equivalent is the base-ten
   interpretation of those digits, representing a year; abort these
   steps.</p></li>

   <li><p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-duration-string" title="parse a duration string">parsing a duration
   string</a> from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#datetime-value">datetime value</a>
   returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-duration" title="concept-duration">duration</a>, that is
   the machine-readable equivalent; abort these steps.</p></li>

   <li><p>There is no machine-readable equivalent.</p></li>

  </ol><p class="note">The algorithms referenced above are intended to be
  designed such that for any arbitrary string <var title="">s</var>,
  only one of the algorithms returns a value. A more efficient
  approach might be to create a single algorithm that parses all these
  data types in one pass; developing such an algorithm is left as an
  exercise to the reader.</p>

  <p>The <dfn id="dom-time-datetime" title="dom-time-datetime"><code>datetime</code></dfn>
  IDL attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name.</p>

  </div>

  <div class="example">

   <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element can be used to encode dates, for
   example in microformats. The following shows a hypothetical way of
   encoding an event using a variant on hCalendar that uses the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element:</p>

   <pre>&lt;div class="vevent"&gt;
 &lt;a class="url" href="http://www.web2con.com/"&gt;http://www.web2con.com/&lt;/a&gt;
  &lt;span class="summary"&gt;Web 2.0 Conference&lt;/span&gt;:
  &lt;time class="dtstart" datetime="2005-10-05"&gt;October 5&lt;/time&gt; -
  &lt;time class="dtend" datetime="2005-10-07"&gt;7&lt;/time&gt;,
  at the &lt;span class="location"&gt;Argent Hotel, San Francisco, CA&lt;/span&gt;
 &lt;/div&gt;</pre>

  </div>

  <div class="example">

   <p>Here, a fictional microdata vocabulary based on the Atom
   vocabulary is used with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element to mark up a
   blog post's publication date.</p>

   <pre>&lt;article itemscope itemtype="http://n.example.org/rfc4287"&gt;
 &lt;h1 itemprop="title"&gt;Big tasks&lt;/h1&gt;
 &lt;footer&gt;Published &lt;time itemprop="published" datetime="2009-08-29"&gt;two days ago&lt;/time&gt;.&lt;/footer&gt;
 &lt;p itemprop="content"&gt;Today, I went out and bought a bike for my kid.&lt;/p&gt;
&lt;/article&gt;</pre>

  </div>

<!--FORK-->
  <div class="example">

   <p>In this example, another article's publication date is marked up
   using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code>, this time using the schema.org microdata
   vocabulary:</p>

   <pre>&lt;article itemscope itemtype="http://schema.org/BlogPosting"&gt;
 &lt;h1 itemprop="headline"&gt;Small tasks&lt;/h1&gt;
 &lt;footer&gt;Published &lt;time itemprop="datePublished" datetime="2009-08-30"&gt;yesterday&lt;/time&gt;.&lt;/footer&gt;
 &lt;p itemprop="articleBody"&gt;I put a bike bell on his bike.&lt;/p&gt;
&lt;/article&gt;</pre>

  </div>
<!--FORK-->

  <div class="example">

   <p>In the following snippet, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element is used
   to encode a date in the ISO8601 format, for later processing by a
   script:</p>

   <pre>&lt;p&gt;Our first date was &lt;time datetime="2006-09-23"&gt;a Saturday&lt;/time&gt;.&lt;/p&gt;</pre>

   <p>In this second snippet, the value includes a time:</p>

   <pre>&lt;p&gt;We stopped talking at &lt;time datetime="2006-09-24T05:00-07:00"&gt;5am the next morning&lt;/time&gt;.&lt;/p&gt;</pre>

   <p>A script loaded by the page (and thus privy to the page's
   internal convention of marking up dates and times using the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> element) could scan through the page and look at
   all the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code> elements therein to create an index of
   dates and times.</p>

  </div>

  <div class="example">

   <p>For example, this element conveys the string "Tuesday" with
   the additional semantic that the 12th of November 2011 is the
   meaning that corresponds to "Tuesday":</p>

   <pre>Today is &lt;time datetime="2011-11-12"&gt;Tuesday&lt;/time&gt;.</pre>

  </div>

  <div class="example">

   <p>In this example, a specific time in the Pacific Standard Time
   timezone is specified:</p>

   <pre>Your next meeting is at &lt;time datetime="2011-11-12T15:00-08:00"&gt;3pm&lt;/time&gt;.</pre>

  </div>




  <h4 id="the-code-element"><span class="secno">4.6.12 </span>The <dfn><code>code</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-code-element">code</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a fragment
  of computer code. This could be an XML element name, a filename, a
  computer program, or any other string that a computer would
  recognize.</p>

  <p>Although there is no formal way to indicate the language of
  computer code being marked up, authors who wish to mark
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-code-element">code</a></code> elements with the language used, e.g. so that
  syntax highlighting scripts can use the right rules, may do so by
  adding a class prefixed with "<code title="">language-</code>" to
  the element.</p>

  <div class="example">

   <p>The following example shows how the element can be used in a
   paragraph to mark up element names and computer code, including
   punctuation.</p>

   <pre>&lt;p&gt;The &lt;code&gt;code&lt;/code&gt; element represents a fragment of computer
code.&lt;/p&gt;

&lt;p&gt;When you call the &lt;code&gt;activate()&lt;/code&gt; method on the
&lt;code&gt;robotSnowman&lt;/code&gt; object, the eyes glow.&lt;/p&gt;

&lt;p&gt;The example below uses the &lt;code&gt;begin&lt;/code&gt; keyword to indicate
the start of a statement block. It is paired with an &lt;code&gt;end&lt;/code&gt;
keyword, which is followed by the &lt;code&gt;.&lt;/code&gt; punctuation character
(full stop) to indicate the end of the program.&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>The following example shows how a block of code could be marked
   up using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-code-element">code</a></code> elements.</p>

   <pre>&lt;pre&gt;&lt;code class="language-pascal"&gt;var i: Integer;
begin
   i := 1;
end.&lt;/code&gt;&lt;/pre&gt;</pre>

   <p>A class is used in that example to indicate the language
   used.</p>

  </div>

  <p class="note">See the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> element for more details.</p>


  <h4 id="the-var-element"><span class="secno">4.6.13 </span>The <dfn><code>var</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element">var</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a variable.
  This could be an actual variable in a mathematical expression or
  programming context, an identifier representing a constant, a
  function parameter, or just be a term used as a placeholder in
  prose.</p>

  <div class="example">
   <p>In the paragraph below, the letter "n" is being used as a
   variable in prose:</p>
   <pre>&lt;p&gt;If there are &lt;var&gt;n&lt;/var&gt; pipes leading to the ice
cream factory then I expect at &lt;em&gt;least&lt;/em&gt; &lt;var&gt;n&lt;/var&gt;
flavors of ice cream to be available for purchase!&lt;/p&gt;</pre>
  </div>

  <p>For mathematics, in particular for anything beyond the simplest
  of expressions, MathML is more appropriate. However, the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element">var</a></code> element can still be used to refer to specific
  variables that are then mentioned in MathML expressions.</p>

  <div class="example">

   <p>In this example, an equation is shown, with a legend that
   references the variables in the equation. The expression itself is
   marked up with MathML, but the variables are mentioned in the
   figure's legend using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element">var</a></code>.</p>

   <pre>&lt;figure&gt;
 &lt;math&gt;
  &lt;mi&gt;a&lt;/mi&gt;
  &lt;mo&gt;=&lt;/mo&gt;
  &lt;msqrt&gt;
   &lt;msup&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;
   &lt;mi&gt;+&lt;/mi&gt;
   &lt;msup&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;
  &lt;/msqrt&gt;
 &lt;/math&gt;
 &lt;figcaption&gt;
  Using Pythagoras' theorem to solve for the hypotenuse &lt;var&gt;a&lt;/var&gt; of
  a triangle with sides &lt;var&gt;b&lt;/var&gt; and &lt;var&gt;c&lt;/var&gt;
 &lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  </div>

  <div class="example">

   <p>Here, the equation describing mass-energy equivalence is used in
   a sentence, and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element">var</a></code> element is used to mark the
   variables and constants in that equation:</p>

   <pre>&lt;p&gt;Then he turned to the blackboard and picked up the chalk. After a few moment's
thought, he wrote &lt;var&gt;E&lt;/var&gt; = &lt;var&gt;m&lt;/var&gt; &lt;var&gt;c&lt;/var&gt;&lt;sup&gt;2&lt;/sup&gt;. The teacher
looked pleased.&lt;/p&gt;</pre>

  </div>


  <h4 id="the-samp-element"><span class="secno">4.6.14 </span>The <dfn><code>samp</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> (sample)
  output from a program or computing system.</p>

  <p class="note">See the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-pre-element">pre</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code>
  elements for more details.</p>

  <div class="example">
   <p>This example shows the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code> element being used
   inline:</p>
   <pre>&lt;p&gt;The computer said &lt;samp&gt;Too much cheese in tray
two&lt;/samp&gt; but I didn't know what that meant.&lt;/p&gt;</pre>

   <p>This second example shows a block of sample output. Nested
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code> elements allow for the
   styling of specific elements of the sample output using a
   style sheet.</p>

   <pre>&lt;pre&gt;&lt;samp&gt;&lt;span class="prompt"&gt;jdoe@mowmow:~$&lt;/span&gt; &lt;kbd&gt;ssh demo.example.com&lt;/kbd&gt;
Last login: Tue Apr 12 09:10:17 2005 from mowmow.example.com on pts/1
Linux demo 2.6.10-grsec+gg3+e+fhs6b+nfs+gr0501+++p3+c4a+gr2b-reslog-v6.189 #1 SMP Tue Feb 1 11:22:36 PST 2005 i686 unknown

&lt;span class="prompt"&gt;jdoe@demo:~$&lt;/span&gt; &lt;span class="cursor"&gt;_&lt;/span&gt;&lt;/samp&gt;&lt;/pre&gt;</pre>
  </div>


  <h4 id="the-kbd-element"><span class="secno">4.6.15 </span>The <dfn><code>kbd</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> user input
  (typically keyboard input, although it may also be used to represent
  other input, such as voice commands).</p>

  <p>When the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code> element is nested inside a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code> element, it represents the input as it was echoed
  by the system.</p>

  <p>When the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code> element <em>contains</em> a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code> element, it represents input based on system
  output, for example invoking a menu item.</p>

  <p>When the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code> element is nested inside another
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code> element, it represents an actual key or other
  single unit of input as appropriate for the input mechanism.</p>

  <div class="example">
   <p>Here the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code> element is used to indicate keys to press:</p>
   <pre>&lt;p&gt;To make George eat an apple, press &lt;kbd&gt;&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;F3&lt;/kbd&gt;&lt;/kbd&gt;&lt;/p&gt;</pre>

   <p>In this second example, the user is told to pick a particular
   menu item. The outer <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code> element marks up a block of
   input, with the inner <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code> elements representing each
   individual step of the input, and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code> elements
   inside them indicating that the steps are input based on something
   being displayed by the system, in this case menu labels:</p>

   <pre>&lt;p&gt;To make George eat an apple, select
    &lt;kbd&gt;&lt;kbd&gt;&lt;samp&gt;File&lt;/samp&gt;&lt;/kbd&gt;|&lt;kbd&gt;&lt;samp&gt;Eat Apple...&lt;/samp&gt;&lt;/kbd&gt;&lt;/kbd&gt;
&lt;/p&gt;</pre>

   <p>Such precision isn't necessary; the following is equally fine:</p>

   <pre>&lt;p&gt;To make George eat an apple, select &lt;kbd&gt;File | Eat Apple...&lt;/kbd&gt;&lt;/p&gt;</pre>

  </div>


  <h4 id="the-sub-and-sup-elements"><span class="secno">4.6.16 </span>The <dfn id="the-sub-element"><code>sub</code></dfn> and <dfn id="the-sup-element"><code>sup</code></dfn> elements</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Use <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sup</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a
  superscript and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sub</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a>
  a subscript.</p>

  <p>These elements must be used only to mark up typographical
  conventions with specific meanings, not for typographical
  presentation for presentation's sake. For example, it would be
  inappropriate for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sub</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sup</a></code> elements
  to be used in the name of the LaTeX document preparation system. In
  general, authors should use these elements only if the
  <em>absence</em> of those elements would change the meaning of the
  content.</p>

  <p>In certain languages, superscripts are part of the typographical
  conventions for some abbreviations.</p>

  <div class="example">
   <pre>&lt;p&gt;The most beautiful women are
&lt;span lang="fr"&gt;&lt;abbr&gt;M&lt;sup&gt;lle&lt;/sup&gt;&lt;/abbr&gt; Gwendoline&lt;/span&gt; and
&lt;span lang="fr"&gt;&lt;abbr&gt;M&lt;sup&gt;me&lt;/sup&gt;&lt;/abbr&gt; Denise&lt;/span&gt;.&lt;/p&gt;</pre>
  </div>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sub</a></code> element can be used inside a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element">var</a></code> element, for variables that have subscripts.</p>

  <div class="example">

   <p>Here, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sub</a></code> element is used to represents the
   subscript that identifies the variable in a family of
   variables:</p>

   <pre>&lt;p&gt;The coordinate of the &lt;var&gt;i&lt;/var&gt;th point is
(&lt;var&gt;x&lt;sub&gt;&lt;var&gt;i&lt;/var&gt;&lt;/sub&gt;&lt;/var&gt;, &lt;var&gt;y&lt;sub&gt;&lt;var&gt;i&lt;/var&gt;&lt;/sub&gt;&lt;/var&gt;).
For example, the 10th point has coordinate
(&lt;var&gt;x&lt;sub&gt;10&lt;/sub&gt;&lt;/var&gt;, &lt;var&gt;y&lt;sub&gt;10&lt;/sub&gt;&lt;/var&gt;).&lt;/p&gt;</pre>
  </div>

  <p>Mathematical expressions often use subscripts and superscripts.
  Authors are encouraged to use MathML for marking up mathematics, but
  authors may opt to use <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sub</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sup</a></code> if
  detailed mathematical markup is not desired. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMATHML">[MATHML]</a></p>

  <div class="example">
   <pre>&lt;var&gt;E&lt;/var&gt;=&lt;var&gt;m&lt;/var&gt;&lt;var&gt;c&lt;/var&gt;&lt;sup&gt;2&lt;/sup&gt;</pre>
   <pre>f(&lt;var&gt;x&lt;/var&gt;, &lt;var&gt;n&lt;/var&gt;) = log&lt;sub&gt;4&lt;/sub&gt;&lt;var&gt;x&lt;/var&gt;&lt;sup&gt;&lt;var&gt;n&lt;/var&gt;&lt;/sup&gt;</pre>
  </div>



  <h4 id="the-i-element"><span class="secno">4.6.17 </span>The <dfn><code>i</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a span of text
  in an alternate voice or mood, or otherwise offset from the normal
  prose in a manner indicating a different quality of text, such as a
  taxonomic designation, a technical term, an idiomatic phrase from
  another language, a thought, or a ship name in Western texts.</p>

  <p>Terms in languages different from the main text should be
  annotated with <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code> attributes (or,
  in XML, <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-xml-lang" title="attr-xml-lang"><code title="">lang</code>
  attributes in the <span>XML namespace</span></a>).</p>

  <div class="example">
   <p>The examples below show uses of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> element:</p>
   <pre>&lt;p&gt;The &lt;i class="taxonomy"&gt;Felis silvestris catus&lt;/i&gt; is cute.&lt;/p&gt;
&lt;p&gt;The term &lt;i&gt;prose content&lt;/i&gt; is defined above.&lt;/p&gt;
&lt;p&gt;There is a certain &lt;i lang="fr"&gt;je ne sais quoi&lt;/i&gt; in the air.&lt;/p&gt;</pre>
   <p>In the following example, a dream sequence is marked up using
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> elements.</p>
   <pre>&lt;p&gt;Raymond tried to sleep.&lt;/p&gt;
&lt;p&gt;&lt;i&gt;The ship sailed away on Thursday&lt;/i&gt;, he
dreamt. &lt;i&gt;The ship had many people aboard, including a beautiful
princess called Carey. He watched her, day-in, day-out, hoping she
would notice him, but she never did.&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Finally one night he picked up the courage to speak with
her—&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;Raymond woke with a start as the fire alarm rang out.&lt;/p&gt;</pre>
  </div>

  <p>Authors can use the <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code>
  attribute on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> element to identify why the element
  is being used, so that if the style of a particular use (e.g. dream
  sequences as opposed to taxonomic terms) is to be changed at a later
  date, the author doesn't have to go through the entire document (or
  series of related documents) annotating each use.</p>

  <p>Authors are encouraged to consider whether other elements might
  be more applicable than the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> element, for instance the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code> element for marking up stress emphasis, or the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code> element to mark up the defining instance of a
  term.</p>

  <p class="note">Style sheets can be used to format <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code>
  elements, just like any other element can be restyled. Thus, it is
  not the case that content in <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> elements will
  necessarily be italicized.</p>


  <h4 id="the-b-element"><span class="secno">4.6.18 </span>The <dfn><code>b</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a span of text
  to which attention is being drawn for utilitarian purposes without
  conveying any extra importance and with no implication of an
  alternate voice or mood, such as key words in a document abstract,
  product names in a review, actionable words in interactive
  text-driven software, or an article lede.</p>

  <div class="example">
   <p>The following example shows a use of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code> element
   to highlight key words without marking them up as important:</p>
   <pre>&lt;p&gt;The &lt;b&gt;frobonitor&lt;/b&gt; and &lt;b&gt;barbinator&lt;/b&gt; components are fried.&lt;/p&gt;</pre>
  </div>

  <div class="example">
   <p>In the following example, objects in a text adventure are
   highlighted as being special by use of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code>
   element.</p>
   <pre>&lt;p&gt;You enter a small room. Your &lt;b&gt;sword&lt;/b&gt; glows
brighter. A &lt;b&gt;rat&lt;/b&gt; scurries past the corner wall.&lt;/p&gt;</pre>
  </div>

  <div class="example">
   <p>Another case where the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code> element is appropriate is
   in marking up the lede (or lead) sentence or paragraph. The
   following example shows how a <a href="http://news.bbc.co.uk/2/hi/uk_news/scotland/north_east/7101506.stm">BBC
   article about kittens adopting a rabbit as their own</a> could be
   marked up:</p>
   <pre>&lt;article&gt;
 &lt;h2&gt;Kittens 'adopted' by pet rabbit&lt;/h2&gt;
 &lt;p&gt;&lt;b class="lede"&gt;Six abandoned kittens have found an
 unexpected new mother figure — a pet rabbit.&lt;/b&gt;&lt;/p&gt;
 &lt;p&gt;Veterinary nurse Melanie Humble took the three-week-old
 kittens to her Aberdeen home.&lt;/p&gt;
<i>[...]</i></pre>
  </div>

  <p>As with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> element, authors can use the <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code> attribute on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code>
  element to identify why the element is being used, so that if the
  style of a particular use is to be changed at a later date, the
  author doesn't have to go through annotating each use.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code> element should be used as a last resort when
  no other element is more appropriate. In particular, headings should
  use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h6</a></code> elements, stress emphasis
  should use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code> element, importance should be denoted
  with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code> element, and text marked or highlighted
  should use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code> element.</p>

  <div class="example">
   <p>The following would be <em>incorrect</em> usage:</p>
   <pre class="bad">&lt;p&gt;&lt;b&gt;WARNING!&lt;/b&gt; Do not frob the barbinator!&lt;/p&gt;</pre>
   <p>In the previous example, the correct element to use would have
   been <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code>, not <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code>.</p>
  </div>

  <p class="note">Style sheets can be used to format <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code>
  elements, just like any other element can be restyled. Thus, it is
  not the case that content in <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code> elements will
  necessarily be boldened.</p>



  <h4 id="the-u-element"><span class="secno">4.6.19 </span>The <dfn><code>u</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element">u</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a span of text
  with an unarticulated, though explicitly rendered, non-textual
  annotation, such as labeling the text as being a proper name in
  Chinese text (a Chinese proper name mark), or labeling the text as
  being misspelt.</p>

  <p>In most cases, another element is likely to be more appropriate:
  for marking stress emphasis, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code> element should be
  used; for marking key words or phrases either the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code>
  element or the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code> element should be used, depending
  on the context; for marking book titles, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code>
  element should be used<!-- even for the Chinese wavy underline 'book
  title mark' -->; for labeling text with explicit textual
  annotations, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element should be used; for
  labeling ship names in Western texts, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code> element
  should be used.</p>

  <p class="note">The default rendering of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element">u</a></code> element
  in visual presentations clashes with the conventional rendering of
  hyperlinks (underlining). Authors are encouraged to avoid using the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element">u</a></code> element where it could be confused for a
  hyperlink.</p>




  <h4 id="the-mark-element"><span class="secno">4.6.20 </span>The <dfn><code>mark</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><!-- v2: attribute that means "highlight this on the scrollbar" --><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a run of
  text in one document marked or highlighted for reference purposes,
  due to its relevance in another context. When used in a quotation or
  other block of text referred to from the prose, it indicates a
  highlight that was not originally present but which has been added
  to bring the reader's attention to a part of the text that might not
  have been considered important by the original author when the block
  was originally written, but which is now under previously unexpected
  scrutiny. When used in the main prose of a document, it indicates a
  part of the document that has been highlighted due to its likely
  relevance to the user's current activity.</p>

  <div class="example">
   <p>This example shows how the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code> element can be used
   to bring attention to a particular part of a quotation:</p>
   <pre>&lt;p lang="en-US"&gt;Consider the following quote:&lt;/p&gt;
&lt;blockquote lang="en-GB"&gt;
 &lt;p&gt;Look around and you will find, no-one's really
 &lt;mark&gt;colour&lt;/mark&gt; blind.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p lang="en-US"&gt;As we can tell from the &lt;em&gt;spelling&lt;/em&gt; of the word,
the person writing this quote is clearly not American.&lt;/p&gt;</pre>
   <p>(If the goal was to mark the element as misspelt, however, the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element">u</a></code> element, possibly with a class, would be more
   appropriate.)</p>
  </div>

  <div class="example">

   <p>Another example of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code> element is highlighting
   parts of a document that are matching some search string. If
   someone looked at a document, and the server knew that the user was
   searching for the word "kitten", then the server might return the
   document with one paragraph modified as follows:</p>

   <pre>&lt;p&gt;I also have some &lt;mark&gt;kitten&lt;/mark&gt;s who are visiting me
these days. They're really cute. I think they like my garden! Maybe I
should adopt a &lt;mark&gt;kitten&lt;/mark&gt;.&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>In the following snippet, a paragraph of text refers to a
   specific part of a code fragment.</p>

   <pre>&lt;p&gt;The highlighted part below is where the error lies:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var i: Integer;
begin
   i := &lt;mark&gt;1.1&lt;/mark&gt;;
end.&lt;/code&gt;&lt;/pre&gt;</pre>

   <p>This is separate from <em>syntax highlighting</em>, for which
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> is more appropriate. Combining both, one would
   get:</p>

   <pre>&lt;p&gt;The highlighted part below is where the error lies:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span class=keyword&gt;var&lt;/span&gt; &lt;span class=ident&gt;i&lt;/span&gt;: &lt;span class=type&gt;Integer&lt;/span&gt;;
&lt;span class=keyword&gt;begin&lt;/span&gt;
   &lt;span class=ident&gt;i&lt;/span&gt; := &lt;span class=literal&gt;&lt;mark&gt;1.1&lt;/mark&gt;&lt;/span&gt;;
&lt;span class=keyword&gt;end&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;</pre>

  </div>

  <div class="example">

   <p>This is another example showing the use of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code> to
   highlight a part of quoted text that was originally not
   emphasized. In this example, common typographic conventions have
   led the author to explicitly style <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code> elements in
   quotes to render in italics.</p>

   <pre>&lt;article&gt;
 &lt;style scoped&gt;
  blockquote mark, q mark {
    font: inherit; font-style: italic;
    text-decoration: none;
    background: transparent; color: inherit;
  }
  .bubble em {
    font: inherit; font-size: larger;
    text-decoration: underline;
  }
 &lt;/style&gt;
 &lt;h1&gt;She knew&lt;/h1&gt;
 &lt;p&gt;Did you notice the subtle joke in the joke on panel 4?&lt;/p&gt;
 &lt;blockquote&gt;
  &lt;p class="bubble"&gt;I didn't &lt;em&gt;want&lt;/em&gt; to believe. &lt;mark&gt;Of course
  on some level I realized it was a known-plaintext attack.&lt;/mark&gt; But I
  couldn't admit it until I saw for myself.&lt;/p&gt;
 &lt;/blockquote&gt;
 &lt;p&gt;(Emphasis mine.) I thought that was great. It's so pedantic, yet it
 explains everything neatly.&lt;/p&gt;
&lt;/article&gt;</pre>

   <p>Note, incidentally, the distinction between the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code>
   element in this example, which is part of the original text being
   quoted, and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code> element, which is highlighting a
   part for comment.</p>

  </div>

  <div class="example">

   <p>The following example shows the difference between denoting the
   <em>importance</em> of a span of text (<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code>) as
   opposed to denoting the <em>relevance</em> of a span of text
   (<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code>). It is an extract from a textbook, where the
   extract has had the parts relevant to the exam highlighted. The
   safety warnings, important though they may be, are apparently not
   relevant to the exam.</p>

   <pre>&lt;h3&gt;Wormhole Physics Introduction&lt;/h3&gt;

&lt;p&gt;&lt;mark&gt;A wormhole in normal conditions can be held open for a
maximum of just under 39 minutes.&lt;/mark&gt; Conditions that can increase
the time include a powerful energy source coupled to one or both of
the gates connecting the wormhole, and a large gravity well (such as a
black hole).&lt;/p&gt;

&lt;p&gt;&lt;mark&gt;Momentum is preserved across the wormhole. Electromagnetic
radiation can travel in both directions through a wormhole,
but matter cannot.&lt;/mark&gt;&lt;/p&gt;

&lt;p&gt;When a wormhole is created, a vortex normally forms.
&lt;strong&gt;Warning: The vortex caused by the wormhole opening will
annihilate anything in its path.&lt;/strong&gt; Vortexes can be avoided when
using sufficiently advanced dialing technology.&lt;/p&gt;

&lt;p&gt;&lt;mark&gt;An obstruction in a gate will prevent it from accepting a
wormhole connection.&lt;/mark&gt;&lt;/p&gt;</pre>

  </div>


  <h4 id="the-ruby-element"><span class="secno">4.6.21 </span>The <dfn><code>ruby</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>One or more groups of: <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> followed either by a single <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code> element, or an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element">rp</a></code> element, an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code> element, and another <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element">rp</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element allows one or more spans of
  phrasing content to be marked with ruby annotations. Ruby
  annotations are short runs of text presented alongside base text,
  primarily used in East Asian typography as a guide for
  pronunciation or to include other annotations. In Japanese, this
  form of typography is also known as <i>furigana</i>.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the spans of
  phrasing content it contains, ignoring all the child <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code>
  and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element">rp</a></code> elements and their descendants. Those spans of
  phrasing content have associated annotations created using the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code> element.</p>

  <div class="example">

   <!-- this is the hiragana for the word "kanji" ("chinese character") in japanese -->
   <!-- in japanese, ruby-like typography is called "furigana" -->

   <p>In this example, each ideograph in the Japanese text <span lang="ja" title="">漢字</span> is annotated with its
   reading in hiragana.</p>

   <pre lang="ja">...
&lt;ruby&gt;漢&lt;rt&gt;かん&lt;/rt&gt;字&lt;rt&gt;じ&lt;/rt&gt;&lt;/ruby&gt;
...</pre>

   <p>This might be rendered as:</p>

   <p><img alt="The two main ideographs, each with its annotation in hiragana rendered in a smaller font above it." height="78" src="./HTML Standard_files/sample-ruby-ja.png" width="171"></p>

  </div>

  <div class="example">

   <!-- this is the bopomofo for the word "hanzi" ("chinese character") in traditional chinese, as used in taiwan -->

   <p>In this example, each ideograph in the traditional Chinese text
   <span lang="zh-TW" title="">漢字</span> is annotated
   with its bopomofo reading.</p>

   <pre lang="zh-TW">&lt;ruby&gt;漢&lt;rt&gt;ㄏㄢˋ&lt;/rt&gt;字&lt;rt&gt;ㄗˋ&lt;/rt&gt;&lt;/ruby&gt;</pre>

   <p>This might be rendered as:</p>

   <p><img alt="The two main ideographs, each with its bopomofo annotation rendered in a smaller font next to it." height="100" src="./HTML Standard_files/sample-ruby-bopomofo.png" width="78"></p>

  </div>

  <div class="example">

   <!-- this is the pinyin for the word "hanzi" ("chinese character") in simplified chinese, as used in mainland china -->

   <p>In this example, each ideograph in the simplified Chinese text
   <span lang="zh-CN" title="">汉字</span> is annotated
   with its pinyin reading.</p>

   <pre lang="zh-CN">...&lt;ruby&gt;汉&lt;rt&gt;hàn&lt;/rt&gt;字&lt;rt&gt;zì&lt;/rt&gt;&lt;/ruby&gt;...</pre>

   <p>This might be rendered as:</p>

   <p><img alt="The two main ideographs, each with its pinyin annotation rendered in a smaller font above it." height="79" src="./HTML Standard_files/sample-ruby-pinyin.png" width="173"></p>

  </div>

  <!-- Note: Examples are 32px/16px Stone Sans Sem ITC TT -->


  <h4 id="the-rt-element"><span class="secno">4.6.22 </span>The <dfn><code>rt</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code> element marks the ruby text component of a
  ruby annotation.</p>

  <p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code> element <span class="impl">that is a child of
  a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element</span> <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> an
  annotation (given by its children) for the zero or more nodes of
  phrasing content that immediately precedes it in the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element, ignoring <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element">rp</a></code> elements.</p>

  <div class="impl">

  <p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code> element that is not a child of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element represents the same thing as its
  children.</p>

  </div>


  <h4 id="the-rp-element"><span class="secno">4.6.23 </span>The <dfn><code>rp</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element, either immediately before or immediately after an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
<!--
   <dd>If the <code>rp</code> element is immediately after an <code>rt</code> element that is immediately preceded by another <code>rp</code> element: a single character from Unicode character class Pe.</dd>
   <dd>Otherwise: a single character from Unicode character class Ps.</dd>
-->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element">rp</a></code> element can be used to provide parentheses
  around a ruby text component of a ruby annotation, to be shown by
  user agents that don't support ruby annotations.</p>

  <p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element">rp</a></code> element <span class="impl">that is a child of
  a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element</span> <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a>
  nothing<span class="impl"> and its contents must be
  ignored</span>. <span class="impl">An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element">rp</a></code> element whose
  parent element is not a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code> element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> its children.</span></p>

  <div class="example">

   <p>The example above, in which each ideograph in the text <span lang="ja" title="">漢字</span> is annotated with its
   phonetic reading, could be expanded to use <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element">rp</a></code> so that in
   legacy user agents the readings are in parentheses:</p>

   <pre lang="ja">...
&lt;ruby&gt;漢&lt;rp&gt; (&lt;/rp&gt;&lt;rt&gt;かん&lt;/rt&gt;&lt;rp&gt;) &lt;/rp&gt;字&lt;rp&gt; (&lt;/rp&gt;&lt;rt&gt;じ&lt;/rt&gt;&lt;rp&gt;) &lt;/rp&gt;&lt;/ruby&gt;
...</pre>

   <p>In conforming user agents the rendering would be as above, but
   in user agents that do not support ruby, the rendering would
   be:</p>

   <pre lang="ja">... 漢 (かん) 字 (じ) ...</pre>

  </div>


  <h4 id="the-bdi-element"><span class="secno">4.6.24 </span>The <dfn><code>bdi</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd>Also, the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> global attribute has special semantics on this element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a span of
  text that is to be isolated from its surroundings for the purposes
  of bidirectional text formatting. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBIDI">[BIDI]</a></p>

  <p class="note">The <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> global
  attribute defaults to <code title="attr-dir-auto"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dir-auto">auto</a></code> on
  this element (it never inherits from the parent element like with
  other elements).</p>

  <div class="impl">

  <p>For the purposes of applying the bidirectional algorithm to the
  contents of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code> element, user agents must treat the
  element as a paragraph-level container.</p>

  <p>For the purposes of applying the bidirectional algorithm to the
  paragraph-level container that a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code> element finds
  itself within, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code> element must be treated like a
  U+FFFC OBJECT REPLACEMENT CHARACTER (in the same manner that an
  image or other inline object is handled).</p>

  <p>The requirements on handling the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code> element for the
  bidirectional algorithm may be implemented indirectly through the
  style layer. For example, an HTML+CSS user agent could implement
  these requirements by implementing the CSS 'unicode-bidi' property.
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>

  </div>

  <div class="example">

   <p>This element is especially useful when embedding user-generated
   content with an unknown directionality.</p>

   <p>In this example, usernames are shown along with the number of
   posts that the user has submitted. If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code> element
   were not used, the username of the Arabic user would end up
   confusing the text (the bidirectional algorithm would put the colon
   and the number "3" next to the word "User" rather than next to the
   word "posts").</p>

   <pre>&lt;ul&gt;
 &lt;li&gt;User &lt;bdi&gt;jcranmer&lt;/bdi&gt;: 12 posts.
 &lt;li&gt;User &lt;bdi&gt;hober&lt;/bdi&gt;: 5 posts.
 &lt;li&gt;User &lt;bdi&gt;<bdo dir="rtl">إيان</bdo>&lt;/bdi&gt;: 3 posts.
&lt;/ul&gt;</pre>

  </div>


  <h4 id="the-bdo-element"><span class="secno">4.6.25 </span>The <dfn><code>bdo</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd>Also, the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> global attribute has special semantics on this element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdo-element">bdo</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> explicit
  text directionality formatting control for its children. It allows
  authors to override the Unicode bidirectional algorithm by
  explicitly specifying a direction override. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBIDI">[BIDI]</a></p>

  <p>Authors must specify the <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code>
  attribute on this element, with the value <code>ltr</code> to
  specify a left-to-right override and with the value <code>rtl</code>
  to specify a right-to-left override.</p>

  <div class="impl">

  <p>If the element's <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is
  in the <i title="attr-dir-rtl-state"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dir-rtl-state">rtl</a></i> state, then for the
  purposes of the bidirectional algorithm, the user agent must act as
  if there was a U+202D LEFT-TO-RIGHT OVERRIDE character at the start
  of the element, and a U+202C POP DIRECTIONAL FORMATTING at the end
  of the element.</p>

  <p>If the element's <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code> attribute is
  in the <i title="attr-dir-ltr-state"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dir-ltr-state">ltr</a></i>, then for the purposes
  of the bidirectional algorithm, the user agent must act as if there
  was a U+202E RIGHT-TO-LEFT OVERRIDE character at the start of the
  element, and a U+202C POP DIRECTIONAL FORMATTING at the end of the
  element.</p>

  <p>The requirements on handling the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdo-element">bdo</a></code> element for the
  bidirectional algorithm may be implemented indirectly through the
  style layer. For example, an HTML+CSS user agent could implement
  these requirements by implementing the CSS 'unicode-bidi' property.
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>

  </div>



  <h4 id="the-span-element"><span class="secno">4.6.26 </span>The <dfn><code>span</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlspanelement">HTMLSpanElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> element doesn't mean anything on its own,
  but can be useful when used together with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">global
  attributes</a>, e.g. <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code>, <code title="attr-lang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-lang">lang</a></code>, or <code title="attr-dir"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dir-attribute">dir</a></code>.
  It <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> its children.</p>

  <div class="example">

   <p>In this example, a code fragment is marked up using
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code> elements and <code title="attr-class"><a href="http://www.whatwg.org/specs/web-apps/current-work/#classes">class</a></code> attributes so that its keywords and
   identifiers can be color-coded from CSS:</p>

   <!-- extract from http://www.cs.cmu.edu/~dst/DeCSS/Gallery/vlc-dvd_css-c.txt -->

   <pre>&lt;pre&gt;&lt;code class="lang-c"&gt;&lt;span class="keyword"&gt;for&lt;/span&gt; (&lt;span class="ident"&gt;j&lt;/span&gt; = 0; &lt;span class="ident"&gt;j&lt;/span&gt; &amp;lt; 256; &lt;span class="ident"&gt;j&lt;/span&gt;++) {
  &lt;span class="ident"&gt;i_t3&lt;/span&gt; = (&lt;span class="ident"&gt;i_t3&lt;/span&gt; &amp; 0x1ffff) | (&lt;span class="ident"&gt;j&lt;/span&gt; &amp;lt;&amp;lt; 17);
  &lt;span class="ident"&gt;i_t6&lt;/span&gt; = (((((((&lt;span class="ident"&gt;i_t3&lt;/span&gt; &gt;&gt; 3) ^ &lt;span class="ident"&gt;i_t3&lt;/span&gt;) &gt;&gt; 1) ^ &lt;span class="ident"&gt;i_t3&lt;/span&gt;) &gt;&gt; 8) ^ &lt;span class="ident"&gt;i_t3&lt;/span&gt;) &gt;&gt; 5) &amp; 0xff;
  &lt;span class="keyword"&gt;if&lt;/span&gt; (&lt;span class="ident"&gt;i_t6&lt;/span&gt; == &lt;span class="ident"&gt;i_t1&lt;/span&gt;)
    &lt;span class="keyword"&gt;break&lt;/span&gt;;
}&lt;/code&gt;&lt;/pre&gt;</pre>

  </div>



  <h4 id="the-br-element"><span class="secno">4.6.27 </span>The <dfn><code>br</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlbrelement">HTMLBRElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a line
  break.</p>

  <p class="note">While line breaks are usually represented in visual
  media by physically moving subsequent text to a new line, a style
  sheet or user agent would be equally justified in causing line
  breaks to be rendered in a different manner, for instance as green
  dots, or as extra spacing.</p>

  <p><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code> elements must be used only for line breaks that
  are actually part of the content, as in poems or addresses.</p>

  <div class="example">

  <p>The following example is correct usage of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code>
  element:</p>

   <pre>&lt;p&gt;P. Sherman&lt;br&gt;
42 Wallaby Way&lt;br&gt;
Sydney&lt;/p&gt;</pre>

  </div>

  <p><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code> elements must not be used for separating thematic
  groups in a paragraph.</p>

  <div class="example">

   <p>The following examples are non-conforming, as they abuse the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code> element:</p>

   <pre>&lt;p&gt;&lt;a ...&gt;34 comments.&lt;/a&gt;&lt;br&gt;
&lt;a ...&gt;Add a comment.&lt;/a&gt;&lt;/p&gt;</pre>

   <pre>&lt;p&gt;&lt;label&gt;Name: &lt;input name="name"&gt;&lt;/label&gt;&lt;br&gt;
&lt;label&gt;Address: &lt;input name="address"&gt;&lt;/label&gt;&lt;/p&gt;</pre>

   <p>Here are alternatives to the above, which are correct:</p>

   <pre>&lt;p&gt;&lt;a ...&gt;34 comments.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a ...&gt;Add a comment.&lt;/a&gt;&lt;/p&gt;</pre>

   <pre>&lt;p&gt;&lt;label&gt;Name: &lt;input name="name"&gt;&lt;/label&gt;&lt;/p&gt;
&lt;p&gt;&lt;label&gt;Address: &lt;input name="address"&gt;&lt;/label&gt;&lt;/p&gt;</pre>

  </div>

  <p>If a <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph">paragraph</a> consists of nothing but a single
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code> element, it represents a placeholder blank line
  (e.g. as in a template). Such blank lines must not be used for
  presentation purposes.</p>

  <div class="impl">

  <p>Any content inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code> elements must not be
  considered part of the surrounding text.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code> element should separate paragraphs for the
  purposes of the Unicode bidirectional algorithm. This requirement
  may be implemented indirectly through the style layer. For example,
  an HTML+CSS user agent could implement these requirements by
  implementing the CSS 'unicode-bidi' property. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBIDI">[BIDI]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>


  </div>


  <h4 id="the-wbr-element"><span class="secno">4.6.28 </span>The <dfn><code>wbr</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a></code>.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-wbr-element">wbr</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a line break
  opportunity.</p>

  <div class="example">

   <p>In the following example, someone is quoted as saying something
   which, for effect, is written as one long word. However, to ensure
   that the text can be wrapped in a readable fashion, the individual
   words in the quote are separated using a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-wbr-element">wbr</a></code>
   element.</p>

   <pre>&lt;p&gt;So then he pointed at the tiger and screamed
"there&lt;wbr&gt;is&lt;wbr&gt;no&lt;wbr&gt;way&lt;wbr&gt;you&lt;wbr&gt;are&lt;wbr&gt;ever&lt;wbr&gt;going&lt;wbr&gt;to&lt;wbr&gt;catch&lt;wbr&gt;me"!&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>Here, especially long lines of code in a program listing have
   suggested wrapping points given using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-wbr-element">wbr</a></code>
   elements.</p>

   <pre>&lt;pre&gt;...
Heading heading = Helm.HeadingFactory(HeadingCoordinates[1], &lt;wbr&gt;HeadingCoordinates[2], &lt;wbr&gt;HeadingCoordinates[3], &lt;wbr&gt;HeadingCoordinates[4]);
Course course = Helm.CourseFactory(Heading, &lt;wbr&gt;Maps.MapFactoryFromHeading(heading), &lt;wbr&gt;Speeds.GetMaximumSpeed().ConvertToWarp());
...&lt;/pre&gt;</pre>

  </div>

  <div class="impl">

  <p>Any content inside <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-wbr-element">wbr</a></code> elements must not be
  considered part of the surrounding text.</p>

  </div>



  <h4 id="usage-summary"><span class="secno">4.6.29 </span>Usage summary</h4>

  <p><i>This section is non-normative.</i></p>

  <table><thead><tr><th>Element
     </th><th>Purpose
     </th><th>Example
   </th></tr></thead><tbody><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code>
     </td><td>Hyperlinks
     </td><td><pre class="example">Visit my <strong>&lt;a href="drinks.html"&gt;drinks&lt;/a&gt;</strong> page.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-em-element">em</a></code>
     </td><td>Stress emphasis
     </td><td><pre class="example">I must say I <strong>&lt;em&gt;adore&lt;/em&gt;</strong> lemonade.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-strong-element">strong</a></code>
     </td><td>Importance
     </td><td><pre class="example">This tea is <strong>&lt;strong&gt;very hot&lt;/strong&gt;</strong>.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-small-element">small</a></code>
     </td><td>Side comments
     </td><td><pre class="example">These grapes are made into wine. <strong>&lt;small&gt;Alcohol is addictive.&lt;/small&gt;</strong></pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-s-element">s</a></code>
     </td><td>Inaccurate text
     </td><td><pre class="example">Price: <strong>&lt;s&gt;£4.50&lt;/s&gt;</strong> £2.00!</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cite-element">cite</a></code>
     </td><td>Titles of works
     </td><td><pre class="example">The case <strong>&lt;cite&gt;Hugo v. Danielle&lt;/cite&gt;</strong> is relevant here.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-q-element">q</a></code>
     </td><td>Quotations
     </td><td><pre class="example">The judge said <strong>&lt;q&gt;You can drink water from the fish tank&lt;/q&gt;</strong> but advised against it.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-dfn-element">dfn</a></code>
     </td><td>Defining instance
     </td><td><pre class="example">The term <strong>&lt;dfn&gt;organic food&lt;/dfn&gt;</strong> refers to food produced without synthetic chemicals.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-abbr-element">abbr</a></code>
     </td><td>Abbreviations
     </td><td><pre class="example">Organic food in Ireland is certified by the <strong>&lt;abbr title="Irish Organic Farmers and Growers Association"&gt;IOFGA&lt;/abbr&gt;</strong>.</pre>

<!--DATA--><!--FORK-->
    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-data-element">data</a></code>
     </td><td>Machine-readable equivalent
     </td><td><pre class="example">Available starting today! <strong>&lt;data value="UPC:022014640201"&gt;North Coast Organic Apple Cider&lt;/data&gt;</strong></pre>
<!--DATA--><!--FORK-->

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-time-element">time</a></code>
     </td><td>Machine-readable equivalent of date- or time-related data
     </td><td><pre class="example">Available starting on <strong>&lt;time datetime="2011-11-12"&gt;November 12th&lt;/time&gt;</strong>!</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-code-element">code</a></code>
     </td><td>Computer code
     </td><td><pre class="example">The <strong>&lt;code&gt;fruitdb&lt;/code&gt;</strong> program can be used for tracking fruit production.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-var-element">var</a></code>
     </td><td>Variables
     </td><td><pre class="example">If there are <strong>&lt;var&gt;n&lt;/var&gt;</strong> fruit in the bowl, at least <strong>&lt;var&gt;n&lt;/var&gt;</strong>÷2 will be ripe.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-samp-element">samp</a></code>
     </td><td>Computer output
     </td><td><pre class="example">The computer said <strong>&lt;samp&gt;Unknown error -3&lt;/samp&gt;</strong>.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-kbd-element">kbd</a></code>
     </td><td>User input
     </td><td><pre class="example">Hit <strong>&lt;kbd&gt;F1&lt;/kbd&gt;</strong> to continue.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sub</a></code>
     </td><td>Subscripts
     </td><td><pre class="example">Water is H<strong>&lt;sub&gt;2&lt;/sub&gt;</strong>O.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-sub-and-sup-elements">sup</a></code>
     </td><td>Superscripts
     </td><td><pre class="example">The Hydrogen in heavy water is usually <strong>&lt;sup&gt;2&lt;/sup&gt;</strong>H.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-i-element">i</a></code>
     </td><td>Alternative voice
     </td><td><pre class="example">Lemonade consists primarily of <strong>&lt;i&gt;Citrus limon&lt;/i&gt;</strong>.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-b-element">b</a></code>
     </td><td>Keywords
     </td><td><pre class="example">Take a <strong>&lt;b&gt;lemon&lt;/b&gt;</strong> and squeeze it with a <strong>&lt;b&gt;juicer&lt;/b&gt;</strong>.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-u-element">u</a></code>
     </td><td>Annotations
     </td><td><pre class="example">The mixture of apple juice and <strong>&lt;u class="spelling"&gt;eldeflower&lt;/u&gt;</strong> juice is very pleasant.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-mark-element">mark</a></code>
     </td><td>Highlight
     </td><td><pre class="example">Elderflower cordial, with one <strong>&lt;mark&gt;part&lt;/mark&gt;</strong> cordial to ten <strong>&lt;mark&gt;part&lt;/mark&gt;</strong>s water, stands a<strong>&lt;mark&gt;part&lt;/mark&gt;</strong> from the rest.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ruby-element">ruby</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rt-element">rt</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rp-element">rp</a></code>
     </td><td>Ruby annotations
     </td><td><pre class="example"><strong>&lt;ruby&gt; OJ &lt;rp&gt;(&lt;rt&gt;Orange Juice&lt;rp&gt;)&lt;/ruby&gt;</strong></pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdi-element">bdi</a></code>
     </td><td>Text directionality isolation
     </td><td><pre class="example">The recommended restaurant is <strong>&lt;bdi lang=""&gt;My Juice Café (At The Beach)&lt;/bdi&gt;</strong>.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-bdo-element">bdo</a></code>
     </td><td>Text directionality formatting
     </td><td><pre class="example">The proposal is to write English, but in reverse order. "Juice" would become "<strong>&lt;bdo dir=rtl&gt;Juice&lt;/bdo&gt;</strong>"</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-span-element">span</a></code>
     </td><td>Other
     </td><td><pre class="example">In French we call it <strong>&lt;span lang="fr"&gt;sirop de sureau&lt;/span&gt;</strong>.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-br-element">br</a></code>
     </td><td>Line break
     </td><td><pre class="example">Simply Orange Juice Company<strong>&lt;br&gt;</strong>Apopka, FL 32703<strong>&lt;br&gt;</strong>U.S.A.</pre>

    </td></tr><tr><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-wbr-element">wbr</a></code>
     </td><td>Line breaking opportunity
     </td><td><pre class="example">www.simply<strong>&lt;wbr&gt;</strong>orange<strong>&lt;wbr&gt;</strong>juice.com</pre>

  </td></tr></tbody></table><h3 id="edits"><span class="secno">4.7 </span>Edits</h3>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements represent
  edits to the document.</p>


  <h4 id="the-ins-element"><span class="secno">4.7.1 </span>The <dfn><code>ins</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd>When the element only contains <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>: <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>When the element only contains <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dd>Otherwise: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">Transparent</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-mod-cite"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-mod-cite">cite</a></code></dd>
   <dd><code title="attr-mod-datetime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-mod-datetime">datetime</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlmodelement">HTMLModElement</a></code> interface.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> an addition
  to the document.</p>

  <div class="example">

   <p>The following represents the addition of a single paragraph:</p>

   <pre>&lt;aside&gt;
 &lt;ins&gt;
  &lt;p&gt; I like fruit. &lt;/p&gt;
 &lt;/ins&gt;
&lt;/aside&gt;</pre>

   <p>As does this, because everything in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-aside-element">aside</a></code>
   element here counts as <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> and therefore
   there is just one <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph">paragraph</a>:</p>

   <pre>&lt;aside&gt;
 &lt;ins&gt;
  Apples are &lt;em&gt;tasty&lt;/em&gt;.
 &lt;/ins&gt;
 &lt;ins&gt;
  So are pears.
 &lt;/ins&gt;
&lt;/aside&gt;</pre>

  </div>

  <p><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> elements should not cross <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">implied paragraph</a> boundaries.</p>

  <div class="example">

   <p>The following example represents the addition of two paragraphs,
   the second of which was inserted in two parts. The first
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> element in this example thus crosses a paragraph
   boundary, which is considered poor form.</p>

   <pre class="bad">&lt;aside&gt;
 &lt;!-- don't do this --&gt;
 &lt;ins datetime="2005-03-16 00:00Z"&gt;
  &lt;p&gt; I like fruit. &lt;/p&gt;
  Apples are &lt;em&gt;tasty&lt;/em&gt;.
 &lt;/ins&gt;
 &lt;ins datetime="2007-12-19 00:00Z"&gt;
  So are pears.
 &lt;/ins&gt;
&lt;/aside&gt;</pre>

   <p>Here is a better way of marking this up. It uses more elements,
   but none of the elements cross implied paragraph boundaries.</p>

   <pre>&lt;aside&gt;
 &lt;ins datetime="2005-03-16 00:00Z"&gt;
  &lt;p&gt; I like fruit. &lt;/p&gt;
 &lt;/ins&gt;
 &lt;ins datetime="2005-03-16 00:00Z"&gt;
  Apples are &lt;em&gt;tasty&lt;/em&gt;.
 &lt;/ins&gt;
 &lt;ins datetime="2007-12-19 00:00Z"&gt;
  So are pears.
 &lt;/ins&gt;
&lt;/aside&gt;</pre>

   <!-- Those dates aren't random. They're the start and end of
   something. Can you guess what? -->

  </div>


  <h4 id="the-del-element"><span class="secno">4.7.2 </span>The <dfn><code>del</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd>When the element only contains <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>: <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>When the element only contains <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dd>Otherwise: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">Transparent</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-mod-cite"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-mod-cite">cite</a></code></dd>
   <dd><code title="attr-mod-datetime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-mod-datetime">datetime</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>Uses the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlmodelement">HTMLModElement</a></code> interface.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a removal
  from the document.</p>

  <p><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements should not cross <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">implied paragraph</a> boundaries.</p>

  <div class="example">

   <p>The following shows a "to do" list where items that have been
   done are crossed-off with the date and time of their
   completion.</p>

   <pre>&lt;h1&gt;To Do&lt;/h1&gt;
&lt;ul&gt;
 &lt;li&gt;Empty the dishwasher&lt;/li&gt;
 &lt;li&gt;&lt;del datetime="2009-10-11T01:25-07:00"&gt;Watch Walter Lewin's lectures&lt;/del&gt;&lt;/li&gt;
 &lt;li&gt;&lt;del datetime="2009-10-10T23:38-07:00"&gt;Download more tracks&lt;/del&gt;&lt;/li&gt;
 &lt;li&gt;Buy a printer&lt;/li&gt;
&lt;/ul&gt;</pre>

  </div>



  <h4 id="attributes-common-to-ins-and-del-elements"><span class="secno">4.7.3 </span>Attributes common to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements</h4>

  <p>The <dfn id="attr-mod-cite" title="attr-mod-cite"><code>cite</code></dfn> attribute
  may be used to specify the address of a document that explains the
  change. When that document is long, for instance the minutes of a
  meeting, authors are encouraged to include a fragment identifier
  pointing to the specific part of that document that discusses the
  change.</p>

  <p>If the <code title="attr-mod-cite"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-mod-cite">cite</a></code> attribute is
  present, it must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-url-potentially-surrounded-by-spaces">valid URL potentially surrounded by
  spaces</a> that explains the change. <span class="impl">To obtain
  the corresponding citation link, the value of the attribute must be
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolved</a> relative to the
  element. User agents should allow users to follow such citation
  links.</span></p>


  <p>The <dfn id="attr-mod-datetime" title="attr-mod-datetime"><code>datetime</code></dfn>
  attribute may be used to specify the time and date of the change.</p>

  <p>If present, the <code title="attr-mod-datetime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-mod-datetime">datetime</a></code>
  attribute's value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-date-string-with-optional-time">valid date string with optional
  time</a>.</p>

  <div class="impl">

  <p>User agents must parse the <code title="attr-mod-datetime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-mod-datetime">datetime</a></code> attribute according to the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-date-or-time-string">parse a date or time string</a> algorithm. If that doesn't
  return a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-date" title="concept-date">date</a> or a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime" title="concept-datetime">global date and time</a>, then the
  modification has no associated timestamp (the value is
  non-conforming; it is not a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-date-string-with-optional-time">valid date string with optional
  time</a>). Otherwise, the modification is marked as having been
  made at the given <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-date" title="concept-date">date</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime" title="concept-datetime">global date and time</a>. If the given
  value is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-datetime" title="concept-datetime">global date and
  time</a> then user agents should use the associated time-zone
  offset information to determine which time zone to present the given
  datetime in.</p>

  </div>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements <span class="impl">must</span> implement the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlmodelement">HTMLModElement</a></code>
  interface:</p>

  <pre class="idl">interface <dfn id="htmlmodelement">HTMLModElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mod-cite" title="dom-mod-cite">cite</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mod-datetime" title="dom-mod-datetime">dateTime</a>;
};</pre>

  <div class="impl">

  <p>The <dfn id="dom-mod-cite" title="dom-mod-cite"><code>cite</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the element's <code title="attr-mod-cite"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-mod-cite">cite</a></code> content attribute. The <dfn id="dom-mod-datetime" title="dom-mod-datetime"><code>dateTime</code></dfn> IDL attribute
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the element's <code title="attr-mod-datetime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-mod-datetime">datetime</a></code> content attribute.</p>

  </div>



  <h4 id="edits-and-paragraphs"><span class="secno">4.7.4 </span>Edits and paragraphs</h4>

  <p><i>This section is non-normative.</i></p>

  <p>Since the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements do not
  affect <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">paragraphing</a>, it is possible,
  in some cases where paragraphs are <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">implied</a> (without explicit <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code>
  elements), for an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> element to
  span both an entire paragraph or other non-<a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing
  content</a> elements and part of another paragraph. For
  example:</p>

  <pre>&lt;section&gt;
 &lt;ins&gt;
  &lt;p&gt;
   This is a paragraph that was inserted.
  &lt;/p&gt;
  This is another paragraph whose first sentence was inserted
  at the same time as the paragraph above.
 &lt;/ins&gt;
 This is a second sentence, which was there all along.
&lt;/section&gt;</pre>

  <p>By only wrapping some paragraphs in <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> elements, one
  can even get the end of one paragraph, a whole second paragraph,
  and the start of a third paragraph to be covered by the same
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> element (though this is very
  confusing, and not considered good practice):</p>

  <pre class="bad">&lt;section&gt;
 This is the first paragraph. &lt;ins&gt;This sentence was
 inserted.
 &lt;p&gt;This second paragraph was inserted.&lt;/p&gt;
 This sentence was inserted too.&lt;/ins&gt; This is the
 third paragraph in this example.
 &lt;!-- (don't do this) --&gt;
&lt;/section&gt;</pre>

  <p>However, due to the way <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">implied
  paragraphs</a> are defined, it is not possible to mark up the
  end of one paragraph and the start of the very next one using the
  same <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> element. You instead have
  to use one (or two) <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element(s) and two
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements, as for example:</p>

  <pre>&lt;section&gt;
 &lt;p&gt;This is the first paragraph. &lt;del&gt;This sentence was
 deleted.&lt;/del&gt;&lt;/p&gt;
 &lt;p&gt;&lt;del&gt;This sentence was deleted too.&lt;/del&gt; That
 sentence needed a separate &amp;lt;del&amp;gt; element.&lt;/p&gt;
&lt;/section&gt;</pre>

  <p>Partly because of the confusion described above, authors are
  strongly encouraged to always mark up all paragraphs with the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-p-element">p</a></code> element, instead of having <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements that cross <a href="http://www.whatwg.org/specs/web-apps/current-work/#paragraph" title="paragraph">implied
  paragraphs</a> boundaries.</p>


  <h4 id="edits-and-lists"><span class="secno">4.7.5 </span>Edits and lists</h4>

  <p><i>This section is non-normative.</i></p>

  <p>The content models of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ol-element">ol</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ul-element">ul</a></code>
  elements do not allow <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements
  as children. Lists always represent all their items, including items
  that would otherwise have been marked as deleted.</p>

  <p>To indicate that an item is inserted or deleted, an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> element can be wrapped around
  the contents of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element. To indicate that an
  item has been replaced by another, a single <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-li-element">li</a></code> element
  can have one or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements followed by one or
  more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> elements.</p>

  <div class="example">

   <p>In the following example, a list that started empty had items
   added and removed from it over time. The bits in the example that
   have been emphasized show the parts that are the "current" state of
   the list. The list item numbers don't take into account the edits,
   though.</p>

   <pre>&lt;h1&gt;Stop-ship bugs&lt;/h1&gt;
&lt;ol&gt;
 &lt;li&gt;&lt;ins datetime="2008-02-12T15:20Z"&gt;<em>Bug 225:
 Rain detector doesn't work in snow</em>&lt;/ins&gt;&lt;/li&gt;
 &lt;li&gt;&lt;del datetime="2008-03-01T20:22Z"&gt;&lt;ins datetime="2008-02-14T12:02Z"&gt;Bug 228:
 Water buffer overflows in April&lt;/ins&gt;&lt;/del&gt;&lt;/li&gt;
 &lt;li&gt;&lt;ins datetime="2008-02-16T13:50Z"&gt;<em>Bug 230:
 Water heater doesn't use renewable fuels</em>&lt;/ins&gt;&lt;/li&gt;
 &lt;li&gt;&lt;del datetime="2008-02-20T21:15Z"&gt;&lt;ins datetime="2008-02-16T14:25Z"&gt;Bug 232:
 Carbon dioxide emissions detected after startup&lt;/ins&gt;&lt;/del&gt;&lt;/li&gt;
&lt;/ol&gt;</pre>

  </div>

  <div class="example">

   <p>In the following example, a list that started with just fruit
   was replaced by a list with just colors.</p>

   <pre>&lt;h1&gt;List of &lt;del&gt;fruits&lt;/del&gt;&lt;ins&gt;colors&lt;/ins&gt;&lt;/h1&gt;
&lt;ul&gt;
 &lt;li&gt;&lt;del&gt;Lime&lt;/del&gt;&lt;ins&gt;Green&lt;/ins&gt;&lt;/li&gt;
 &lt;li&gt;&lt;del&gt;Apple&lt;/del&gt;&lt;/li&gt;
 &lt;li&gt;Orange&lt;/li&gt;
 &lt;li&gt;&lt;del&gt;Pear&lt;/del&gt;&lt;/li&gt;
 &lt;li&gt;&lt;ins&gt;Teal&lt;/ins&gt;&lt;/li&gt;
 &lt;li&gt;&lt;del&gt;Lemon&lt;/del&gt;&lt;ins&gt;Yellow&lt;/ins&gt;&lt;/li&gt;
 &lt;li&gt;Olive&lt;/li&gt;
 &lt;li&gt;&lt;ins&gt;Purple&lt;/ins&gt;&lt;/li&gt;
&lt;/ul&gt;</pre>

  </div>


  <h4 id="edits-and-tables"><span class="secno">4.7.6 </span>Edits and tables</h4>

  <p><i>This section is non-normative.</i></p>

  <p>The elements that form part of the table model have complicated
  content model requirements that do not allow for the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements, so indicating edits
  to a table can be difficult.</p>

  <p>To indicate that an entire row or an entire column has been added
  or removed, the entire contents of each cell in that row or column
  can be wrapped in <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-ins-element">ins</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-del-element">del</a></code> elements
  (respectively).</p>

  <div class="example">

   <p>Here, a table's row has been added:</p>

   <pre>&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt; &lt;th&gt; Game name           &lt;th&gt; Game publisher   &lt;th&gt; Verdict
 &lt;tbody&gt;
  &lt;tr&gt; &lt;td&gt; Diablo 2            &lt;td&gt; Blizzard         &lt;td&gt; 8/10
  &lt;tr&gt; &lt;td&gt; Portal              &lt;td&gt; Valve            &lt;td&gt; 10/10
<strong>  &lt;tr&gt; &lt;td&gt; &lt;ins&gt;Portal 2&lt;/ins&gt; &lt;td&gt; &lt;ins&gt;Valve&lt;/ins&gt; &lt;td&gt; &lt;ins&gt;10/10&lt;/ins&gt;</strong>
&lt;/table&gt;</pre>

   <p>Here, a column has been removed (the time at which it was removed is given also, as is a link to the page explaining why):</p>

   <pre>&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt; &lt;th&gt; Game name           &lt;th&gt; Game publisher   &lt;th&gt; <strong>&lt;del cite="/edits/r192" datetime="2011-05-02 14:23Z"&gt;Verdict&lt;/del&gt;</strong>
 &lt;tbody&gt;
  &lt;tr&gt; &lt;td&gt; Diablo 2            &lt;td&gt; Blizzard         &lt;td&gt; <strong>&lt;del cite="/edits/r192" datetime="2011-05-02 14:23Z"&gt;8/10&lt;/del&gt;</strong>
  &lt;tr&gt; &lt;td&gt; Portal              &lt;td&gt; Valve            &lt;td&gt; <strong>&lt;del cite="/edits/r192" datetime="2011-05-02 14:23Z"&gt;10/10&lt;/del&gt;</strong>
  &lt;tr&gt; &lt;td&gt; Portal 2            &lt;td&gt; Valve            &lt;td&gt; <strong>&lt;del cite="/edits/r192" datetime="2011-05-02 14:23Z"&gt;10/10&lt;/del&gt;</strong>
&lt;/table&gt;</pre>

  </div>

  <p>Generally speaking, there is no good way to indicate more
  complicated edits (e.g. that a cell was removed, moving all
  subsequent cells up or to the left).</p>




  <h3 id="embedded-content-1"><span class="secno">4.8 </span>Embedded content</h3>


  <h4 id="the-img-element"><span class="secno">4.8.1 </span>The <dfn><code>img</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">Embedded content</a>.</dd>
   <dd>If the element has a <code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code> attribute: <a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">Interactive content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code></dd>
   <dd><code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code></dd>

   <dd><code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code></dd>

   <dd><code title="attr-img-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-crossorigin">crossorigin</a></code></dd>
   <dd><code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code></dd>
   <dd><code title="attr-img-ismap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-ismap">ismap</a></code></dd>
   <dd><code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code></dd>
   <dd><code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">[NamedConstructor=<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-image" title="dom-image">Image</a>(),
 NamedConstructor=<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-image-w" title="dom-image-w">Image</a>(unsigned long width),
 NamedConstructor=<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-image-wh" title="dom-image-wh">Image</a>(unsigned long width, unsigned long height)]
interface <dfn id="htmlimageelement">HTMLImageElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-alt" title="dom-img-alt">alt</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-src" title="dom-img-src">src</a>;

           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-srcset" title="dom-img-srcset">srcset</a>;

           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-crossorigin" title="dom-img-crossOrigin">crossOrigin</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-usemap" title="dom-img-useMap">useMap</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-ismap" title="dom-img-isMap">isMap</a>;
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-width" title="dom-img-width">width</a>;
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-height" title="dom-img-height">height</a>;
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-naturalwidth" title="dom-img-naturalWidth">naturalWidth</a>;
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-naturalheight" title="dom-img-naturalHeight">naturalHeight</a>;
  readonly attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-complete" title="dom-img-complete">complete</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element represents an image.</p>

  <!-- v2 ideas for <img>:

     * Maps sites would like to know which images are already cached,
       so that they can use images that are vaguely suitable while
       they wait for the most appropriate image to download.

       Almost like lowsrc="", except that many images might be
       appropriate.

       Slight hitch: their images are at a different origin, and we
       don't want to allow arbitrary cross-origin inspection (privacy
       leak risk). So it will require them to do CORS opt-in.

     * See note at rel=noreferrer.

  -->

  <p>The image given by the <dfn id="attr-img-src" title="attr-img-src"><code>src</code></dfn>

  and <dfn id="attr-img-srcset" title="attr-img-srcset"><code>srcset</code></dfn>

  attributes is the embedded content; the value of the <dfn id="attr-img-alt" title="attr-img-alt"><code>alt</code></dfn> attribute provides
  equivalent content for those who cannot process images or who have
  image loading disabled<!--
--><!--FORK--><!--
  --> (i.e. it is the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback
  content</a>)<!--
--><!--FORK--><!--
  -->.</p>

  <p>The <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute must be
  present, and must contain a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially
  surrounded by spaces</a> referencing a non-interactive,
  optionally animated, image resource that is neither paged nor
  scripted.</p>



  <p>The <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code> attribute may
  also be present. If present, its value must consist of one or more
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-candidate-string" title="image candidate string">image candidate strings</a>,
  each separated from the next by a U+002C COMMA character (,). This
  attribute allows authors to provide alternative images for
  environments with smaller screens or screens with higher pixel
  densities.</p>

  <div class="note">

   <p>The <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code> attribute allows
   authors to provide a set of images to handle graphical displays of
   varying dimensions and pixel densities.</p>

   <p>The attribute essentially takes a comma-separated list of URLs
   each with one or more descriptors giving the maximum viewport
   dimensions and pixel density allowed to use the image. From the
   available options, the user agent then picks the most appropriate
   image. If the viewport dimensions or pixel density changes, the
   user agent can replace the image data with a new image on the
   fly.</p>

   <p>To specify an image, give first a URL, then one or more
   descriptors of the form 100w, 100h, or 2x, where "100w" means
   "maximum viewport width of 100 CSS pixels", "100h" is the same but
   for height, and "2x" means "maximum pixel density of 2 device
   pixels per CSS pixel".</p>

  </div>

  <p>An <dfn id="image-candidate-string">image candidate string</dfn> consists of the following
  components, in order, with the further restrictions described below
  this list:</p>

  <ol><li>Zero or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
   characters</a>.</li>

   <li>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url">valid non-empty URL</a> referencing a
   non-interactive, optionally animated, image resource that is
   neither paged nor scripted.</li>

   <li>Zero or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
   characters</a>.</li>

   <li>Optionally a <i>width descriptor</i>, consisting of: a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character">space character</a>, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative
   integer</a> representing the <i>width descriptor value</i>, and
   a U+0077 LATIN SMALL LETTER W character.</li>

   <li>Zero or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
   characters</a>.</li>

   <li>Optionally a <i>height descriptor</i>, consisting of: a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character">space character</a>, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative
   integer</a> representing the <i>height descriptor value</i>, and
   a U+0068 LATIN SMALL LETTER H character.</li>

   <li>Zero or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
   characters</a>.</li>

   <li>Optionally a <i>pixel density descriptor</i>, consisting of: a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character">space character</a>, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-floating-point-number">valid floating point
   number</a> giving a number greater than zero representing the
   <i>pixel density descriptor value</i>, and a U+0078 LATIN SMALL
   LETTER X character.</li>

   <li>Zero or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
   characters</a>.</li>

  </ol><p>Each <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-candidate-string">image candidate string</a> must have at least one
  of the three optional descriptors. There must not be two <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-candidate-string" title="image candidate string">image candidate strings</a> in a
  <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code> attribute whose <i>width
  descriptor value</i>, <i>height descriptor value</i>, and <i>pixel
  density descriptor value</i>; for the purposes of this requirement,
  omitted <i>width descriptors</i> and <i>height descriptors</i> are
  considered to have the value "Infinity", and omitted <i>pixel
  density descriptors</i> are considered to have the value 1.</p>

  <div class="example">

   <p>In this example, a banner that takes half the viewport is
   provided in two versions, one for wide screen and one for narrow
   screens.</p>

   <pre>&lt;h1&gt;&lt;img alt="The Breakfast Combo"
         src="banner.jpeg"
         srcset="banner-HD.jpeg 2x, banner-phone.jpeg 100w, banner-phone-HD.jpeg 100w 2x"&gt;&lt;/h1&gt;</pre>

  </div>



  <p class="note">Images can thus be static bitmaps (e.g. PNGs, GIFs,
  JPEGs), single-page vector documents (single-page PDFs, XML files
  with an SVG root element), animated bitmaps (APNGs, animated GIFs),
  animated vector graphics (XML files with an SVG root element that
  use declarative SMIL animation), and so forth. However, this also
  precludes SVG files with script, multipage PDF files, interactive
  MNG files, HTML documents, plain text documents, and so forth.</p>

  <p>The requirements on the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code>
  attribute's value are described <a href="http://www.whatwg.org/specs/web-apps/current-work/#alt">in the next
  section</a>.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element must not be used as a layout tool.
  In particular, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> elements should not be used to
  display transparent images, as they rarely convey meaning and rarely
  add anything useful to the document.</p>

  <p>The <dfn id="attr-img-crossorigin" title="attr-img-crossorigin"><code>crossorigin</code></dfn>
  attribute is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-settings-attribute">CORS settings attribute</a>. Its purpose is
  to allow images from third-party sites that allow cross-origin
  access to be used with <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>.</p>

  <div class="impl">

  <hr><p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> is always in one of the following states:</p>

  <dl><dt><dfn id="img-none" title="img-none">Unavailable</dfn></dt>
   <dd>The user agent hasn't obtained any image data.</dd>

   <dt><dfn id="img-inc" title="img-inc">Partially available</dfn></dt>
   <dd>The user agent has obtained some of the image data.</dd>

   <dt><dfn id="img-all" title="img-all">Completely available</dfn></dt>
   <dd>The user agent has obtained all of the image data.</dd>

   <dt><dfn id="img-error" title="img-error">Broken</dfn></dt>
   <dd>The user agent has obtained all of the image data that it can,
   but it cannot decode the image (e.g. the image is corrupted, or the
   format is not supported, or no data could be obtained).</dd>

  </dl><p>When an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is either in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-inc" title="img-inc">partially available</a> state or in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-all" title="img-all">completely available</a> state, it is said to be
  <dfn id="img-yes" title="img-yes">available</dfn>.</p>

  <p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is initially <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-none" title="img-none">unavailable</a>.</p>

  <p>When an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-yes" title="img-yes">available</a>, it <a href="http://www.whatwg.org/specs/web-apps/current-work/#provides-a-paint-source">provides a paint
  source</a> whose width is the image's intrinsic width, whose
  height is the image's intrinsic height, and whose appearance is the
  intrinsic appearance of the image.</p>

  <p>User agents may obtain images immediately or on demand.</p>

  <p>A user agent that obtains images immediately must synchronously
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#update-the-image-data">update the image data</a> of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element
  whenever that element is created with a <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute,

  a <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code> attribute, or both.

  A user agent that obtains images immediately must also synchronously
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#update-the-image-data">update the image data</a> of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element
  whenever that element has its
  <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code>,

  <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code>, or

  <code title="attr-img-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-crossorigin">crossorigin</a></code> attribute set,
  changed, or removed.</p> <!-- Note how this does NOT happen when the
  base URL changes. -->

  <p>A user agent that obtains images on demand must <a href="http://www.whatwg.org/specs/web-apps/current-work/#update-the-image-data">update the
  image data</a> of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element whenever it needs
  the image data (i.e. on demand), but only if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>
  element has a
  <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code>

  or <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">srcset</a></code>

  attribute, and only if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-none" title="img-none">unavailable</a> state. When an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>
  element's
  <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code>,

  <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code>, or

  <code title="attr-img-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-crossorigin">crossorigin</a></code> attribute set,
  changed, or removed, if the user agent only obtains images on
  demand, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element must return to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-none" title="img-none">unavailable</a> state.</p> <!-- Note how this
  does NOT happen when the base URL changes. -->

  <p>Each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element has a <dfn id="last-selected-source">last selected
  source</dfn>, which must initially be null, and a <dfn id="current-pixel-density">current pixel
  density</dfn>, which must initially be undefined.</p>

  <p>When an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-pixel-density">current pixel
  density</a> that is not 1.0, the element's image data must be
  treated as if its resolution, in device pixels per CSS pixels, was
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-pixel-density">current pixel density</a>.</p>

  <p class="example">For example, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-pixel-density">current pixel
  density</a> is 3.125, that means that there are 300 device pixels
  per CSS inch, and thus if the image data is 300x600, it has an
  intrinsic dimension of 96 CSS pixels by 192 CSS pixels.</p>

  <p>When the user agent is to <dfn id="update-the-image-data">update the image data</dfn> of an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element, it must run the following steps:</p>

  <ol><li><p>Return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-none" title="img-none">unavailable</a> state.</p>

   </li><li><p>If an instance of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching</a>
   algorithm is still running for this element, then abort that
   algorithm, discarding any pending <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> generated by that
   algorithm.</p></li>

   <li><p>Forget the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's current image data, if
   any.</p></li>

   <li><p>If the user agent cannot support images, or its support for
   images has been disabled, then abort these steps.</p></li>

   <li><p>Asynchronously <a href="http://www.whatwg.org/specs/web-apps/current-work/#await-a-stable-state">await a stable state</a>, allowing
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that invoked this
   algorithm to continue. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>
   consists of all the remaining steps of this algorithm until the
   algorithm says the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> has
   ended. (Steps in <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section" title="synchronous section">synchronous
   sections</a> are marked with ⌛.)</p></li>

   <li>

    <p>⌛ If another instance of this algorithm for this
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element was started after this instance, then
    abort these steps.</p>

    <p class="note">Only the last instance takes effect, to avoid
    multiple requests when, for example, the
    <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code>,

    <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code>, and 

    <code title="attr-img-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-crossorigin">crossorigin</a></code> attributes
    are all set in succession.</p>

   </li>

   <li>

    <p>⌛



    If the element has a <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code>
    attribute specified, then let <var title="">selected source</var>
    and <var title="">selected pixel density</var> be the URL and
    pixel density that results from <a href="http://www.whatwg.org/specs/web-apps/current-work/#processing-the-image-candidates">processing the image
    candidates</a>, respectively.



    Otherwise, if the element has a <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute specified and its value
    is not the empty string, let <var title="">selected source</var>
    be the value of the element's <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute, and <var title="">selected pixel density</var> be 1.0. Otherwise, let <var title="">selected source</var> be null and <var title="">selected
    pixel density</var> be undefined.</p>

   </li>

   <li><p>⌛ Let the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#last-selected-source">last
   selected source</a> be <var title="">selected source</var> and
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-pixel-density">current pixel density</a>
   be <var title="">selected pixel density</var>.</p></li>

   <li>

    <p>⌛ If <var title="">selected source</var> is null, then
    set the element to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-error" title="img-error">broken</a>
    state, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
    event</a> named <code title="event-error">error</code> at the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element, and abort these steps.</p>

   </li>

   <li>

    <p>⌛ <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">Resolve</a> <var title="">selected source</var>, relative to the element.</p>

    <p>If that is not successful, abort these steps.</p>

    <p>Otherwise, do a <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-cors-enabled-fetch">potentially CORS-enabled fetch</a> of
    the resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>, with the <i>mode</i>
    being the state of the element's <code title="attr-img-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-crossorigin">crossorigin</a></code> content attribute,
    the <i title="">origin</i> being the <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, and the
    <i>default origin behaviour</i> set to <i>taint</i>.</p>

    <p>The resource obtained in this fashion, if any, is the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's image data. It can be either
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-same-origin">CORS-same-origin</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-cross-origin">CORS-cross-origin</a>;
    this affects the <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of the image itself (e.g.
    when used on a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>).</p>

    <!-- same text in <input type=image> section and similar text
    elsewhere --> <p>Fetching the image must <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load
    event</a> of the element's document until the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a
    task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a>
    once the resource has been <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> (<a href="http://www.whatwg.org/specs/web-apps/current-work/#img-load">defined below</a>) has been run.</p>

    <p class="warning">This, unfortunately, can be used to perform a
    rudimentary port scan of the user's local network (especially in
    conjunction with scripting, though scripting isn't actually
    necessary to carry out such an attack). User agents may implement
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin" title="origin">cross-origin</a> access control policies
    that are stricter than those described above to mitigate this
    attack, but unfortunately such policies are typically not
    compatible with existing Web content.</p>

    <p>The first <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task
    source</a> while the image is being <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> must set the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's
    state to <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-inc" title="img-inc">partially available</a>.</p>

    <p id="img-load">If the resource is in a supported image format,
    then each <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task
    source</a> while the image is being <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> must update the presentation of the
    image appropriately (e.g. if the image is a progressive JPEG, each
    packet can improve the resolution of the image); furthermore, the
    last <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task
    source</a> once the resource has been <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> must act as appropriate given the
    following alternatives:</p>

    <dl class="switch"><dt>If the download was successful</dt>

     <dd>Set the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-all" title="img-all">completely available</a> state, update the
     presentation of the image appropriately, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
     event</a> named <code title="event-load">load</code> at the
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element.</dd>

     <!-- http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1222 -->

     <dt>Otherwise</dt>

     <dd>Set the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-error" title="img-error">broken</a> state, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
     event</a> named <code title="event-error">error</code> at the
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element.</dd>

    </dl><p>On the other hand, if the resource type is
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#multipart/x-mixed-replace">multipart/x-mixed-replace</a></code>, then each <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a
    task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a>
    while the image is being <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> must
    also update the presentation of the image, but as each new body
    part comes in, it must replace the previous image. Once one body
    part has been completely decoded, the user agent must set the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-all" title="img-all">completely
    available</a> state and <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire
    a simple event</a> named <code title="event-load">load</code>
    at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element.</p>

    <p>If at any point the user agent discovers that the image data is
    corrupted in some fatal way, or that the image data is not in a
    supported file format, then the user agent must set the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-error" title="img-error">broken</a> state. If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching</a> algorithm is still running for this
    element, then the user agent must also abort that algorithm,
    discarding any pending <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a>
    generated by that algorithm, and then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-error">error</code> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>
    element.</p>

   </li>

  </ol><p>While a user agent is running the above algorithm for an element
  <var title="">x</var>, there must be a strong reference from the
  element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> to the element <var title="">x</var>, even if that element is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document" title="in a
  Document">in</a> its <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>

  <p>When an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-all" title="img-all">completely available</a> state <em>and</em> the
  user agent can decode the media data without errors, then the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is said to be <dfn id="img-good" title="img-good">fully
  decodable</dfn>.</p>

  <p>Whether the image is fetched successfully or not (e.g. whether
  the response code was a 2xx code <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-http-equivalent-codes" title="concept-http-equivalent-codes">or equivalent</a>) must be
  ignored when determining the image's type and whether it is a valid
  image.</p>

  <p class="note">This allows servers to return images with error
  responses, and have them displayed.</p>

  <p>The user agents should apply the <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type-sniffing:-image" title="Content-Type
  sniffing: image">image sniffing rules</a> to determine the type
  of the image, with the image's <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">associated
  Content-Type headers</a> giving the <var title="">official
  type</var>. If these rules are not applied, then the type of the
  image must be the type given by the image's <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">associated Content-Type headers</a>.</p>

  <p>User agents must not support non-image resources with the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element (e.g. XML files whose root element is an
  HTML element). User agents must not run executable code
  (e.g. scripts) embedded in the image resource. User agents must only
  display the first page of a multipage resource (e.g. a PDF
  file). User agents must not allow the resource to act in an
  interactive fashion, but should honor any animation in the
  resource.</p>

  <p>This specification does not specify which image types are to be
  supported.</p>

  <hr><p>When the user agent is required to <dfn id="processing-the-image-candidates" title="processing the
  image candidates">process the image candidates</dfn> of an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code> attribute, the user agent must
  run the following steps, which return a URL and pixel density (null
  and undefined respectively if no selection can be made):</p>

  <ol><li><p>Let <var title="">input</var> be the value of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code> attribute.</p></li>

   <li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
   string.</p></li>

   <li><p>Let <var title="">raw candidates</var> be an initially empty
   ordered list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#url" title="URL">URLs</a> with associated
   unparsed descriptors. The order of entries in the list is the
   order in which entries are added to the list.</p></li>

   <li><p><i>Splitting loop</i>: <a href="http://www.whatwg.org/specs/web-apps/current-work/#skip-whitespace">Skip
   whitespace</a>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>, and let that
   be <var title="">url</var>.</p></li>
   <!-- if /url/ is empty, we're at the end of the string -->

   <li><p>If <var title="">url</var> is empty, then jump to the step
   labeled <i>descriptor parser</i>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not
   U+002C COMMA characters (,), and let that be <var title="">descriptors</var>.</p></li>

   <li><p>Add <var title="">url</var> to <var title="">raw
   candidates</var>, associated with <var title="">descriptors</var>.</p></li>

   <li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then jump to the step labeled <i>descriptor
   parser</i>.</p></li>

   <li><p>Advance <var title="">position</var> to the next character
   in <var title="">input</var> (skipping past the U+002C COMMA
   character (,) separating this candidate from the next).</p></li>

   <li><p><i>Descriptor parser</i>: Let <var title="">candidates</var>
   be an initially empty ordered list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#url" title="URL">URLs</a>
   each with an associated pixel density, and optionally an associated
   width and/or height. The order of entries in the list is the order
   in which entries are added to the list.</p>

   </li><li>

    <p>For each entry in <var title="">raw candidates</var> with
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> <var title="">url</var> associated with the
    unparsed descriptors <var title="">unparsed descriptors</var>, in
    the order they were originally added to the list, run these
    substeps:</p>

    <ol><li><p>Let <var title="">descriptor list</var> be the result of
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#split-a-string-on-spaces" title="split a string on spaces">splitting <var title="">unparsed descriptors</var> on spaces</a>.</p></li>

     <li><p>Let <var title="">error</var> be <i>no</i>.</p></li>

     <li><p>Let <var title="">width</var> be <i>absent</i>.</p></li>

     <li><p>Let <var title="">height</var> be <i>absent</i>.</p></li>

     <li><p>Let <var title="">density</var> be <i>absent</i>.</p></li>

     <li>

      <p>For each token in <var title="">descriptor list</var>, run
      the appropriate set of steps from the following list:</p>

      <dl class="switch"><dt>If the token consists of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative integer</a> followed by a U+0077 LATIN SMALL LETTER W character</dt>

       <dd>

        <ol><li><p>If <var title="">width</var> is not <i>absent</i>,
         then let <var title="">error</var> be <i>yes</i>.</p></li>

         <li><p>Apply the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers">rules for parsing non-negative
         integers</a> to the token. Let <var title="">width</var>
         be the result.</p></li>

        </ol></dd>


       <dt>If the token consists of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative integer</a> followed by a U+0068 LATIN SMALL LETTER H character</dt>

       <dd>

        <ol><li><p>If <var title="">height</var> is not <i>absent</i>,
         then let <var title="">error</var> be <i>yes</i>.</p></li>

         <li><p>Apply the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers">rules for parsing non-negative
         integers</a> to the token. Let <var title="">height</var>
         be the result.</p></li>

        </ol></dd>


       <dt>If the token consists of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-floating-point-number">valid floating point number</a> followed by a U+0078 LATIN SMALL LETTER X character</dt>

       <dd>

        <ol><li><p>If <var title="">density</var> is not <i>absent</i>,
         then let <var title="">error</var> be <i>yes</i>.</p></li>

         <li><p>Apply the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-floating-point-number-values">rules for parsing floating point
         number values</a> to the token. Let <var title="">density</var> be the result.</p></li>

        </ol></dd>
       

      </dl></li>

     <li><p>If <var title="">width</var> is still <i>absent</i>, set
     it to Infinity.</p></li>

     <li><p>If <var title="">height</var> is still <i>absent</i>, set
     it to Infinity.</p></li>

     <li><p>If <var title="">density</var> is still <i>absent</i>, set
     it to 1.0.</p></li>

     <li><p>If <var title="">error</var> is still <i>no</i>, then add
     an entry to <var title="">candidates</var> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>
     is <var title="">url</var>, associated with a width <var title="">width</var>, a height <var title="">height</var>, and a
     pixel density <var title="">density</var>.</p></li>

    </ol></li>

   <li>

    <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element has a <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute whose value is not the
    empty string, then run the following substeps:</p>

    <ol><li><p>Let <var title="">url</var> be the value of the element's
     <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute.</p></li>

     <li><p>Add an entry to <var title="">candidates</var> whose
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> is <var title="">url</var>, associated with a
     width Infinity, a height Infinity, and a pixel density
     1.0.</p></li>

    </ol></li>

   <li><p>If <var title="">candidates</var> is empty, return null and
   undefined and abort these steps.</p></li>

   <li><p>If an entry <var title="">b</var> in <var title="">candidates</var> has the same associated width, height,
   and pixel density as an earlier entry <var title="">a</var> in <var title="">candidates</var>, then remove entry <var title="">b</var>.
   Repeat this step until none of the entries in <var title="">candidates</var> have the same associated width, height,
   and pixel density as an earlier entry.</p></li>

   <li>

    <p>Optionally, return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> of an entry in <var title="">candidates</var> chosen by the user agent, and that
    entry's associated pixel density, and then abort these steps. The
    user agent may apply any algorithm or heuristic in its selection
    of an entry for the purposes of this step.</p>

    <p class="note">This allows a user agent to override the default
    algorithm (as described in subsequent steps) in case the user
    agent has a reason to do so. For example, it would allow the user
    agent in highly bandwidth-constrained conditions to intentionally
    opt to use an image intended for a smaller screen size, on the
    assumption that it'll probably be good enough. Implementors are
    urged to avoid doing this if at all possible, to let authors have
    predictable results. The results of using an image intended for a
    different viewport size can be, at a minimum, aesthetically
    displeasing.</p>

    <p class="note">This clause is not necessary to select images that
    are of lower pixel density than the display can handle, because
    the definition of pixel density below is also left up to the user
    agent. This step is only needed to allow user agents to pick
    images intended for viewports with other dimensions.</p>

   </li>

   <li><p>Let <var title="">max width</var> be the width of the
   viewport, and let <var title="">max height</var> be the height of
   the viewport. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p></li>

   <li><p>If there are any entries in <var title="">candidates</var>
   that have an associated width that is greater than <var title="">max width</var>, then remove them, unless that would
   remove all the entries, in which case remove only the entries whose
   associated width is greater than the smallest such width.</p></li>

   <li><p>If there are any entries in <var title="">candidates</var>
   that have an associated height that is greater than <var title="">max height</var>, then remove them, unless that would
   remove all the entries, in which case remove only the entries whose
   associated height is greater than the smallest such
   height.</p></li>

   <li><p>If there are any entries in <var title="">candidates</var>
   that have an associated pixel density that is less than a
   user-agent-defined value giving the nominal pixel density of the
   display, then remove them, unless that would remove all the
   entries, in which case remove only the entries whose associated
   pixel density is less than the greatest such pixel
   density.</p></li>

   <li><p>Remove all the entries in <var title="">candidates</var>
   that have an associated width that is less than the greatest such
   width.</p></li>

   <li><p>Remove all the entries in <var title="">candidates</var>
   that have an associated height that is less than the greatest such
   height.</p></li>

   <li><p>Remove all the entries in <var title="">candidates</var>
   that have an associated pixel density that is greater than the
   smallest such pixel density.</p></li>

   <li><p>Return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> of the sole remaining entry in
   <var title="">candidates</var>, and that entry's associated pixel
   density.</p></li>

  </ol><p>The user agent may at any time run the following algorithm to
  update an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's image in order to react to
  changes in the environment. (User agents are <em>not required</em>
  to ever run this algorithm.)</p>

  <ol><li><p>Asynchronously <a href="http://www.whatwg.org/specs/web-apps/current-work/#await-a-stable-state">await a stable state</a>. The
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> consists of all the remaining
   steps of this algorithm until the algorithm says the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> has ended. (Steps in <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section" title="synchronous section">synchronous sections</a> are marked
   with ⌛.)</p></li>

   <li><p>⌛ If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element does not have a
   <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code> attribute specified, is
   not in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-all" title="img-all">completely available</a> state,
   has image data whose resource type is
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#multipart/x-mixed-replace">multipart/x-mixed-replace</a></code>, or if its <a href="http://www.whatwg.org/specs/web-apps/current-work/#update-the-image-data">update the
   image data</a> algorithm is running, then abort this
   algorithm.</p></li> <!-- we don't support replacing push-JPEG
   images because defining what happens with the tasks and events and
   so on in that case would become implausibly complicated. -->

   <li><p>⌛ Let <var title="">selected source</var> and <var title="">selected pixel density</var> be the URL and pixel density
   that results from <a href="http://www.whatwg.org/specs/web-apps/current-work/#processing-the-image-candidates">processing the image candidates</a>,
   respectively.</p></li>

   <li><p>⌛ If <var title="">selected source</var> is null,
   then abort these steps.</p></li> <!-- not sure this can ever
   actually happen -->

   <li><p>⌛ If <var title="">selected source</var> and <var title="">selected pixel density</var> are the same as the element's
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#last-selected-source">last selected source</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-pixel-density">current pixel
   density</a>, then abort these steps.</p></li> <!-- note that
   this check happens before base URL resolution, so changing the base
   URL doesn't trigger an update if nothing else changed -->

   <li><p>⌛ <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">Resolve</a> <var title="">selected source</var>, relative to the element.</p></li>

   <li><p>⌛ Let <var title="">CORS mode</var> be the state of
   the element's <code title="attr-img-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-crossorigin">crossorigin</a></code>
   content attribute.</p></li>

   <li><p>⌛ If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url">resolve a URL</a> algorithm is not
   successful, abort these steps.</p>

   </li><li><p>End the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>, continuing the
   remaining steps asynchronously.</p></li>

   <li>

    <p>Do a <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-cors-enabled-fetch">potentially CORS-enabled fetch</a> of the
    resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>, with the <i>mode</i> being
    <var title="">CORS mode</var>, the <i title="">origin</i> being
    the <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, and the <i>default origin behaviour</i> set
    to <i>taint</i>.</p>

    <p>If this download fails in any way (other than the response code
    not being a 2xx code, as mentioned earlier), or if the image
    format is unsupported (as determined by applying the <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type-sniffing:-image" title="Content-Type sniffing: image">image sniffing rules</a>,
    again as mentioned earlier), or if the resource type is
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#multipart/x-mixed-replace">multipart/x-mixed-replace</a></code>, then abort these
    steps.</p>

    <p>Otherwise, wait for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> algorithm to queue
    its last task, and then continue with these steps. The data
    obtained in this way is used in the steps below.</p>

   </li>

   <li>

    <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to run the following substeps:</p>

    <ol><li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code>, <code title="attr-img-srcset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-srcset">srcset</a></code>, or <code title="attr-img-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-crossorigin">crossorigin</a></code> attributes have
     been set, changed, or removed since this algorithm started, then
     abort these steps.</p>

     </li><li><p>Let the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#last-selected-source">last selected
     source</a> be <var title="">selected source</var> and the
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-pixel-density">current pixel density</a> be
     <var title="">selected pixel density</var>.</p></li>

     <li><p>Replace the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element's image data with the
     resource obtained by the earlier step of this algorithm. It can
     be either <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-same-origin">CORS-same-origin</a> or
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-cross-origin">CORS-cross-origin</a>; this affects the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of the image itself (e.g. when used on a
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>).</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">Fire a simple event</a> named <code title="">load</code> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element.</p></li>

    </ol></li>

  </ol><hr><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a> for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a
  task">queued</a> by algorithms in this section is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-manipulation-task-source">DOM
  manipulation task source</a>.</p>



  <hr><p>What an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element represents depends on the <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute and the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute.</p>

  <dl class="switch"><dt>If the <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute is set
   and the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute is set to
   the empty string</dt>

   <dd>

    <p>The image is either decorative or supplemental to the rest of
    the content, redundant with some other information in the
    document.</p>

    <p>If the image is <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-yes" title="img-yes">available</a> and the
    user agent is configured to display that image, then the element
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the element's image data.</p>

    <p>Otherwise, the element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> nothing, and may
    be omitted completely from the rendering. User agents may provide
    the user with a notification that an image is present but has been
    omitted from the rendering.</p>

   </dd>

   <dt>If the <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute is set
   and the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute is set to a
   value that isn't empty</dt>

   <dd>

    <p>The image is a key part of the content; the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute gives a textual
    equivalent or replacement for the image.</p>

    <p>If the image is <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-yes" title="img-yes">available</a> and the
    user agent is configured to display that image, then the element
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the element's image data.</p>

    <p>Otherwise, the element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the text given
    by the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute. User
    agents may provide the user with a notification that an image is
    present but has been omitted from the rendering.</p>

   </dd>

   <dt>If the <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute is set
   and the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute is not</dt>

   <dd>

    <p>The image might be a key part of the content, and there is no
    textual equivalent of the image available.</p>

    <p class="note">In a conforming document, the absence of the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute indicates that the image
    is a key part of the content but that a textual replacement for
    the image was not available when the image was generated.</p>

    <p>If the image is <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-yes" title="img-yes">available</a> and the
    user agent is configured to display that image, then the element
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the element's image data.</p>

    <p>Otherwise, the user agent should display some sort of indicator
    that there is an image that is not being rendered, and may, if
    requested by the user, or if so configured, or when required to
    provide contextual information in response to navigation, provide
    caption information for the image, derived as follows:</p>

    <ol><!-- when editing this list, search for the two other occurrences
     of 'critical-no-alt' --><!--TITLE--><!-- this is not omitted for some reason; see http://www.w3.org/html/wg/wiki/ChangeProposals/notitlev2#Details --><li><p>If the image has a <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code>
     attribute whose value is not the empty string, then the value of
     that attribute is the caption information; abort these
     steps.</p></li>

     <li><p>If the image is a descendant of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code>
     element that has a child <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element, and,
     ignoring the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element and its descendants,
     the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element has no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node
     descendants other than <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element whitespace</a>, and
     no <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> descendant other than the
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element, then the contents of the first such
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element are the caption information;
     abort these steps.</p></li>

    </ol></dd>

   <dt>If the <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute is not
   set and either the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute
   is set to the empty string or the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute is not set at all</dt>

   <dd>

    <p>The element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> nothing.</p>

   </dd>

   <dt>Otherwise</dt>

   <dd>

    <p>The element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the text given by the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute.</p>

   </dd>

  </dl><p>The <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute does not
  represent advisory information. User agents must not present the
  contents of the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute in
  the same way as content of the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code>
  attribute.</p>

  <p>User agents may always provide the user with the option to
  display any image, or to prevent any image from being
  displayed.

  <!--POLITICS--><!--FORK-->
  User agents may also apply heuristics to help the user make use of
  the image when the user is unable to see it, e.g. due to a visual
  disability or because they are using a text terminal with no
  graphics capabilities. Such heuristics could include, for instance,
  optical character recognition (OCR) of text found within the image.
  <!--POLITICS--><!--FORK-->

  </p>

  <p class="warning">While user agents are encouraged to repair cases
  of missing <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attributes, authors
  must not rely on such behavior. <a href="http://www.whatwg.org/specs/web-apps/current-work/#alt">Requirements for
  providing text to act as an alternative for images</a> are described
  in detail below.</p>

  <p>The <em>contents</em> of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> elements, if any, are
  ignored for the purposes of rendering.</p>

  </div>

  <hr><p>The <code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code> attribute,
  if present, can indicate that the image has an associated
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-map">image map</a>.</p>

  <p>The <dfn id="attr-img-ismap" title="attr-img-ismap"><code>ismap</code></dfn>
  attribute, when used on an element that is a descendant of an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element with an <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute, indicates by its
  presence that the element provides access to a server-side image
  map. This affects how events are handled on the corresponding
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element.</p>

  <p>The <code title="attr-img-ismap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-ismap">ismap</a></code> attribute is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute">boolean attribute</a>. The attribute must not be specified
  on an element that does not have an ancestor <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element
  with an <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element supports <a href="http://www.whatwg.org/specs/web-apps/current-work/#dimension-attributes">dimension
  attributes</a>.</p>

  <div class="impl">

  <p>The <dfn id="dom-img-alt" title="dom-img-alt"><code>alt</code></dfn>, <dfn id="dom-img-src" title="dom-img-src"><code>src</code></dfn>,
  
  and <dfn id="dom-img-srcset" title="dom-img-srcset"><code>srcset</code></dfn>
  
  IDL attributes must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content
  attributes of the same name.</p>

  <p>The <dfn id="dom-img-crossorigin" title="dom-img-crossOrigin"><code>crossOrigin</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-img-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-crossorigin">crossorigin</a></code> content
  attribute.</p>

  <p>The <dfn id="dom-img-usemap" title="dom-img-useMap"><code>useMap</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-img-usemap">usemap</code> content attribute.</p>

  <p>The <dfn id="dom-img-ismap" title="dom-img-isMap"><code>isMap</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-img-ismap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-ismap">ismap</a></code> content attribute.</p>

  </div>

<!--TOPIC:DOM APIs-->
  <dl class="domintro"><dt><var title="">image</var> . <code title="dom-img-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-width">width</a></code> [ = <var title="">value</var> ]</dt>
   <dt><var title="">image</var> . <code title="dom-img-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-height">height</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>These attributes return the actual rendered dimensions of the
    image, or zero if the dimensions are not known.</p>

    <p>They can be set, to change the corresponding content
    attributes.</p>

   </dd>

   <dt><var title="">image</var> . <code title="dom-img-naturalWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-naturalwidth">naturalWidth</a></code></dt>
   <dt><var title="">image</var> . <code title="dom-img-naturalHeight"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-naturalheight">naturalHeight</a></code></dt>

   <dd>

    <p>These attributes return the intrinsic dimensions of the image,
    or zero if the dimensions are not known.</p>

   </dd>

   <dt><var title="">image</var> . <code title="dom-img-complete"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-complete">complete</a></code></dt>

   <dd>

    <p>Returns true if the image has been completely downloaded or if
    no image is specified; otherwise, returns false.</p>

   </dd>

   <dt><var title="">image</var> = new <code title="dom-image"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-image">Image</a></code>( [ <var title="">width</var> [, <var title="">height</var> ] ] )</dt>

   <dd>

    <p>Returns a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element, with the <code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code> and <code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code> attributes set to the values
    passed in the relevant arguments, if applicable.</p>

   </dd>

  </dl><div class="impl">

  <p>The IDL attributes <dfn id="dom-img-width" title="dom-img-width"><code>width</code></dfn> and <dfn id="dom-img-height" title="dom-img-height"><code>height</code></dfn> must return the
  rendered width and height of the image, in CSS pixels, if the image
  is <a href="http://www.whatwg.org/specs/web-apps/current-work/#being-rendered">being rendered</a>, and is being rendered to a visual
  medium; or else the intrinsic width and height of the image, in CSS
  pixels, if the image is <i title="img-available">available</i> but
  not being rendered to a visual medium; or else 0, if the image is
  not <i title="img-available">available</i>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>

  <p>On setting, they must act as if they <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect" title="reflect">reflected</a> the respective content attributes
  of the same name.</p>

  <p>The IDL attributes <dfn id="dom-img-naturalwidth" title="dom-img-naturalWidth"><code>naturalWidth</code></dfn> and
  <dfn id="dom-img-naturalheight" title="dom-img-naturalHeight"><code>naturalHeight</code></dfn>
  must return the intrinsic width and height of the image, in CSS
  pixels, if the image is <i title="img-available">available</i>, or
  else 0. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>

  <p>The IDL attribute <dfn id="dom-img-complete" title="dom-img-complete"><code>complete</code></dfn> must return
  true if any of the following conditions is true:</p>
  <ul class="brief"><li>The <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute is omitted.
   </li><li>The <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute's value is the empty string.
   </li><li>The final <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> once the resource has been <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> has been <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a>, but has not yet been run, and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is not in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-error" title="img-error">broken</a> state.
   </li><li>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-all" title="img-all">completely available</a>.
  </li></ul><p>Otherwise, the attribute must return false.</p>

  <p class="note">The value of <code title="dom-img-complete"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-complete">complete</a></code> can thus change while a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-script" title="concept-script">script</a> is executing.</p>

  <p>Three constructors are provided for creating
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code> objects (in addition to the factory
  methods from DOM Core such as <code title="">createElement()</code>): <dfn id="dom-image" title="dom-image"><code>Image()</code></dfn>, <dfn id="dom-image-w" title="dom-image-w"><code>Image(<var title="">width</var>)</code></dfn>, and <dfn id="dom-image-wh" title="dom-image-wh"><code>Image(<var title="">width</var>, <var title="">height</var>)</code></dfn>. When invoked as constructors,
  these must return a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code> object (a new
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element). If the <var title="">width</var> argument
  is present, the new object's <code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code> content attribute must be set to
  <var title="">width</var>. If the <var title="">height</var>
  argument is also present, the new object's <code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code> content attribute must be set
  to <var title="">height</var>. The element's document must be the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> of
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code> object on which the interface object of the
  invoked constructor is found.</p>

  </div>
<!--TOPIC:HTML-->

  <div class="example">

   <p>A single image can have different appropriate alternative text
   depending on the context.</p>

   <p>In each of the following cases, the same image is used, yet the
   <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> text is different each
   time. The image is the coat of arms of the Carouge municipality in
   the canton Geneva in Switzerland.</p>

   <p>Here it is used as a supplementary icon:</p>
   <pre>&lt;p&gt;I lived in &lt;img src="carouge.svg" alt=""&gt; Carouge.&lt;/p&gt;</pre>

   <p>Here it is used as an icon representing the town:</p>
   <pre>&lt;p&gt;Home town: &lt;img src="carouge.svg" alt="Carouge"&gt;&lt;/p&gt;</pre>

   <p>Here it is used as part of a text on the town:</p>

   <pre>&lt;p&gt;Carouge has a coat of arms.&lt;/p&gt;
&lt;p&gt;&lt;img src="carouge.svg" alt="The coat of arms depicts a lion, sitting in front of a tree."&gt;&lt;/p&gt;
&lt;p&gt;It is used as decoration all over the town.&lt;/p&gt;</pre>

   <p>Here it is used as a way to support a similar text where the
   description is given as well as, instead of as an alternative to,
   the image:</p>

   <pre>&lt;p&gt;Carouge has a coat of arms.&lt;/p&gt;
&lt;p&gt;&lt;img src="carouge.svg" alt=""&gt;&lt;/p&gt;
&lt;p&gt;The coat of arms depicts a lion, sitting in front of a tree.
It is used as decoration all over the town.&lt;/p&gt;</pre>

   <p>Here it is used as part of a story:</p>

   <pre>&lt;p&gt;He picked up the folder and a piece of paper fell out.&lt;/p&gt;
&lt;p&gt;&lt;img src="carouge.svg" alt="Shaped like a shield, the paper had a
red background, a green tree, and a yellow lion with its tongue
hanging out and whose tail was shaped like an S."&gt;&lt;/p&gt;
&lt;p&gt;He stared at the folder. S! The answer he had been looking for all
this time was simply the letter S! How had he not seen that before? It all
came together now. The phone call where Hector had referred to a lion's tail,
the time Marco had stuck his tongue out...&lt;/p&gt;</pre>

   <p>Here it is not known at the time of publication what the image
   will be, only that it will be a coat of arms of some kind, and thus
   no replacement text can be provided, and instead only a brief
   caption for the image is provided, in the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute:</p>

   <pre>&lt;p&gt;The last user to have uploaded a coat of arms uploaded this one:&lt;/p&gt;
&lt;p&gt;&lt;img src="last-uploaded-coat-of-arms.cgi" title="User-uploaded coat of arms."&gt;&lt;/p&gt;</pre>

   <p>Ideally, the author would find a way to provide real replacement
   text even in this case, e.g. by asking the previous user. Not
   providing replacement text makes the document more difficult to use
   for people who are unable to view images, e.g. blind users, or
   users or very low-bandwidth connections or who pay by the byte, or
   users who are forced to use a text-only Web browser.</p>

  </div>

  <div class="example">

   <p>Here are some more examples showing the same picture used in
   different contexts, with different appropriate alternate texts each
   time.</p>

   <pre>&lt;article&gt;
 &lt;h1&gt;My cats&lt;/h1&gt;
 &lt;h2&gt;Fluffy&lt;/h2&gt;
 &lt;p&gt;Fluffy is my favorite.&lt;/p&gt;
 &lt;img src="fluffy.jpg" alt="She likes playing with a ball of yarn."&gt;
 &lt;p&gt;She's just too cute.&lt;/p&gt;
 &lt;h2&gt;Miles&lt;/h2&gt;
 &lt;p&gt;My other cat, Miles just eats and sleeps.&lt;/p&gt;
&lt;/article&gt;</pre>

   <pre>&lt;article&gt;
 &lt;h1&gt;Photography&lt;/h1&gt;
 &lt;h2&gt;Shooting moving targets indoors&lt;/h2&gt;
 &lt;p&gt;The trick here is to know how to anticipate; to know at what speed and
 what distance the subject will pass by.&lt;/p&gt;
 &lt;img src="fluffy.jpg" alt="A cat flying by, chasing a ball of yarn, can be
 photographed quite nicely using this technique."&gt;
 &lt;h2&gt;Nature by night&lt;/h2&gt;
 &lt;p&gt;To achieve this, you'll need either an extremely sensitive film, or
 immense flash lights.&lt;/p&gt;
&lt;/article&gt;</pre>

   <pre>&lt;article&gt;
 &lt;h1&gt;About me&lt;/h1&gt;
 &lt;h2&gt;My pets&lt;/h2&gt;
 &lt;p&gt;I've got a cat named Fluffy and a dog named Miles.&lt;/p&gt;
 &lt;img src="fluffy.jpg" alt="Fluffy, my cat, tends to keep itself busy."&gt;
 &lt;p&gt;My dog Miles and I like go on long walks together.&lt;/p&gt;
 &lt;h2&gt;music&lt;/h2&gt;
 &lt;p&gt;After our walks, having emptied my mind, I like listening to Bach.&lt;/p&gt;
&lt;/article&gt;</pre>

   <pre>&lt;article&gt;
 &lt;h1&gt;Fluffy and the Yarn&lt;/h1&gt;
 &lt;p&gt;Fluffy was a cat who liked to play with yarn. He also liked to jump.&lt;/p&gt;
 &lt;aside&gt;&lt;img src="fluffy.jpg" alt="" title="Fluffy"&gt;&lt;/aside&gt;
 &lt;p&gt;He would play in the morning, he would play in the evening.&lt;/p&gt;
&lt;/article&gt;</pre>

  </div>



  <h5 id="alt"><span class="secno">4.8.1.1 </span>Requirements for providing text to act as an alternative for images</h5>


  <h6 id="general-guidelines"><span class="secno">4.8.1.1.1 </span>General guidelines</h6>

  <p>Except where otherwise specified, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute must be specified and its
  value must not be empty; the value must be an appropriate
  replacement for the image. The specific requirements for the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute depend on what the image
  is intended to represent, as described in the following
  sections.</p>

  <p>The most general rule to consider when writing alternative text
  is the following: <strong>the intent is that replacing every image
  with the text of its <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute
  not change the meaning of the page</strong>.</p>

  <p>So, in general, alternative text can be written by considering
  what one would have written had one not been able to include the
  image.</p>

  <p>A corollary to this is that the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute's value should never
  contain text that could be considered the image's <em>caption</em>,
  <em>title</em>, or <em>legend</em>. It is supposed to contain
  replacement text that could be used by users <em>instead</em> of the
  image; it is not meant to supplement the image. The <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute can be used for
  supplemental information.</p>

  <p>Another corollary is that the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute's value should not repeat
  information that is already provided in the prose next to the
  image.</p>

  <p class="note">One way to think of alternative text is to think
  about how you would read the page containing the image to someone
  over the phone, without mentioning that there is an image
  present. Whatever you say instead of the image is typically a good
  start for writing the alternative text.</p>


  <h6 id="a-link-or-button-containing-nothing-but-the-image"><span class="secno">4.8.1.1.2 </span>A link or button containing nothing but the image</h6>

  <p>When an <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a> element that creates a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a>, or a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code> element, has no
  textual content but contains one or more images, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attributes must contain text that
  together convey the purpose of the link or button.</p>

  <div class="example">

   <p>In this example, a user is asked to pick his preferred color
   from a list of three. Each color is given by an image, but for
   users who have configured their user agent not to display images,
   the color names are used instead:</p>

   <pre>&lt;h1&gt;Pick your color&lt;/h1&gt;
&lt;ul&gt;
 &lt;li&gt;&lt;a href="green.html"&gt;<strong>&lt;img src="green.jpeg" alt="Green"&gt;</strong>&lt;/a&gt;&lt;/li&gt;
 &lt;li&gt;&lt;a href="blue.html"&gt;<strong>&lt;img src="blue.jpeg" alt="Blue"&gt;</strong>&lt;/a&gt;&lt;/li&gt;
 &lt;li&gt;&lt;a href="red.html"&gt;<strong>&lt;img src="red.jpeg" alt="Red"&gt;</strong>&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</pre>

  </div>

  <div class="example">

   <p>In this example, each button has a set of images to indicate the
   kind of color output desired by the user. The first image is used
   in each case to give the alternative text.</p>

   <pre>&lt;button name="rgb"&gt;<strong>&lt;img src="red" alt="RGB"&gt;&lt;img src="green" alt=""&gt;&lt;img src="blue" alt=""&gt;</strong>&lt;/button&gt;
&lt;button name="cmyk"&gt;<strong>&lt;img src="cyan" alt="CMYK"&gt;&lt;img src="magenta" alt=""&gt;&lt;img src="yellow" alt=""&gt;&lt;img src="black" alt=""&gt;</strong>&lt;/button&gt;</pre>

   <p>Since each image represents one part of the text, it could also
   be written like this:</p>

   <pre>&lt;button name="rgb"&gt;<strong>&lt;img src="red" alt="R"&gt;&lt;img src="green" alt="G"&gt;&lt;img src="blue" alt="B"&gt;</strong>&lt;/button&gt;
&lt;button name="cmyk"&gt;<strong>&lt;img src="cyan" alt="C"&gt;&lt;img src="magenta" alt="M"&gt;&lt;img src="yellow" alt="Y"&gt;&lt;img src="black" alt="K"&gt;</strong>&lt;/button&gt;</pre>

   <p>However, with other alternative text, this might not work, and
   putting all the alternative text into one image in each case might
   make more sense:</p>

   <pre>&lt;button name="rgb"&gt;<strong>&lt;img src="red" alt="sRGB profile"&gt;&lt;img src="green" alt=""&gt;&lt;img src="blue" alt=""&gt;</strong>&lt;/button&gt;
&lt;button name="cmyk"&gt;<strong>&lt;img src="cyan" alt="CMYK profile"&gt;&lt;img src="magenta" alt=""&gt;&lt;img src="yellow" alt=""&gt;&lt;img src="black" alt=""&gt;</strong>&lt;/button&gt;</pre>

  </div>



  <h6 id="a-phrase-or-paragraph-with-an-alternative-graphical-representation:-charts,-diagrams,-graphs,-maps,-illustrations"><span class="secno">4.8.1.1.3 </span>A phrase or paragraph with an alternative graphical representation: charts, diagrams, graphs, maps, illustrations</h6>

  <p>Sometimes something can be more clearly stated in graphical
  form, for example as a flowchart, a diagram, a graph, or a simple
  map showing directions. In such cases, an image can be given using
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element, but the lesser textual version must
  still be given, so that users who are unable to view the image
  (e.g. because they have a very slow connection, or because they
  are using a text-only browser, or because they are listening to
  the page being read out by a hands-free automobile voice Web
  browser, or simply because they are blind) are still able to
  understand the message being conveyed.</p>

  <p>The text must be given in the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute, and must convey the
  same message as the image specified in the <code title="attr-img-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-src">src</a></code> attribute.</p>

  <p>It is important to realize that the alternative text is a
  <em>replacement</em> for the image, not a description of the
  image.</p>

  <div class="example">

   <p>In the following example we have <a href="http://www.whatwg.org/specs/web-apps/current-work/images/parsing-model-overview.png">a flowchart</a> in image
   form, with text in the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code>
   attribute rephrasing the flowchart in prose form:</p>

   <pre>&lt;p&gt;In the common case, the data handled by the tokenization stage
comes from the network, but it can also come from script.&lt;/p&gt;
&lt;p&gt;<strong>&lt;img src="images/parsing-model-overview.png" alt="The Network
passes data to the Input Stream Preprocessor, which passes it to the
Tokenizer, which passes it to the Tree Construction stage. From there,
data goes to both the DOM and to Script Execution. Script Execution is
linked to the DOM, and, using document.write(), passes data to the
Tokenizer."&gt;</strong>&lt;/p&gt;</pre>

  </div>

  <div class="example">

   <p>Here's another example, showing a good solution and a bad
   solution to the problem of including an image in a
   description.</p>

   <p>First, here's the good solution. This sample shows how the
   alternative text should just be what you would have put in the
   prose if the image had never existed.</p>

   <pre>&lt;!-- This is the correct way to do things. --&gt;
&lt;p&gt;
 You are standing in an open field west of a house.
 <strong>&lt;img src="house.jpeg" alt="The house is white, with a boarded front door."&gt;</strong>
 There is a small mailbox here.
&lt;/p&gt;</pre>

   <p>Second, here's the bad solution. In this incorrect way of
   doing things, the alternative text is simply a description of the
   image, instead of a textual replacement for the image. It's bad
   because when the image isn't shown, the text doesn't flow as well
   as in the first example.</p>

   <pre class="bad">&lt;!-- <em>This is the wrong way to do things.</em> --&gt;
&lt;p&gt;
 You are standing in an open field west of a house.
 &lt;img src="house.jpeg" alt="A white house, with a boarded front door."&gt;
 There is a small mailbox here.
&lt;/p&gt;</pre>

   <p>Text such as "Photo of white house with boarded door" would be
   equally bad alternative text (though it could be suitable for the
   <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute or in the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> with this
   image).</p>

  </div>


  <h6 id="a-short-phrase-or-label-with-an-alternative-graphical-representation:-icons,-logos"><span class="secno">4.8.1.1.4 </span>A short phrase or label with an alternative graphical representation: icons, logos</h6>

  <p>A document can contain information in iconic form. The icon is
  intended to help users of visual browsers to recognize features at
  a glance.</p>

  <p>In some cases, the icon is supplemental to a text label
  conveying the same meaning. In those cases, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute must be present but must
  be empty.</p>

  <div class="example">

   <p>Here the icons are next to text that conveys the same meaning,
   so they have an empty <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code>
   attribute:</p>

   <pre>&lt;nav&gt;
 &lt;p&gt;&lt;a href="/help/"&gt;<strong>&lt;img src="/icons/help.png" alt=""&gt;</strong> Help&lt;/a&gt;&lt;/p&gt;
 &lt;p&gt;&lt;a href="/configure/"&gt;<strong>&lt;img src="/icons/configuration.png" alt=""&gt;</strong>
 Configuration Tools&lt;/a&gt;&lt;/p&gt;
&lt;/nav&gt;</pre>

  </div>

  <p>In other cases, the icon has no text next to it describing what
  it means; the icon is supposed to be self-explanatory. In those
  cases, an equivalent textual label must be given in the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute.</p>

  <div class="example">

   <p>Here, posts on a news site are labeled with an icon
   indicating their topic.</p>

   <pre>&lt;body&gt;
 &lt;article&gt;
  &lt;header&gt;
   &lt;h1&gt;Ratatouille wins &lt;i&gt;Best Movie of the Year&lt;/i&gt; award&lt;/h1&gt;
   &lt;p&gt;<strong>&lt;img src="movies.png" alt="Movies"&gt;</strong>&lt;/p&gt;
  &lt;/header&gt;
  &lt;p&gt;Pixar has won yet another &lt;i&gt;Best Movie of the Year&lt;/i&gt; award,
  making this its 8th win in the last 12 years.&lt;/p&gt;
 &lt;/article&gt;
 &lt;article&gt;
  &lt;header&gt;
   &lt;h1&gt;Latest TWiT episode is online&lt;/h1&gt;
   &lt;p&gt;<strong>&lt;img src="podcasts.png" alt="Podcasts"&gt;</strong>&lt;/p&gt;
  &lt;/header&gt;
  &lt;p&gt;The latest TWiT episode has been posted, in which we hear
  several tech news stories as well as learning much more about the
  iPhone. This week, the panelists compare how reflective their
  iPhones' Apple logos are.&lt;/p&gt;
 &lt;/article&gt;
&lt;/body&gt;</pre>

  </div>

  <p>Many pages include logos, insignia, flags, or emblems, which
  stand for a particular entity such as a company, organization,
  project, band, software package, country, or some such.</p>

  <p>If the logo is being used to represent the entity, e.g. as a page
  heading, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute must
  contain the name of the entity being represented by the logo. The
  <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute must <em>not</em>
  contain text like the word "logo", as it is not the fact that it is
  a logo that is being conveyed, it's the entity itself.</p>

  <p>If the logo is being used next to the name of the entity that
  it represents, then the logo is supplemental, and its <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute must instead be
  empty.</p>

  <p>If the logo is merely used as decorative material (as branding,
  or, for example, as a side image in an article that mentions the
  entity to which the logo belongs), then the entry below on purely
  decorative images applies. If the logo is actually being
  discussed, then it is being used as a phrase or paragraph (the
  description of the logo) with an alternative graphical
  representation (the logo itself), and the first entry above
  applies.</p>

  <div class="example">

   <p>In the following snippets, all four of the above cases are
   present. First, we see a logo used to represent a company:</p>

   <pre>&lt;h1&gt;<strong>&lt;img src="XYZ.gif" alt="The XYZ company"&gt;</strong>&lt;/h1&gt;</pre>

   <p>Next, we see a paragraph which uses a logo right next to the
   company name, and so doesn't have any alternative text:

   </p><pre>&lt;article&gt;
 &lt;h2&gt;News&lt;/h2&gt;
 &lt;p&gt;We have recently been looking at buying the <strong>&lt;img src="alpha.gif"
 alt=""&gt; ΑΒΓ company</strong>, a small Greek company
 specializing in our type of product.&lt;/p&gt;</pre>

   <p>In this third snippet, we have a logo being used in an aside,
   as part of the larger article discussing the acquisition:</p>

<pre> <strong>&lt;aside&gt;&lt;p&gt;&lt;img src="alpha-large.gif" alt=""&gt;&lt;/p&gt;&lt;/aside&gt;</strong>
 &lt;p&gt;The ΑΒΓ company has had a good quarter, and our
 pie chart studies of their accounts suggest a much bigger blue slice
 than its green and orange slices, which is always a good sign.&lt;/p&gt;
&lt;/article&gt;</pre>

   <p>Finally, we have an opinion piece talking about a logo, and
   the logo is therefore described in detail in the alternative
   text.</p>

   <pre>&lt;p&gt;Consider for a moment their logo:&lt;/p&gt;

<strong>&lt;p&gt;&lt;img src="/images/logo" alt="It consists of a green circle with a
green question mark centered inside it."&gt;&lt;/p&gt;</strong>

&lt;p&gt;How unoriginal can you get? I mean, oooooh, a question mark, how
&lt;em&gt;revolutionary&lt;/em&gt;, how utterly &lt;em&gt;ground-breaking&lt;/em&gt;, I'm
sure everyone will rush to adopt those specifications now! They could
at least have tried for some sort of, I don't know, sequence of
rounded squares with varying shades of green and bold white outlines,
at least that would look good on the cover of a blue book.&lt;/p&gt;</pre>

   <p>This example shows how the alternative text should be written
   such that if the image isn't <i title="img-available">available</i>, and the text is used instead,
   the text flows seamlessly into the surrounding text, as if the
   image had never been there in the first place.</p>

  </div>


  <h6 id="text-that-has-been-rendered-to-a-graphic-for-typographical-effect"><span class="secno">4.8.1.1.5 </span>Text that has been rendered to a graphic for typographical effect</h6>

  <p>Sometimes, an image just consists of text, and the purpose of the
  image is not to highlight the actual typographic effects used to
  render the text, but just to convey the text itself.</p>

  <p>In such cases, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code>
  attribute must be present but must consist of the same text as
  written in the image itself.</p>

  <div class="example">

   <p>Consider a graphic containing the text "Earth Day", but with the
   letters all decorated with flowers and plants. If the text is
   merely being used as a heading, to spice up the page for graphical
   users, then the correct alternative text is just the same text
   "Earth Day", and no mention need be made of the decorations:</p>

   <pre>&lt;h1&gt;<strong>&lt;img src="earthdayheading.png" alt="Earth Day"&gt;</strong>&lt;/h1&gt;</pre>

  </div>



  <h6 id="a-graphical-representation-of-some-of-the-surrounding-text"><span class="secno">4.8.1.1.6 </span>A graphical representation of some of the surrounding text</h6>

  <p>In many cases, the image is actually just supplementary, and
  its presence merely reinforces the surrounding text. In these
  cases, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute must be
  present but its value must be the empty string.</p>

  <p>In general, an image falls into this category if removing the
  image doesn't make the page any less useful, but including the
  image makes it a lot easier for users of visual browsers to
  understand the concept.</p>

  <div class="example">

   <p>A flowchart that repeats the previous paragraph in graphical form:</p>

   <pre>&lt;p&gt;The Network passes data to the Input Stream Preprocessor, which
passes it to the Tokenizer, which passes it to the Tree Construction
stage. From there, data goes to both the DOM and to Script Execution.
Script Execution is linked to the DOM, and, using document.write(),
passes data to the Tokenizer.&lt;/p&gt;
<strong>&lt;p&gt;&lt;img src="images/parsing-model-overview.png" alt=""&gt;&lt;/p&gt;</strong></pre>

   <p>In these cases, it would be wrong to include alternative text
   that consists of just a caption. If a caption is to be included,
   then either the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute can
   be used, or the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code>
   elements can be used. In the latter case, the image would in fact
   be a phrase or paragraph with an alternative graphical
   representation, and would thus require alternative text.</p>

   <pre>&lt;!-- Using the title="" attribute --&gt;
&lt;p&gt;The Network passes data to the Input Stream Preprocessor, which
passes it to the Tokenizer, which passes it to the Tree Construction
stage. From there, data goes to both the DOM and to Script Execution.
Script Execution is linked to the DOM, and, using document.write(),
passes data to the Tokenizer.&lt;/p&gt;
&lt;p&gt;<strong>&lt;img src="images/parsing-model-overview.png" alt=""
        title="Flowchart representation of the parsing model."&gt;</strong>&lt;/p&gt;</pre>

   <pre>&lt;!-- Using &lt;figure&gt; and &lt;figcaption&gt; --&gt;
&lt;p&gt;The Network passes data to the Input Stream Preprocessor, which
passes it to the Tokenizer, which passes it to the Tree Construction
stage. From there, data goes to both the DOM and to Script Execution.
Script Execution is linked to the DOM, and, using document.write(),
passes data to the Tokenizer.&lt;/p&gt;
&lt;figure&gt;
 <strong>&lt;img src="images/parsing-model-overview.png" alt="The Network leads to
 the Input Stream Preprocessor, which leads to the Tokenizer, which
 leads to the Tree Construction stage. The Tree Construction stage
 leads to two items. The first is Script Execution, which leads via
 document.write() back to the Tokenizer. The second item from which
 Tree Construction leads is the DOM. The DOM is related to the Script
 Execution."&gt;</strong>
 &lt;figcaption&gt;Flowchart representation of the parsing model.&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

   <pre class="bad">&lt;!-- This is WRONG. Do not do this. Instead, do what the above examples do. --&gt;
&lt;p&gt;The Network passes data to the Input Stream Preprocessor, which
passes it to the Tokenizer, which passes it to the Tree Construction
stage. From there, data goes to both the DOM and to Script Execution.
Script Execution is linked to the DOM, and, using document.write(),
passes data to the Tokenizer.&lt;/p&gt;
&lt;p&gt;&lt;img src="images/parsing-model-overview.png"
        alt="Flowchart representation of the parsing model."&gt;&lt;/p&gt;
&lt;!-- Never put the image's caption in the alt="" attribute! --&gt;</pre>

  </div>

  <div class="example">

   <p>A graph that repeats the previous paragraph in graphical form:</p>

   <pre>&lt;p&gt;According to a study covering several billion pages,
about 62% of documents on the Web in 2007 triggered the Quirks
rendering mode of Web browsers, about 30% triggered the Almost
Standards mode, and about 9% triggered the Standards mode.&lt;/p&gt;
<strong>&lt;p&gt;&lt;img src="rendering-mode-pie-chart.png" alt=""&gt;&lt;/p&gt;</strong></pre>

  </div>



  <h6 id="a-purely-decorative-image-that-doesn&#39;t-add-any-information"><span class="secno">4.8.1.1.7 </span>A purely decorative image that doesn't add any information</h6>

  <p>If an image is decorative but isn't especially page-specific
  — for example an image that forms part of a site-wide design
  scheme — the image should be specified in the site's CSS, not
  in the markup of the document.</p>


  <!-- The above paragraph is omitted in the WHATWG copy and replaced
  with the explicit requirement below because accessibility is better
  served by having authors get all their information from one place,
  instead of requiring them to read multiple (contradictory) documents. -->

<!--FORK-->

  <p>However, a decorative image that isn't discussed by the
  surrounding text but still has some relevance can be included in a page
  using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element. Such images are decorative, but
  still form part of the content. In these cases, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute must be present but its
  value must be the empty string.</p>

  <div class="example">

   <p>Examples where the image is purely decorative despite being
   relevant would include things like a photo of the Black Rock City
   landscape in a blog post about an event at Burning Man, or an
   image of a painting inspired by a poem, on a page reciting that
   poem. The following snippet shows an example of the latter
   case (only the first verse is included in this snippet):</p>

   <pre>&lt;h1&gt;The Lady of Shalott&lt;/h1&gt;
<strong>&lt;p&gt;&lt;img src="shalott.jpeg" alt=""&gt;&lt;/p&gt;</strong>
&lt;p&gt;On either side the river lie&lt;br&gt;
Long fields of barley and of rye,&lt;br&gt;
That clothe the wold and meet the sky;&lt;br&gt;
And through the field the road run by&lt;br&gt;
To many-tower'd Camelot;&lt;br&gt;
And up and down the people go,&lt;br&gt;
Gazing where the lilies blow&lt;br&gt;
Round an island there below,&lt;br&gt;
The island of Shalott.&lt;/p&gt;</pre>

  </div>

<!--FORK-->


  <h6 id="a-group-of-images-that-form-a-single-larger-picture-with-no-links"><span class="secno">4.8.1.1.8 </span>A group of images that form a single larger picture with no links</h6>

  <p>When a picture has been sliced into smaller image files that are
  then displayed together to form the complete picture again, one of
  the images must have its <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code>
  attribute set as per the relevant rules that would be appropriate
  for the picture as a whole, and then all the remaining images must
  have their <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute set to
  the empty string.</p>

  <div class="example">

   <p>In the following example, a picture representing a company logo
   for <span title="">XYZ Corp</span> has been split into two pieces,
   the first containing the letters "XYZ" and the second with the word
   "Corp". The alternative text ("XYZ Corp") is all in the first
   image.</p>

   <pre>&lt;h1&gt;<strong>&lt;img src="logo1.png" alt="XYZ Corp"&gt;&lt;img src="logo2.png" alt=""&gt;</strong>&lt;/h1&gt;</pre>

  </div>

  <div class="example">

   <p>In the following example, a rating is shown as three filled
   stars and two empty stars. While the alternative text could have
   been "★★★☆☆", the author has
   instead decided to more helpfully give the rating in the form "3
   out of 5". That is the alternative text of the first image, and the
   rest have blank alternative text.</p>

   <pre>&lt;p&gt;Rating: &lt;meter max=5 value=3&gt;<strong>&lt;img src="1" alt="3 out of 5"
  &gt;&lt;img src="1" alt=""&gt;&lt;img src="1" alt=""&gt;&lt;img src="0" alt=""
  &gt;&lt;img src="0" alt=""&gt;</strong>&lt;/meter&gt;&lt;/p&gt;</pre>

  </div>



  <h6 id="a-group-of-images-that-form-a-single-larger-picture-with-links"><span class="secno">4.8.1.1.9 </span>A group of images that form a single larger picture with links</h6>

  <p>Generally, <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-map" title="image map">image maps</a> should be
  used instead of slicing an image for links.</p>

  <p>However, if an image is indeed sliced and any of the components
  of the sliced picture are the sole contents of links, then one image
  per link must have alternative text in its <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute representing the purpose
  of the link.</p>

  <div class="example">

   <p>In the following example, a picture representing the flying
   spaghetti monster emblem, with each of the left noodly appendages
   and the right noodly appendages in different images, so that the
   user can pick the left side or the right side in an adventure.</p>

   <pre>&lt;h1&gt;The Church&lt;/h1&gt;
&lt;p&gt;You come across a flying spaghetti monster. Which side of His
Noodliness do you wish to reach out for?&lt;/p&gt;
<strong>&lt;p&gt;&lt;a href="?go=left" &gt;&lt;img src="fsm-left.png"  alt="Left side. "&gt;&lt;/a
  &gt;&lt;img src="fsm-middle.png" alt=""
  &gt;&lt;a href="?go=right"&gt;&lt;img src="fsm-right.png" alt="Right side."&gt;&lt;/a&gt;&lt;/p&gt;</strong></pre>

  </div>



  <h6 id="a-key-part-of-the-content"><span class="secno">4.8.1.1.10 </span>A key part of the content</h6>

  <p>In some cases, the image is a critical part of the
  content. This could be the case, for instance, on a page that is
  part of a photo gallery. The image is the whole <em>point</em> of
  the page containing it.</p>

  <p>How to provide alternative text for an image that is a key part
  of the content depends on the image's provenance.</p>

  <dl><dt>The general case</dt>

   <dd>

    <p>When it is possible for detailed alternative text to be
    provided, for example if the image is part of a series of
    screenshots in a magazine review, or part of a comic strip, or is
    a photograph in a blog entry about that photograph, text that can
    serve as a substitute for the image must be given as the contents
    of the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute.</p>

    <div class="example">

     <p>A screenshot in a gallery of screenshots for a new OS, with
     some alternative text:</p>

     <pre>&lt;figure&gt;
 <strong>&lt;img src="KDE%20Light%20desktop.png"
      alt="The desktop is blue, with icons along the left hand side in
           two columns, reading System, Home, K-Mail, etc. A window is
           open showing that menus wrap to a second line if they
           cannot fit in the window. The window has a list of icons
           along the top, with an address bar below it, a list of
           icons for tabs along the left edge, a status bar on the
           bottom, and two panes in the middle. The desktop has a bar
           at the bottom of the screen with a few buttons, a pager, a
           list of open applications, and a clock."&gt;</strong>
 &lt;figcaption&gt;Screenshot of a KDE desktop.&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

    </div>

    <div class="example">

     <p>A graph in a financial report:</p>

     <pre><strong>&lt;img src="sales.gif"
     title="Sales graph"
     alt="From 1998 to 2005, sales increased by the following percentages
     with each year: 624%, 75%, 138%, 40%, 35%, 9%, 21%"&gt;</strong></pre>

     <p>Note that "sales graph" would be inadequate alternative text
     for a sales graph. Text that would be a good <em>caption</em> is
     not generally suitable as replacement text.</p>

    </div>

   </dd>


   <dt>Images that defy a complete description</dt>

   <dd>

    <p>In certain cases, the nature of the image might be such that
    providing thorough alternative text is impractical. For example,
    the image could be indistinct, or could be a complex fractal, or
    could be a detailed topographical map.</p>

    <p>In these cases, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code>
    attribute must contain some suitable alternative text, but it may
    be somewhat brief.</p>

    <div class="example">

     <p>Sometimes there simply is no text that can do justice to an
     image. For example, there is little that can be said to usefully
     describe a Rorschach inkblot test. However, a description, even
     if brief, is still better than nothing:</p>

     <pre>&lt;figure&gt;
 <strong>&lt;img src="/commons/a/a7/Rorschach1.jpg" alt="A shape with left-right
 symmetry with indistinct edges, with a small gap in the center, two
 larger gaps offset slightly from the center, with two similar gaps
 under them. The outline is wider in the top half than the bottom
 half, with the sides extending upwards higher than the center, and
 the center extending below the sides."&gt;</strong>
 &lt;figcaption&gt;A black outline of the first of the ten cards
 in the Rorschach inkblot test.&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

     <p>Note that the following would be a very bad use of alternative
     text:</p>

     <pre class="bad">&lt;!-- This example is wrong. Do not copy it. --&gt;
&lt;figure&gt;
 &lt;img src="/commons/a/a7/Rorschach1.jpg" alt="A black outline
 of the first of the ten cards in the Rorschach inkblot test."&gt;
 &lt;figcaption&gt;A black outline of the first of the ten cards
 in the Rorschach inkblot test.&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

     <p>Including the caption in the alternative text like this isn't
     useful because it effectively duplicates the caption for users
     who don't have images, taunting them twice yet not helping them
     any more than if they had only read or heard the caption
     once.</p>

    </div>

    <div class="example">

     <p>Another example of an image that defies full description is a
     fractal, which, by definition, is infinite in detail.</p>

     <p>The following example shows one possible way of providing
     alternative text for the full view of an image of the Mandelbrot
     set.</p>

     <pre><strong>&lt;img src="ms1.jpeg" alt="The Mandelbrot set appears as a cardioid with
its cusp on the real axis in the positive direction, with a smaller
bulb aligned along the same center line, touching it in the negative
direction, and with these two shapes being surrounded by smaller bulbs
of various sizes."&gt;</strong></pre>

    </div>

   </dd>


   <dt id="unknown-images">Images whose contents are not known</dt>

   <dd>

    <p>In some unfortunate cases, there might be no alternative text
    available at all, either because the image is obtained in some
    automated fashion without any associated alternative text (e.g. a
    Webcam), or because the page is being generated by a script using
    user-provided images where the user did not provide suitable or
    usable alternative text (e.g. photograph sharing sites), or
    because the author does not himself know what the images represent
    (e.g. a blind photographer sharing an image on his blog).</p>

    <p>In such cases, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code>
    attribute may be omitted, but one of the following conditions must
    be met as well:</p>

    <ul><!-- when editing this list, search for the two other occurrences
     of 'critical-no-alt' --><!--FORK--><!--TITLE--><li>The <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute is
     present and has a non-empty value.</li>
<!--FORK--><!--TITLE-->

     <li id="figcaption-as-alt-condition">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element
     is in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element that contains a
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element that contains content other than
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element whitespace</a>, and, ignoring the
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code> element and its descendants, the
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element has no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text">Text</a></code> node
     descendants other than <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element whitespace</a>, and
     no <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> descendant other than the
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element.</li>

    </ul><p class="note">Such cases are to be kept to an absolute
    minimum. If there is even the slightest possibility of the author
    having the ability to provide real alternative text, then it would
    not be acceptable to omit the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code>
    attribute.</p>

    <div class="example">

     <p>A photo on a photo-sharing site, if the site received the
     image with no metadata other than the caption, could be marked up
     as follows:</p>

     <pre>&lt;figure&gt;
 <strong>&lt;img src="1100670787_6a7c664aef.jpg"&gt;</strong>
 &lt;figcaption&gt;Bubbles traveled everywhere with us.&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

     <p>It would be better, however, if a detailed description of the
     important parts of the image obtained from the user and included
     on the page.</p>

    </div>

    <div class="example">

     <p>A blind user's blog in which a photo taken by the user is
     shown. Initially, the user might not have any idea what the photo
     he took shows:</p>

     <pre>&lt;article&gt;
 &lt;h1&gt;I took a photo&lt;/h1&gt;
 &lt;p&gt;I went out today and took a photo!&lt;/p&gt;
 &lt;figure&gt;
  <strong>&lt;img src="photo2.jpeg"&gt;</strong>
  &lt;figcaption&gt;A photograph taken blindly from my front porch.&lt;/figcaption&gt;
 &lt;/figure&gt;
&lt;/article&gt;</pre>

     <p>Eventually though, the user might obtain a description of the
     image from his friends and could then include alternative text:</p>

     <pre>&lt;article&gt;
 &lt;h1&gt;I took a photo&lt;/h1&gt;
 &lt;p&gt;I went out today and took a photo!&lt;/p&gt;
 &lt;figure&gt;
  <strong>&lt;img src="photo2.jpeg" alt="The photograph shows my squirrel
  feeder hanging from the edge of my roof. It is half full, but there
  are no squirrels around. In the background, out-of-focus trees fill the
  shot. The feeder is made of wood with a metal grate, and it contains
  peanuts. The edge of the roof is wooden too, and is painted white
  with light blue streaks."&gt;</strong>
  &lt;figcaption&gt;A photograph taken blindly from my front porch.&lt;/figcaption&gt;
 &lt;/figure&gt;
&lt;/article&gt;</pre>

    </div>

    <div class="example">

     <p>Sometimes the entire point of the image is that a textual
     description is not available, and the user is to provide the
     description. For instance, the point of a CAPTCHA image is to see
     if the user can literally read the graphic. Here is one way to
     mark up a CAPTCHA (note the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code>
     attribute):</p>

     <pre>&lt;p&gt;&lt;label&gt;What does this image say?
<strong>&lt;img src="captcha.cgi?id=8934" title="CAPTCHA"&gt;</strong>
&lt;input type=text name=captcha&gt;&lt;/label&gt;
(If you cannot see the image, you can use an &lt;a
href="?audio"&gt;audio&lt;/a&gt; test instead.)&lt;/p&gt;</pre>

     <p>Another example would be software that displays images and
     asks for alternative text precisely for the purpose of then
     writing a page with correct alternative text. Such a page could
     have a table of images, like this:</p>

     <pre>&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt; &lt;th&gt; Image &lt;th&gt; Description
 &lt;tbody&gt;
  &lt;tr&gt;
   &lt;td&gt; <strong>&lt;img src="2421.png" title="Image 640 by 100, filename 'banner.gif'"&gt;</strong>
   &lt;td&gt; &lt;input name="alt2421"&gt;
  &lt;tr&gt;
   &lt;td&gt; <strong>&lt;img src="2422.png" title="Image 200 by 480, filename 'ad3.gif'"&gt;</strong>
   &lt;td&gt; &lt;input name="alt2422"&gt;
&lt;/table&gt;</pre>

     <p>Notice that even in this example, as much useful information
     as possible is still included in the <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute.</p>

    </div>

    <p class="note">Since some users cannot use images at all
    (e.g. because they have a very slow connection, or because they
    are using a text-only browser, or because they are listening to
    the page being read out by a hands-free automobile voice Web
    browser, or simply because they are blind), the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute is only allowed to be
    omitted rather than being provided with replacement text when no
    alternative text is available and none can be made available, as
    in the above examples. Lack of effort from the part of the author
    is not an acceptable reason for omitting the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute.</p>

   </dd>

  </dl><h6 id="an-image-not-intended-for-the-user"><span class="secno">4.8.1.1.11 </span>An image not intended for the user</h6>

  <p>Generally authors should avoid using <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> elements
  for purposes other than showing images.</p>

  <p>If an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is being used for purposes other
  than showing an image, e.g. as part of a service to count page
  views, then the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute must
  be the empty string.</p>

  <p>In such cases, the <code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code> and
  <code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code> attributes should both
  be set to zero.</p>


<!--FORK-->
  <h6 id="an-image-in-an-e-mail-or-private-document-intended-for-a-specific-person-who-is-known-to-be-able-to-view-images"><span class="secno">4.8.1.1.12 </span>An image in an e-mail or private document intended for a specific person who is known to be able to view images</h6>

  <p><i>This section does not apply to documents that are publicly
  accessible, or whose target audience is not necessarily personally
  known to the author, such as documents on a Web site, e-mails sent
  to public mailing lists, or software documentation.</i></p>

  <p>When an image is included in a private communication (such as an
  HTML e-mail) aimed at a specific person who is known to be able to
  view images, the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute may
  be omitted. However, even in such cases it is strongly recommended
  that alternative text be included (as appropriate according to the
  kind of image involved, as described in the above entries), so that
  the e-mail is still usable should the user use a mail client that
  does not support images, or should the document be forwarded on to
  other users whose abilities might not include easily seeing
  images.</p>
<!--FORK-->




  <div class="impl">

  <h6 id="guidance-for-markup-generators"><span class="secno">4.8.1.1.13 </span>Guidance for markup generators</h6>

  <p>Markup generators (such as WYSIWYG authoring tools) should,
  wherever possible, obtain alternative text from their
  users. However, it is recognized that in many cases, this will not
  be possible.</p>

  <p>For images that are the sole contents of links, markup generators
  should examine the link target to determine the title of the target,
  or the URL of the target, and use information obtained in this
  manner as the alternative text.</p>

  <p>As a last resort, implementors should either set the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute to the empty string, under
  the assumption that the image is a purely decorative image that
  doesn't add any information but is still specific to the surrounding
  content, or omit the <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute
  altogether, under the assumption that the image is a key part of the
  content.</p>

  <p>Markup generators should generally avoid using the image's own
  file name as the alternative text. Similarly, markup generators
  should avoid generating alternative text from any content that will
  be equally available to presentation user agents (e.g. Web
  browsers).</p>

  <p class="note">This is because once a page is generated, it will
  typically not be updated, whereas the browsers that later read the
  page can be updated by the user, therefore the browser is likely to
  have more up-to-date and finely-tuned heuristics than the markup
  generator did when generating the page.</p>

  </div>

  <div class="impl">

  <h6 id="guidance-for-conformance-checkers"><span class="secno">4.8.1.1.14 </span>Guidance for conformance checkers</h6>

  <p>A conformance checker must report the lack of an <code title="attr-img-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-img-alt">alt</a></code> attribute as an error unless one of
  the conditions listed below applies:</p>

  <ul><!-- when editing this list, search for the two other occurrences
   of 'critical-no-alt' --><!--FORK--><!--TITLE--><li>The <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code> attribute is present
   and has a non-empty value (as <a href="http://www.whatwg.org/specs/web-apps/current-work/#unknown-images">described
   above</a>).</li>
<!--FORK--><!--TITLE-->

   <li>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element is in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code>
   element that satisfies <a href="http://www.whatwg.org/specs/web-apps/current-work/#figcaption-as-alt-condition">the
   conditions described above</a>.</li>

   <!-- the following are additional entries not included in the
   aforementioned list, as they apply only to conformance checkers -->

<!--FORK-->
   <li>The conformance checker has been configured to assume that the
   document is an e-mail or document intended for a specific person
   who is known to be able to view images.</li>
<!--FORK-->

   <li>The document has a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">meta</a></code> element with a <code title="attr-meta-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name">name</a></code> attribute whose value is an
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match for the string "<code title="meta-generator"><a href="http://www.whatwg.org/specs/web-apps/current-work/#meta-generator">generator</a></code>". (This case does not
   represent a case where the document is conforming, only that the
   generator could not determine appropriate alternative text —
   validators are required to not show an error in this case to
   discourage markup generators from including bogus alternative text
   purely in an attempt to silence validators.)</li>

  </ul></div>



  <h4 id="the-iframe-element"><span class="secno">4.8.2 </span>The <dfn><code>iframe</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">Embedded content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">Interactive content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Text that conforms to <a href="http://www.whatwg.org/specs/web-apps/current-work/#iframe-content-model">the requirements given in the prose</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-iframe-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-src">src</a></code></dd>
   <dd><code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code></dd>
   <dd><code title="attr-iframe-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-name">name</a></code></dd>
   <dd><code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code></dd>
   <dd><code title="attr-iframe-seamless"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-seamless">seamless</a></code></dd>
   <dd><code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code></dd>
   <dd><code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmliframeelement">HTMLIFrameElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-iframe-src" title="dom-iframe-src">src</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-iframe-srcdoc" title="dom-iframe-srcdoc">srcdoc</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-iframe-name" title="dom-iframe-name">name</a>;
  [PutForwards=<span title="dom-DOMSettableTokenList-value">value</span>] readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-iframe-sandbox" title="dom-iframe-sandbox">sandbox</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-iframe-seamless" title="dom-iframe-seamless">seamless</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dim-width" title="dom-dim-width">width</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dim-height" title="dom-dim-height">height</a>;
  readonly attribute Document? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-iframe-contentdocument" title="dom-iframe-contentDocument">contentDocument</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#windowproxy">WindowProxy</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-iframe-contentwindow" title="dom-iframe-contentWindow">contentWindow</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>.</p>

  <p>The <dfn id="attr-iframe-src" title="attr-iframe-src"><code>src</code></dfn> attribute
  gives the address of a page that the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing
  context</a> is to contain. The attribute, if present, must be a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially surrounded by
  spaces</a>.</p>

<!--MD-->
  <p>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> is specified
  on an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element, then the <code title="attr-iframe-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-src">src</a></code> attribute must also be
  specified.</p>
<!--MD-->

  <p>The <dfn id="attr-iframe-srcdoc" title="attr-iframe-srcdoc"><code>srcdoc</code></dfn>
  attribute gives the content of the page that the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested
  browsing context</a> is to contain. The value of the attribute is
  the source of <dfn id="an-iframe-srcdoc-document">an <code>iframe</code> <code title="attr-iframe-srcdoc">srcdoc</code> document</dfn>.</p>

  <p>For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> elements in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a>,
  the attribute, if present, must have a value using <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">the HTML
  syntax</a> that consists of the following syntactic components,
  in the given order:</p>

  <ol><li>Any number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-comments" title="syntax-comments">comments</a> and
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>.</li>

   <li>Optionally, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-doctype" title="syntax-doctype">DOCTYPE</a>.

   </li><li>Any number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-comments" title="syntax-comments">comments</a> and
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>.</li>

   <li>The root element, in the form of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-html-element">html</a></code> <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-elements" title="syntax-elements">element</a>.</li>

   <li>Any number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax-comments" title="syntax-comments">comments</a> and
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>.</li>

  </ol><p>For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> elements in <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML documents</a>,
  the attribute, if present, must have a value that matches the
  production labeled <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">document</a></code> in the XML
  specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXML">[XML]</a></p>

  <p>If the <code title="attr-iframe-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-src">src</a></code> attribute and the
  <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute are both
  specified together, the <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code>
  attribute takes priority. This allows authors to provide a fallback
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> for legacy user agents that do not support the
  <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute.</p>

  <div class="impl">

  <p>When an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element is first <a href="http://www.whatwg.org/specs/web-apps/current-work/#insert-an-element-into-a-document" title="insert
  an element into a document">inserted into a document</a>, the
  user agent must create a <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>, and
  then <a href="http://www.whatwg.org/specs/web-apps/current-work/#process-the-iframe-attributes">process the <code>iframe</code> attributes</a> for the
  first time.</p>

  <p>Whenever an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested
  browsing context</a> has its <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute set, changed, or
  removed, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#process-the-iframe-attributes">process the <code>iframe</code>
  attributes</a>.</p>

  <p>Similarly, whenever an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element with a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a> but with no <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute specified has its
  <code title="attr-iframe-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-src">src</a></code> attribute set, changed, or
  removed, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#process-the-iframe-attributes">process the <code>iframe</code>
  attributes</a>.</p> <!-- It doesn't happen when the base URL is
  changed, though. -->

  <p>When the user agent is to <dfn id="process-the-iframe-attributes">process the <code>iframe</code>
  attributes</dfn>, it must run the first appropriate steps from the
  following list:</p>

  <dl class="switch"><dt>If the <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute
   is specified</dt>

   <dd><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate">Navigate</a><!--DONAV iframe--> the element's
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> to a resource whose
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type">Content-Type</a> is <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html">text/html</a></code>, whose
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> is <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:srcdoc">about:srcdoc</a></code>, and whose data
   consists of the value of the attribute. The resulting
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> must be considered <a href="http://www.whatwg.org/specs/web-apps/current-work/#an-iframe-srcdoc-document">an
   <code>iframe</code> <code title="attr-iframe-srcdoc">srcdoc</code>
   document</a>.</p></dd>

   <dt>If the <code title="attr-iframe-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-src">src</a></code>
   attribute is specified but the <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute is not</dt>

   <dd>

    <ol><li><p>If the value of the <code title="attr-iframe-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-src">src</a></code> attribute is the empty string,
     jump to the <i title="">empty</i> step below.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">Resolve</a> the value of
     the <code title="attr-iframe-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-src">src</a></code> attribute, relative
     to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element.</p></li>

     <li><p>If that is not successful, then jump to the <i title="">empty</i> step below.</p></li>

     <li><p>If the resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> is an
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match for the string
     "<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:blank">about:blank</a></code>", and the user agent is processing this
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>'s attributes for the first time, then jump to
     the <i title="">empty</i> step below. (In cases other than the
     first time, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:blank">about:blank</a></code> is loaded
     normally.)</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate">Navigate</a><!--DONAV iframe--> the element's
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> to the resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute
     URL</a>.</p></li>

    </ol><p><i>Empty</i>: When the steps above require the user agent to
    jump to the <i title="">empty</i> step, if the user agent is
    processing this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>'s attributes for the first
    time, then the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-load">load</code> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element.
    (After jumping to this step, the above steps are not resumed.)
    <span class="note">No <code title="event-load">load</code> event
    is fired at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:blank">about:blank</a></code> document
    itself.</span></p>

   </dd>

   <dt>Otherwise</dt>

   <dd>

    <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
    named <code title="event-load">load</code> at the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element.</p>

   </dd>

  </dl><p>Any <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigation</a> required of the user
  agent in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#process-the-iframe-attributes">process the <code>iframe</code> attributes</a>
  algorithm must be completed with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element's
  document's <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> as the <a href="http://www.whatwg.org/specs/web-apps/current-work/#source-browsing-context">source
  browsing context</a>.</p>

  <p>Furthermore, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#session-history">session
  history</a> contained only one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> when the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#process-the-iframe-attributes">process the <code>iframe</code> attributes</a> algorithm
  was invoked, and that was the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:blank">about:blank</a></code>
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> created when the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>
  was created, then any <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigation</a>
  required of the user agent in that algorithm must be completed with
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#replacement-enabled">replacement enabled</a>.</p> <!-- see also the note near
  similar text for the location.assign() method -->

  </div>

  <p class="note">If, when the element is created, the <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute is not set, and
  the <code title="attr-iframe-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-src">src</a></code> attribute is either
  also not set or set but its value cannot be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a
  url">resolved</a>, the browsing context will remain at the
  initial <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:blank">about:blank</a></code> page.</p>

  <p class="note">If the user <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigates</a>
  away from this page, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>'s corresponding
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#windowproxy">WindowProxy</a></code> object will proxy new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code>
  objects for new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> objects, but the <code title="attr-iframe-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-src">src</a></code> attribute will not change.</p>

  <div class="impl">

  <div class="note">

   <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#remove-an-element-from-a-document" title="remove an element from a document">Removing</a>
   an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> from a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> does not cause
   its <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> to be discarded. Indeed, an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> can survive its
   original parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> if its <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> is
   moved to another <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>.</p>

   <p>On the other hand, if an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#remove-an-element-from-a-document" title="remove an element from a document">removed</a> from a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> and is then subsequently garbage collected,
   this will likely mean (in the absence of other references) that the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#child-browsing-context">child browsing context</a>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#windowproxy">WindowProxy</a></code>
   object will become eligble for garbage collection, which will then
   lead to that <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> being <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-browsing-context-is-discarded" title="a
   browsing context is discarded">discarded</a>, which will then
   lead to its <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> being <a href="http://www.whatwg.org/specs/web-apps/current-work/#discard-a-document" title="discard a
   document">discarded</a> also. This happens without notice to any
   scripts running in that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>; for example, no
   <code title="event-unload">unload</code> events are fired (the
   "<a href="http://www.whatwg.org/specs/web-apps/current-work/#unload-a-document">unload a document</a>" steps are not run).</p>

  </div>

  </div>

  <div class="example">

   <p>Here a blog uses the <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute in conjunction
   with the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code> and <code title="attr-iframe-seamless"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-seamless">seamless</a></code> attributes described
   below to provide users of user agents that support this feature
   with an extra layer of protection from script injection in the blog
   post comments:</p>

   <pre>&lt;article&gt;
 &lt;h1&gt;I got my own magazine!&lt;/h1&gt;
 &lt;p&gt;After much effort, I've finally found a publisher, and so now I
 have my own magazine! Isn't that awesome?! The first issue will come
 out in September, and we have articles about getting food, and about
 getting in boxes, it's going to be great!&lt;/p&gt;
 &lt;footer&gt;
  &lt;p&gt;Written by &lt;a href="/users/cap"&gt;cap&lt;/a&gt;, 1 hour ago.
 &lt;/footer&gt;
 &lt;article&gt;
  &lt;footer&gt; Thirteen minutes ago, &lt;a href="/users/ch"&gt;ch&lt;/a&gt; wrote: &lt;/footer&gt;
  &lt;iframe seamless sandbox srcdoc="&lt;p&gt;did you get a cover picture yet?"&gt;&lt;/iframe&gt;
 &lt;/article&gt;
 &lt;article&gt;
  &lt;footer&gt; Nine minutes ago, &lt;a href="/users/cap"&gt;cap&lt;/a&gt; wrote: &lt;/footer&gt;
  &lt;iframe seamless sandbox srcdoc="&lt;p&gt;Yeah, you can see it &lt;a href=&amp;quot;/gallery?mode=cover&amp;amp;amp;page=1&amp;quot;&gt;in my gallery&lt;/a&gt;."&gt;&lt;/iframe&gt;
 &lt;/article&gt;
 &lt;article&gt;
  &lt;footer&gt; Five minutes ago, &lt;a href="/users/ch"&gt;ch&lt;/a&gt; wrote: &lt;/footer&gt;
  &lt;iframe seamless sandbox srcdoc="&lt;p&gt;hey that's earl's table.
&lt;p&gt;you should get earl&amp;amp;amp;me on the next cover."&gt;&lt;/iframe&gt;
 &lt;/article&gt;</pre>

   <p>Notice the way that quotes have to be escaped (otherwise the
   <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute would end
   prematurely), and the way raw ampersands (e.g. in URLs or in prose)
   mentioned in the sandboxed content have to be <em>doubly</em>
   escaped — once so that the ampersand is preserved when
   originally parsing the <code title="attr-iframe-srcdoc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-srcdoc">srcdoc</a></code> attribute, and once more
   to prevent the ampersand from being misinterpreted when parsing the
   sandboxed content.</p>

  </div>

  <p class="note">In <a href="http://www.whatwg.org/specs/web-apps/current-work/#syntax">the HTML syntax</a>, authors need only
  remember to use U+0022 QUOTATION MARK characters (") to wrap the
  attribute contents and then to escape all U+0022 QUOTATION MARK (")
  and U+0026 AMPERSAND (&amp;) characters, and to specify the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code> attribute, to ensure safe
  embedding of content.</p>

  <p class="note">Due to restrictions of <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-xhtml-syntax">the XHTML
  syntax</a>, in XML the U+003C LESS-THAN SIGN character (&lt;)
  needs to be escaped as well. In order to prevent <a href="http://www.w3.org/TR/REC-xml/#AVNormalize">attribute-value
  normalization</a>, some of XML's whitespace characters —
  specifically U+0009 CHARACTER TABULATION (tab), U+000A LINE FEED
  (LF), and U+000D CARRIAGE RETURN (CR) — also need to be
  escaped. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsXML">[XML]</a></p>

  <hr><p>The <dfn id="attr-iframe-name" title="attr-iframe-name"><code>name</code></dfn>
  attribute, if present, must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-browsing-context-name">valid browsing context
  name</a>. The given value is used to name the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested
  browsing context</a>. <span class="impl">When the browsing
  context is created, if the attribute is present, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-name">browsing
  context name</a> must be set to the value of this attribute;
  otherwise, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-name">browsing context name</a> must be set to the
  empty string.</span></p>

  <div class="impl">

  <p>Whenever the <code title="attr-iframe-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-name">name</a></code> attribute
  is set, the nested <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-name" title="browsing context name">name</a> must be changed to the new
  value. If the attribute is removed, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-name">browsing context
  name</a> must be set to the empty string.</p>

  <p>When content loads in an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>, after any <code title="event-load">load</code> events are fired within the content
  itself, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire
  a simple event</a> named <code title="event-load">load</code> at
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element. When content whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>
  has the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin">same origin</a> as the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>
  element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> fails to load (e.g. due to a DNS
  error, network error, or if the server returned a 4xx or 5xx status
  code <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-http-equivalent-codes" title="concept-http-equivalent-codes">or
  equivalent</a>), then the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
  task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-error">error</code> at the element instead. (This event
  does not fire for <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-error" title="parse error">parse errors</a>,
  script errors, or any errors for cross-origin resources.)</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a> for these <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-manipulation-task-source">DOM manipulation
  task source</a>.</p>

  <p class="note">A <code title="event-load">load</code> event is also
  fired at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element when it is created if no
  other data is loaded in it.</p>

  <p>When there is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-parser">active parser</a> in the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>, and when anything in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> is
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load event">delaying the load event</a> of
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a>, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load event</a> of its document.</p>

  <p class="note">If, during the handling of the <code title="event-load">load</code> event, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
  context</a> in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> is again <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigated</a>, that will further <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the
  load event</a>.</p>

  </div>

  <hr><p>The <dfn id="attr-iframe-sandbox" title="attr-iframe-sandbox"><code>sandbox</code></dfn>
  attribute, when specified, enables a set of extra restrictions on
  any content hosted by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>. Its value must be an
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#unordered-set-of-unique-space-separated-tokens">unordered set of unique space-separated tokens</a> that are
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a>. The allowed values are
  <code title="attr-iframe-sandbox-allow-forms"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-forms">allow-forms</a></code>,
  <code title="attr-iframe-sandbox-allow-popups"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-popups">allow-popups</a></code>,
  <code title="attr-iframe-sandbox-allow-same-origin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-same-origin">allow-same-origin</a></code>,
  <code title="attr-iframe-sandbox-allow-scripts"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-scripts">allow-scripts</a></code>, and
  <code title="attr-iframe-sandbox-allow-top-navigation"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-top-navigation">allow-top-navigation</a></code>.

  When the attribute is set, the content is treated as being from a
  unique <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a>, forms and scripts are disabled, links
  are prevented from targeting other <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context" title="browsing
  context">browsing contexts</a>, and plugins are secured. The
  <code title="attr-iframe-sandbox-allow-same-origin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-same-origin">allow-same-origin</a></code>
  keyword allows the content to be treated as being from the same
  origin instead of forcing it into a unique origin, the <code title="attr-iframe-sandbox-allow-top-navigation"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-top-navigation">allow-top-navigation</a></code>
  keyword allows the content to <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate">navigate</a> its
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#top-level-browsing-context">top-level browsing context</a>, and the <code title="attr-iframe-sandbox-allow-forms"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-forms">allow-forms</a></code>, <code title="attr-iframe-sandbox-allow-popups"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-popups">allow-popups</a></code> and <code title="attr-iframe-sandbox-allow-scripts"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-scripts">allow-scripts</a></code>
  keywords re-enable forms, popups, and scripts respectively.</p>

  <p class="warning">Setting both the
  <code title="attr-iframe-sandbox-allow-scripts"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-scripts">allow-scripts</a></code> and
  <code title="attr-iframe-sandbox-allow-same-origin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-same-origin">allow-same-origin</a></code>
  keywords together when the embedded page has the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin">same
  origin</a> as the page containing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> allows
  the embedded page to simply remove the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code> attribute.</p>

  <p class="warning">Sandboxing hostile content is of minimal help if
  an attacker can convince the user to just visit the hostile content
  directly, rather than in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>. To limit the
  damage that can be caused by hostile HTML content, it should be
  served from a separate dedicated domain.</p>

  <div class="impl">

  <!-- v2: Add a new attribute that enables new restrictions, e.g.:
       - disallow cross-origin loads of any kind (networking
         override that only allows same-origin URLs or about:,
         javascript:, data:)
       - block access to 'parent.frames' from sandbox
  -->

  <p>While the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code>
  attribute is set or changed, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-a-sandboxing-directive" title="parse
  a sandboxing directive">parse the sandboxing directive</a> using
  the attribute's value as the <var title="">input</var> and the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#iframe-sandboxing-flag-set"><code>iframe</code> sandboxing flag set</a> as the
  output.</p>

  <p class="warning">These flags only take effect when the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> is
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigated</a>. Removing them, or removing
  the entire <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code>
  attribute, has no effect on an already-loaded page.</p>

  </div>

  <div class="example">

   <p>In this example, some completely-unknown, potentially hostile,
   user-provided HTML content is embedded in a page. Because it is
   served from a separate domain, it is affected by all the normal
   cross-site restrictions. In addition, the embedded page has
   scripting disabled, plugins disabled, forms disabled, and it cannot
   navigate any frames or windows other than itself (or any frames or
   windows it itself embeds).</p>

   <pre>&lt;p&gt;We're not scared of you! Here is your content, unedited:&lt;/p&gt;
&lt;iframe sandbox src="http://usercontent.example.net/getusercontent.cgi?id=12193"&gt;&lt;/iframe&gt;</pre>

   <p class="warning">It is important to use a separate domain so that
   if the attacker convinces the user to visit that page directly, the
   page doesn't run in the context of the site's origin, which would
   make the user vulnerable to any attack found in the page.</p>

  </div>

  <div class="example">

   <p>In this example, a gadget from another site is embedded. The
   gadget has scripting and forms enabled, and the origin sandbox
   restrictions are lifted, allowing the gadget to communicate with
   its originating server. The sandbox is still useful, however, as it
   disables plugins and popups, thus reducing the risk of the user
   being exposed to malware and other annoyances.</p>

   <pre>&lt;iframe sandbox="allow-same-origin allow-forms allow-scripts"
        src="http://maps.example.com/embedded.html"&gt;&lt;/iframe&gt;</pre>

  </div>

  <div class="example">

   <p>Suppose a file A contained the following fragment:</p>

   <pre>&lt;iframe sandbox="allow-same-origin allow-forms" src=B&gt;&lt;/iframe&gt;</pre>

   <p>Suppose that file B contained an iframe also:</p>

   <pre>&lt;iframe sandbox="allow-scripts" src=C&gt;&lt;/iframe&gt;</pre>

   <p>Further, suppose that file C contained a link:</p>

   <pre>&lt;a href=D&gt;Link&lt;/a&gt;</pre>

   <p>For this example, suppose all the files were served as
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#text/html">text/html</a></code>.</p>

   <p>Page C in this scenario has all the sandboxing flags
   set. Scripts are disabled, because the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> in A has
   scripts disabled, and this overrides the <code title="attr-iframe-sandbox-allow-scripts"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-scripts">allow-scripts</a></code>
   keyword set on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> in B. Forms are also
   disabled, because the inner <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> (in B) does not
   have the <code title="attr-iframe-sandbox-allow-forms"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-forms">allow-forms</a></code> keyword
   set.</p>

   <p>Suppose now that a script in A removes all the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code> attributes in A
   <!--grammar-check-override--> and B. This would change nothing
   immediately. If the user clicked the link in C, loading page D into
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> in B, page D would now act as if the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> in B had the <code title="attr-iframe-sandbox-allow-same-origin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-same-origin">allow-same-origin</a></code>
   and <code title="attr-iframe-sandbox-allow-forms"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-forms">allow-forms</a></code> keywords
   set, because that was the state of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing
   context</a> in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> in A when page B was
   loaded.</p>

   <p>Generally speaking, dynamically removing or changing the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code> attribute is
   ill-advised, because it can make it quite hard to reason about what
   will be allowed and what will not.</p>

  </div>

  <p class="note">Potentially hostile files should not be served from
  the same server as the file containing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>
  element. Using a different domain ensures that scripts in the files
  are unable to attack the site, even if the user is tricked into
  visiting those pages directly, without the protection of the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code> attribute.</p>

  <p class="warning">If the <code title="attr-iframe-sandbox-allow-scripts"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-scripts">allow-scripts</a></code>
  keyword is set along with <code title="attr-iframe-sandbox-allow-same-origin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox-allow-same-origin">allow-same-origin</a></code>
  keyword, and the file is from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin">same origin</a> as the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, then a script in the
  "sandboxed" iframe could just reach out, remove the <code title="attr-iframe-sandbox"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-iframe-sandbox">sandbox</a></code> attribute, and then
  reload itself, effectively breaking out of the sandbox
  altogether.</p>


  <hr><!-- v2: Might be interesting to have a value on seamless that
  allowed event propagation of some sort, maybe based on the WICD
  work: http://www.w3.org/TR/WICD/ --><p>The <dfn id="attr-iframe-seamless" title="attr-iframe-seamless"><code>seamless</code></dfn>
  attribute is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute">boolean attribute</a>. When specified, it
  indicates that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
  context</a> is to be rendered in a manner that makes it appear to
  be part of the containing document (seamlessly included in the
  parent document). <span class="impl">Specifically, when the
  attribute is set on an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element whose owner
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-sandboxing-flag-set">active sandboxing flag set</a> does
  not have the <a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxed-seamless-iframes-flag">sandboxed seamless iframes flag</a> set, and
  while either the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active
  document</a> has the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin">same origin</a> as the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element's document, or the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
  context</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a>'s <em><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-document's-address" title="the
  document&#39;s address">address</a></em> has the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin">same
  origin</a> as the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element's document, or the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> is
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#an-iframe-srcdoc-document">an <code>iframe</code> <code title="attr-iframe-srcdoc">srcdoc</code> document</a>, the
  following requirements apply:</span></p>

  <div class="impl">

  <ul><li><p>The user agent must set the <dfn id="seamless-browsing-context-flag">seamless browsing context
   flag</dfn> to true for that <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>. This
   will <a href="http://www.whatwg.org/specs/web-apps/current-work/#seamlessLinks">cause links to open in the parent
   browsing context</a> unless an <a href="http://www.whatwg.org/specs/web-apps/current-work/#explicit-self-navigation-override">explicit self-navigation
   override</a> is used (<code title="">target="_self"</code>).</p></li>

   <li><p>In a CSS-supporting user agent: the user agent must add all
   the style sheets that apply to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element to
   the cascade of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>,
   at the appropriate cascade levels, before any style sheets
   specified by the document itself.</p></li>

   <li><p>In a CSS-supporting user agent: the user agent must, for the
   purpose of CSS property inheritance only, treat the root element of
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>
   element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a> as being a child of
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element. (Thus inherited properties on the
   root element of the document in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> will
   inherit the computed values of those properties on the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element instead of taking their initial
   values.)</p></li>

   <li><p>In visual media, in a CSS-supporting user agent: the user agent
   should set the intrinsic width of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> to the
   width that the element would have if it was a non-replaced
   block-level element with 'width: auto'.</p></li>

   <li><p>In visual media, in a CSS-supporting user agent: the user
   agent should set the intrinsic height of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> to
   the height of the bounding box around the content rendered in the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> at its current width (as given in the previous
   bullet point), as it would be if the scrolling position was such
   that the top of the viewport for the content rendered in the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> was aligned with the origin of that content's
   canvas.</p></li>

   <li>

    <p>In visual media, in a CSS-supporting user agent: the user agent
    must force the height of the initial containing block of the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing
    context</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> to zero.</p>

    <p class="note">This is intended to get around the otherwise
    circular dependency of percentage dimensions that depend on the
    height of the containing block, thus affecting the height of the
    document's bounding box, thus affecting the height of the
    viewport, thus affecting the size of the initial containing
    block.</p>

   </li>

   <li><p>In speech media, the user agent should render the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested
   browsing context</a> without announcing that it is a separate
   document.</p></li>

   <li>

    <p>User agents should, in general, act as if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active
    document</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing
    context</a> was part of the document that the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> is in, if any.</p>

    <p class="example">For example if the user agent supports listing
    all the links in a document, links in "seamlessly" nested
    documents would be included in that list without being
    significantly distinguished from links in the document itself.</p>

   </li>

  </ul><p>If the attribute is not specified, or if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a>
  conditions listed above are not met, then the user agent should
  render the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a> in a manner that is
  clearly distinguishable as a separate <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>,
  and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#seamless-browsing-context-flag">seamless browsing context flag</a> must be set to
  false for that <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>.</p>

  <p class="warning">It is important that user agents recheck the
  above conditions whenever the <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>
  changes, such that the <a href="http://www.whatwg.org/specs/web-apps/current-work/#seamless-browsing-context-flag">seamless browsing context flag</a>
  gets unset if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigated</a> to another origin.</p>

  </div>

  <p class="note">The attribute can be set or removed dynamically,
  with the rendering updating in tandem.</p>

  <div class="example">

   <p>In this example, the site's navigation is embedded using a
   client-side include using an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>. Any links in the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> will, in new user agents, be automatically
   opened in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>'s parent browsing context; for
   legacy user agents, the site could also include a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-base-element">base</a></code>
   element with a <code title="attr-base-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-base-target">target</a></code>
   attribute with the value <code title="">_parent</code>. Similarly,
   in new user agents the styles of the parent page will be
   automatically applied to the contents of the frame, but to support
   legacy user agents authors might wish to include the styles
   explicitly.</p>

   <pre>&lt;nav&gt;&lt;iframe seamless src="nav.include.html"&gt;&lt;/iframe&gt;&lt;/nav&gt;</pre>

  </div>


  <hr><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element supports <a href="http://www.whatwg.org/specs/web-apps/current-work/#dimension-attributes">dimension
  attributes</a> for cases where the embedded content has specific
  dimensions (e.g. ad units have well-defined dimensions).</p>

  <p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element never has <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback
  content</a>, as it will always create a nested <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
  context</a>, regardless of whether the specified initial contents
  are successfully used.</p>

  <p>Descendants of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> elements represent
  nothing. (In legacy user agents that do not support
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> elements, the contents would be parsed as markup
  that could act as fallback content.)</p>

  <p id="iframe-content-model">When used in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML
  documents</a>, the allowed content model of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>
  elements is text, except that invoking the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-fragment-parsing-algorithm">HTML fragment
  parsing algorithm</a> with the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element as the
  <var title="concept-frag-parse-context"><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-frag-parse-context">context</a></var> element and
  the text contents as the <var title="">input</var> must result in a
  list of nodes that are all <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>, with no
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-error" title="parse error">parse errors</a> having occurred, with
  no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-script-element">script</a></code> elements being anywhere in the list or as
  descendants of elements in the list, and with all the elements in
  the list (including their descendants) being themselves
  conforming.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element must be empty in <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-documents">XML
  documents</a>.</p>

  <p class="note">The <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> treats markup inside
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> elements as text.</p>

  <div class="impl">

  <p>The IDL attributes <dfn id="dom-iframe-src" title="dom-iframe-src"><code>src</code></dfn>, <dfn id="dom-iframe-srcdoc" title="dom-iframe-srcdoc"><code>srcdoc</code></dfn>, <dfn id="dom-iframe-name" title="dom-iframe-name"><code>name</code></dfn>, <dfn id="dom-iframe-sandbox" title="dom-iframe-sandbox"><code>sandbox</code></dfn>, and <dfn id="dom-iframe-seamless" title="dom-iframe-seamless"><code>seamless</code></dfn> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name.</p>

  <p>The <dfn id="dom-iframe-contentdocument" title="dom-iframe-contentDocument"><code>contentDocument</code></dfn>
  IDL attribute must return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>, if any, or null otherwise.</p>

  <p>The <dfn id="dom-iframe-contentwindow" title="dom-iframe-contentWindow"><code>contentWindow</code></dfn>
  IDL attribute must return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#windowproxy">WindowProxy</a></code> object of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing
  context</a>, if any, or null otherwise.</p>

  </div>

  <div class="example">

   <p>Here is an example of a page using an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code> to
   include advertising from an advertising broker:</p>

   <pre>&lt;iframe src="http://ads.example.com/?customerid=923513721&amp;amp;format=banner"
        width="468" height="60"&gt;&lt;/iframe&gt;</pre>

  </div>




  <h4 id="the-embed-element"><span class="secno">4.8.3 </span>The <dfn><code>embed</code></dfn> element</h4>

<!-- (v2?)
 we have all kinds of quirks we should define if they come up during
 testing, as e.g. shown in:
 http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsObjectFrame.cpp
 http://trac.webkit.org/browser/trunk/WebCore/html/HTMLEmbedElement.cpp
 http://trac.webkit.org/browser/trunk/WebCore/rendering/RenderPartObject.cpp (updateWidget)
 e.g. - 240x200 default
      - the attributes/params are sent in a name-value pair list as follows (for Gecko):
         + attributes of the element, in source order
         + a synthesised 'src' attribute, if there was no 'src' but
           there was a 'data', with the value of the 'data' attribute
         + the params, in source order
        (WebKit does something different still)
      - the HIDDEN attribute (might be moot now)
-->

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">Embedded content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">Interactive content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code></dd>
   <dd><code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">type</a></code></dd>
   <dd><code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code></dd>
   <dd><code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code></dd>
   <dd>Any other attribute that has no namespace (see prose).</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlembedelement">HTMLEmbedElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-embed-src" title="dom-embed-src">src</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-embed-type" title="dom-embed-type">type</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dim-width" title="dom-dim-width">width</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dim-height" title="dom-dim-height">height</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-embed-caller" title="dom-embed-caller">legacycaller</a> any (any... arguments);
};</pre>
    <div class="impl">
    <p>Depending on the type of content instantiated by the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element, the node may also support other
    interfaces.</p>
    </div>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> an
  integration point for an external (typically non-HTML) application
  or interactive content.</p>

  <p>The <dfn id="attr-embed-src" title="attr-embed-src"><code>src</code></dfn> attribute
  gives the address of the resource being embedded. The attribute, if
  present, must contain a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially
  surrounded by spaces</a>.</p>

<!--MD-->
  <p>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> is specified
  on an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element, then the <code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code> attribute must also be
  specified.</p>
<!--MD-->

  <p>The <dfn id="attr-embed-type" title="attr-embed-type"><code>type</code></dfn>
  attribute, if present, gives the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> by which the
  plugin to instantiate is selected. The value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">valid
  MIME type</a>. If both the <code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">type</a></code> attribute and the <code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code> attribute are present, then the
  <code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">type</a></code> attribute must specify the
  same type as the <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">explicit Content-Type
  metadata</a> of the resource given by the <code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code> attribute.</p>

  <div class="impl">

  <p>When the element is created with neither a <code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code> attribute nor a <code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">type</a></code> attribute, and when attributes
  are removed such that neither attribute is present on the element
  anymore, and when the element has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>
  ancestor, and when the element has an ancestor <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>
  element that is <em>not</em> showing its <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback
  content</a>, any plugins instantiated for the element must be
  removed, and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element represents nothing.</p>

  <p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element is said to be <dfn id="concept-embed-active" title="concept-embed-active">potentially active</dfn> when the
  following conditions are all met simultaneously:</p>

  <ul class="brief"><li>The element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document" title="in a document">in a <code>Document</code></a>.</li>
   <li>The element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#fully-active">fully active</a>.</li>
   <li>The element has either a <code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code> attribute set or a <code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">type</a></code> attribute set (or both).</li>
   <li>The element's <code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code> attribute is either absent or its value is the empty string.</li>
   <li>The element is not a descendant of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>.</li>
   <li>The element is not a descendant of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element that is not showing its <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>.</li>
   <li>The element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#being-rendered">being rendered</a>.</li>
  </ul><p>Whenever an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element that was not <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-active" title="concept-embed-active">potentially active</a> becomes <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-active" title="concept-embed-active">potentially active</a>, and whenever
  a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-active" title="concept-embed-active">potentially active</a>
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element's <code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">src</a></code> attribute is set, changed, or
  removed, and whenever a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-active" title="concept-embed-active">potentially active</a>
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element's <code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">type</a></code> attribute is set, changed, or
  removed, the appropriate set of steps from the following is then
  applied:</p>

  <dl class="switch"><dt>If the element has a <code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code>
   attribute set</dt>

   <dd>

    <p>The user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolve</a>
    the value of the element's <code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code>
    attribute, relative to the element. If that is successful, the
    user agent should <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> the resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute
    URL</a>, from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-scope-origin">browsing context scope
    origin</a> if it has one<!-- potentially http-origin privacy
    sensitive -->. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking
    task source</a> once the resource has been <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> must find and instantiate an
    appropriate <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> based on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-type" title="concept-embed-type">content's type</a>, and hand that
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> the content of the resource, replacing any
    previously instantiated plugin for the element.</p> <!-- Note that
    this doesn't happen when the base URL changes. -->

    <p>Fetching the resource must <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load event</a> of
    the element's document.</p>
    <!-- if we add load/error events, then replace the previous
    paragraph with the text one: -->
    <!-- similar text in various places -->
    <!--<p>Fetching the resource must <span>delay the load
    event</span> of the element's document until the final <span
    title="concept-task">task</span> that is <span title="queue a
    task">queued</span> by the <span>networking task source</span>
    once the resource has been <span title="fetch">fetched</span> has
    been run.</p>-->

   </dd>

   <dt>If the element has no <code title="attr-embed-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-src">src</a></code>
   attribute set</dt>

   <dd><p>The user agent should find and instantiate an appropriate
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> based on the value of the <code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">type</a></code> attribute.</p>

  </dd></dl><p>Whenever an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element that was <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-active" title="concept-embed-active">potentially active</a> stops being
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-active" title="concept-embed-active">potentially active</a>, any
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> that had been instantiated for that element must
  be unloaded.</p>

  <p id="sandboxPluginEmbed">When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> is to be
  instantiated but it cannot be <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-plugin-secure" title="concept-plugin-secure">secured</a> and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxed-plugins-browsing-context-flag">sandboxed
  plugins browsing context flag</a> is set on the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-sandboxing-flag-set">active
  sandboxing flag set</a>, then the user agent must not
  instantiate the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>, and must instead render the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element in a manner that conveys that the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> was disabled. The user agent may offer the user
  the option to override the sandbox and instantiate the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> anyway; if the user invokes such an option, the
  user agent must act as if the conditions above did not apply for the
  purposes of this element.</p>

  <p class="warning">Plugins that cannot be <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-plugin-secure" title="concept-plugin-secure">secured</a> are disabled in
  sandboxed browsing contexts because they might not honor the
  restrictions imposed by the sandbox (e.g. they might allow scripting
  even when scripting in the sandbox is disabled). User agents should
  convey the danger of overriding the sandbox to the user if an option
  to do so is provided.</p>

  <p class="note">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element is unaffected by the
  CSS 'display' property. The selected plugin is instantiated even if
  the element is hidden with a 'display:none' CSS style.</p>

  <p>The <dfn id="concept-embed-type" title="concept-embed-type">type of the content</dfn>
  being embedded is defined as follows:</p>

  <ol><li><p>If the element has a <code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">type</a></code> attribute, and that attribute's
   value is a type that a <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> supports, then the value
   of the <code title="attr-embed-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-type">type</a></code> attribute is the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-type" title="concept-embed-type">content's type</a>.</p></li>

   <li>

    <!-- if we get to this point we know we can successfully parsed
    the URL, since this algorithm is only used after fetching the
    resource in the steps above -->

    <p>Otherwise, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-path" title="url-path">&lt;path&gt;</a>
    component of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> of the specified resource (after
    any redirects) matches a pattern that a <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>
    supports, then the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-type" title="concept-embed-type">content's
    type</a> is the type that that plugin can handle.</p>

    <p class="example">For example, a plugin might say that it can
    handle resources with <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-path" title="url-path">&lt;path&gt;</a>
    components that end with the four character string "<code title="">.swf</code>".</p>

    <!-- it's sad that we have to do extension sniffing. sigh. -->
    <!-- see also <object> which has a similar step -->

   </li>

   <li><p>Otherwise, if the specified resource has <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">explicit Content-Type metadata</a>, then
   that is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-embed-type" title="concept-embed-type">content's
   type</a>.</p></li>

   <li><p>Otherwise, the content has no type and there can be no
   appropriate <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> for it.</p></li>

   <!-- This algorithm is a monument to bad design. Go legacy! -->

  </ol><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback
  content</a>. If the user agent can't find a suitable plugin, then
  the user agent must use a default plugin. (This default could be as
  simple as saying "Unsupported Format".)</p>

  <p>Whether the resource is fetched successfully or not (e.g. whether
  the response code was a 2xx code <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-http-equivalent-codes" title="concept-http-equivalent-codes">or equivalent</a>) must be
  ignored when determining the resource's type and when handing the
  resource to the plugin.</p>

  <p class="note">This allows servers to return data for plugins even
  with error responses (e.g. HTTP 500 Internal Server Error codes can
  still contain plugin data).</p>

  </div>

  <p>Any namespace-less attribute other than <code title="attr-embed-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-name">name</a></code>, <code title="attr-embed-align"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-align">align</a></code>, <code title="attr-embed-hspace"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-hspace">hspace</a></code>, and <code title="attr-embed-vspace"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-embed-vspace">vspace</a></code> <!-- when editing, see also
  note below --> may be specified on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element,
  so long as its name is <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-compatible">XML-compatible</a> and contains no
  characters in the range U+0041 to U+005A (LATIN CAPITAL LETTER A to
  LATIN CAPITAL LETTER Z). These attributes are then passed as
  parameters to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>.</p>

  <p class="note">All attributes in <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a> get
  lowercased automatically, so the restriction on uppercase letters
  doesn't affect such documents.</p>

  <p class="note">The four exceptions are to exclude legacy attributes
  that have side-effects beyond just sending parameters to the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>.</p>

  <div class="impl">

  <p>The user agent should pass the names and values of all the
  attributes of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element that have no namespace
  to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> used, when it is instantiated.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlembedelement">HTMLEmbedElement</a></code> object representing the element
  must expose the scriptable interface of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>
  instantiated for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element. At a minimum, this
  interface must implement the <dfn id="dom-embed-caller" title="dom-embed-caller">legacy
  caller operation</dfn>. (It is suggested that the default behavior
  of this legacy caller operation, e.g. the behavior of the default
  plugin's legacy caller operation, be to throw a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception.)</p>

  </div>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code> element supports <a href="http://www.whatwg.org/specs/web-apps/current-work/#dimension-attributes">dimension
  attributes</a>.</p>

  <div class="impl">

  <p>The IDL attributes <dfn id="dom-embed-src" title="dom-embed-src"><code>src</code></dfn> and <dfn id="dom-embed-type" title="dom-embed-type"><code>type</code></dfn> each must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name.</p>

  </div>

  <div class="example">

   <p>Here's a way to embed a resource that requires a proprietary
   plugin, like Flash:</p>

   <pre>&lt;embed src="catgame.swf"&gt;</pre>

   <p>If the user does not have the plugin (for example if the
   plugin vendor doesn't support the user's platform), then the user
   will be unable to use the resource.</p>

   <p>To pass the plugin a parameter "quality" with the value "high",
   an attribute can be specified:</p>

   <pre>&lt;embed src="catgame.swf" quality="high"&gt;</pre>

   <p>This would be equivalent to the following, when using an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element instead:</p>

   <pre>&lt;object data="catgame.swf"&gt;
 &lt;param name="quality" value="high"&gt;
&lt;/object&gt;</pre>

  </div>




  <h4 id="the-object-element"><span class="secno">4.8.4 </span>The <dfn><code>object</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">Embedded content</a>.</dd>
   <dd>If the element has a <code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code> attribute: <a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">Interactive content</a>.</dd> <!-- also when showing a plugin or a nested browsing context, but checking that statically is hard...) -->
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#category-listed" title="category-listed">Listed</a>,  <a href="http://www.whatwg.org/specs/web-apps/current-work/#category-submit" title="category-submit">submittable</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#form-associated-element">form-associated element</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-param-element">param</a></code> elements, then, <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code></dd>
   <dd><code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code></dd>
   <dd><code title="attr-object-typemustmatch"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-typemustmatch">typemustmatch</a></code></dd>
   <dd><code title="attr-object-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-name">name</a></code></dd>
   <dd><code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code></dd>
   <dd><code title="attr-fae-form"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fae-form">form</a></code></dd>
   <dd><code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code></dd>
   <dd><code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlobjectelement">HTMLObjectElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-object-data" title="dom-object-data">data</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-object-type" title="dom-object-type">type</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-object-typemustmatch" title="dom-object-typeMustMatch">typeMustMatch</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-object-name" title="dom-object-name">name</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-object-usemap" title="dom-object-useMap">useMap</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlformelement">HTMLFormElement</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-fae-form" title="dom-fae-form">form</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dim-width" title="dom-dim-width">width</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dim-height" title="dom-dim-height">height</a>;
  readonly attribute Document? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-object-contentdocument" title="dom-object-contentDocument">contentDocument</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#windowproxy">WindowProxy</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-object-contentwindow" title="dom-object-contentWindow">contentWindow</a>;

  readonly attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-willvalidate" title="dom-cva-willValidate">willValidate</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#validitystate">ValidityState</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-validity" title="dom-cva-validity">validity</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-validationmessage" title="dom-cva-validationMessage">validationMessage</a>;
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-checkvalidatity" title="dom-cva-checkValidatity">checkValidity</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-setcustomvalidity" title="dom-cva-setCustomValidity">setCustomValidity</a>(DOMString error);

  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-object-caller" title="dom-object-caller">legacycaller</a> any (any... arguments);
};</pre>
    <div class="impl">
    <p>Depending on the type of content instantiated by the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element, the node also supports other
    interfaces.</p>
    </div>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element can represent an external
  resource, which, depending on the type of the resource, will either
  be treated as an image, as a <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>,
  or as an external resource to be processed by a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>.</p>

  <p>The <dfn id="attr-object-data" title="attr-object-data"><code>data</code></dfn>
  attribute, if present, specifies the address of the resource. If
  present, the attribute must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty
  URL potentially surrounded by spaces</a>.</p>

  <p class="warning">Authors who reference resources from other <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin" title="origin">origins</a> that they do not trust are urged to
  use the <code title="attr-object-typemustmatch"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-typemustmatch">typemustmatch</a></code>
  attribute defined below. Without that attribute, it is possible in
  certain cases for an attacker on the remote host to use the plugin
  mechanism to run arbitrary scripts, even if the author has used
  features such as the Flash "allowScriptAccess" parameter.</p> <!--
  for example, if the user doesn't have flash installed but does have
  java installed, and the remote site unexpectedly returns java
  instead of flash, then java will run, and it will ignore the
  allowScriptAccess thing -->

  <p>The <dfn id="attr-object-type" title="attr-object-type"><code>type</code></dfn>
  attribute, if present, specifies the type of the resource. If
  present, the attribute must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">valid MIME type</a>.</p>

  <p>At least one of either the <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute or the <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute must be present.</p>

<!--MD-->
  <p>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> is specified
  on an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element, then the <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute must also be
  specified.</p>
<!--MD-->

  <p>The <dfn id="attr-object-typemustmatch" title="attr-object-typemustmatch"><code>typemustmatch</code></dfn>
  attribute is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute">boolean attribute</a> whose presence
  indicates that the resource specified by the <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute is only to be used if
  the value of the <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code>
  attribute and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type">Content-Type</a> of the aforementioned
  resource match.</p>

  <p>The <code title="attr-object-typemustmatch"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-typemustmatch">typemustmatch</a></code>
  attribute must not be specified unless both the <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute and the <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute are present.</p>

  <p>The <dfn id="attr-object-name" title="attr-object-name"><code>name</code></dfn>
  attribute, if present, must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-browsing-context-name">valid browsing context
  name</a>. The given value is used to name the <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested
  browsing context</a>, if applicable.</p>

  <div class="impl">

  <p>Whenever one of the following conditions occur:</p>

  <ul><li>the element is created,

   </li><li>the element is popped off the <a href="http://www.whatwg.org/specs/web-apps/current-work/#stack-of-open-elements">stack of open elements</a> of an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a>,

   </li><li>the element is not on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#stack-of-open-elements">stack of open elements</a> of an <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a>, and it is either <a href="http://www.whatwg.org/specs/web-apps/current-work/#insert-an-element-into-a-document" title="insert an element into a document">inserted into a document</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#remove-an-element-from-a-document" title="remove an element from a document">removed from a document</a>,

   </li><li>the element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> changes whether it is <a href="http://www.whatwg.org/specs/web-apps/current-work/#fully-active">fully active</a>,

   </li><li>one of the element's ancestor <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements changes to or from showing its <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>,

   </li><li>the element's <code title="attr-object-classid"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-classid">classid</a></code> attribute is set, changed, or removed,

   </li><li>the element's <code title="attr-object-classid"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-classid">classid</a></code> attribute is not present, and its <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute is set, changed, or removed,

   </li><li>neither the element's <code title="attr-object-classid"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-classid">classid</a></code> attribute nor its <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute are present, and its <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute is set, changed, or removed,

   </li><li>the element changes from <a href="http://www.whatwg.org/specs/web-apps/current-work/#being-rendered">being rendered</a> to not being rendered, or vice versa,

  </li></ul><p>...the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to run the
  following steps to (re)determine what the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>
  element represents. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a> for this <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-manipulation-task-source">DOM manipulation task
  source</a>.</p> <!-- Changing the base URL doesn't trigger this.
  -->

  <ol><li>

    <p>If the user has indicated a preference that this
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a> be
    shown instead of the element's usual behavior, then jump to the
    last step in the overall set of steps (fallback).</p>

    <p class="note">For example, a user could ask for the element's
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a> to be shown because that content
    uses a format that the user finds more accessible.</p>

   </li>

   <li>

    <p>If the element has an ancestor <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, or
    has an ancestor <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element that is <em>not</em>
    showing its <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>, or if the element is
    not <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document" title="in a document">in a <code>Document</code></a>
    with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>, or if the element's
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#fully-active">fully active</a>, or if the
    element is still in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#stack-of-open-elements">stack of open elements</a> of an
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-parser">HTML parser</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-parser">XML parser</a>, or if the
    element is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#being-rendered">being rendered</a>, then jump to the last
    step in the overall set of steps (fallback).</p>

   </li>

   <li>

    <!-- what if it's not in the document? if that should prevent
    plugin instantiation, then here just skip to the last step -->

    <p>If the <code title="attr-object-classid"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-classid">classid</a></code>
    attribute is present, and has a value that isn't the empty string,
    then: if the user agent can find a <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> suitable
    according to the value of the <code title="attr-object-classid"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-classid">classid</a></code> attribute, and either
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxPluginObject">plugins aren't being sandboxed</a>
    or that <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> can be <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-plugin-secure" title="concept-plugin-secure">secured</a>, then that
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#object-plugin">should be used</a>,
    and the value of the <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code>
    attribute, if any, should be passed to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>. If
    no suitable <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> can be found, or if the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> reports an error, jump to the last step in the
    overall set of steps (fallback).</p>

    <!--
     case insensitive:
      is "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" -> application/x-shockwave-flash
      is "clsid:cfcdaa03-8be4-11cf-b84b-0020afbbccfa" -> audio/x-pn-realaudio-plugin
      is "clsid:02bf25d5-8c17-4b23-bc80-d3488abddc6b" -> video/quicktime
      is "clsid:166b1bca-3f9c-11cf-8075-444553540000" -> application/x-director
      is "clsid:6bf52a52-394a-11d3-b153-00c04f79faa6" -> application/x-mplayer2
      starts with "java:"                             -> application/x-java-vm
      starts with "clsid:"                            -> application/x-oleobject
    -->

   </li>

   <!-- (v2?)
   we may have to define magic fallback to <param> if it turns out to
   be needed in testing:
   <hyatt> apparently your url can come from <param>
   <hyatt> not just the data attribute
   <hyatt> our code looks for params with "src", "movie", "code" and "url"
   <hyatt> and also tries to find the type on a param
   <Hixie> oh that's you trying to have hacky activex support
   <Hixie> opera does that too
   <hyatt> yeah we support activex versions of plugins that are common
   <hyatt> like flash and quicktime and realaudio
   <Hixie> that would be a step 1b. if no data attribute, then look for a <param> to get you a URL instead.
   <Hixie> and if you find one, carry on as if that was your data="".
   -->

   <li><p>If the <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute
   is present and its value is not the empty string, then:</p>

    <ol><li><p>If the <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code>
     attribute is present and its value is not a type that the user
     agent supports, and is not a type that the user agent can find a
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> for, then the user agent may jump to the last
     step in the overall set of steps (fallback) without fetching the
     content to examine its real type.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">Resolve</a> the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> specified by the <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute, relative to the
     element.</p></li>

     <li><p>If that failed, <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named
     <code title="event-error">error</code> at the element, then jump
     to the last step in the overall set of steps (fallback).</p></li>

     <li>

      <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">Fetch</a> the resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>,
      from the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-scope-origin">browsing context scope origin</a> if
      it has one<!-- potentially http-origin privacy sensitive
      -->.</p>

      <!-- similar text in various places --> <p>Fetching the resource
      must <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load event</a> of the element's document
      until the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task
      source</a> once the resource has been <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> (defined next) has been run.</p>

      <p>For the purposes of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#application-cache">application cache</a>
      networking model, this <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">fetch</a> operation is not for a
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#child-browsing-context">child browsing context</a> (though it might end up
      being used for one after all, as defined below).</p>

     </li>

     <li><p>If the resource is not yet available (e.g. because the
     resource was not available in the cache, so that loading the
     resource required making a request over the network), then jump
     to the last step in the overall set of steps (fallback). The
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue
     a task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a>
     once the resource is available must restart this algorithm from
     this step. Resources can load incrementally; user agents may opt
     to consider a resource "available" whenever enough data has been
     obtained to begin processing the resource.</p></li>

     <li><p>If the load failed (e.g. there was an HTTP 404 error,
     there was a DNS error), <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named
     <code title="event-error">error</code> at the element, then jump
     to the last step in the overall set of steps (fallback).</p></li>

     <li id="object-type-detection">

      <p>Determine the <var title="">resource type</var>, as follows:</p>

<!-- Hopefully this step is exactly equivalent to the following:

 START
   |
   V
 Is there a Content-Type and is the UA going to obey it blindly?
   |                   |
   | YES               | NO
   |                   V                                                          YES
   |                 Is there a type="" attribute whose value is a plugin type? ============================================-.
   |                   |                                                                                                     |
   |                   | NO                                                                                                  |
   |                   V                        NO                                       YES                                 |
   |                 Is there a Content type? ========-> Is there a type="" attribute? ==========> Let TYPE be type=""       |
   |                   |                                                           |               attribute value           |
   |                   | YES                                                       | NO                    |                 |
   V            NO     V                                                           |                       V                 |
   +-<============== Is it text/plain or application/octet-stream?                 `==> Let TYPE be  =====>+                 |
   |                   |                                     |                          Sniffed type       |                 |
   |                   | text/plain                          | octet-stream                                V                 |
   |                   V                              YES    V                                          Is TYPE              |
   |                 Does the page sniff as binary? ======> Is there a type="" attribute?       application/octet-stream?    |
   |                   |                                     |              |                      |                |        |
   |                   | NO                                  | YES          | NO                   | YES            | NO     |
   |                   |                                     |       YES    V                      V                |        |
   |                   |                  application/octet-stream? =====> Extension that is plugin type?           |        |
   |                   |                                     |                          |          |                |        |
   |                   |                                     | NO                       | NO       | YES            |        |
   |                   |                                     V                          |          |                |        |
   |                   |                           Type attribute is XML or     YES     V          |                |        |
   |                   |                           doesn't start with image/* ======> FALLBACK     |                |        |
   |                   |                           and is not a plugin type?                       |                |        |
   |                   |                                          |                                |                |        |
   |                   |                                          | NO                             |                |        V
   V                   V                                          V                                V                V       Use
  Use                 Use                                        Use it (will be                  Use              Use      type=""
  Content-Type        text/plain                                 bitmap or plugin)                extension        TYPE     attribute
   |                   |                                          |                                |                |        |
   |                   V                                          V                                V                V        |
   `================->-+========================================>-+==============>-+-<============-+-<==============+-<======'
                                                                                   |
                                                                                   V
                                                                  Continue following rules in the spec, which might
                                                                  result in a plugin, a browsing context, an image,
                                                                  or using fallback, depending on the UA and the type.


   "Extension that is plugin type?" means "Is there an extension that matches one that a plugin supports?".
   Plugins are not allowed to register text/plain or application/octet-stream.

-->

      <ol><li>

        <p>Let the <var title="">resource type</var> be unknown.</p>

       </li>

       <li>

        <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element has a <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute and a <code title="attr-object-typemustmatch"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-typemustmatch">typemustmatch</a></code>
        attribute, and the resource has <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">associated Content-Type metadata</a>,
        and the type specified in <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">the
        resource's Content-Type metadata</a> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII
        case-insensitive</a> match for the value of the element's
        <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute, then let
        <var title="">resource type</var> be that type and jump to the
        step below labeled <i>handler</i>.</p>

        <!-- do we need to <span>strip leading and trailing
        whitespace</span> from anything here? collapse sequences of
        spaces? drop parameters? -->

       </li>

       <li>

        <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element has a <code title="attr-object-typemustmatch"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-typemustmatch">typemustmatch</a></code>
        attribute, jump to the step below labeled <i>handler</i>.</p>

       </li>

       <li>

        <!-- by request: http://www.w3.org/Bugs/Public/show_bug.cgi?id=8479 -->

        <p>If the user agent is configured to strictly obey
        Content-Type headers for this resource, and the resource has
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">associated Content-Type
        metadata</a>, then let the <var title="">resource
        type</var> be the type specified in <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">the resource's Content-Type
        metadata</a>, and jump to the step below labeled
        <i>handler</i>.</p>

        <p class="warning">This can introduce a vulnerability, wherein
        a site is trying to embed a resource that uses a particular
        plugin, but the remote site overrides that and instead
        furnishes the user agent with a resource that triggers a
        different plugin with different security characteristics. <!--
        e.g. the example given above, where the site is expecting
        Flash with allowScriptAccess=never, and instead gets back Java
        with its unrestricted DOM access --></p>

       </li>

       <li>

        <p>If there is a <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code>
        attribute present on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element, and that
        attribute's value is not a type that the user agent supports,
        but it <em>is</em> a type that a <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> supports,
        then let the <var title="">resource type</var> be the type
        specified in that <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code>
        attribute, and jump to the step below labeled
        <i>handler</i>.</p>

       </li>

       <li>

        <p>Run the approprate set of steps from the following
        list:</p>

        <dl class="switch"><dt>The resource has <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">associated
         Content-Type metadata</a></dt>

         <dd>

          <ol><li>

            <p>Let <var title="">binary</var> be false.</p>

           </li>

           <li>

            <p>If the type specified in <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">the
            resource's Content-Type metadata</a> is
            "<code>text/plain</code>", and the result of applying the
            <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type-sniffing:-text-or-binary" title="Content-Type sniffing: text or binary">rules
            for distinguishing if a resource is text or binary</a>
            to the resource is that the resource is not
            <code>text/plain</code>, then set <var title="">binary</var> to true.</p>

           </li>

           <li>

            <p>If the type specified in <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">the
            resource's Content-Type metadata</a> is
            "<code>application/octet-stream</code>", then set <var title="">binary</var> to true.</p>

           </li>

           <li>

            <p>If <var title="">binary</var> is false, then let the
            <var title="">resource type</var> be the type specified in
            <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">the resource's Content-Type
            metadata</a>, and jump to the step below labeled
            <i>handler</i>.</p>

           </li>

           <li>

            <p>If there is a <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute present on
            the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element, and its value is not
            <code>application/octet-stream</code>, then run the
            following steps:</p>

            <ol><li>

              <p>If the attribute's value is a type that a <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> supports, or
              the attribute's value is a type that starts with "<code>image/</code>" that is not also an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-mime-type">XML MIME type</a>,
              then let the <var title="">resource type</var> be the type specified in that <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute.</p>

             </li>

             <li>

              <p>Jump to the step below labeled <i>handler</i>.</p>

             </li>

            </ol></li>

          </ol></dd>

         <dt>The resource does not have <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">associated Content-Type
         metadata</a></dt>

         <dd>

          <ol><li>

            <p>If there is a <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute present on
            the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element, then let the <var title="">tentative type</var> be the type specified in that
            <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute.</p>

            <p>Otherwise, let <var title="">tentative type</var> be the
            <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type-sniffing-0" title="content-type sniffing">sniffed type of the
            resource</a>.</p>

           </li>

           <li>

            <p>If <var title="">tentative type</var> is <em>not</em>
            <code>application/octet-stream</code>, then let <var title="">resource type</var> be <var title="">tentative
            type</var> and jump to the step below labeled
            <i>handler</i>.</p>

           </li>

          </ol></dd>

        </dl></li>

       <li>

        <!-- if we get to this point we know we can successfully
        parsed the URL, since this algorithm is only used after
        fetching the resource in the steps above -->

        <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-path" title="url-path">&lt;path&gt;</a> component
        of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> of the specified resource (after any
        redirects) matches a pattern that a <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>
        supports, then let <var title="">resource type</var> be the
        type that that plugin can handle.</p>

        <p class="example">For example, a plugin might say that it can
        handle resources with <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-path" title="url-path">&lt;path&gt;</a> components that end with
        the four character string "<code title="">.swf</code>".</p>

        <!-- it's sad that we have to do extension sniffing. sigh. -->
        <!-- see also <embed> which has a similar step -->

       </li>

      </ol><p class="note">It is possible for this step to finish, or for
      one of the substeps above to jump straight to the next step,
      with <var title="">resource type</var> still being unknown. In
      both cases, the next step will trigger fallback.</p>

     </li>

     <li><p><i>Handler</i>: Handle the content as given by the first
     of the following cases that matches:</p>

      <dl class="switch"><dt>If the <var title="">resource type</var> is not a type that
       the user agent supports, but it <em>is</em> a type that a
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> supports</dt>

       <dd>

        <p>If <a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxPluginObject">plugins are being
        sandboxed</a> and the plugin that supports <var title="">resource type</var> cannot be <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-plugin-secure" title="concept-plugin-secure">secured</a>, jump to the last
        step in the overall set of steps (fallback).</p>

        <p>Otherwise, the user agent should <a href="http://www.whatwg.org/specs/web-apps/current-work/#object-plugin">use the plugin that supports <var title="">resource type</var></a> and pass the content of the
        resource to that <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>. If the
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> reports an error, then jump to the last
        step in the overall set of steps (fallback).</p>

       </dd>


       <dt>If the <var title="">resource type</var> is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#xml-mime-type">XML MIME
       type</a>, or
       <!-- (redundant with the next one) if the <var title="">resource type</var> is HTML, or -->
       if the <var title="">resource type</var> does not start with
       "<code>image/</code>"</dt>

       <dd>

        <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element must be associated with a
        newly created <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>, if it does
        not already have one.</p>

        <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> of the given resource is not
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:blank">about:blank</a></code>, the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing
        context</a> must then be <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigated</a><!--DONAV object--> to that
        resource, with <a href="http://www.whatwg.org/specs/web-apps/current-work/#replacement-enabled">replacement enabled</a>, and with the
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element's document's <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
        context</a> as the <a href="http://www.whatwg.org/specs/web-apps/current-work/#source-browsing-context">source browsing context</a>.
        (The <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute of
        the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element doesn't get updated if the
        browsing context gets further navigated to other
        locations.)</p>

        <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> of the given resource <em>is</em>
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:blank">about:blank</a></code>, then, instead, the user agent must
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
        named <code title="event-load">load</code> at the
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element. <span class="note">No <code title="event-load">load</code> event is fired at the
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#about:blank">about:blank</a></code> document itself.</span></p>

        <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>.</p>

        <p>If the <code title="attr-object-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-name">name</a></code> attribute
        is present, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-name">browsing context name</a> must be set
        to the value of this attribute; otherwise, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-name">browsing
        context name</a> must be set to the empty string.</p>

        <p class="note">In certain situations, e.g. if the resource
        was <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> from an
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#application-cache">application cache</a> but it is an HTML file with a
        <code title="attr-html-manifest"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-html-manifest">manifest</a></code> attribute
        that points to a different <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-appcache-manifest" title="concept-appcache-manifest">application cache
        manifest</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate" title="navigate">navigation</a>
        of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a> will be restarted so as
        to load the resource afresh from the network or a different
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#application-cache">application cache</a>. Even if the resource is then
        found to have a different type, it is still used as part of a
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>: only the
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#navigate">navigate</a> algorithm is restarted, not this
        <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> algorithm.</p>

        <!-- note that malformed XML files don't cause fallback -->

       </dd>


       <dt>If the <var title="">resource type</var> starts with
       "<code>image/</code>", and support for images has not been
       disabled</dt>

       <dd>

        <p>Apply the <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type-sniffing:-image" title="content-type sniffing: image">image
        sniffing</a> rules to determine the type of the image.</p>

        <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the
        specified image. The image is not a <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing
        context</a>.</p>

        <p>If the image cannot be rendered, e.g. because it is
        malformed or in an unsupported format, jump to the last step
        in the overall set of steps (fallback).</p>

       </dd>


       <dt>Otherwise</dt>

       <dd>

        <p>The given <var title="">resource type</var> is not
        supported. Jump to the last step in the overall set of steps
        (fallback).</p>

        <p class="note">If the previous step ended with the <var title="">resource type</var> being unknown, this is the case
        that is triggered.</p>

       </dd>

      </dl></li>

     <li><p>The element's contents are not part of what the
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element represents.</p>

     </li><li>

      <p>Once the resource is completely loaded, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
      task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-load">load</code> at the element.</p>

      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a> for this task<!--tasks mentioned
      in this section--> is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-manipulation-task-source">DOM manipulation task
      source</a>.</p>

     </li>

    </ol></li>

   <li><p>If the <code title="attr-object-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-data">data</a></code> attribute
   is absent but the <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code>
   attribute is present, and the user agent can find a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> suitable according to the value of the <code title="attr-object-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-type">type</a></code> attribute, and either <a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxPluginObject">plugins aren't being sandboxed</a> or
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> can be <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-plugin-secure" title="concept-plugin-secure">secured</a>, then that
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#object-plugin">should be used</a>. If
   these conditions cannot be met, or if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>
   reports an error, jump to the next step (fallback).</p></li>

   <li><p>(Fallback.) The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the element's children, ignoring any
   leading <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-param-element">param</a></code> element children. This is the element's
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>. If the element has an instantiated
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>, then unload it.</p></li>

  </ol><p id="object-plugin">When the algorithm above instantiates a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>, the user agent should pass to the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> used the names and values of all the attributes
  on the element, in the order they were added to the element, with
  the attributes added by the parser being ordered in source order,
  followed by a parameter named "PARAM" whose value is null,
  followed by all the names and values of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-param-parameter" title="concept-param-parameter">parameters</a> given by
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-param-element">param</a></code> elements that are children of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element, in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>. If the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> supports a scriptable interface, the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlobjectelement">HTMLObjectElement</a></code> object representing the element
  should expose that interface. The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>. The
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> is not a nested <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
  context</a>.</p>

  <p id="sandboxPluginObject">Plugins are considered sandboxed for the
  purpose of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxed-plugins-browsing-context-flag">sandboxed
  plugins browsing context flag</a> is set on the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-sandboxing-flag-set">active
  sandboxing flag set</a>.</p>

  <p>Due to the algorithm above, the contents of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>
  elements act as <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>, used only when
  referenced resources can't be shown (e.g. because it returned a 404
  error). This allows multiple <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements to be
  nested inside each other, targeting multiple user agents with
  different capabilities, with the user agent picking the first one it
  supports.</p>

  <p>Whenever the <code title="attr-object-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-name">name</a></code> attribute
  is set, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element has a nested
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing context</a>, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-name" title="browsing context
  name">name</a> must be changed to the new value. If the attribute
  is removed, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
  context</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context-name">browsing context name</a> must be set
  to the empty string.</p>

  </div>

  <p>The <code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code> attribute,
  if present while the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element represents an
  image, can indicate that the object has an associated <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-map">image
  map</a>. <span class="impl">The attribute must be ignored if the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element doesn't represent an image.</span></p>

  <p>The <code title="attr-fae-form"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-fae-form">form</a></code> attribute is used to
  explicitly associate the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element with its
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#form-owner">form owner</a>.</p>

  <div class="impl">

  <p><strong>Constraint validation</strong>: <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>
  elements are always <a href="http://www.whatwg.org/specs/web-apps/current-work/#barred-from-constraint-validation">barred from constraint
  validation</a>.</p>

  </div>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element supports <a href="http://www.whatwg.org/specs/web-apps/current-work/#dimension-attributes">dimension
  attributes</a>.</p>

  <div class="impl">

  <p>The IDL attributes <dfn id="dom-object-data" title="dom-object-data"><code>data</code></dfn>, <dfn id="dom-object-type" title="dom-object-type"><code>type</code></dfn> and <dfn id="dom-object-name" title="dom-object-name"><code>name</code></dfn> each must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name. The <dfn id="dom-object-typemustmatch" title="dom-object-typeMustMatch"><code>typeMustMatch</code></dfn>
  IDL attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-object-typemustmatch"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-object-typemustmatch">typemustmatch</a></code> content
  attribute. The <dfn id="dom-object-usemap" title="dom-object-useMap"><code>useMap</code></dfn> IDL attribute
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-object-usemap">usemap</code> content attribute.</p>

  <p>The <dfn id="dom-object-contentdocument" title="dom-object-contentDocument"><code>contentDocument</code></dfn>
  IDL attribute must return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>, if it has one; otherwise, it
  must return null.</p>

  <p>The <dfn id="dom-object-contentwindow" title="dom-object-contentWindow"><code>contentWindow</code></dfn>
  IDL attribute must return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#windowproxy">WindowProxy</a></code> object of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#nested-browsing-context">nested browsing context</a>,
  if it has one; otherwise, it must return null.</p>

  <p>The <code title="dom-cva-willValidate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-willvalidate">willValidate</a></code>, <code title="dom-cva-validity"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-validity">validity</a></code>, and <code title="dom-cva-validationMessage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-validationmessage">validationMessage</a></code>
  attributes, and the <code title="dom-cva-checkValidatity"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-checkvalidatity">checkValidity()</a></code> and <code title="dom-cva-setCustomValidity"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-cva-setcustomvalidity">setCustomValidity()</a></code>
  methods, are part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-constraint-validation-api">constraint validation API</a>. The
  <code title="dom-fae-form"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-fae-form">form</a></code> IDL attribute is part of the
  element's forms API.</p>

  <p>All <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements have a <dfn id="dom-object-caller" title="dom-object-caller">legacy caller operation</dfn>. If the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element has an instantiated <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a>
  that supports a scriptable interface that defines a legacy caller
  operation, then that must be the behavior of the object's legacy
  caller operation. Otherwise, the object's legacy caller operation
  must be to throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception.</p>

  </div>

  <div class="example">

   <p>In the following example, a Java applet is embedded in a page
   using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element. (Generally speaking, it is
   better to avoid using applets like these and instead use native
   JavaScript and HTML to provide the functionality, since that way
   the application will work on all Web browsers without requiring a
   third-party plugin. Many devices, especially embedded devices, do
   not support third-party technologies like Java.)</p>

   <pre>&lt;figure&gt;
 &lt;object type="application/x-java-applet"&gt;
  &lt;param name="code" value="MyJavaClass"&gt;
  &lt;p&gt;You do not have Java available, or it is disabled.&lt;/p&gt;
 &lt;/object&gt;
 &lt;figcaption&gt;My Java Clock&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  </div>

  <div class="example">

   <p>In this example, an HTML page is embedded in another using the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element.</p>

   <pre>&lt;figure&gt;
 &lt;object data="clock.html"&gt;&lt;/object&gt;
 &lt;figcaption&gt;My HTML Clock&lt;/figcaption&gt;
&lt;/figure&gt;</pre>

  </div>

  <div class="example">

   <p>The following example shows how a plugin can be used in HTML (in
   this case the Flash plugin, to show a video file). Fallback is
   provided for users who do not have Flash enabled, in this case
   using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element to show the video for those
   using user agents that support <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>, and finally
   providing a link to the video for those who have neither Flash nor
   a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>-capable browser.</p>

   <pre>&lt;p&gt;Look at my video:
 &lt;object type="application/x-shockwave-flash"&gt;
  &lt;param name=movie value="http://video.example.com/library/watch.swf"&gt;
  &lt;param name=allowfullscreen value=true&gt;
  &lt;param name=flashvars value="http://video.example.com/vids/315981"&gt;
  &lt;video controls src="http://video.example.com/vids/315981"&gt;
   &lt;a href="http://video.example.com/vids/315981"&gt;View video&lt;/a&gt;.
  &lt;/video&gt;
 &lt;/object&gt;
&lt;/p&gt;</pre>

  </div>



  <h4 id="the-param-element"><span class="secno">4.8.5 </span>The <dfn><code>param</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element, before any <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-param-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-param-name">name</a></code></dd>
   <dd><code title="attr-param-value"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-param-value">value</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlparamelement">HTMLParamElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-param-name" title="dom-param-name">name</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-param-value" title="dom-param-value">value</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-param-element">param</a></code> element defines parameters for plugins
  invoked by <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements. It does not <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a> anything on its own.</p>

  <p>The <dfn id="attr-param-name" title="attr-param-name"><code>name</code></dfn>
  attribute gives the name of the parameter.</p>

  <p>The <dfn id="attr-param-value" title="attr-param-value"><code>value</code></dfn>
  attribute gives the value of the parameter.</p>

  <p>Both attributes must be present. They may have any value.</p>

  <div class="impl">

  <p>If both attributes are present, and if the parent element of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-param-element">param</a></code> is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element, then the
  element defines a <dfn id="concept-param-parameter" title="concept-param-parameter">parameter</dfn> with the given
  name-value pair.</p>

  <p>If either the name or value of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-param-parameter" title="concept-param-parameter">parameter</a> defined by a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-param-element">param</a></code> element that is the child of an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element that <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> an
  instantiated <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> changes, and if that
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> is communicating with the user agent using an
  API that features the ability to update the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> when
  the name or value of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-param-parameter" title="concept-param-parameter">parameter</a> so changes, then
  the user agent must appropriately exercise that ability to notify
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#plugin">plugin</a> of the change.</p>

  <p>The IDL attributes <dfn id="dom-param-name" title="dom-param-name"><code>name</code></dfn> and <dfn id="dom-param-value" title="dom-param-value"><code>value</code></dfn> must both
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name.</p>

  </div>

  <div class="example">

   <p>The following example shows how the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-param-element">param</a></code> element
   can be used to pass a parameter to a plugin, in this case the O3D
   plugin.</p>

   <pre>&lt;!DOCTYPE HTML&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
   &lt;title&gt;O3D Utah Teapot&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
   &lt;p&gt;
    &lt;object type="application/vnd.o3d.auto"&gt;
     <strong>&lt;param name="o3d_features" value="FloatingPointTextures"&gt;</strong>
     &lt;img src="o3d-teapot.png"
          title="3D Utah Teapot illustration rendered using O3D."
          alt="When O3D renders the Utah Teapot, it appears as a squat
          teapot with a shiny metallic finish on which the
          surroundings are reflected, with a faint shadow caused by
          the lighting."&gt;
     &lt;p&gt;To see the teapot actually rendered by O3D on your
     computer, please download and install the &lt;a
     href="http://code.google.com/apis/o3d/docs/gettingstarted.html#install"&gt;O3D plugin&lt;/a&gt;.&lt;/p&gt;
    &lt;/object&gt;
    &lt;script src="o3d-teapot.js"&gt;&lt;/script&gt;
   &lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>

  </div>


<!--TOPIC:Video and Audio-->
  <h4 id="the-video-element"><span class="secno">4.8.6 </span>The <dfn id="video"><code>video</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">Embedded content</a>.</dd>
   <dd>If the element has a <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code> attribute: <a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">Interactive content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>If the element has a <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute:
 zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> elements, then
 <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a>, but with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> descendants.</dd>
   <dd>If the element does not have a <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute: zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> elements, then
 zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> elements, then
 <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a>, but with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> descendants.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code></dd>
   <dd><code title="attr-media-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-crossorigin">crossorigin</a></code></dd>
   <dd><code title="attr-video-poster"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-video-poster">poster</a></code></dd>
   <dd><code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code></dd>
   <dd><code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code></dd>
   <dd><code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code></dd>
   <dd><code title="attr-media-loop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-loop">loop</a></code></dd>
   <dd><code title="attr-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-muted">muted</a></code></dd>
   <dd><code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code></dd>
   <dd><code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code></dd>
   <dd><code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlvideoelement">HTMLVideoElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlmediaelement">HTMLMediaElement</a> {
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dim-width" title="dom-dim-width">width</a>;
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-dim-height" title="dom-dim-height">height</a>;
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-video-videowidth" title="dom-video-videoWidth">videoWidth</a>;
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-video-videoheight" title="dom-video-videoHeight">videoHeight</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-video-poster" title="dom-video-poster">poster</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element is used for playing videos or
  movies, and audio files with captions.</p>

  <p>Content may be provided inside the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>
  element<span class="impl">. User agents should not show this content
  to the user</span>; it is intended for older Web browsers which do
  not support <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>, so that legacy video plugins can be
  tried, or to show text to the users of these older browsers informing
  them of how to access the video contents.</p>

  <p class="note">In particular, this content is not intended to
  address accessibility concerns. To make video content accessible to
  the partially sighted, the blind, the hard-of-hearing, the deaf, and
  those with other physical or cognitive disabilities, a variety of
  features are available. Captions can be provided, either embedded in
  the video stream or as external files using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code>
  element. Sign-language tracks can be provided, again either embedded
  in the video stream or by synchronizing multiple <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>
  elements using the <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute or a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object. Audio descriptions can be
  provided, either as a separate track embedded in the video stream,
  or a separate audio track in an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements" title="slaved media elements">slaved</a> to the same controller
  as the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element(s), or in text form using a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-file">WebVTT file</a>
<!--FORK-->
  referenced using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element and synthesized into
  speech by the user agent. WebVTT can also be used to provide chapter
  titles. For users who would rather not use a media element at all,
  transcripts or other textual alternatives can be provided by simply
  linking to them in the prose near the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element.
<!--FORK-->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a>
<!--FORK-->
  </p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>
  whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> is ostensibly video data, possibly
  with associated audio data.</p>

  <p>The <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code>, <code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code>, <code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code>, 
  <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code>, 
  <code title="attr-media-loop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-loop">loop</a></code>,
  <code title="attr-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-muted">muted</a></code>, and <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code> attributes are <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element-attributes" title="media element attributes">the attributes common to all media
  elements</a>.</p>

  <p>The <dfn id="attr-video-poster" title="attr-video-poster"><code>poster</code></dfn>
  attribute gives the address of an image file that the user agent can
  show while no video data is available. The attribute, if present,
  must contain a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially surrounded by
  spaces</a>.</p>

  <div class="impl">

  <p>If the specified resource is to be used, then, when the element
  is created or when the <code title="attr-video-poster"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-video-poster">poster</a></code>
  attribute is set, changed, or removed, the user agent must run the
  following steps to determine the element's <dfn id="poster-frame">poster
  frame</dfn>:</p> <!-- thus it is unaffected by changes to the base
  URL. -->

  <ol><li><p>If there is an existing instance of this algorithm running
   for this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element, abort that instance of this
   algorithm without changing the <a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster frame</a>.</p></li>

   <li><p>If the <code title="attr-video-poster"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-video-poster">poster</a></code>
   attribute's value is the empty string or if the attribute is
   absent, then there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster frame</a>; abort these
   steps.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">Resolve</a> the <code title="attr-video-poster"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-video-poster">poster</a></code> attribute's value relative
   to the element. If this fails, then there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster
   frame</a>; abort these steps.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch">Fetch</a> the resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a>,
   from the element's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a>.
   This must <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load event</a> of the element's
   document.</p></li>

   <!-- could define how to sniff for an image here -->

   <li><p>If an image is thus obtained, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster frame</a>
   is that image. Otherwise, there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster
   frame</a>.</p></li>

  </ol></div>

  <p class="note">The image given by the <code title="attr-video-poster"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-video-poster">poster</a></code> attribute, the <i><a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster
  frame</a></i>, is intended to be a representative frame of the video
  (typically one of the first non-blank frames) that gives the user an
  idea of what the video is like.</p>

  <div class="impl">

  <hr><p>When no video data is available (the element's <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute is either
  <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>, or <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> but no video
  data has yet been obtained at all, or the element's <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute is any
  subsequent value but the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> does not have a
  video channel), the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster frame</a>.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused" title="dom-media-paused">paused</a> and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position" title="current
  playback position">current playback position</a> is the first
  frame of video, the element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster
  frame</a>, unless a frame of video has already been shown, in
  which case the element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the frame of video
  corresponding to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position" title="current playback position">current
  playback position</a>.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused" title="dom-media-paused">paused</a> at any other position, and
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> has a video channel, the element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the frame of video corresponding to the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position" title="current playback position">current playback
  position</a>, or, if that is not yet available (e.g. because the
  video is seeking or buffering), the last frame of the video to have
  been rendered.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> has a video channel is <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially
  playing</a>, it <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the frame of video at the
  continuously increasing <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position" title="current playback
  position">"current" position</a>. When the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
  position</a> changes such that the last frame rendered is no
  longer the frame corresponding to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
  position</a> in the video, the new frame must be rendered.

  Similarly, any audio associated with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>
  must, if played, be played synchronized with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current
  playback position</a>, at the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-media-volume">effective media
  volume</a>.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> has a video channel is neither <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially
  playing</a> nor <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused" title="dom-media-paused">paused</a>
  (e.g. when seeking or stalled), the element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a>
  the last frame of the video to have been rendered.</p>

  <p class="note">Which frame in a video stream corresponds to a
  particular playback position is defined by the video stream's
  format.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element also <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> any
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">text track cues</a> whose
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text track cue active flag</a> is set and whose
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track
  showing">showing</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by
  default">showing by default</a> modes.</p>

  <p>In addition to the above, the user agent may provide messages to
  the user (such as "buffering", "no video loaded", "error", or more
  detailed information) by overlaying text or icons on the video or
  other areas of the element's playback area, or in another
  appropriate manner.</p>

  <p>User agents that cannot render the video may instead make the
  element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a> a link to an
  external video playback utility or to the video data itself.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>
  has a video channel, the element <a href="http://www.whatwg.org/specs/web-apps/current-work/#provides-a-paint-source">provides a paint
  source</a> whose width is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-width" title="concept-video-intrinsic-width">intrinsic width</a>, whose
  height is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-height" title="concept-video-intrinsic-height">intrinsic height</a>, and
  whose appearance is the frame of video corresponding to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position" title="current playback position">current playback position</a>,
  if that is available, or else (e.g. when the video is seeking or
  buffering) its previous appearance, if any, or else (e.g. because
  the video is still loading the first frame) blackness.</p>

  <hr></div>

  <dl class="domintro"><dt><var title="">video</var> . <code title="dom-video-videoWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-video-videowidth">videoWidth</a></code></dt>
   <dt><var title="">video</var> . <code title="dom-video-videoHeight"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-video-videoheight">videoHeight</a></code></dt>

   <dd>

    <p>These attributes return the intrinsic dimensions of the video,
    or zero if the dimensions are not known.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="concept-video-intrinsic-width" title="concept-video-intrinsic-width">intrinsic
  width</dfn> and <dfn id="concept-video-intrinsic-height" title="concept-video-intrinsic-height">intrinsic height</dfn> of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> are the dimensions of the resource in
  CSS pixels after taking into account the resource's dimensions,
  aspect ratio, clean aperture, resolution, and so forth, as defined
  for the format used by the resource. If an anamorphic format does
  not define how to apply the aspect ratio to the video data's
  dimensions to obtain the "correct" dimensions, then the user agent
  must apply the ratio by increasing one dimension and leaving the
  other unchanged.</p>

  <p>The <dfn id="dom-video-videowidth" title="dom-video-videoWidth"><code>videoWidth</code></dfn> IDL
  attribute must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-width" title="concept-video-intrinsic-width">intrinsic width</a> of the
  video in CSS pixels. The <dfn id="dom-video-videoheight" title="dom-video-videoHeight"><code>videoHeight</code></dfn> IDL
  attribute must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-height" title="concept-video-intrinsic-height">intrinsic height</a> of
  the video in CSS pixels. If the element's <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute is <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>, then the
  attributes must return 0.</p>

  </div>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element supports <a href="http://www.whatwg.org/specs/web-apps/current-work/#dimension-attributes">dimension
  attributes</a>.</p>

  <div class="impl">

  <p>In the absence of style rules to the contrary, video content
  should be rendered inside the element's playback area such that the
  video content is shown centered in the playback area at the largest
  possible size that fits completely within it, with the video
  content's aspect ratio being preserved. Thus, if the aspect ratio of
  the playback area does not match the aspect ratio of the video, the
  video will be shown letterboxed or pillarboxed. Areas of the
  element's playback area that do not contain the video represent
  nothing.</p>

  <p class="note">In user agents that implement CSS, the above
  requirement can be implemented by using the <a href="http://www.whatwg.org/specs/web-apps/current-work/#video-object-fit">style rule suggested in the rendering
  section</a>.</p>

  <p>The intrinsic width of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element's playback
  area is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-width" title="concept-video-intrinsic-width">intrinsic
  width</a> of the video resource, if that is available; otherwise
  it is the intrinsic width of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster frame</a>, if that
  is available; otherwise it is 300 CSS pixels.</p>

  <p>The intrinsic height of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element's playback
  area is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-height" title="concept-video-intrinsic-height">intrinsic
  height</a> of the video resource, if that is available; otherwise
  it is the intrinsic height of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#poster-frame">poster frame</a>, if that
  is available; otherwise it is 150 CSS pixels.</p>

  <hr><p>User agents should provide controls to enable or disable the
  display of closed captions, audio description tracks, and other
  additional data associated with the video stream, though such
  features should, again, not interfere with the page's normal
  rendering.</p>

  <p>User agents may allow users to view the video content in manners
  more suitable to the user (e.g. full-screen or in an independent
  resizable window). As for the other user interface features,
  controls to enable this should not interfere with the page's normal
  rendering unless the user agent is <a href="http://www.whatwg.org/specs/web-apps/current-work/#expose-a-user-interface-to-the-user" title="expose a user
  interface to the user">exposing a user interface</a>. In such an
  independent context, however, user agents may make full user
  interfaces visible, with, e.g., play, pause, seeking, and volume
  controls, even if the <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code> attribute is absent.</p>

  <p>User agents may allow video playback to affect system features
  that could interfere with the user's experience; for example, user
  agents could disable screensavers while video playback is in
  progress.</p>

  <hr><p>The <dfn id="dom-video-poster" title="dom-video-poster"><code>poster</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-video-poster"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-video-poster">poster</a></code> content attribute.</p>

  </div>

  <div class="example">

   <p>This example shows how to detect when a video has failed to play
   correctly:</p>

   <pre>&lt;script&gt;
 function failed(e) {
   // video playback failed - show a message saying why
   switch (e.target.error.code) {
     case e.target.error.MEDIA_ERR_ABORTED:
       alert('You aborted the video playback.');
       break;
     case e.target.error.MEDIA_ERR_NETWORK:
       alert('A network error caused the video download to fail part-way.');
       break;
     case e.target.error.MEDIA_ERR_DECODE:
       alert('The video playback was aborted due to a corruption problem or because the video used features your browser did not support.');
       break;
     case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:
       alert('The video could not be loaded, either because the server or network failed or because the format is not supported.');
       break;
     default:
       alert('An unknown error occurred.');
       break;
   }
 }
&lt;/script&gt;
&lt;p&gt;&lt;video src="tgif.vid" autoplay controls onerror="failed(event)"&gt;&lt;/video&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="tgif.vid"&gt;Download the video file&lt;/a&gt;.&lt;/p&gt;</pre>

  </div>




  <!--CODECS

  <div class="impl">

  <h5>Video and audio codecs for <code>video</code> elements</h5>

  <p>User agents may support any video and audio codecs and container
  formats.</p>

  <p class="note">Certain user agents might support no codecs at all,
  e.g. text browsers running over SSH connections.</p>

  <!- - similar note in audio codecs section - ->
  <p class="note">Implementations are free to implement support for
  video codecs either natively, or using platform-specific APIs, or
  using plugins: this specification does not specify how codecs are to
  be implemented.</p>

  </div>

  (when replacing this text, also fix "- -" nested comments)-->





  <h4 id="the-audio-element"><span class="secno">4.8.7 </span>The <dfn id="audio"><code>audio</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">Embedded content</a>.</dd>
   <dd>If the element has a <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code> attribute: <a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">Interactive content</a>.</dd>
   <dd>If the element has a <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code> attribute: <a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>If the element has a <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute: 
zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> elements, then 
<a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a>, but with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> descendants.</dd>
   <dd>If the element does not have a <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute: zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> elements, then
 zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> elements, then
 <a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">transparent</a>, but with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> descendants.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code></dd>
   <dd><code title="attr-media-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-crossorigin">crossorigin</a></code></dd>
   <dd><code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code></dd>
   <dd><code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code></dd>
   <dd><code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code></dd>
   <dd><code title="attr-media-loop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-loop">loop</a></code></dd>
   <dd><code title="attr-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-muted">muted</a></code></dd>
   <dd><code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">[NamedConstructor=<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audio" title="dom-Audio">Audio</a>(),
 NamedConstructor=<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audio-s" title="dom-Audio-s">Audio</a>(DOMString src)]
interface <dfn id="htmlaudioelement">HTMLAudioElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlmediaelement">HTMLMediaElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a sound or
  audio stream.</p>

  <!-- v2 (actually v3) suggestions:
    * Audio syntesis. Use cases from Charles Pritchard:
      > Use a sound of varying pitch to hint to a user the location of their
      > mouse (is it hovering over a button, is it x/y pixels away from the edge
      > of the screen, how close is it to the center).
      >
      > Alter the pitch of a sound to make a very cheap midi instrument.
      >
      > Pre-mix a few generated sounds, because the client processor is slow.
      >
      > Alter the pitch of an actual audio recording, and pre-mix it, to give
      > different sounding voices to pre-recorded readings of a single text. As
      > has been tried for "male" "female" sound fonts.
      >
      > Support very simple audio codecs, and programmable synthesizers.
  -->

  <p>Content may be provided inside the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code>
  element<span class="impl">. User agents should not show this content
  to the user</span>; it is intended for older Web browsers which do
  not support <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code>, so that legacy audio plugins can be
  tried, or to show text to the users of these older browsers informing
  them of how to access the audio contents.</p>

  <p class="note">In particular, this content is not intended to
  address accessibility concerns. To make audio content accessible to
  the deaf or to those with other physical or cognitive disabilities,
  a variety of features are available. If captions or a sign language
  video are available, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element can be used
  instead of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element to play the audio,
  allowing users to enable the visual alternatives. Chapter titles can
  be provided to aid navigation, using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element
  and a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-file">WebVTT file</a>.
<!--FORK-->
  And, naturally, transcripts or other textual alternatives can be
  provided by simply linking to them in the prose near the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element.
<!--FORK-->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a>
<!--FORK-->
  </p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>
  whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> is ostensibly audio data.</p>

  <p>The <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code>, <code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code>, <code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code>, 
  <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code>,
  <code title="attr-media-loop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-loop">loop</a></code>,
  <code title="attr-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-muted">muted</a></code>, and <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code> attributes are <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element-attributes" title="media element attributes">the attributes common to all media
  elements</a>.</p>

  <div class="impl">

  <p>When an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially
  playing</a>, it must have its audio data played synchronized with
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>, at the element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-media-volume">effective media volume</a>.</p>

  <p>When an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially
  playing</a>, audio must not play for the element.</p>

  </div>

  <dl class="domintro"><dt><var title="">audio</var> = new <code title="dom-Audio"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audio">Audio</a></code>( [ <var title="">url</var> ] )</dt>

   <dd>

    <p>Returns a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element, with the <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute set to the value
    passed in the argument, if applicable.</p>

   </dd>

  </dl><div class="impl">

  <p>Two constructors are provided for creating
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlaudioelement">HTMLAudioElement</a></code> objects (in addition to the factory
  methods from DOM Core such as <code title="">createElement()</code>): <dfn id="dom-audio" title="dom-Audio"><code>Audio()</code></dfn> and <dfn id="dom-audio-s" title="dom-Audio-s"><code>Audio(<var title="">src</var>)</code></dfn>. When invoked as constructors,
  these must return a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlaudioelement">HTMLAudioElement</a></code> object (a new
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element). The element must have its <code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code> attribute set to the
  literal value "<code title="attr-media-preload-auto"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload-auto">auto</a></code>". If the <var title="">src</var> argument is present, the object created must have
  its <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> content attribute set to
  the provided value, and the user agent must invoke the object's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
  algorithm</a> before returning. The element's document must be
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
  context</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code> object on which the
  interface object of the invoked constructor is found.</p>

  </div>



  <!--CODECS

  <div class="impl">

  <h5>Audio codecs for <code>audio</code> elements</h5>

  <p>User agents may support any audio codecs and container
  formats.</p>

  <p>User agents must support the WAVE container format with audio
  encoded using the 16 bit PCM (LE) codec, at sampling frequencies of
  11.025kHz, 22.050kHz, and 44.100kHz, and for both mono and
  stereo. <a href="#- -refsWAVE">[WAVE]</a></p>

  <!- -
   <dt id="- -refsWAVE">WAVE</dt>
   <dd>http://en.wikipedia.org/wiki/WAV? </dd>
  - ->

  <!- - similar note in video codecs section - ->
  <p class="note">Implementations are free to implement support for
  audio codecs either natively, or using platform-specific APIs, or
  using plugins: this specification does not specify how codecs are to
  be implemented.</p>

  </div>

  (when replacing this text, also fix "- -" nested comments)-->



  <h4 id="the-source-element"><span class="secno">4.8.8 </span>The <dfn><code>source</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, before any <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>
 or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-source-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-src">src</a></code></dd>
   <dd><code title="attr-source-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-type">type</a></code></dd>
   <dd><code title="attr-source-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-media">media</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlsourceelement">HTMLSourceElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-source-src" title="dom-source-src">src</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-source-type" title="dom-source-type">type</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-source-media" title="dom-source-media">media</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element allows authors to specify
  multiple alternative <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media
  resources</a> for <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media
  elements</a>. It does not <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a> anything on its own.</p>

  <p>The <dfn id="attr-source-src" title="attr-source-src"><code>src</code></dfn> attribute
  gives the address of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>. The value must
  be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially surrounded by
  spaces</a>. This attribute must be present.</p>

  <p class="note">Dynamically modifying a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element
  and its attribute when the element is already inserted in a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element will have no
  effect. To change what is playing, just use the <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a> directly, possibly making use of the <code title="dom-navigator-canPlayType"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-navigator-canplaytype">canPlayType()</a></code> method to
  pick from amongst available resources. Generally, manipulating
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> elements manually after the document has been
  parsed is an unncessarily complicated approach.</p>

  <p>The <dfn id="attr-source-type" title="attr-source-type"><code>type</code></dfn>
  attribute gives the type of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, to help
  the user agent determine if it can play this <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> before fetching it. If specified, its value must be
  a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">valid MIME type</a>. The <code title="">codecs</code>
  parameter, which certain MIME types define, might be necessary to
  specify exactly how the resource is encoded. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC4281">[RFC4281]</a></p>

  <div class="example">

   <p>The following list shows some examples of how to use the <code title="">codecs=</code> MIME parameter in the <code title="attr-source-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-type">type</a></code> attribute.</p>

   <dl><dt>H.264 Constrained baseline profile video (main and extended video compatible) level 3 and Low-Complexity AAC audio in MP4 container</dt>
    <dd><pre>&lt;source src='video.mp4' type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'&gt;</pre></dd>

    <dt>H.264 Extended profile video (baseline-compatible) level 3 and Low-Complexity AAC audio in MP4 container</dt>
    <dd><pre>&lt;source src='video.mp4' type='video/mp4; codecs="avc1.58A01E, mp4a.40.2"'&gt;</pre></dd>

    <dt>H.264 Main profile video level 3 and Low-Complexity AAC audio in MP4 container</dt>
    <dd><pre>&lt;source src='video.mp4' type='video/mp4; codecs="avc1.4D401E, mp4a.40.2"'&gt;</pre></dd>

    <dt>H.264 'High' profile video (incompatible with main, baseline, or extended profiles) level 3 and Low-Complexity AAC audio in MP4 container</dt>
    <dd><pre>&lt;source src='video.mp4' type='video/mp4; codecs="avc1.64001E, mp4a.40.2"'&gt;</pre></dd>


    <dt>MPEG-4 Visual Simple Profile Level 0 video and Low-Complexity AAC audio in MP4 container</dt>
    <dd><pre>&lt;source src='video.mp4' type='video/mp4; codecs="mp4v.20.8, mp4a.40.2"'&gt;</pre></dd>

    <dt>MPEG-4 Advanced Simple Profile Level 0 video and Low-Complexity AAC audio in MP4 container</dt>
    <dd><pre>&lt;source src='video.mp4' type='video/mp4; codecs="mp4v.20.240, mp4a.40.2"'&gt;</pre></dd>

    <dt>MPEG-4 Visual Simple Profile Level 0 video and AMR audio in 3GPP container</dt>
    <dd><pre>&lt;source src='video.3gp' type='video/3gpp; codecs="mp4v.20.8, samr"'&gt;</pre></dd>


    <dt>Theora video and Vorbis audio in Ogg container</dt>
    <dd><pre>&lt;source src='video.ogv' type='video/ogg; codecs="theora, vorbis"'&gt;</pre></dd>

    <dt>Theora video and Speex audio in Ogg container</dt>
    <dd><pre>&lt;source src='video.ogv' type='video/ogg; codecs="theora, speex"'&gt;</pre></dd>

    <dt>Vorbis audio alone in Ogg container</dt>
    <dd><pre>&lt;source src='audio.ogg' type='audio/ogg; codecs=vorbis'&gt;</pre></dd>

    <dt>Speex audio alone in Ogg container</dt>
    <dd><pre>&lt;source src='audio.spx' type='audio/ogg; codecs=speex'&gt;</pre></dd>

    <dt>FLAC audio alone in Ogg container</dt>
    <dd><pre>&lt;source src='audio.oga' type='audio/ogg; codecs=flac'&gt;</pre></dd>

    <dt>Dirac video and Vorbis audio in Ogg container</dt>
    <dd><pre>&lt;source src='video.ogv' type='video/ogg; codecs="dirac, vorbis"'&gt;</pre></dd>

<!-- awaiting definition by the Matroska guys:
    <dt>Theora video and Vorbis audio in Matroska container</dt>
    <dd><pre>&lt;source src='video.mkv' type='video/x-matroska; codecs="theora, vorbis"'></pre></dd>
-->

<!-- awaiting definition by the Ogg or BBC guys:
    <dt>Dirac video and Vorbis audio in Matroska container</dt>
    <dd><pre>&lt;source src='video.mkv' type='video/x-matroska; codecs='></pre></dd>
-->

<!-- awaiting definition by the Microsoft guys:
    <dt>WMV9 video and WMA 2 audio in ASF container</dt>
    <dd><pre>&lt;source src='video.wmv' type='video/x-ms-wmv; codecs='></pre></dd>

    <dt>WMV8 video and WMA 2 audio in ASF container</dt>
    <dd><pre>&lt;source src='video.wmv' type='video/x-ms-wmv; codecs='></pre></dd>

    <dt>VC-1 video and WMA 10 Pro audio in ASF container</dt>
    <dd><pre>&lt;source src='video.wmv' type='video/x-ms-wmv; codecs='></pre></dd>

    <dt>XviD video and MP3 audio in AVI container</dt>
    <dd><pre>&lt;source src='video.avi' type='video/x-msvideo; codecs='></pre></dd>

    <dt>Motion-JPEG video and uncompressed PCM audio in AVI container</dt>
    <dd><pre>&lt;source src='video.avi' type='video/x-msvideo; codecs='></pre></dd>
-->

<!-- awaiting definition by Real:
    <dt>Real Video 10 video and High-Efficiency AAC audio in Real Media container</dt>
    <dd><pre>&lt;source src='video.rm' type='application/vnd.rn-realmedia; codecs='></pre></dd>
-->

<!--  undefined:
    <dt>MPEG-1 video and MPEG-1 Audio Layer II audio in MPEG-1 program stream</dt>
    <dd><pre>&lt;source src='video.mpg' type='video/mpeg; codecs='></pre></dd>
-->

   </dl></div>

  <p>The <dfn id="attr-source-media" title="attr-source-media"><code>media</code></dfn>
  attribute gives the intended media type of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>, to help the user agent determine if this
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is useful to the user before fetching
  it. Its value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-media-query">valid media query</a>.</p>

  <p id="source-default-media">The default, if the <code title="attr-srouce-media">media</code> attribute is omitted, is
  "<code title="">all</code>", meaning that by default the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> is suitable for all media.</p>

  <div class="impl">

  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element is inserted as a child of a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> that has no <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute and whose <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> has the value
  <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>, the user
  agent must invoke the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
  algorithm</a>.</p>

  <p>The IDL attributes <dfn id="dom-source-src" title="dom-source-src"><code>src</code></dfn>, <dfn id="dom-source-type" title="dom-source-type"><code>type</code></dfn>, and <dfn id="dom-source-media" title="dom-source-media"><code>media</code></dfn> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name.</p>

  </div>

  <div class="example">

   <p>If the author isn't sure if the user agents will all be able to
   render the media resources provided, the author can listen to the
   <code title="event-error">error</code> event on the last
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element and trigger fallback behavior:</p>

   <pre>&lt;script&gt;
 function fallback(video) {
   // replace &lt;video&gt; with its contents
   while (video.hasChildNodes()) {
     if (video.firstChild instanceof HTMLSourceElement)
       video.removeChild(video.firstChild);
     else
       video.parentNode.insertBefore(video.firstChild, video);
   }
   video.parentNode.removeChild(video);
 }
&lt;/script&gt;
&lt;video controls autoplay&gt;
 &lt;source src='video.mp4' type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'&gt;
 &lt;source src='video.ogv' type='video/ogg; codecs="theora, vorbis"'
         onerror="fallback(parentNode)"&gt;
 ...
&lt;/video&gt;</pre>

  </div>


<!--TOPIC:Video Text Tracks-->
  <h4 id="the-track-element"><span class="secno">4.8.9 </span>The <dfn><code>track</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, before any <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-track-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind">kind</a></code></dd>
   <dd><code title="attr-track-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-src">src</a></code></dd>
   <dd><code title="attr-track-srclang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-srclang">srclang</a></code></dd>
   <dd><code title="attr-track-label"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-label">label</a></code></dd>
   <dd><code title="attr-track-default"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-default">default</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmltrackelement">HTMLTrackElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-kind" title="dom-track-kind">kind</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-src" title="dom-track-src">src</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-srclang" title="dom-track-srclang">srclang</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-label" title="dom-track-label">label</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-default" title="dom-track-default">default</a>;

  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-none" title="dom-track-NONE">NONE</a> = 0;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-loading" title="dom-track-LOADING">LOADING</a> = 1;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-loaded" title="dom-track-LOADED">LOADED</a> = 2;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-error" title="dom-track-ERROR">ERROR</a> = 3;
  readonly attribute unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-readystate" title="dom-track-readyState">readyState</a>;

  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-track" title="dom-track-track">track</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element allows authors to specify explicit
  external timed <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> for <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a>. It does not <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents" title="represents">represent</a> anything on its own.</p>

  <p>The <dfn id="attr-track-kind" title="attr-track-kind"><code>kind</code></dfn>
  attribute is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#enumerated-attribute">enumerated attribute</a>. The following
  table lists the keywords defined for this attribute. The keyword
  given in the first cell of each row maps to the state given in the
  second cell.</p>

  <table><thead><tr><th>Keyword
     </th><th>State
     </th><th>Brief description
   </th></tr></thead><tbody><tr><td><dfn id="attr-track-kind-keyword-subtitles" title="attr-track-kind-keyword-subtitles"><code>subtitles</code></dfn>
     </td><td><dfn id="attr-track-kind-subtitles" title="attr-track-kind-subtitles">Subtitles</dfn>
     </td><td>
      Transcription or translation of the dialogue, suitable for when the sound is available but not understood (e.g. because the user does not understand the language of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>'s audio track).
      Overlaid on the video.
    </td></tr><tr><td><dfn id="attr-track-kind-keyword-captions" title="attr-track-kind-keyword-captions"><code>captions</code></dfn>
     </td><td><dfn id="attr-track-kind-captions" title="attr-track-kind-captions">Captions</dfn>
     </td><td>
      Transcription or translation of the dialogue, sound effects, relevant musical cues, and other relevant audio information, suitable for when sound is unavailable or not clearly audible (e.g. because it is muted, drowned-out by ambient noise, or because the user is deaf).
      Overlaid on the video; labeled as appropriate for the hard-of-hearing.
    </td></tr><tr><td><dfn id="attr-track-kind-keyword-descriptions" title="attr-track-kind-keyword-descriptions"><code>descriptions</code></dfn>
     </td><td><dfn id="attr-track-kind-descriptions" title="attr-track-kind-descriptions">Descriptions</dfn>
     </td><td>
      Textual descriptions of the video component of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, intended for audio synthesis when the visual component is obscured, unavailable, or not usable (e.g. because the user is interacting with the application without a screen while driving, or because the user is blind).
      Synthesized as audio.
    </td></tr><tr><td><dfn id="attr-track-kind-keyword-chapters" title="attr-track-kind-keyword-chapters"><code>chapters</code></dfn>
     </td><td><dfn id="attr-track-kind-chapters" title="attr-track-kind-chapters">Chapters</dfn>
     </td><td>
      Chapter titles, intended to be used for navigating the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.
      Displayed as an interactive (potentially nested) list in the user agent's interface.
    </td></tr><tr><td><dfn id="attr-track-kind-keyword-metadata" title="attr-track-kind-keyword-metadata"><code>metadata</code></dfn>
     </td><td><dfn id="attr-track-kind-metadata" title="attr-track-kind-metadata">Metadata</dfn>
     </td><td>
      Tracks intended for use from script.
      Not displayed by the user agent.
  </td></tr></tbody></table><p>The attribute may be omitted. The <i>missing value default</i> is
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-subtitles" title="attr-track-kind-subtitles">subtitles</a> state.</p>

  <p>The <dfn id="attr-track-src" title="attr-track-src"><code>src</code></dfn> attribute
  gives the address of the text track data. The value must be a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially surrounded by
  spaces</a>. This attribute must be present.</p>

  <div class="impl">

  <p>If the element has a <code title="attr-track-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-src">src</a></code>
  attribute whose value is not the empty string and whose value, when
  the attribute was set, could be successfully <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a
  url">resolved</a> relative to the element, then the element's
  <dfn id="track-url">track URL</dfn> is the resulting <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute
  URL</a>. Otherwise, the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-url">track URL</a> is the
  empty string.</p>

  </div>

  <p>If the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-url">track URL</a> identifies a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a> resource, and the element's <code title="attr-track-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind">kind</a></code> attribute is not in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-metadata" title="attr-track-kind-metadata">metadata</a> state, then the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a> file must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-file-using-cue-text">WebVTT file using cue
  text</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p>

  <p>Furthermore, if the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-url">track URL</a> identifies a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a> resource, and the element's <code title="attr-track-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind">kind</a></code> attribute is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-chapters" title="attr-track-kind-chapters">chapters</a> state, then the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a> file must be both a <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-file-using-chapter-title-text">WebVTT file using
  chapter title text</a> and a <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-file-using-only-nested-cues">WebVTT file using only nested
  cues</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p>

  <p>The <dfn id="attr-track-srclang" title="attr-track-srclang"><code>srclang</code></dfn>
  attribute gives the language of the text track data. The value must
  be a valid BCP 47 language tag. This attribute must be present if
  the element's <code title="attr-track-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind">kind</a></code> attribute is
  in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-subtitles" title="attr-track-kind-subtitles">subtitles</a>
  state. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBCP47">[BCP47]</a></p>

  <div class="impl">

  <p>If the element has a <code title="attr-track-srclang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-srclang">srclang</a></code> attribute whose value is
  not the empty string, then the element's <dfn id="track-language">track language</dfn>
  is the value of the attribute. Otherwise, the element has no
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-language">track language</a>.</p>

  </div>

  <p>The <dfn id="attr-track-label" title="attr-track-label"><code>label</code></dfn>
  attribute gives a user-readable title for the track. This title is
  used by user agents when listing <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-subtitles" title="attr-track-kind-subtitles">subtitle</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-captions" title="attr-track-kind-captions">caption</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-descriptions" title="attr-track-kind-descriptions">audio description</a> tracks
  in their user interface.</p>

  <p>The value of the <code title="attr-track-label"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-label">label</a></code>
  attribute, if the attribute is present, must not be the empty
  string. Furthermore, there must not be two <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code>
  element children of the same <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> whose <code title="attr-track-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind">kind</a></code> attributes are in the same
  state, whose <code title="attr-track-srclang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-srclang">srclang</a></code>
  attributes are both missing or have values that represent the same
  language, and whose <code title="attr-track-label"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-label">label</a></code>
  attributes are again both missing or both have the same value.</p>

  <div class="impl">

  <p>If the element has a <code title="attr-track-label"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-label">label</a></code>
  attribute whose value is not the empty string, then the element's
  <dfn id="track-label">track label</dfn> is the value of the attribute. Otherwise, the
  element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-label">track label</a> is a user-agent defined string
  (e.g. the string "untitled" in the user's locale, or a value
  automatically generated from the other attributes).</p>

  </div>

  <p>The <dfn id="attr-track-default" title="attr-track-default"><code>default</code></dfn>
  attribute, if specified, indicates that the track is to be enabled
  if the user's preferences do not indicate that another track would
  be more appropriate. There must not be more than one
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element with the same parent node with the <code title="attr-track-default"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-default">default</a></code> attribute specified.</p>

  <dl class="domintro"><dt><var title="">track</var> . <code title="dom-track-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-readystate">readyState</a></code></dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state">text track readiness state</a>,
    represented by a number from the following list:</p>
    <dl><dt><var title="">track</var> . <code title="dom-track-NONE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-none">NONE</a></code> (0)</dt>
     <dd>
      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-not-loaded">text track not loaded</a> state.</p>
     </dd>
     <dt><var title="">track</var> . <code title="dom-track-LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-loading">LOADING</a></code> (1)</dt>
     <dd>
      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loading">text track loading</a> state.</p>
     </dd>
     <dt><var title="">track</var> . <code title="dom-track-LOADED"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-loaded">LOADED</a></code> (2)</dt>
     <dd>
      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loaded">text track loaded</a> state.</p>
     </dd>
     <dt><var title="">track</var> . <code title="dom-track-ERROR"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-error">ERROR</a></code> (3)</dt>
     <dd>
      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-failed-to-load">text track failed to load</a> state.</p>
     </dd>
    </dl></dd>

   <dt><var title="">track</var> . <code title="dom-track-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-track">track</a></code></dt>

   <dd>

    <p>Returns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object corresponding to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-track-readystate" title="dom-track-readyState"><code>readyState</code></dfn> attribute
  must return the numeric value corresponding to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state">text track
  readiness state</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>, as defined by the following list:</p>

  <dl><dt><dfn id="dom-track-none" title="dom-track-NONE"><code>NONE</code></dfn> (numeric value 0)</dt>
   <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-not-loaded">text track not loaded</a> state.</dd>
   <dt><dfn id="dom-track-loading" title="dom-track-LOADING"><code>LOADING</code></dfn> (numeric value 1)</dt>
   <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loading">text track loading</a> state.</dd>
   <dt><dfn id="dom-track-loaded" title="dom-track-LOADED"><code>LOADED</code></dfn> (numeric value 2)</dt>
   <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loaded">text track loaded</a> state.</dd>
   <dt><dfn id="dom-track-error" title="dom-track-ERROR"><code>ERROR</code></dfn> (numeric value 3)</dt>
   <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-failed-to-load">text track failed to load</a> state.</dd>
  </dl><p>The <dfn id="dom-track-track" title="dom-track-track"><code>track</code></dfn> IDL
  attribute must, on getting, return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s corresponding <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code>
  object.</p>

  <p>The <dfn id="dom-track-src" title="dom-track-src"><code>src</code></dfn>, <dfn id="dom-track-srclang" title="dom-track-srclang"><code>srclang</code></dfn>, <dfn id="dom-track-label" title="dom-track-label"><code>label</code></dfn>, and <dfn id="dom-track-default" title="dom-track-default"><code>default</code></dfn> IDL attributes
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the
  same name. The <dfn id="dom-track-kind" title="dom-track-kind"><code>kind</code></dfn>
  IDL attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name, <a href="http://www.whatwg.org/specs/web-apps/current-work/#limited-to-only-known-values">limited to only known values</a>.</p>

  </div>

  <div class="example">

   <p>This video has subtitles in several languages:</p>

   <pre>&lt;video src="brave.webm"&gt;
 &lt;track kind=subtitles src=brave.en.vtt srclang=en label="English"&gt;
 &lt;track kind=captions src=brave.en.hoh.vtt srclang=en label="English for the Hard of Hearing"&gt;
 &lt;track kind=subtitles src=brave.fr.vtt srclang=fr lang=fr label="Français"&gt;
 &lt;track kind=subtitles src=brave.de.vtt srclang=de lang=de label="Deutsch"&gt;
&lt;/video&gt;</pre>

  </div>

<!--TOPIC:Video and Audio-->
  <h4 id="media-elements"><span class="secno">4.8.10 </span>Media elements</h4>

  <p><dfn id="media-element" title="media element">Media elements</dfn>
  (<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>, in this specification)
  implement the following interface:</p>

  <pre class="idl">interface <dfn id="htmlmediaelement">HTMLMediaElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {

  // error state
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#mediaerror">MediaError</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error" title="dom-media-error">error</a>;

  // network state
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-src" title="dom-media-src">src</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-currentsrc" title="dom-media-currentSrc">currentSrc</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-crossorigin" title="dom-media-crossOrigin">crossOrigin</a>;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty" title="dom-media-NETWORK_EMPTY">NETWORK_EMPTY</a> = 0;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle" title="dom-media-NETWORK_IDLE">NETWORK_IDLE</a> = 1;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading" title="dom-media-NETWORK_LOADING">NETWORK_LOADING</a> = 2;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_no_source" title="dom-media-NETWORK_NO_SOURCE">NETWORK_NO_SOURCE</a> = 3;
  readonly attribute unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate" title="dom-media-networkState">networkState</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-preload" title="dom-media-preload">preload</a>;
<!--v3BUF  readonly attribute double <span title="dom-media-bufferingRate">bufferingRate</span>;
  readonly attribute boolean <span title="dom-media-bufferingThrottled">bufferingThrottled</span>;
-->  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-buffered" title="dom-media-buffered">buffered</a>;
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-load" title="dom-media-load">load</a>();
  DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-navigator-canplaytype" title="dom-navigator-canPlayType">canPlayType</a>(DOMString type);

  // ready state
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing" title="dom-media-HAVE_NOTHING">HAVE_NOTHING</a> = 0;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata" title="dom-media-HAVE_METADATA">HAVE_METADATA</a> = 1;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data" title="dom-media-HAVE_CURRENT_DATA">HAVE_CURRENT_DATA</a> = 2;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data" title="dom-media-HAVE_FUTURE_DATA">HAVE_FUTURE_DATA</a> = 3;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_enough_data" title="dom-media-HAVE_ENOUGH_DATA">HAVE_ENOUGH_DATA</a> = 4;
  readonly attribute unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate" title="dom-media-readyState">readyState</a>;
  readonly attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking" title="dom-media-seeking">seeking</a>;

  // playback state
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-currenttime" title="dom-media-currentTime">currentTime</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-duration" title="dom-media-duration">duration</a>;
  readonly attribute <span>Date</span> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-startdate" title="dom-media-startDate">startDate</a>;
  readonly attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused" title="dom-media-paused">paused</a>;
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultplaybackrate" title="dom-media-defaultPlaybackRate">defaultPlaybackRate</a>;
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-playbackrate" title="dom-media-playbackRate">playbackRate</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-played" title="dom-media-played">played</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seekable" title="dom-media-seekable">seekable</a>;
  readonly attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-ended" title="dom-media-ended">ended</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-autoplay" title="dom-media-autoplay">autoplay</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-loop" title="dom-media-loop">loop</a>;
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-play" title="dom-media-play">play</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-pause" title="dom-media-pause">pause</a>();

  // media controller
           attribute <span>DOMString</span> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-mediagroup" title="dom-media-mediaGroup">mediaGroup</a>;
           attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-controller" title="dom-media-controller">controller</a>;

  // controls
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-controls" title="dom-media-controls">controls</a>;
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-volume" title="dom-media-volume">volume</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-muted" title="dom-media-muted">muted</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultmuted" title="dom-media-defaultMuted">defaultMuted</a>;

  // tracks
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks" title="dom-media-audioTracks">audioTracks</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks" title="dom-media-videoTracks">videoTracks</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-texttracks" title="dom-media-textTracks">textTracks</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-addtexttrack" title="dom-media-addTextTrack">addTextTrack</a>(DOMString kind, optional DOMString label, optional DOMString language);
};</pre>

  <p>The <dfn id="media-element-attributes">media element attributes</dfn>, <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code>, <code title="attr-media-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-crossorigin">crossorigin</a></code>, <code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code>, <code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code>, 
  <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code>, 
  <code title="attr-media-loop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-loop">loop</a></code>,
  <code title="attr-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-muted">muted</a></code>, and <code title="attr-media-controls"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-controls">controls</a></code>, apply to all <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a>. They are defined in
  this section.</p>

  <!-- proposed v2 (actually v3!) features:
    * frame forward / backwards / step(n) while paused
    * per-frame control: get current frame; set current frame
    * queue of content
      - pause current stream and insert content at front of queue to play immediately
      - pre-download another stream
      - add stream(s) to play at end of current stream
      - pause playback upon reaching a certain time
      - playlists, with the ability to get metadata out of them (e.g. xspf)
    * general meta data, implemented as getters (don't expose the whole thing)
      - getMetadata(key: string, language: string) => HTMLImageElement or string
      - onmetadatachanged (no context info)
      - general custom metadata store (ratings, etc.)
    * video: applying CSS filters
    * an event to notify people of when the video size changes
      (e.g. for chained Ogg streams of multiple independent videos)
      (or for when the current video track changes)
    * balance and 3D position audio
    * audio filters
    * audio synthesis (see <audio> section for use cases)
    * feedback to the script on how well the video is playing
       - frames per second?
       - skipped frames per second?
       - an event that reports playback difficulties?
       - an arbitrary quality metric?
    * bufferingRate/bufferingThrottled (see v3BUF)
    * events for when the user agent's controls get shown or hidden
      so that the author's controls can get away of the UA's
  -->

  <!-- v2 features that already have experimental implementations:
    * webkitPreservesPitch (for when playbackRate != 1.0)
  -->

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">Media elements</a> are used to
  present audio data, or video and audio data, to the user. This is
  referred to as <dfn id="media-data">media data</dfn> in this section, since this
  section applies equally to <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media
  elements</a> for audio or for video.

  The term <dfn id="media-resource">media resource</dfn> is used to refer to the complete
  set of media data, e.g. the complete video file, or complete audio
  file.

  </p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> can have multiple audio and video
  tracks. For the purposes of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, the video
  data of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is only that of the
  currently selected track (if any) given by the element's <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code> attribute, and the
  audio data of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is the result of
  mixing all the currently enabled tracks (if any) given by the
  element's <code title="dom-media-audioTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks">audioTracks</a></code>
  attribute.</p>

  <p class="note">Both <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>
  elements can be used for both audio and video. The main difference
  between the two is simply that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element has no
  playback area for visual content (such as video or captions),
  whereas the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element does.</p>

  <div class="impl">

  <p>Except where otherwise specified, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a>
  for all the tasks <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a> in this
  section and its subsections is the <dfn id="media-element-event-task-source">media element event task
  source</dfn>.</p>

  </div>



  <h5 id="error-codes"><span class="secno">4.8.10.1 </span>Error codes</h5>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error">error</a></code></dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediaerror">MediaError</a></code> object representing the
    current error state of the element.</p>

    <p>Returns null if there is no error.</p>

   </dd>

  </dl><div class="impl">

  <p>All <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> have an
  associated error status, which records the last error the element
  encountered since its <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
  algorithm</a> was last invoked. The <dfn id="dom-media-error" title="dom-media-error"><code>error</code></dfn> attribute, on
  getting, must return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediaerror">MediaError</a></code> object created for
  this last error, or null if there has not been an error.</p>

  </div>

  <pre class="idl">interface <dfn id="mediaerror">MediaError</dfn> {
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_aborted" title="dom-MediaError-MEDIA_ERR_ABORTED">MEDIA_ERR_ABORTED</a> = 1;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_network" title="dom-MediaError-MEDIA_ERR_NETWORK">MEDIA_ERR_NETWORK</a> = 2;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_decode" title="dom-MediaError-MEDIA_ERR_DECODE">MEDIA_ERR_DECODE</a> = 3;
  const unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_src_not_supported" title="dom-MediaError-MEDIA_ERR_SRC_NOT_SUPPORTED">MEDIA_ERR_SRC_NOT_SUPPORTED</a> = 4;
  readonly attribute unsigned short <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-code" title="dom-MediaError-code">code</a>;
};</pre>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error">error</a></code> . <code title="dom-MediaError-code"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-code">code</a></code></dt>

   <dd>

    <p>Returns the current error's error code, from the list below.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-mediaerror-code" title="dom-MediaError-code"><code>code</code></dfn>
  attribute of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediaerror">MediaError</a></code> object must return the code
  for the error, which must be one of the following:</p>

  </div>

  <dl><dt><dfn id="dom-mediaerror-media_err_aborted" title="dom-MediaError-MEDIA_ERR_ABORTED"><code>MEDIA_ERR_ABORTED</code></dfn> (numeric value 1)</dt>

   <dd>The fetching process for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> was
   aborted by the user agent at the user's request.</dd>

   <dt><dfn id="dom-mediaerror-media_err_network" title="dom-MediaError-MEDIA_ERR_NETWORK"><code>MEDIA_ERR_NETWORK</code></dfn> (numeric value 2)</dt>

   <dd>A network error of some description caused the user agent to
   stop fetching the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, after the resource
   was established to be usable.</dd>

   <dt><dfn id="dom-mediaerror-media_err_decode" title="dom-MediaError-MEDIA_ERR_DECODE"><code>MEDIA_ERR_DECODE</code></dfn> (numeric value 3)</dt>

   <dd>An error of some description occurred while decoding the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, after the resource was established to
   be usable.</dd>

   <dt><dfn id="dom-mediaerror-media_err_src_not_supported" title="dom-MediaError-MEDIA_ERR_SRC_NOT_SUPPORTED"><code>MEDIA_ERR_SRC_NOT_SUPPORTED</code></dfn> (numeric value 4)</dt>

   <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> indicated by the <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute was not suitable.</dd>

  </dl><h5 id="location-of-the-media-resource"><span class="secno">4.8.10.2 </span>Location of the media resource</h5>

  <p>The <dfn id="attr-media-src" title="attr-media-src"><code>src</code></dfn> content
  attribute on <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> gives
  the address of the media resource (video, audio) to show. The
  attribute, if present, must contain a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty
  URL potentially surrounded by spaces</a>.</p>

<!--MD-->
  <p>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> is specified
  on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, then the <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute must also be
  specified.</p>
<!--MD-->

  <p>The <dfn id="attr-media-crossorigin" title="attr-media-crossorigin"><code>crossorigin</code></dfn>
  content attribute on <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media
  elements</a> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-settings-attribute">CORS settings attribute</a>.</p>

  <div class="impl">

  <p>If a <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute of a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is set or changed, the user agent must
  invoke the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element-load-algorithm">media element load
  algorithm</a>. (<em>Removing</em> the <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute does not do this, even
  if there are <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> elements present.)</p>

  <p>The <dfn id="dom-media-src" title="dom-media-src"><code>src</code></dfn> IDL
  attribute on <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the same name.</p>

  <p>The <dfn id="dom-media-crossorigin" title="dom-media-crossOrigin"><code>crossOrigin</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-media-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-crossorigin">crossorigin</a></code> content
  attribute.</p>

  </div>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-currentSrc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-currentsrc">currentSrc</a></code></dt>

   <dd>

    <p>Returns the address of the current <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.</p>

    <p>Returns the empty string when there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-media-currentsrc" title="dom-media-currentSrc"><code>currentSrc</code></dfn> IDL
  attribute is initially the empty string. Its value is changed by the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
  algorithm</a> defined below.</p>

  </div>

  <p class="note">There are two ways to specify a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>, the <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code>
  attribute, or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> elements. The attribute overrides
  the elements.</p>



  <h5 id="mime-types"><span class="secno">4.8.10.3 </span>MIME types</h5>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> can be described in terms of its
  <em>type</em>, specifically a <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a>, in some cases
  with a <code title="">codecs</code> parameter. (Whether the <code title="">codecs</code> parameter is allowed or not depends on the
  MIME type.) <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC4281">[RFC4281]</a></p>

  <p>Types are usually somewhat incomplete descriptions; for example
  "<code title="">video/mpeg</code>" doesn't say anything except what
  the container type is, and even a type like "<code title="">video/mp4; codecs="avc1.42E01E,
  mp4a.40.2"</code>" doesn't include information like the actual
  bitrate (only the maximum bitrate). Thus, given a type, a user agent
  can often only know whether it <em>might</em> be able to play
  media of that type (with varying levels of confidence), or whether
  it definitely <em>cannot</em> play media of that type.</p>

  <p><dfn id="a-type-that-the-user-agent-knows-it-cannot-render">A type that the user agent knows it cannot render</dfn> is
  one that describes a resource that the user agent definitely does
  not support, for example because it doesn't recognize the container
  type, or it doesn't support the listed codecs.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a>
  "<code>application/octet-stream</code>" with no parameters is never
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-type-that-the-user-agent-knows-it-cannot-render">a type that the user agent knows it cannot render</a>. User
  agents must treat that type as equivalent to the lack of any
  explicit <a href="http://www.whatwg.org/specs/web-apps/current-work/#content-type" title="Content-Type">Content-Type metadata</a>
  when it is used to label a potential <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>.</p>

  <p class="note">
  <!--FORK-->
  Only the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> <!-- the WG decision started with the next bit, which is not in the style of the spec -->
  <!--FORK-->
  "<code>application/octet-stream</code>"
  <!--FORK-->
  with no parameters
  <!--FORK-->
  is special-cased here; if any parameter appears with it, it
  <!--FORK-->
  will <!-- the WG decision that led to this text had a "should", but this is a non-normative section -->
  be treated just like any other <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a>.

  This is a deviation from the rule <!-- in RFC 2046, section 1,
  paragraph 3 --> that unknown <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> parameters
  should be ignored.

  <!-- but not really a "willful violation" since it's not that the
  types are not being ignored, just that before the type is handled as
  a type, there's a special case for a particular set of strings -->

  </p>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-navigator-canPlayType"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-navigator-canplaytype">canPlayType</a></code>(<var title="">type</var>)</dt>

   <dd>

    <p>Returns the empty string (a negative response), "maybe", or
    "probably" based on how confident the user agent is that it can
    play media resources of the given type.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-navigator-canplaytype" title="dom-navigator-canPlayType"><code>canPlayType(<var title="">type</var>)</code></dfn> method must return the empty
  string if <var title="">type</var> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-type-that-the-user-agent-knows-it-cannot-render">a type that the user
  agent knows it cannot render</a> or is the type
  "<code>application/octet-stream</code>"; it must return "<code title="">probably</code>" if the user agent is confident that the
  type represents a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> that it can render if
  used in with this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element;
  and it must return "<code title="">maybe</code>" otherwise.
  Implementors are encouraged to return "<code title="">maybe</code>"
  unless the type can be confidently established as being supported or
  not. Generally, a user agent should never return "<code title="">probably</code>" for a type that allows the <code title="">codecs</code> parameter if that parameter is not
  present.</p>

  </div>

  <div class="example">

   <p>This script tests to see if the user agent supports a
   (fictional) new format to dynamically decide whether to use a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element or a plugin:</p>

   <pre>&lt;section id="video"&gt;
 &lt;p&gt;&lt;a href="playing-cats.nfv"&gt;Download video&lt;/a&gt;&lt;/p&gt;
&lt;/section&gt;
&lt;script&gt;
 var videoSection = document.getElementById('video');
 var videoElement = document.createElement('video');
 var support = videoElement.canPlayType('video/x-new-fictional-format;codecs="kittens,bunnies"');
 if (support != "probably" &amp;&amp; "New Fictional Video Plugin" in navigator.plugins) {
   // not confident of browser support
   // but we have a plugin
   // so use plugin instead
   videoElement = document.createElement("embed");
 } else if (support == "") {
   // no support from browser and no plugin
   // do nothing
   videoElement = null;
 }
 if (videoElement) {
   while (videoSection.hasChildNodes())
     videoSection.removeChild(videoSection.firstChild);
   videoElement.setAttribute("src", "playing-cats.nfv");
   videoSection.appendChild(videoElement);
 }
&lt;/script&gt;</pre>

  </div>

  <p class="note">The <code title="attr-source-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-type">type</a></code>
  attribute of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element allows the user agent
  to avoid downloading resources that use formats it cannot
  render.</p>


  <h5 id="network-states"><span class="secno">4.8.10.4 </span>Network states</h5>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code></dt>

   <dd>

    <p>Returns the current state of network activity for the element,
    from the codes in the list below.</p>

   </dd>

  </dl><div class="impl">

  <p>As <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> interact
  with the network, their current network activity is represented by
  the <dfn id="dom-media-networkstate" title="dom-media-networkState"><code>networkState</code></dfn>
  attribute. On getting, it must return the current network state of
  the element, which must be one of the following values:</p>

  </div>

  <dl><dt><dfn id="dom-media-network_empty" title="dom-media-NETWORK_EMPTY"><code>NETWORK_EMPTY</code></dfn> (numeric value 0)</dt>

   <dd>The element has not yet been initialized. All attributes are in
   their initial states.</dd>

   <dt><dfn id="dom-media-network_idle" title="dom-media-NETWORK_IDLE"><code>NETWORK_IDLE</code></dfn> (numeric value 1)</dt>

   <dd>The element<span class="impl">'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
   algorithm</a> is active and</span> has selected a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">resource</a>, but it is not actually
   using the network at this time.</dd>

   <dt><dfn id="dom-media-network_loading" title="dom-media-NETWORK_LOADING"><code>NETWORK_LOADING</code></dfn> (numeric value 2)</dt>

   <dd>The user agent is actively trying to download data.</dd>

   <dt><dfn id="dom-media-network_no_source" title="dom-media-NETWORK_NO_SOURCE"><code>NETWORK_NO_SOURCE</code></dfn> (numeric value 3)</dt>

   <dd>The element<span class="impl">'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
   algorithm</a> is active, but it</span> has not yet found a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">resource</a> to use.</dd>

  </dl><div class="impl">

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
  algorithm</a> defined below describes exactly when the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute changes
  value and what events fire to indicate changes in this state.</p>

  </div>




  <h5 id="loading-the-media-resource"><span class="secno">4.8.10.5 </span>Loading the media resource</h5>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-load"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-load">load</a></code>()</dt>

   <dd>

    <p>Causes the element to reset and start selecting and loading a
    new <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> from scratch.</p>

   </dd>

  </dl><div class="impl">

  <p>All <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> have an
  <dfn id="autoplaying-flag">autoplaying flag</dfn>, which must begin in the true state, and
  a <dfn id="delaying-the-load-event-flag">delaying-the-load-event flag</dfn>, which must begin in the
  false state. While the <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event flag</a> is
  true, the element must <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">delay the load event</a> of its
  document.</p>

  <p>When the <dfn id="dom-media-load" title="dom-media-load"><code>load()</code></dfn>
  method on a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is invoked, the user agent
  must run the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element-load-algorithm">media element load algorithm</a>.</p>

  <p>The <dfn id="media-element-load-algorithm">media element load algorithm</dfn> consists of the
  following steps.</p>

  <ol><li><p>Abort any already-running instance of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
   algorithm</a> for this element.</p></li>

   <li>

    <p>If there are any <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> from
    the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element-event-task-source">media element event task
    source</a> in one of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-queue" title="task queue">task
    queues</a>, then remove those tasks.</p>

    <p class="note">Basically, pending events and callbacks for the
    media element are discarded when the media element starts loading
    a new resource.</p>

   </li>

   <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> is set to <code title="dom-media-NETWORK_LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading">NETWORK_LOADING</a></code> or <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
   task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-abort"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-abort">abort</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
   element</a>.</p></li>

   <li>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> is not set to
    <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>, then
    run these substeps:</p>

    <ol><li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
     event</a> named <code title="event-media-emptied"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-emptied">emptied</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
     element</a>.</p></li>

     <li><p>If a fetching process is in progress for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
     element</a>, the user agent should stop it.</p></li>

     <li><p>Set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute to
     <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#forget-the-media-element's-media-resource-specific-text-tracks">Forget the media element's media-resource-specific
     text tracks</a>.</p></li>

     <li><p>If <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> is
     not set to <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>, then set it
     to that state.
     <!-- this can do the "report the controller state" thing -->
     </p></li>

     <li><p>If the <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code>
     attribute is false, then set it to true.</p></li>

     <li><p>If <code title="dom-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking">seeking</a></code> is true,
     set it to false.</p></li>

     <li>

      <p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> to 0.</p>

      <p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official playback position</a> to 0.</p>

      <p>If this changed the <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official playback position</a>,
      then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
      event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>.</p>

     </li>

     <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#initial-playback-position">initial playback position</a> to
     0.</p></li>

     <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline offset</a> to Not-a-Number
     (NaN).</p></li>

     <li>

      <p>Update the <code title="dom-media-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-duration">duration</a></code>
      attribute to Not-a-Number (NaN).</p>

      <p class="note">The user agent <a href="http://www.whatwg.org/specs/web-apps/current-work/#durationChange">will
      not</a> fire a <code title="event-media-durationchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-durationchange">durationchange</a></code> event
      for this particular change of the duration.</p>

     </li>

    </ol></li>

   <li><p>Set the <code title="dom-media-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-playbackrate">playbackRate</a></code> attribute to the
   value of the <code title="dom-media-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultplaybackrate">defaultPlaybackRate</a></code>
   attribute.</p></li>

   <li><p>Set the <code title="dom-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error">error</a></code> attribute
   to null and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#autoplaying-flag">autoplaying flag</a> to true.</p></li>

   <li><p>Invoke the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
   algorithm</a>.</p></li>

   <li>

    <p class="note">Playback of any previously playing <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
    resource</a> for this element stops.</p>

   </li>

  </ol><p>The <dfn id="concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
  algorithm</dfn> for a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is as follows. This
  algorithm is always invoked synchronously, but one of the first
  steps in the algorithm is to return and continue running the
  remaining steps asynchronously, meaning that it runs in the
  background with scripts and other <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> running in parallel. In addition,
  this algorithm interacts closely with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a>
  mechanism; in particular, it has <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section" title="synchronous
  section">synchronous sections</a> (which are triggered as part of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> algorithm). Steps in such sections are
  marked with ⌛.</p>

  <ol><!-- precondition: networkState == NETWORK_EMPTY at this point --><li><p>Set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> to <code title="dom-media-NETWORK_NO_SOURCE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_no_source">NETWORK_NO_SOURCE</a></code>.</p></li>

   <li><p>Asynchronously <a href="http://www.whatwg.org/specs/web-apps/current-work/#await-a-stable-state">await a stable state</a>, allowing
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that invoked this
   algorithm to continue. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>
   consists of all the remaining steps of this algorithm until the
   algorithm says the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> has
   ended. (Steps in <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section" title="synchronous section">synchronous
   sections</a> are marked with ⌛.)</p></li>

   <li>

    <p>⌛ If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute, then let <var title="">mode</var> be <i title="">attribute</i>.</p>

    <p>⌛ Otherwise, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> does not
    have a <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute but has a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element child, then let <var title="">mode</var> be <i title="">children</i> and let <var title="">candidate</var> be the first such <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code>
    element child in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.</p>

    <p>⌛ Otherwise the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has neither a
    <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute nor a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element child: set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> to <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>, and abort
    these steps; the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> ends.</p>

   </li>

   <li><p>⌛ Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event flag</a> to true (this <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load event">delays the load event</a>), and set
   its <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> to
   <code title="dom-media-NETWORK_LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading">NETWORK_LOADING</a></code>.</p></li>

   <li><p>⌛ <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
   event</a> named <code title="event-media-loadstart"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-loadstart">loadstart</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
   element</a>.</p></li>

   <li>

    <p>If <var title="">mode</var> is <i title="">attribute</i>, then
    run these substeps:</p>

    <ol><li><p>⌛ <i>Process candidate</i>: If the <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute's value is the empty
     string, then end the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>, and jump
     down to the <i title="">failed</i> step below.</p></li>

     <li><p>⌛ Let <var title="">absolute URL</var> be the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> that would have resulted from <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolving</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>
     specified by the <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code>
     attribute's value relative to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> when
     the <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute was last
     changed.</p> <!-- i.e. changing xml:base or <base> after src=""
     has no effect -->

     </li><li><p>⌛ If <var title="">absolute URL</var> was obtained
     successfully, set the <code title="dom-media-currentSrc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-currentsrc">currentSrc</a></code> attribute to <var title="">absolute URL</var>.</p></li>

     <li><p>End the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>, continuing the
     remaining steps asynchronously.</p></li>

     <li><p>If <var title="">absolute URL</var> was obtained
     successfully, run the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-resource" title="concept-media-load-resource">resource fetch
     algorithm</a> with <var title="">absolute URL</var>. If that
     algorithm returns without aborting <em>this</em> one, then the
     load failed.</p></li>

     <li>

      <p><i>Failed</i>: Reaching this step indicates that the media
      resource failed to load or that the given <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> could
      not be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolved</a>. In one
      atomic operation, run the following steps:</p>

      <ol><li><p>Set the <code title="dom-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error">error</a></code>
       attribute to a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediaerror">MediaError</a></code> object whose <code title="dom-MediaError-code"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-code">code</a></code> attribute is set to
       <code title="dom-MediaError-MEDIA_ERR_SRC_NOT_SUPPORTED"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_src_not_supported">MEDIA_ERR_SRC_NOT_SUPPORTED</a></code>.</p></li>

       <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#forget-the-media-element's-media-resource-specific-text-tracks">Forget the media element's media-resource-specific
       text tracks</a>.</p></li>

       <li><p>Set the element's <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute to
       the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_no_source" title="dom-media-NETWORK_NO_SOURCE">NETWORK_NO_SOURCE</a>
       value.</p></li>

      </ol></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
     event</a> named <code title="event-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-error">error</a></code>
     at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>.</p></li>

     <li><p>Set the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event flag</a>
     to false. This stops <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load event">delaying
     the load event</a>.</p></li>

     <li><p>Abort these steps. Until the <code title="dom-media-load"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-load">load()</a></code> method is invoked or the
     <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute is changed, the
     element won't attempt to load another resource.</p></li>
     <!-- it took its ball and went home, sulking. -->

    </ol><p>Otherwise, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> elements will be used; run
    these substeps:</p>

    <ol><li>

      <p>⌛ Let <var title="">pointer</var> be a position
      defined by two adjacent nodes in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
      element</a>'s child list, treating the start of the list
      (before the first child in the list, if any) and end of the list
      (after the last child in the list, if any) as nodes in their own
      right. One node is the node before <var title="">pointer</var>,
      and the other node is the node after <var title="">pointer</var>. Initially, let <var title="">pointer</var> be the position between the <var title="">candidate</var> node and the next node, if there are
      any, or the end of the list, if it is the last node.</p>

      <p>As nodes are inserted and removed into the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
      element</a>, <var title="">pointer</var> must be updated as
      follows:</p>

      <dl><dt>If a new node is inserted between the two nodes that
       define <var title="">pointer</var></dt>

       <dd>Let <var title="">pointer</var> be the point between the
       node before <var title="">pointer</var> and the new node. In
       other words, insertions at <var title="">pointer</var> go after
       <var title="">pointer</var>.</dd>

       <dt>If the node before <var title="">pointer</var> is removed</dt>

       <dd>Let <var title="">pointer</var> be the point between the
       node after <var title="">pointer</var> and the node before the
       node after <var title="">pointer</var>. In other words, <var title="">pointer</var> doesn't move relative to the remaining
       nodes.</dd>

       <dt>If the node after <var title="">pointer</var> is removed</dt>

       <dd>Let <var title="">pointer</var> be the point between the
       node before <var title="">pointer</var> and the node after the
       node before <var title="">pointer</var>. Just as with the
       previous case, <var title="">pointer</var> doesn't move
       relative to the remaining nodes.</dd>

      </dl><p>Other changes don't affect <var title="">pointer</var>.</p>

     </li>

     <li><p>⌛ <i>Process candidate</i>: If <var title="">candidate</var> does not have a <code title="attr-source-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-src">src</a></code> attribute, or if its <code title="attr-source-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-src">src</a></code> attribute's value is the empty
     string, then end the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>, and jump
     down to the <i title="">failed</i> step below.</p></li>

     <li><p>⌛ Let <var title="">absolute URL</var> be the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> that would have resulted from <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolving</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>
     specified by <var title="">candidate</var>'s <code title="attr-source-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-src">src</a></code> attribute's value relative to
     the <var title="">candidate</var> when the <code title="attr-source-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-src">src</a></code> attribute was last
     changed.</p> <!-- i.e. changing xml:base or <base> after src=""
     has no effect -->

     </li><li><p>⌛ If <var title="">absolute URL</var> was not
     obtained successfully, then end the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous
     section</a>, and jump down to the <i title="">failed</i> step
     below.</p></li>

     <li><p>⌛ If <var title="">candidate</var> has a <code title="attr-source-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-type">type</a></code> attribute whose value, when
     parsed as a <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> (including any codecs
     described by the <code title="">codecs</code> parameter, for
     types that define that parameter), represents <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-type-that-the-user-agent-knows-it-cannot-render">a type that
     the user agent knows it cannot render</a>, then end the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>, and jump down to the <i title="">failed</i> step below.</p></li>

     <li><p>⌛ If <var title="">candidate</var> has a <code title="attr-source-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-source-media">media</a></code> attribute whose value does
     not <a href="http://www.whatwg.org/specs/web-apps/current-work/#matches-the-environment" title="matches the environment">match the
     environment</a>, then end the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous
     section</a>, and jump down to the <i title="">failed</i> step
     below.</p></li>

     <li><p>⌛ Set the <code title="dom-media-currentSrc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-currentsrc">currentSrc</a></code> attribute to <var title="">absolute URL</var>.</p></li>

     <li><p>End the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>, continuing the
     remaining steps asynchronously.</p></li>

     <li><p>Run the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-resource" title="concept-media-load-resource">resource
     fetch algorithm</a> with <var title="">absolute URL</var>. If
     that algorithm returns without aborting <em>this</em> one, then
     the load failed.</p></li>

     <li><p><i title="">Failed</i>: <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-error">error</code> at the <var title="">candidate</var> element, in the context of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching process</a> that was used to try to
     obtain <var title="">candidate</var>'s corresponding <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
     resource</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-resource" title="concept-media-load-resource">resource fetch
     algorithm</a>.</p></li>

     <li><p>Asynchronously <a href="http://www.whatwg.org/specs/web-apps/current-work/#await-a-stable-state">await a stable state</a>. The
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> consists of all the remaining
     steps of this algorithm until the algorithm says the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> has ended. (Steps in <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section" title="synchronous section">synchronous sections</a> are
     marked with ⌛.)</p></li>

     <li><p>⌛ <a href="http://www.whatwg.org/specs/web-apps/current-work/#forget-the-media-element's-media-resource-specific-text-tracks">Forget the media element's
     media-resource-specific text tracks</a>.</p></li>

     <li><p>⌛ <i title="">Find next candidate</i>: Let <var title="">candidate</var> be null.</p></li>

     <li><p>⌛ <i title="">Search loop</i>: If the node after
     <var title="">pointer</var> is the end of the list, then jump to
     the <i title="">waiting</i> step below.</p></li>

     <li><p>⌛ If the node after <var title="">pointer</var> is
     a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element, let <var title="">candidate</var>
     be that element.</p></li>

     <li><p>⌛ Advance <var title="">pointer</var> so that the
     node before <var title="">pointer</var> is now the node that was
     after <var title="">pointer</var>, and the node after <var title="">pointer</var> is the node after the node that used to be
     after <var title="">pointer</var>, if any.</p></li>

     <li><p>⌛ If <var title="">candidate</var> is null, jump
     back to the <i title="">search loop</i> step. Otherwise, jump
     back to the <i title="">process candidate</i> step.</p></li>

     <li><p>⌛ <i title="">Waiting</i>: Set the element's <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute to
     the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_no_source" title="dom-media-NETWORK_NO_SOURCE">NETWORK_NO_SOURCE</a>
     value.</p></li>

     <li><p>⌛ Set the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event
     flag</a> to false. This stops <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load
     event">delaying the load event</a>.</p></li>

     <li><p>End the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>, continuing the
     remaining steps asynchronously.</p></li>

     <li><p>Wait until the node after <var title="">pointer</var> is a
     node other than the end of the list. (This step might wait
     forever.)</p></li>

     <li><p>Asynchronously <a href="http://www.whatwg.org/specs/web-apps/current-work/#await-a-stable-state">await a stable state</a>. The
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> consists of all the remaining
     steps of this algorithm until the algorithm says the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> has ended. (Steps in <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section" title="synchronous section">synchronous sections</a> are
     marked with ⌛.)</p></li>

     <li><p>⌛ Set the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event
     flag</a> back to true (this <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load
     event">delays the load event</a> again, in case it hasn't been
     fired yet).</p>

     </li><li><p>⌛ Set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> back to <code title="dom-media-NETWORK_LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading">NETWORK_LOADING</a></code>.</p></li>

     <li><p>⌛ Jump back to the <i title="">find next
     candidate</i> step above.</p></li>

    </ol></li>

  </ol><p>The <dfn id="concept-media-load-resource" title="concept-media-load-resource">resource fetch
  algorithm</dfn> for a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> and a given
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> is as follows:</p>

  <ol><li><p>Let the <var title="">current media resource</var> be the
   resource given by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute URL</a> passed to this
   algorithm. This is now the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
   resource</a>.</p></li>

   <li><p>Optionally, run the following substeps. This is the expected
   behavior if the user agent intends to not attempt to fetch the
   resource until the use requests it explicitly (e.g. as a way to
   implement the <code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code>
   attribute's <code title="attr-media-preload-none"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload-none">none</a></code>
   keyword).</p>

    <ol><li><p>Set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> to <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code>.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
     event</a> named <code title="event-media-suspend"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-suspend">suspend</a></code> at the
     element.</p></li>

     <li><p>Wait for the task to be run.</p></li>

     <li><p>Wait for an implementation-defined event (e.g. the user
     requesting that the media element begin playback).</p></li>

     <li><p>Set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> to <code title="dom-media-NETWORK_LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading">NETWORK_LOADING</a></code>.</p></li>

    </ol></li>

   <li>

    <p>Perform a <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-cors-enabled-fetch">potentially CORS-enabled fetch</a> of the
    <var title="">current media resource</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#absolute-url">absolute
    URL</a>, with the <i>mode</i> being the state of the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="attr-media-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-crossorigin">crossorigin</a></code> content
    attribute, the <i title="">origin</i> being the <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, and the
    <i>default origin behaviour</i> set to <i>taint</i>.</p>

    <p>The resource obtained in this fashion, if any, contains the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>. It can be <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-same-origin">CORS-same-origin</a>
    or <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-cross-origin">CORS-cross-origin</a>; this affects whether subtitles
    referenced in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> are exposed in the API
    and, for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> elements, whether a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> gets tainted when the video is drawn on
    it.</p>

    <p>While the load is not suspended (see below), every 350ms
    (±200ms) or for every byte received, whichever is
    <em>least</em> frequent, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a
    simple event</a> named <code title="event-media-progress"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-progress">progress</a></code> at the element.</p>

    <p>The <dfn id="stall-timeout">stall timeout</dfn> is a user-agent defined length of
    time, which should be about three seconds. When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
    element</a> that is actively attempting to obtain <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media
    data</a> has failed to receive any data for a duration equal to
    the <a href="http://www.whatwg.org/specs/web-apps/current-work/#stall-timeout">stall timeout</a>, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
    task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-stalled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-stalled">stalled</a></code> at the element.</p>

    <p>User agents may allow users to selectively block or slow
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> downloads. When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
    element</a>'s download has been blocked altogether, the user
    agent must act as if it was stalled (as opposed to acting as if
    the connection was closed). The rate of the download may also be
    throttled automatically by the user agent, e.g. to balance the
    download with other connections sharing the same bandwidth.</p>

    <p id="resourceSuspend">User agents may decide to not download
    more content at any time, e.g. after buffering five minutes of a
    one hour media resource, while waiting for the user to decide
    whether to play the resource or not, or while waiting for user
    input in an interactive resource. When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
    element</a>'s download has been suspended, the user agent must
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> to <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire
    a simple event</a> named <code title="event-media-suspend"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-suspend">suspend</a></code> at the element. If and
    when downloading of the resource resumes, the user agent must
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> to <code title="dom-media-NETWORK_LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading">NETWORK_LOADING</a></code>. Between
    the queuing of these tasks, the load is suspended (so <code title="event-media-progress"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-progress">progress</a></code> events don't fire, as
    described above).</p>

    <p class="note">The <code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code> attribute provides a
    hint regarding how much buffering the author thinks is advisable,
    even in the absence of the <code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code> attribute.</p>

    <p>When a user agent decides to completely stall a download,
    e.g. if it is waiting until the user starts playback before
    downloading any further content, the element's
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event flag</a> must be set to
    false. This stops <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load event">delaying the
    load event</a>.</p>

    <p>The user agent may use whatever means necessary to fetch the
    resource (within the constraints put forward by this and other
    specifications); for example, reconnecting to the server in the
    face of network errors, using HTTP range retrieval requests, or
    switching to a streaming protocol. The user agent must consider a
    resource erroneous only if it has given up trying to fetch it.</p>

    <p class="critical">This specification does not currently say
    whether or how to check the MIME types of the media resources, or
    whether or how to perform file type sniffing using the actual file
    data. Implementors differ in their intentions on this matter and
    it is therefore unclear what the right solution is. In the absence
    of any requirement here, the HTTP specification's strict
    requirement to follow the Content-Type header prevails
    ("Content-Type specifies the media type of the underlying data."
    ... "If and only if the media type is not given by a Content-Type
    field, the recipient MAY attempt to guess the media type via
    inspection of its content and/or the name extension(s) of the URI
    used to identify the resource.").</p>

    <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> to process the data as it is
    being fetched must, when appropriate, include the relevant
    substeps from the following list:</p>

    <dl class="switch"><dt>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> cannot be fetched at all, due
     to network errors, causing the user agent to give up trying to
     fetch the resource</dt>

     <dt>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> can be fetched but is found by
     inspection to be in an unsupported format, or can otherwise not
     be rendered at all</dt>

     <dd>

      <p>DNS errors, HTTP 4xx and 5xx errors (and equivalents in
      other protocols), and other fatal network errors that occur
      before the user agent has established whether the <var title="">current media resource</var> is usable, as well as
      the file using an unsupported container format, or using
      unsupported codecs for all the data, must cause the user agent
      to execute the following steps:</p>

      <ol><li><p>The user agent should cancel the fetching
       process.</p></li>

       <li><p>Abort this subalgorithm, returning to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
       algorithm</a>.</p>

      </li></ol></dd>


     <!-- insert content sniffing here if we want to define that -->
     <!-- (in practice I don't think that's necessary since it's not
     like you can do anything with the resource if you sniff it as the
     wrong type) -->


     <dt id="found-another-audio-track">If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
     resource</a> is found to have an audio track</dt>

     <dd>

      <ol><li><p>Create an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> object to represent the
       audio track.</p></li>

       <li><p>Update the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-audioTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks">audioTracks</a></code> attribute's
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> object with the new
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> object.</p></li>

       <li><p>Fire an event with the name <code title="event-addtrack">addtrack</code>, that does not bubble and
       is not cancelable, and that uses the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#trackevent">TrackEvent</a></code>
       interface, with the <code title="dom-TrackEvent-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trackevent-track">track</a></code> attribute initialized
       to the new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> object, at this
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> object.</p></li>

      </ol></dd>


     <dt id="found-another-video-track">If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
     resource</a> is found to have a video track</dt>

     <dd>

      <ol><li><p>Create a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object to represent the
       video track.</p></li>

       <li><p>Update the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code> attribute's
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object with the new
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object.</p></li>

       <li><p>Fire an event with the name <code title="event-addtrack">addtrack</code>, that does not bubble and
       is not cancelable, and that uses the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#trackevent">TrackEvent</a></code>
       interface, with the <code title="dom-TrackEvent-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trackevent-track">track</a></code> attribute initialized
       to the new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object, at this
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object.</p></li>

      </ol></dd>


     <dt id="getting-media-metadata">Once enough of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media
     data</a> has been fetched to determine the duration of the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, its dimensions, and other
     metadata</dt>

     <dd>

      <p>This indicates that the resource is usable. The user agent
      must follow these substeps:</p>

      <ol><li>

        <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#defineTimeline">Establish the media timeline</a> for the purposes
        of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>, the
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a>, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#initial-playback-position">initial
        playback position</a>, based on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media
        data</a>.</p>

       </li>

       <li>

        <p>Update the <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline offset</a> to the date and
        time that corresponds to the zero time in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media
        timeline</a> established in the previous step, if any. If
        no explicit time and date is given by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
        resource</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline offset</a> must be set
        to Not-a-Number (NaN).</p>

       </li>

       <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> and the
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official playback position</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest
       possible position</a>.</p></li>

       <li>

        <p>Update the <code title="dom-media-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-duration">duration</a></code>
        attribute with the time of the last frame of the resource, if
        known, on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a> established above.
        If it is not known (e.g. a stream that is in principle
        infinite), update the <code title="dom-media-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-duration">duration</a></code> attribute to the
        value positive Infinity.</p>

        <p class="note">The user agent <a href="http://www.whatwg.org/specs/web-apps/current-work/#durationChange">will</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
        <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-durationchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-durationchange">durationchange</a></code> at the
        element at this point.</p>

       </li>

       <li><p>For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> elements, set the <code title="dom-video-videoWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-video-videowidth">videoWidth</a></code> and <code title="dom-video-videoHeight"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-video-videoheight">videoHeight</a></code>
       attributes.</p></li>

       <li>

        <p>Set the <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute to
        <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code>.</p>

        <p class="note">A <code title="event-media-loadedmetadata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-loadedmetadata">loadedmetadata</a></code> DOM
        event <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-loadedmetadata">will be fired</a> as part
        of setting the <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute to a
        new value.</p>

        <!-- this can also do the "report the controller state" thing -->

       </li>

       <li><p>Let <var title="">jumped</var> be false.</p></li>

       <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#default-playback-start-position">default playback
       start position</a> is greater than zero, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> to that time, and let <var title="">jumped</var> be true.</p></li>

       <li><p>Let the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#default-playback-start-position">default playback
       start position</a> be zero.</p></li>

       <li>

        <p>If either the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> or the address of
        the <var title="">current media resource</var> indicate a
        particular start time, then set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#initial-playback-position">initial playback
        position</a> to that time and, if <var title="">jumped</var> is still false, <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> to that time and let <var title="">jumped</var> be true.</p>

        <p class="example">For example, with media formats that
        support the <cite>Media Fragments URI</cite> fragment
        identifier syntax, the fragment identifier can be used to
        indicate a start position. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMEDIAFRAG">[MEDIAFRAG]</a></p>

       </li>

       <li>

        <p>If either the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> or the address of
        the <var title="">current media resource</var> indicate a
        particular set of audio or video tracks to enable, then the
        selected audio tracks must be enabled in the element's <code title="dom-media-audioTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks">audioTracks</a></code> object, and,
        of the selected video tracks, the one that is listed first in
        the element's <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code> object must
        be selected.</p>

       </li>

       <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current
       media controller</a>, then: if <var title="">jumped</var> is
       true and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#initial-playback-position">initial playback position</a>, relative
       to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>'s timeline, is
       greater than the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>'s
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#seek-the-media-controller">seek the
       media controller</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#initial-playback-position">initial playback position</a>, relative to the
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>'s timeline; otherwise,
       <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
       element</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a>,
       relative to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s timeline.</p></li>
       <!-- i.e. "bring the media element up to speed with its new
       media controller" --> <!-- we do this because otherwise the
       fragment identifier initial position is lost. Basically this
       means that if you are attached to a media controller when you
       load your resource, and you have a fragment identifier with a
       start time, you'll jump the media controller to that time if
       it's not already past it. (So if there are several, you'll jump
       the media controller to the furthest one in the timeline.) -->

      </ol><p>Once the <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute
      reaches <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code>,
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-loadeddata">after the <code title="event-media-loadeddata">loadeddata</code> event has been
      fired</a>, set the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event
      flag</a> to false. This stops <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load
      event">delaying the load event</a>.</p>

      <p class="note">A user agent that is attempting to reduce
      network usage while still fetching the metadata for each
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> would also stop buffering at this
      point, following <a href="http://www.whatwg.org/specs/web-apps/current-work/#resourceSuspend">the rules
      described previously</a>, which involve the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute
      switching to the <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code> value and a
      <code title="event-suspend">suspend</code> event firing.</p>

      <p class="note">The user agent is <em>required</em> to
      determine the duration of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> and
      go through this step before playing.</p> <!-- actually defined
      in the 'duration' section -->

     </dd>


     <dt>Once the entire <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> has been <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetched</a> (but potentially before any of it
     has been decoded)</dt>

     <dd>

      <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">Fire a simple event</a> named <code title="event-media-progress"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-progress">progress</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
      element</a>.</p>

      <p>Set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> to <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code> and
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-suspend"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-suspend">suspend</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
      element</a>.</p>

      <p>If the user agent ever discards any <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>
      and then needs to resume the network activity to obtain it
      again, then it must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to set the <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> to <code title="dom-media-NETWORK_LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading">NETWORK_LOADING</a></code>.</p>

      <p class="note">If the user agent can keep the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
      resource</a> loaded, then the algorithm will continue to its
      final step below, which aborts the algorithm.</p><!-- see FINAL
      STEP below -->

     </dd>


     <dt>If the connection is interrupted after some <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media
     data</a> has been received, causing the user agent to give up
     trying to fetch the resource</dt>

     <dd>

      <p>Fatal network errors that occur after the user agent has
      established whether the <var title="">current media
      resource</var> is usable (i.e. once the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
      element</a>'s <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute is no
      longer <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>)
      must cause the user agent to execute the following steps:</p>

      <ol><li><p>The user agent should cancel the fetching
       process.</p></li>

       <li><p>Set the <code title="dom-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error">error</a></code>
       attribute to a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediaerror">MediaError</a></code> object whose <code title="dom-MediaError-code"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-code">code</a></code> attribute is set to
       <code title="dom-MediaError-MEDIA_ERR_NETWORK"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_network">MEDIA_ERR_NETWORK</a></code>.</p></li>

       <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">Fire a simple event</a> named <code title="event-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-error">error</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
       element</a>.</p></li>

       <li><p>Set the element's <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute to
       the <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code>
       value.</p></li>

       <li><p>Set the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event
       flag</a> to false. This stops <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load
       event">delaying the load event</a>.</p></li>

       <li><p>Abort the overall <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
       algorithm</a>.</p></li>

      </ol></dd>


     <dt id="fatal-decode-error">If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> is
     corrupted</dt>

     <dd>

      <p>Fatal errors in decoding the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> that
      occur after the user agent has established whether the <var title="">current media resource</var> is usable must cause the
      user agent to execute the following steps:</p>

      <ol><li><p>The user agent should cancel the fetching
       process.</p></li>

       <li><p>Set the <code title="dom-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error">error</a></code>
       attribute to a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediaerror">MediaError</a></code> object whose <code title="dom-MediaError-code"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-code">code</a></code> attribute is set to
       <code title="dom-MediaError-MEDIA_ERR_DECODE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_decode">MEDIA_ERR_DECODE</a></code>.</p></li>

       <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">Fire a simple event</a> named <code title="event-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-error">error</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
       element</a>.</p></li>

       <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute has a
       value equal to <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>, set the
       element's <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute to
       the <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>
       value and <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-emptied"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-emptied">emptied</a></code> at the element.
       Otherwise, set the element's <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute to
       the <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code>
       value.</p></li>

       <li><p>Set the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event
       flag</a> to false. This stops <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load
       event">delaying the load event</a>.</p></li>

       <li><p>Abort the overall <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
       algorithm</a>.</p></li>

      </ol></dd>


     <dt>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> fetching process is aborted by
     the user</dt>

     <dd>

      <p>The fetching process is aborted by the user, e.g. because the
      user navigated the browsing context to another page, the user
      agent must execute the following steps. These steps are not
      followed if the <code title="dom-media-load"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-load">load()</a></code>
      method itself is invoked while these steps are running, as the
      steps above handle that particular kind of abort.</p>

      <ol><li><p>The user agent should cancel the fetching
       process.</p></li>

       <li><p>Set the <code title="dom-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error">error</a></code>
       attribute to a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediaerror">MediaError</a></code> object whose <code title="dom-MediaError-code"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-code">code</a></code> attribute is set to
       <code title="dom-MediaError-MEDIA_ERR_ABORTED"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_aborted">MEDIA_ERR_ABORTED</a></code>.</p></li>

       <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">Fire a simple event</a> named <code title="event-media-abort"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-abort">abort</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
       element</a>.</p></li>

       <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute has a
       value equal to <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>, set the
       element's <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute to
       the <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>
       value and <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-emptied"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-emptied">emptied</a></code> at the element.
       Otherwise, set the element's <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute to
       the <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code>
       value.</p></li>

       <li><p>Set the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#delaying-the-load-event-flag">delaying-the-load-event
       flag</a> to false. This stops <a href="http://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event" title="delay the load
       event">delaying the load event</a>.</p></li>

       <li><p>Abort the overall <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
       algorithm</a>.</p></li>

      </ol></dd>


     <dt id="non-fatal-media-error">If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> can
     be fetched but has non-fatal errors or uses, in part, codecs that
     are unsupported, preventing the user agent from rendering the
     content completely correctly but not preventing playback
     altogether</dt>

     <dd>

      <p>The server returning data that is partially usable but cannot
      be optimally rendered must cause the user agent to render just
      the bits it can handle, and ignore the rest.</p>

      <!-- v2: fire a 'warning' event and set the 'error' flag to 'MEDIA_ERR_SUBOPTIMAL' or something -->

     </dd>


     <dt id="found-a-media-resource-specific-timed-track">If the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is found to declare a
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource-specific-text-track">media-resource-specific text track</a> that the user
     agent supports</dt>

     <dd>

      <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> is
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-same-origin">CORS-same-origin</a>, run the <a href="http://www.whatwg.org/specs/web-apps/current-work/#steps-to-expose-a-media-resource-specific-text-track">steps to expose a
      media-resource-specific text track</a> with the relevant
      data.</p>

      <p class="note">Cross-origin videos do not expose their
      subtitles, since that would allow attacks such as hostile sites
      reading subtitles from confidential videos on a user's
      intranet.</p>

     </dd>

    </dl><p>When the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> has <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a> the last <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> as part of <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>
    (i.e. once the download has completed), if the fetching process
    completes without errors, including decoding the media data, and
    if all of the data is available to the user agent without network
    access, then, the user agent must move on to the next step. This
    might never happen, e.g. when streaming an infinite resource such
    as Web radio, or if the resource is longer than the user agent's
    ability to cache data.</p>

    <p>While the user agent might still need network access to obtain
    parts of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, the user agent must
    remain on this step.</p>

    <p class="example">For example, if the user agent has discarded
    the first half of a video, the user agent will remain at this step
    even once the <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback" title="ended playback">playback has
    ended</a>, because there is always the chance the user will
    seek back to the start. In fact, in this situation, once <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback" title="ended playback">playback has ended</a>, the user agent
    will end up firing a <code title="event-media-suspend"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-suspend">suspend</a></code> event, as described
    earlier.</p>

   </li>

   <!-- this step is mentioned above, search for "FINAL STEP" -->
   <li><p>If the user agent ever reaches this step (which can only
   happen if the entire resource gets loaded and kept available):
   abort the overall <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
   algorithm</a>.</p></li>

  </ol></div>

  <hr><p>The <dfn id="attr-media-preload" title="attr-media-preload"><code>preload</code></dfn>
  attribute is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#enumerated-attribute">enumerated attribute</a>. The following
  table lists the keywords and states for the attribute — the
  keywords in the left column map to the states in the cell in the
  second column on the same row as the keyword. The attribute can be
  changed even once the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is being buffered
  or played; the descriptions in the table below are to be interpreted
  with that in mind.</p>

  <table><thead><tr><th> Keyword
     </th><th> State
     </th><th> Brief description
   </th></tr></thead><tbody><tr><td><dfn id="attr-media-preload-none" title="attr-media-preload-none"><code>none</code></dfn>
     </td><td><dfn id="attr-media-preload-none-state" title="attr-media-preload-none-state">None</dfn>
     </td><td>Hints to the user agent that either the author does not expect the user to need the media resource, or that the server wants to minimise unnecessary traffic.
         This state does not provide a hint regarding how aggressively to actually download the media resource if buffering starts anyway (e.g. once the user hits "play").
    </td></tr><tr><td><dfn id="attr-media-preload-metadata" title="attr-media-preload-metadata"><code>metadata</code></dfn>
     </td><td><dfn id="attr-media-preload-metadata-state" title="attr-media-preload-metadata-state">Metadata</dfn>
     </td><td>Hints to the user agent that the author does not expect the user to need the media resource, but that fetching the resource metadata (dimensions, track list, duration, etc), and maybe even the first few frames, is reasonable. If the user agent precisely fetches no more than the metadata, then the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> will end up with its <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute set to <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code>; typically though, some frames will be obtained as well and it will probably be <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> or <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code>.
         When the media resource is playing, hints to the user agent that bandwidth is to be considered scarce, e.g. suggesting throttling the download so that the media data is obtained at the slowest possible rate that still maintains consistent playback.
    </td></tr><tr><td><dfn id="attr-media-preload-auto" title="attr-media-preload-auto"><code>auto</code></dfn>
     </td><td><dfn id="attr-media-preload-auto-state" title="attr-media-preload-auto-state">Automatic</dfn>
     </td><td>Hints to the user agent that the user agent can put the user's needs first without risk to the server, up to and including optimistically downloading the entire resource.
  </td></tr></tbody></table><p>The empty string is also a valid keyword, and maps to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload-auto-state" title="attr-media-preload-auto-state">Automatic</a> state. The
  attribute's <i>missing value default</i> is user-agent defined,
  though the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload-metadata-state" title="attr-media-preload-metadata-state">Metadata</a> state is
  suggested as a compromise between reducing server load and providing
  an optimal user experience.</p>

  <p class="note">Authors might switch the attribute from "<code title="attr-media-preload-none"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload-none">none</a></code>" or "<code title="attr-media-preload-metadata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload-metadata">metadata</a></code>" to "<code title="attr-media-preload-auto"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload-auto">auto</a></code>" dynamically once the
  user begins playback. For example, on a page with many videos this
  might be used to indicate that the many videos are not to be
  downloaded unless requested, but that once one <em>is</em> requested
  it is to be downloaded aggressively.</p>

  <div class="impl">

  <p>The <code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code> attribute is
  intended to provide a hint to the user agent about what the author
  thinks will lead to the best user experience. The attribute may be
  ignored altogether, for example based on explicit user preferences
  or based on the available connectivity.</p>

  <p>The <dfn id="dom-media-preload" title="dom-media-preload"><code>preload</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name, <a href="http://www.whatwg.org/specs/web-apps/current-work/#limited-to-only-known-values">limited to only known values</a>.</p>

  </div>

  <p class="note">The <code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code> attribute can override
  the <code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code> attribute (since
  if the media plays, it naturally has to buffer first, regardless of
  the hint given by the <code title="attr-media-preload"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-preload">preload</a></code> attribute). Including
  both is not an error, however.</p>

  <hr><!--v3BUF (when readding this, also add a domintro block)
  <p>The <dfn
  title="dom-media-bufferingRate"><code>bufferingRate</code></dfn>
  attribute must return the average number of bits received per second
  for the current download over the past few seconds. If there is no
  download in progress, the attribute must return 0.</p>

  <p>The <dfn
  title="dom-media-bufferingThrottled"><code>bufferingThrottled</code></dfn>
  attribute must return true if the user agent is intentionally
  throttling the bandwidth used by the download (including when
  throttling to zero to pause the download altogether), and false
  otherwise.</p>

  <hr>
--><dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-buffered"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-buffered">buffered</a></code></dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> object that represents the
    ranges of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> that the user agent has
    buffered.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-media-buffered" title="dom-media-buffered"><code>buffered</code></dfn>
  attribute must return a new static <a href="http://www.whatwg.org/specs/web-apps/current-work/#normalized-timeranges-object">normalized
  <code>TimeRanges</code> object</a> that represents the ranges of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, if any, that the user agent has
  buffered, at the time the attribute is evaluated. Users agents must
  accurately determine the ranges available, even for media streams
  where this can only be determined by tedious inspection.</p>

  <p class="note">Typically this will be a single range anchored at
  the zero point, but if, e.g. the user agent uses HTTP range requests
  in response to seeking, then there could be multiple ranges.</p>

  <p>User agents may discard previously buffered data.</p>

  <p class="note">Thus, a time position included within a range of the
  objects return by the <code title="dom-media-buffered"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-buffered">buffered</a></code> attribute at one time can
  end up being not included in the range(s) of objects returned by the
  same attribute at later times.</p>

  </div>



  <h5 id="offsets-into-the-media-resource"><span class="secno">4.8.10.6 </span>Offsets into the media resource</h5>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-duration">duration</a></code></dt>

   <dd>

    <p>Returns the length of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, in
    seconds, assuming that the start of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
    resource</a> is at time zero.</p>

    <p>Returns NaN if the duration isn't available.</p><p>

    </p><p>Returns Infinity for unbounded streams.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-currentTime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-currenttime">currentTime</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official playback position</a>, in seconds.</p>

    <p>Can be set, to seek to the given time.</p><p>

    </p><p>Will throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception if there
    is no selected <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>
    or if there is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>.</p>

   </dd>

  </dl><div class="impl">

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> has a <dfn id="media-timeline">media timeline</dfn>
  that maps times (in seconds) to positions in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>. The origin of a timeline is its earliest defined
  position. The duration of a timeline is its last defined
  position.</p>

  <p><dfn id="defineTimeline" title="establish the media
  timeline">Establishing the media timeline</dfn>: If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> somehow specifies an explicit timeline whose origin
  is not negative (i.e. gives each frame a specific time offset and
  gives the first frame a zero or positive offset), then the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a> should be that timeline. (Whether the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> can specify a timeline or not depends on
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media resource's</a> format.) If
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> specifies an explicit start time
  <em>and date</em>, then that time and date should be considered the
  zero point in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a>; the <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline
  offset</a> will be the time and date, exposed using the <code title="dom-media-startDate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-startdate">startDate</a></code> attribute.</p>

  <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> has a discontinuous timeline,
  the user agent must extend the timeline used at the start of the
  resource across the entire resource, so that the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media
  timeline</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> increases
  linearly starting from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a>
  (as defined below), even if the underlying <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>
  has out-of-order or even overlapping time codes.</p>

  <p class="example">For example, if two clips have been concatenated
  into one video file, but the video format exposes the original times
  for the two clips, the video data might expose a timeline that goes,
  say, 00:15..00:29 and then 00:05..00:38. However, the user agent
  would not expose those times; it would instead expose the times as
  00:15..00:29 and 00:29..01:02, as a single video.</p>

  <p>In the rare case of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> that does not
  have an explicit timeline, the zero time on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media
  timeline</a> should correspond to the first frame of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>. In the even rarer case of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> with no explicit timings of any kind, not even frame
  durations, the user agent must itself determine the time for each
  frame in a user-agent-defined manner.</p>

  <p class="note">An example of a file format with no explicit
  timeline but with explicit frame durations is the Animated GIF
  format. An example of a file format with no explicit timings at all
  is the JPEG-push format (<code title="">multipart/x-mixed-replace</code> with JPEG frames, often
  used as the format for MJPEG streams).</p>

  <p>If, in the case of a resource with no timing information, the
  user agent will nonetheless be able to seek to an earlier point than
  the first frame originally provided by the server, then the zero
  time should correspond to the earliest seekable time of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>; otherwise, it should correspond to the
  first frame received from the server (the point in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> at which the user agent began receiving the
  stream).</p>

  <p class="note">At the time of writing, there is no known format
  that lacks explicit frame time offsets yet still supports seeking to
  a frame before the first frame sent by the server.</p>

  <div class="example">

   <p>Consider a stream from a TV broadcaster, which begins streaming
   on a sunny Friday afternoon in October, and always sends connecting
   user agents the media data on the same media timeline, with its
   zero time set to the start of this stream. Months later, user
   agents connecting to this stream will find that the first frame
   they receive has a time with millions of seconds. The <code title="dom-media-startDate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-startdate">startDate</a></code> attribute would always
   return the date that the broadcast started; this would allow
   controllers to display real times in their scrubber (e.g. "2:30pm")
   rather than a time relative to when the broadcast began ("8 months,
   4 hours, 12 minutes, and 23 seconds").</p>

   <p>Consider a stream that carries a video with several concatenated
   fragments, broadcast by a server that does not allow user agents to
   request specific times but instead just streams the video data in a
   predetermined order, with the first frame delivered always being
   identified as the frame with time zero. If a user agent connects to
   this stream and receives fragments defined as covering timestamps
   2010-03-20 23:15:00 UTC to 2010-03-21 00:05:00 UTC and 2010-02-12
   14:25:00 UTC to 2010-02-12 14:35:00 UTC, it would expose this with
   a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a> starting at 0s and extending to
   3,600s (one hour). Assuming the streaming server disconnected at
   the end of the second clip, the <code title="dom-media-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-duration">duration</a></code> attribute would then
   return 3,600. The <code title="dom-media-startDate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-startdate">startDate</a></code> attribute would return
   a <code>Date</code> object with a time corresponding to 2010-03-20
   23:15:00 UTC. However, if a different user agent connected five
   minutes later, <em>it</em> would (presumably) receive fragments
   covering timestamps 2010-03-20 23:20:00 UTC to 2010-03-21 00:05:00
   UTC and 2010-02-12 14:25:00 UTC to 2010-02-12 14:35:00 UTC, and
   would expose this with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a> starting at 0s
   and extending to 3,300s (fifty five minutes). In this case, the
   <code title="dom-media-startDate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-startdate">startDate</a></code> attribute would
   return a <code>Date</code> object with a time corresponding to
   2010-03-20 23:20:00 UTC.</p>

   <p>In both of these examples, the <code title="dom-media-seekable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seekable">seekable</a></code> attribute would give the
   ranges that the controller would want to actually display in its
   UI; typically, if the servers don't support seeking to arbitrary
   times, this would be the range of time from the moment the user
   agent connected to the stream up to the latest frame that the user
   agent has obtained; however, if the user agent starts discarding
   earlier information, the actual range might be shorter.</p>

  </div>

  <p>In any case, the user agent must ensure that the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest
  possible position</a> (as defined below) using the established
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a>, is greater than or equal to zero.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a> also has an associated clock.
  Which clock is used is user-agent defined, and may be <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>-dependent, but it should approximate the user's wall
  clock.</p>

  <p class="note">All the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media
  elements</a> that share <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a> use
  the same clock for their <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a>.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">Media elements</a> have a
  <dfn id="current-playback-position">current playback position</dfn>, which must initially (i.e. in
  the absence of <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>) be zero seconds. The
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> is a time on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media
  timeline</a>.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">Media elements</a> also have an
  <dfn id="official-playback-position">official playback position</dfn>, which must initially be set
  to zero seconds. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official playback position</a> is an
  approximation of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>
  that is kept stable while scripts are running.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">Media elements</a> also have a
  <dfn id="default-playback-start-position">default playback start position</dfn>, which must initially be
  set to zero seconds. This time is used to allow the element to be
  seeked even before the media is loaded.</p>

  <p>The <dfn id="dom-media-currenttime" title="dom-media-currentTime"><code>currentTime</code></dfn>
  attribute must, on getting, return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#default-playback-start-position">default playback start position</a>, unless that is zero,
  in which case it must return the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official playback
  position</a>. The returned value must be expressed in seconds. On
  setting, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, then the user agent must throw an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception; otherwise, if the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> is <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>, then it must set
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#default-playback-start-position">default playback start
  position</a> to the new value; otherwise, it must set the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official playback position</a> to the new value and then
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> to the new value. The new
  value must be interpreted as being in seconds.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">Media elements</a> have an
  <dfn id="initial-playback-position">initial playback position</dfn>, which must initially (i.e. in
  the absence of <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>) be zero seconds. The
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#initial-playback-position">initial playback position</a> is updated when a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> is loaded. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#initial-playback-position">initial playback
  position</a> is a time on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a>.</p>

  <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is a streaming resource, then
  the user agent might be unable to obtain certain parts of the
  resource after it has expired from its buffer. Similarly, some <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media resources</a> might have a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a> that doesn't start at zero. The
  <dfn id="earliest-possible-position">earliest possible position</dfn> is the earliest position in
  the stream or resource that the user agent can ever obtain
  again. It is also a time on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a>.</p>

  <p class="note">The <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a> is not
  explicitly exposed in the API; it corresponds to the start time of
  the first range in the <code title="dom-media-seekable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seekable">seekable</a></code> attribute's
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> object, if any, or the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current
  playback position</a> otherwise.</p>

  <p>When the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a> changes, then:
  if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> is before the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a>, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible
  position</a>; otherwise, if the user agent has not fired a <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> event at the
  element in the past 15 to 250ms and is not still running event
  handlers for such an event, then the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
  task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the element.</p>

  <p class="note">Because of the above requirement and the requirement
  in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-resource" title="concept-media-load-resource">resource fetch
  algorithm</a> that kicks in <a href="http://www.whatwg.org/specs/web-apps/current-work/#getting-media-metadata">when the metadata of the clip becomes
  known</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> can never be
  less than the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a>.</p>

  <!-- see https://www.w3.org/Bugs/Public/show_bug.cgi?id=14492 -->
  <!-- basically this is to handle very-long-running streams that use
       different video and audio tracks per TV show -->
  <p>If at any time the user agent learns that an audio or video track
  has ended and all <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> relating to that track
  corresponds to parts of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a> that are
  <em>before</em> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a>, the
  user agent may <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to remove the track from
  the <code title="dom-media-audioTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks">audioTracks</a></code>
  attribute's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> object or the <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code> attribute's
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object as appropriate and then fire an
  event with the name <code title="event-removetrack">removetrack</code>, that does not bubble
  and is not cancelable, and that uses the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#trackevent">TrackEvent</a></code>
  interface, with the <code title="dom-TrackEvent-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trackevent-track">track</a></code>
  attribute initialized to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object representing the track, at the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s aforementioned
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code>
  object.</p>

  <p>The <dfn id="dom-media-duration" title="dom-media-duration"><code>duration</code></dfn>
  attribute must return the time of the end of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>, in seconds, on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a>. If
  no <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> is available, then the attributes must
  return the Not-a-Number (NaN) value. If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> is not known to be bounded (e.g. streaming radio, or
  a live event with no announced end time), then the attribute must
  return the positive Infinity value.</p>

  <p>The user agent must determine the duration of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> before playing any part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media
  data</a> and before setting <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> to a value equal to
  or greater than <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code>, even if doing
  so requires fetching multiple parts of the resource.</p>

  <p id="durationChange">When the length of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> changes to a known value (e.g. from being unknown to
  known, or from a previously established length to a new length) the
  user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
  event</a> named <code title="event-media-durationchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-durationchange">durationchange</a></code> at the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>. (The event is not fired when the
  duration is reset as part of loading a new media resource.) If the
  duration is changed such that the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
  position</a> ends up being greater than the time of the end of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, then the user agent must also <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> the to the time of the end of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.</p>

  <p class="example">If an "infinite" stream ends for some reason,
  then the duration would change from positive Infinity to the time of
  the last frame or sample in the stream, and the <code title="event-media-durationchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-durationchange">durationchange</a></code> event would
  be fired. Similarly, if the user agent initially estimated the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>'s duration instead of determining it
  precisely, and later revises the estimate based on new information,
  then the duration would change and the <code title="event-media-durationchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-durationchange">durationchange</a></code> event would
  be fired.</p>

  <p>Some video files also have an explicit date and time
  corresponding to the zero time in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a>,
  known as the <dfn id="timeline-offset">timeline offset</dfn>. Initially, the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline offset</a> must be set to Not-a-Number (NaN).</p>

  <p>The <dfn id="dom-media-startdate" title="dom-media-startDate"><code>startDate</code></dfn>
  attribute must return <a href="http://www.whatwg.org/specs/web-apps/current-work/#create-a-date-object" title="create a Date object">a new
  <code>Date</code> object</a> representing the current
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline offset</a>.</p>

  </div>

  <hr><p>The <dfn id="attr-media-loop" title="attr-media-loop"><code>loop</code></dfn>
  attribute is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute">boolean attribute</a> that, if specified,
  indicates that the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is to seek back to the
  start of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> upon reaching the end.</p>

  <p>The <code title="attr-media-loop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-loop">loop</a></code> attribute has no
  effect while the element has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>.</p>

  <div class="impl">

  <p>The <dfn id="dom-media-loop" title="dom-media-loop"><code>loop</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name.</p>

  </div>



  <h5 id="ready-states"><span class="secno">4.8.10.7 </span>Ready states</h5>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code></dt>

   <dd>

    <p>Returns a value that expresses the current state of the element
    with respect to rendering the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
    position</a>, from the codes in the list below.</p>

   </dd>

  </dl><div class="impl">

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">Media elements</a> have a
  <i>ready state</i>, which describes to what degree they are ready
  to be rendered at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>. The
  possible values are as follows; the ready state of a media element
  at any particular time is the greatest value describing the state of
  the element:</p>

  </div>

  <dl><dt><dfn id="dom-media-have_nothing" title="dom-media-HAVE_NOTHING"><code>HAVE_NOTHING</code></dfn> (numeric value 0)</dt>

   <dd>No information regarding the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is
   available. No data for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>
   is available. <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">Media elements</a>
   whose <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code>
   attribute are set to <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code> are always in
   the <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>
   state.</dd>

   <dt><dfn id="dom-media-have_metadata" title="dom-media-HAVE_METADATA"><code>HAVE_METADATA</code></dfn> (numeric value 1)</dt>

   <dd>Enough of the resource has been obtained that the duration of
   the resource is available. In the case of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>
   element, the dimensions of the video are also available. The API
   will no longer throw an exception when seeking. No <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media
   data</a> is available for the immediate <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
   position</a>.</dd>

   <dt><dfn id="dom-media-have_current_data" title="dom-media-HAVE_CURRENT_DATA"><code>HAVE_CURRENT_DATA</code></dfn> (numeric value 2)</dt>

   <dd>Data for the immediate <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>
   is available, but either not enough data is available that the user
   agent could successfully advance the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
   position</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of playback</a> at all
   without immediately reverting to the <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> state, or
   there is no more data to obtain in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of
   playback</a>. For example, in video this corresponds to the user
   agent having data from the current frame, but not the next frame,
   when the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> is at the end of
   the current frame; and to when <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback" title="ended
   playback">playback has ended</a>.</dd>

   <dt><dfn id="dom-media-have_future_data" title="dom-media-HAVE_FUTURE_DATA"><code>HAVE_FUTURE_DATA</code></dfn> (numeric value 3)</dt>

   <dd>Data for the immediate <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>
   is available, as well as enough data for the user agent to advance
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction
   of playback</a> at least a little without immediately reverting
   to the <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code>
   state, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-text-tracks-are-ready">the text tracks are ready</a>. For example, in
   video this corresponds to the user agent having data for at least
   the current frame and the next frame when the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current
   playback position</a> is at the instant in time between the two
   frames, or to the user agent having the video data for the current
   frame and audio data to keep playing at least a little when the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> is in the middle of a frame.
   The user agent cannot be in this state if <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback" title="ended
   playback">playback has ended</a>, as the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
   position</a> can never advance in this case.</dd>

   <dt><dfn id="dom-media-have_enough_data" title="dom-media-HAVE_ENOUGH_DATA"><code>HAVE_ENOUGH_DATA</code></dfn> (numeric value 4)</dt>

   <dd>All the conditions described for the <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> state
   are met, and, in addition, the user agent estimates that data is
   being fetched at a rate where the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
   position</a>, if it were to advance at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-playback-rate">effective
   playback rate</a>, would not overtake the available data before
   playback reaches the end of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.</dd>

  </dl><p class="note">In practice, the difference between <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> and <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> is
  negligible. Really the only time the difference is relevant is when
  painting a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element onto a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>,
  where it distinguishes the case where something will be drawn (<code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> or
  greater) from the case where nothing is drawn (<code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> or less).
  Similarly, the difference between <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> (only
  the current frame) and <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> (at least
  this frame and the next) can be negligible (in the extreme, only one
  frame). The only time that distinction really matters is when a page
  provides an interface for "frame-by-frame" navigation.</p>

  <div class="impl">

  <p>When the ready state of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> whose <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> is not <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code> changes, the
  user agent must follow the steps given below:</p>

  <ol><li>

    <p>Apply the first applicable set of substeps from the following
    list:</p>


    <dl class="switch"><!-- going up to metadata --><dt>If the previous ready state was <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>, and the new
     ready state is <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code></dt>

     <dd id="fire-loadedmetadata">

      <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
      named <code title="event-media-loadedmetadata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-loadedmetadata">loadedmetadata</a></code> at the
      element.</p>

      <p class="note">Before this task is run, as part of the event
      loop mechanism, the rendering will have been updated to resize
      the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element if appropriate.</p>

     </dd>

     <!-- going up to current for the first time -->

     <dt id="handling-first-frame-available">If the previous ready state
     was <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> and
     the new ready state is <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> or
     greater</dt>

     <dd>

      <p id="fire-loadeddata">If this is the first time this occurs for
      this <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> since the <code title="dom-media-load"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-load">load()</a></code> algorithm was last invoked,
      the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a
      simple event</a> named <code title="event-media-loadeddata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-loadeddata">loadeddata</a></code> at the element.</p>

      <p>If the new ready state is <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> or
      <code title="dom-media-HAVE_ENOUGH_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code>,
      then the relevant steps below must then be run also.</p>

     </dd>

     <!-- going down -->
     <dt>If the previous ready state was <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> or more,
     and the new ready state is <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> or
     less</dt>

     <dd>

      <p id="fire-waiting-when-waiting">If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
      element</a> was <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially playing</a> before its
      <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute
      changed to a value lower than <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code>, and
      the element has not <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback">ended playback</a>, and playback
      has not <a href="http://www.whatwg.org/specs/web-apps/current-work/#stopped-due-to-errors">stopped due to errors</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-user-interaction">paused for
      user interaction</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-in-band-content">paused for in-band
      content</a>, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the element,
      and <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
      event</a> named <code title="event-media-waiting"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-waiting">waiting</a></code> at the element.</p>

     </dd>

     <!-- going up to future -->
     <dt>If the previous ready state was <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> or
     less, and the new ready state is <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code></dt>

     <dd>

      <p>The user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a
      simple event</a> named <code title="event-media-canplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-canplay">canplay</a></code>.</p>

      <p>If the element's <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code>
      attribute is false, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a>
      to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-playing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-playing">playing</a></code>.</p>

     </dd>

     <!-- going up to enough -->
     <dt>If the new ready state is <code title="dom-media-HAVE_ENOUGH_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code></dt>

     <dd>

      <p>If the previous ready state was <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> or
      less, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire
      a simple event</a> named <code title="event-media-canplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-canplay">canplay</a></code>, and, if the element's
      <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute is false,
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
      named <code title="event-media-playing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-playing">playing</a></code>.</p>

      <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#autoplaying-flag">autoplaying flag</a> is true, and the <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute is true, and
      the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has an <code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code> attribute specified,
      and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>'s
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-sandboxing-flag-set">active sandboxing flag set</a> does not have the
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#sandboxed-automatic-features-browsing-context-flag">sandboxed automatic features browsing context flag</a>
      set, then the user agent may also set the <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute to false,
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
      named <code title="event-media-play"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-play">play</a></code>, and
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
      named <code title="event-media-playing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-playing">playing</a></code>.</p>

      <p class="note">User agents do not need to support autoplay,
      and it is suggested that user agents honor user preferences on the
      matter. Authors are urged to use the <code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code> attribute rather than
      using script to force the video to play, so as to allow the user
      to override the behavior if so desired.</p>

      <p>In any case, the user agent must finally <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
      task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-canplaythrough"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-canplaythrough">canplaythrough</a></code>.</p>

     </dd>

    </dl></li>

   <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller state</a>
   for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a>.</p></li>

  </ol></div>

  <p class="note">It is possible for the ready state of a media
  element to jump between these states discontinuously. For example,
  the state of a media element can jump straight from <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> to <code title="dom-media-HAVE_ENOUGH_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code> without
  passing through the <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> and
  <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code>
  states.</p>

  <div class="impl">

  <p>The <dfn id="dom-media-readystate" title="dom-media-readyState"><code>readyState</code></dfn> IDL
  attribute must, on getting, return the value described above that
  describes the current ready state of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a>.</p>

  </div>

  <p>The <dfn id="attr-media-autoplay" title="attr-media-autoplay"><code>autoplay</code></dfn>
  attribute is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute">boolean attribute</a>. When present, the
  user agent <span class="impl">(as described in the algorithm
  described herein)</span> will automatically begin playback of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> as soon as it can do so without
  stopping.</p>

  <p class="note">Authors are urged to use the <code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code> attribute rather than
  using script to trigger automatic playback, as this allows the user
  to override the automatic playback when it is not desired, e.g. when
  using a screen reader. Authors are also encouraged to consider not
  using the automatic playback behavior at all, and instead to let the
  user agent wait for the user to start playback explicitly.</p>

  <div class="impl">

  <p>The <dfn id="dom-media-autoplay" title="dom-media-autoplay"><code>autoplay</code></dfn>
  IDL attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name.</p>

  </div>



  <h5 id="playing-the-media-resource"><span class="secno">4.8.10.8 </span>Playing the media resource</h5>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code></dt>

   <dd>

    <p>Returns true if playback is paused; false otherwise.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-ended"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-ended">ended</a></code></dt>

   <dd>

    <p>Returns true if playback has reached the end of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultplaybackrate">defaultPlaybackRate</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the default rate of playback, for when the user is not
    fast-forwarding or reversing through the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
    resource</a>.</p>

    <p>Can be set, to change the default rate of playback.</p>

    <p>The default rate has no direct effect on playback, but if the
    user switches to a fast-forward mode, when they return to the
    normal playback mode, it is expected that the rate of playback
    will be returned to the default rate of playback.</p>

    <p>When the element has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>,
    the <code title="dom-media-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultplaybackrate">defaultPlaybackRate</a></code>
    attribute is ignored and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
    controller</a>'s <code title="dom-MediaController-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-defaultplaybackrate">defaultPlaybackRate</a></code>
    is used instead.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-playbackrate">playbackRate</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current rate playback, where 1.0 is normal speed.</p>

    <p>Can be set, to change the rate of playback.</p>

    <p>When the element has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>,
    the <code title="dom-media-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-playbackrate">playbackRate</a></code>
    attribute is ignored and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
    controller</a>'s <code title="dom-MediaController-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-playbackrate">playbackRate</a></code> is
    used instead.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-played"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-played">played</a></code></dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> object that represents the
    ranges of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> that the user agent has
    played.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-play"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-play">play</a></code>()</dt>

   <dd>

    <p>Sets the <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute
    to false, loading the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> and beginning
    playback if necessary. If the playback had ended, will restart it
    from the start.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-pause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-pause">pause</a></code>()</dt>

   <dd>

    <p>Sets the <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute
    to true, loading the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> if necessary.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-media-paused" title="dom-media-paused"><code>paused</code></dfn>
  attribute represents whether the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is
  paused or not. The attribute must initially be true.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is a <dfn id="blocked-media-element">blocked media
  element</dfn> if its <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute is in the
  <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code> state, the
  <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> state, or
  the <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> state,
  or if the element has <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-user-interaction">paused for user interaction</a> or
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-in-band-content">paused for in-band content</a>.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is said to be <dfn id="potentially-playing">potentially
  playing</dfn> when its <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code>
  attribute is false, the element has not <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback">ended playback</a>,
  playback has not <a href="http://www.whatwg.org/specs/web-apps/current-work/#stopped-due-to-errors">stopped due to errors</a>, 
  the element either has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a> or
  has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a> but is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-on-its-media-controller">blocked
  on its media controller</a>,
  and the element is not a <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-media-element">blocked media element</a>.</p>

  <p class="note">A <code title="event-media-waiting"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-waiting">waiting</a></code>
  DOM event <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-waiting-when-waiting">can be fired</a> as a
  result of an element that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially playing</a>
  stopping playback due to its <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute changing to
  a value lower than <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code>.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is said to have <dfn id="ended-playback">ended
  playback</dfn> when:</p>

  <ul><li>The element's <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute is <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> or greater,
   and

   </li><li>

    <p>Either:

    </p><ul><li>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> is the end of the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, and

     </li><li>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of playback</a> is forwards, and

     </li><li>
     Either
     the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> does not have a <code title="attr-media-loop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-loop">loop</a></code> attribute specified,
     or the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
     controller</a>.

    </li></ul><p>Or:

    </p><ul><li>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> is the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a>, and

     </li><li>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of playback</a> is backwards.

    </li></ul></li>

  </ul><p>The <dfn id="dom-media-ended" title="dom-media-ended"><code>ended</code></dfn>
  attribute must return true if, the last time the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event
  loop</a> reached step 1, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> had
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback">ended playback</a> and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of
  playback</a> was forwards, and false otherwise.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is said to have <dfn id="stopped-due-to-errors">stopped due to
  errors</dfn> when the element's <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute is <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> or greater, and
  the user agent <a href="http://www.whatwg.org/specs/web-apps/current-work/#non-fatal-media-error">encounters a
  non-fatal error</a> during the processing of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media
  data</a>, and due to that error, is not able to play the content
  at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is said to have <dfn id="paused-for-user-interaction">paused for user
  interaction</dfn> when its <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute is false, the <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute is either
  <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> or
  <code title="dom-media-HAVE_ENOUGH_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code> and
  the user agent has reached a point in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> where the user has to make a selection for the
  resource to continue.
  If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a> when this happens, then the user agent must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller state</a> for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>. If the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a> when the user makes a selection, allowing playback
  to resume, the user agent must similarly <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller
  state</a> for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current
  media controller</a>.</p>

  <p>It is possible for a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> to have both
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback">ended playback</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-user-interaction">paused for user
  interaction</a> at the same time.</p>

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially
  playing</a> stops playing because it has <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-user-interaction">paused for user
  interaction</a>, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the element.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is said to have <dfn id="paused-for-in-band-content">paused for
  in-band content</dfn> when its <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute is false, the <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute is either
  <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> or
  <code title="dom-media-HAVE_ENOUGH_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code> and
  the user agent has suspended playback of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> in order to play content that is temporally anchored
  to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> and has a non-zero length, or to
  play content that is temporally anchored to a segment of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> but has a length longer than that
  segment. If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a> when this happens, then the user agent must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller state</a> for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>. If the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a> when the user agent unsuspends playback, the user
  agent must similarly <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller state</a> for
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>.</p>

  <p class="example">One example of when a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>
  would be <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-in-band-content">paused for in-band content</a> is when the user
  agent is playing <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-descriptions" title="attr-track-kind-descriptions">audio
  descriptions</a> from an external WebVTT file, and the
  synthesized speech generated for a cue is longer than the time
  between the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue start time</a> and the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end time</a>.</p>

  <hr><p>When the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> reaches the end
  of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> when the <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of
  playback</a> is forwards, then the user agent must follow these
  steps:</p>

  <ol><li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <code title="attr-media-loop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-loop">loop</a></code> attribute specified
   and does not have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>,
   then <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest
   possible position</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> and
   abort these steps.</p></li> <!-- v2/v3: We should fire a 'looping'
   event here to explain why this immediately fires a 'playing' event,
   otherwise the 'playing' event that fires from the readyState going
   from HAVE_CURRENT_DATA back to HAVE_FUTURE_DATA will seem
   inexplicable (since the normally matching 'ended' given below event
   doesn't fire in the loop case). -->

   <li><p>As defined above, the <code title="dom-media-ended"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-ended">ended</a></code> IDL attribute starts returning
   true once the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a>'s current <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> ends.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
   event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
   element</a>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> that, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
   element</a> does not have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a>, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has still
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback">ended playback</a>, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of
   playback</a> is still forwards, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused" title="dom-media-paused">paused</a> is false, changes <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused" title="dom-media-paused">paused</a> to true and <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event" title="fire a simple event">fires a simple event</a> named <code title="event-media-pause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-pause">pause</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
   element</a>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
   event</a> named <code title="event-media-ended"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-ended">ended</a></code> at
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>.</p></li>

   <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller state</a>
   for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a>.</p></li>

  </ol><p>When the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> reaches the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> when the <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of playback</a> is
  backwards, then the user agent must only <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a>
  to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the element.</p>

  <hr><p>The <dfn id="dom-media-defaultplaybackrate" title="dom-media-defaultPlaybackRate"><code>defaultPlaybackRate</code></dfn>
  attribute gives the desired speed at which the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> is to play, as a multiple of its intrinsic
  speed. The attribute is mutable: on getting it must return the last
  value it was set to, or 1.0 if it hasn't yet been set; on setting
  the attribute must be set to the new value.</p>

  <p class="note">The <code title="dom-media-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultplaybackrate">defaultPlaybackRate</a></code> is
  used by the user agent when it <a href="http://www.whatwg.org/specs/web-apps/current-work/#expose-a-user-interface-to-the-user" title="expose a user interface
  to the user">exposes a user interface to the user</a>.</p>

  <p>The <dfn id="dom-media-playbackrate" title="dom-media-playbackRate"><code>playbackRate</code></dfn>
  attribute gives the <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-playback-rate">effective playback rate</a>
  (assuming there is no <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a> overriding it),
  which is the speed at which the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> plays,
  as a multiple of its intrinsic speed. If it is not equal to the
  <code title="dom-media-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultplaybackrate">defaultPlaybackRate</a></code>,
  then the implication is that the user is using a feature such as
  fast forward or slow motion playback. The attribute is mutable: on
  getting it must return the last value it was set to, or 1.0 if it
  hasn't yet been set; on setting the attribute must be set to the new
  value, and the playback will change speed
  (if the element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially playing</a> and there is no
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>).</p>

  <p id="rateUpdate">When the <code title="dom-media-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultplaybackrate">defaultPlaybackRate</a></code> or
  <code title="dom-media-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-playbackrate">playbackRate</a></code> attributes
  change value (either by being set by script or by being changed
  directly by the user agent, e.g. in response to user control) the
  user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
  event</a> named <code title="event-media-ratechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-ratechange">ratechange</a></code> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a>.</p>

  <p class="note">The <code title="dom-media-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultplaybackrate">defaultPlaybackRate</a></code> and
  <code title="dom-media-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-playbackrate">playbackRate</a></code> attributes
  have no effect when the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>; the namesake attributes on
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object are used instead in that
  situation.</p>

  <hr><p>The <dfn id="dom-media-played" title="dom-media-played"><code>played</code></dfn>
  attribute must return a new static <a href="http://www.whatwg.org/specs/web-apps/current-work/#normalized-timeranges-object">normalized
  <code>TimeRanges</code> object</a> that represents the ranges of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, if any, that the user agent has so
  far rendered, at the time the attribute is evaluated.</p>

  <hr><p>When the <dfn id="dom-media-play" title="dom-media-play"><code>play()</code></dfn>
  method on a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is invoked, the user agent
  must run the following steps.</p>

  <ol><li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute has
   the value <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>, invoke the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
   algorithm</a>.</p></li>

   <li>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback" title="ended playback">playback has ended</a>
    and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of playback</a> is forwards,
    and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> does not have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current
    media controller</a>,
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest
    possible position</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.</p>

    <p class="note">This <a href="http://www.whatwg.org/specs/web-apps/current-work/#seekUpdate">will cause</a> the user
    agent to <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
    event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>.</p> <!-- if we're already playing at
    this point, it might also fire 'waiting' -->

   </li>

   <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current
   media controller</a>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#bring-the-media-element-up-to-speed-with-its-new-media-controller">bring the media element up
   to speed with its new media controller</a>.</p>

   </li><li>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute is true, run
    the following substeps:</p>

    <ol><li><p>Change the value of <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> to false.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
     named <code title="event-media-play"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-play">play</a></code> at the element.</p></li>

     <li>

      <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute has the
      value <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>,
      <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code>, or
      <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code>,
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
      named <code title="event-media-waiting"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-waiting">waiting</a></code> at the
      element.</p>

      <p>Otherwise, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute has the
      value <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> or
      <code title="dom-media-HAVE_ENOUGH_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code>:
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a>
      named <code title="event-media-playing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-playing">playing</a></code> at the
      element.</p>

     </li>

    </ol></li>

   <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#autoplaying-flag">autoplaying
   flag</a> to false.</p></li>

   <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller state</a>
   for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a>.</p></li>

  </ol><hr><p>When the <dfn id="dom-media-pause" title="dom-media-pause"><code>pause()</code></dfn>
  method is invoked, and when the user agent is required to pause the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, the user agent must run the following
  steps:</p>

  <ol><li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute has
   the value <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>, invoke the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
   algorithm</a>.</p></li>

   <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#autoplaying-flag">autoplaying
   flag</a> to false.</p></li>

   <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute is false, run the
   following steps:</p>

    <ol><li><p>Change the value of <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> to true.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
     event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the
     element.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
     event</a> named <code title="event-media-pause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-pause">pause</a></code>
     at the element.</p></li>

     <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official playback position</a> to the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>.</p></li>

    </ol></li>

   <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller state</a>
   for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a>.</p></li>

  </ol><hr><p>The
  <dfn id="effective-playback-rate">effective playback rate</dfn> is not necessarily the element's
  <code title="dom-media-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-playbackrate">playbackRate</a></code>. When a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-playback-rate">effective playback rate</a> is the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-playback-rate">media controller playback
  rate</a>. Otherwise, the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-playback-rate">effective playback rate</a> is just the element's <code title="dom-media-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-playbackrate">playbackRate</a></code>.
  Thus, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a> overrides the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>.
  </p>

  <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-playback-rate">effective playback rate</a> is positive or zero,
  then the <dfn id="direction-of-playback">direction of playback</dfn> is forwards. Otherwise, it
  is backwards.</p>

  <p id="media-playback">When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially playing</a> and its <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#fully-active">fully active</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current
  playback position</a> must increase monotonically at
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-playback-rate">effective playback rate</a> units of media time per unit time
  of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a>'s clock.</p>

  <p class="note">The <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-playback-rate">effective playback rate</a> can be 0.0,
  in which case the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> doesn't
  move, despite playback not being paused (<code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> doesn't become true, and the
  <code title="event-media-pause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-pause">pause</a></code> event doesn't
  fire).</p>

  <p class="note">This specification doesn't define how the user agent
  achieves the appropriate playback rate — depending on the
  protocol and media available, it is plausible that the user agent
  could negotiate with the server to have the server provide the media
  data at the appropriate rate, so that (except for the period between
  when the rate is changed and when the server updates the stream's
  playback rate) the client doesn't actually have to drop or
  interpolate any frames.</p>

  <p>Any time the user agent <a href="http://www.whatwg.org/specs/web-apps/current-work/#provide-a-stable-state" title="provide a stable
  state">provides a stable state</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official playback
  position</a> must be set to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
  position</a>.</p>

  <p>When the <a href="http://www.whatwg.org/specs/web-apps/current-work/#direction-of-playback">direction of playback</a> is backwards, any
  corresponding audio must be muted. When the <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-playback-rate">effective playback
  rate</a> is so low or so high that the user agent cannot play
  audio usefully, the corresponding audio must also be muted. If the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-playback-rate">effective playback rate</a> is not 1.0, the user agent may
  apply pitch adjustments to the audio as necessary to render it
  faithfully.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">Media elements</a> that are
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially playing</a> while not <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document">in a
  <code>Document</code></a> must not play any video, but should
  play any audio component. Media elements must not stop playing just
  because all references to them have been removed; only once a media
  element is in a state where no further audio could ever be played by
  that element may the element be garbage collected.</p>

  <p class="note">It is possible for an element to which no explicit
  references exist to play audio, even if such an element is not still
  actively playing: for instance, it could have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a> that still has references and can still be
  unpaused, or it could be unpaused but stalled waiting for content to
  buffer.</p>

  <hr><p>When the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a> changes (e.g. due to playback or seeking), the user
  agent must run the following steps. If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
  position</a> changes while the steps are running, then the user
  agent must wait for the steps to complete, and then must immediately
  rerun the steps.
  (These steps are thus run as often as possible or needed — if
  one iteration takes a long time, this can cause certain <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a> to be skipped over as the user
  agent rushes ahead to "catch up".)
  </p>

  <ol><li><p>Let <var title="">current cues</var> be a list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a>, initialized to contain all the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a> of all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden" title="text track hidden">hidden</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track
   showing">showing</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by
   default">showing by default</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text
   tracks</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> (not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled" title="text track disabled">disabled</a> ones) whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time" title="text track cue start time">start times</a> are less than
   or equal to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> and whose
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time" title="text track cue end time">end times</a> are greater
   than the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>.</p></li>

   <li><p>Let <var title="">other cues</var> be a list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a>, initialized to contain all the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a> of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden" title="text track
   hidden">hidden</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track
   showing">showing</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by
   default">showing by default</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text
   tracks</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> that are not
   present in <var title="">current cues</var>.</p></li>

   <li><p>Let <var title="">last time</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current
   playback position</a> at the time this algorithm was last run
   for this <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, if this is not the first time
   it has run.</p></li>

   <li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> has, since the
   last time this algorithm was run, only changed through its usual
   monotonic increase during normal playback, then let <var title="">missed cues</var> be the list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track
   cue">cues</a> in <var title="">other cues</var> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time" title="text track cue start time">start times</a> are greater
   than or equal to <var title="">last time</var> and whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time" title="text track cue end time">end times</a> are less than or
   equal to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>. Otherwise, let
   <var title="">missed cues</var> be an empty list.</p></li>

   <li><p>If the time was reached through the usual monotonic increase
   of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> during normal
   playback, and if the user agent has not fired a <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> event at the
   element in the past 15 to 250ms and is not still running event
   handlers for such an event, then the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
   task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the element.
   (In the other cases, such as explicit seeks, relevant events get
   fired as part of the overall process of changing the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current
   playback position</a>.)</p>

   <p class="note">The event thus is not to be fired faster than about
   66Hz or slower than 4Hz (assuming the event handlers don't take
   longer than 250ms to run). User agents are encouraged to vary the
   frequency of the event based on the system load and the average
   cost of processing the event each time, so that the UI updates are
   not any more frequent than the user agent can comfortably handle
   while decoding the video.</p></li>

   <li><p>If all of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a> in
   <var title="">current cues</var> have their <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text track cue
   active flag</a> set, none of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track
   cue">cues</a> in <var title="">other cues</var> have their
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text track cue active flag</a> set, and <var title="">missed cues</var> is empty, then abort these
   steps.</p></li>

   <li>

    <p>If the time was reached through the usual monotonic increase of
    the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> during normal playback,
    and there are <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a> in <var title="">other cues</var> that have their <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-pause-on-exit-flag">text track cue
    pause-on-exit flag</a> set and that either have their
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text track cue active flag</a> set or are also in <var title="">missed cues</var>, then immediately <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-pause" title="dom-media-pause">pause</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
    element</a>. <!-- "pause" can in theory call load(), but never
    can it do so as part of this invocation, since we wouldn't be in
    this algorithm if the media element was empty. So, no need to
    couch all this in a task. --></p>

    <p class="note">In the other cases, such as explicit seeks,
    playback is not paused by going past the end time of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cue</a>, even if that <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text
    track cue">cue</a> has its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-pause-on-exit-flag">text track cue pause-on-exit
    flag</a> set.</p>

   </li>

   <li>

    <p>Let <var title="">events</var> be a list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a>, initially empty. Each <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> in this list will be associated
    with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a>, and
    a time, which are used to sort the list before the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> are queued.</p>

    <p>Let <var title="">affected tracks</var> be a list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a>, initially empty.</p>

    <p>When the steps below say to <dfn id="prepare-an-event">prepare an event</dfn> named
    <var title="">event</var> for a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> <var title="">target</var> with a time <var title="">time</var>, the
    user agent must run these substeps:</p>

    <ol><li><p>Let <var title="">track</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
     track</a> with which the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> <var title="">target</var> is associated.</p></li>

     <li><p>Create a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> to
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <var title="">event</var>
     at <var title="">target</var>.</p></li>

     <li><p>Add to the newly create <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> to <var title="">events</var>,
     associated with the time <var title="">time</var>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
     track</a> <var title="">track</var>, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track
     cue</a> <var title="">target</var>.</p></li>

     <li><p>Add <var title="">track</var> to <var title="">affected
     tracks</var>.</p></li>

    </ol></li>

   <li><p>For each <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">text track cue</a>
   in <var title="">missed cues</var>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#prepare-an-event">prepare an event</a>
   named <code title="event-enter">enter</code> for the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue
   start time</a>.</p></li>

   <li><p>For each <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">text track cue</a>
   in <var title="">other cues</var> that either has its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text
   track cue active flag</a> set or is in <var title="">missed
   cues</var>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#prepare-an-event">prepare an event</a> named <code title="event-exit">exit</code> for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code>
   object with the later of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end time</a>
   and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue start time</a>.</p></li>

   <li><p>For each <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">text track cue</a>
   in <var title="">current cues</var> that does not have its
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text track cue active flag</a> set, <a href="http://www.whatwg.org/specs/web-apps/current-work/#prepare-an-event">prepare an
   event</a> named <code title="event-enter">enter</code> for the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue
   start time</a>.</p></li>

   <li>

    <p>Sort the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> in <var title="">events</var> in ascending time order (<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> with earlier times
    first).</p>

    <p>Further sort <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> in <var title="">events</var> that have the same time by the relative
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-order">text track cue order</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track
    cue">text track cues</a> associated with these <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a>.</p>

    <p>Finally, sort <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> in <var title="">events</var> that have the same time and same <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-order">text
    track cue order</a> by placing <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> that fire <code title="event-enter">enter</code> events before those that fire
    <code title="event-exit">exit</code> events.</p>

   </li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">Queue</a> each <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> in <var title="">events</var>, in
   list order.</p></li>

   <li><p>Sort <var title="">affected tracks</var> in the same order
   as the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> appear in the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>, and
   remove duplicates.</p>

   </li><li><p>For each <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> in <var title="">affected
   tracks</var>, in the list order, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-cuechange">cuechange</code> at the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object, and, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>
   has a corresponding <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element, to then <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire
   a simple event</a> named <code title="event-cuechange">cuechange</code> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code>
   element as well.</p></li>

   <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text track cue active flag</a> of all the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a> in the <var title="">current cues</var>, and unset the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text track cue
   active flag</a> of all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track
   cue">cues</a> in the <var title="">other cues</var>.</p></li>

   <li><p>Run the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-text-track-rendering">rules for updating the text track
   rendering</a> of each of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text
   tracks</a> in <var title="">affected tracks</var> that are <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track showing">showing</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text
   track showing by default">showing by default</a>.
   For example, for <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a>
   based on <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-display-of-webvtt-text-tracks">rules for updating the
   display of WebVTT text tracks</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a>
   </p></li>

  </ol><p>For the purposes of the algorithm above, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track
  cue</a> is considered to be part of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>
  only if it is listed in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a>,
  not merely if it is associated with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
  track</a>.</p>

  <p class="note">If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> stops being a <a href="http://www.whatwg.org/specs/web-apps/current-work/#fully-active">fully active</a>
  document, then the playback will <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-playback">stop</a>
  until the document is active again.</p>

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#remove-an-element-from-a-document" title="remove an
  element from a document">removed from a
  <code>Document</code></a>, the user agent must run
  the following steps:</p>

  <ol><li><p>Asynchronously <a href="http://www.whatwg.org/specs/web-apps/current-work/#await-a-stable-state">await a stable state</a>, allowing
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that removed the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> from the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> to
   continue. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> consists of all the
   remaining steps of this algorithm. (Steps in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous
   section</a> are marked with ⌛.)</p></li>

   <li><p>⌛ If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document">in a
   <code>Document</code></a>, abort these steps.</p></li>

   <li><p>⌛ If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> attribute has
   the value <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>, abort these
   steps.</p></li>

   <li><p>⌛ <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-pause" title="dom-media-pause">Pause</a> the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>.</p>

  </li></ol></div>



  <h5 id="seeking"><span class="secno">4.8.10.9 </span>Seeking</h5>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking">seeking</a></code></dt>

   <dd>

    <p>Returns true if the user agent is currently seeking.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-seekable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seekable">seekable</a></code></dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> object that represents the
    ranges of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> to which it is possible
    for the user agent to seek.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-media-seeking" title="dom-media-seeking"><code>seeking</code></dfn>
  attribute must initially have the value false.</p>

  <p>When the user agent is required to <dfn id="dom-media-seek" title="dom-media-seek">seek</dfn> to a particular <var title="">new
  playback position</var> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, it means
  that the user agent must run the following steps. This algorithm
  interacts closely with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> mechanism; in
  particular, it has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous
  section</a> (which is triggered as part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event
  loop</a> algorithm). Steps in that section are marked with
  ⌛.</p>

  <ol><li><p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> is <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>, abort these
   steps.</p></li>

   <li><p>If the element's <code title="dom-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking">seeking</a></code> IDL attribute is true,
   then another instance of this algorithm is already running. Abort
   that other instance of the algorithm without waiting for the step
   that it is running to complete.</p></li>

   <li><p>Set the <code title="dom-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking">seeking</a></code> IDL
   attribute to true.</p></li>

   <li><p>If the seek was in response to a DOM method call or setting
   of an IDL attribute, then continue the script. The remainder of
   these steps must be run asynchronously. With the exception of the
   steps marked with ⌛, they could be aborted at any time by
   another instance of this algorithm being invoked.</p></li>

   <li><p>If the <var title="">new playback position</var> is later
   than the end of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, then let it be the
   end of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> instead.</p></li>

   <li><p>If the <var title="">new playback position</var> is less
   than the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a>, let it be that
   position instead.</p></li>

   <li><p>If the (possibly now changed) <var title="">new playback
   position</var> is not in one of the ranges given in the <code title="dom-media-seekable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seekable">seekable</a></code> attribute, then let it
   be the position in one of the ranges given in the <code title="dom-media-seekable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seekable">seekable</a></code> attribute that is the
   nearest to the <var title="">new playback position</var>. If two
   positions both satisfy that constraint (i.e. the <var title="">new
   playback position</var> is exactly in the middle between two ranges
   in the <code title="dom-media-seekable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seekable">seekable</a></code> attribute)
   then use the position that is closest to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
   position</a>. If there are no ranges given in the <code title="dom-media-seekable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seekable">seekable</a></code> attribute then set the
   <code title="dom-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking">seeking</a></code> IDL attribute to
   false and abort these steps.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
   event</a> named <code title="event-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-seeking">seeking</a></code>
   at the element.</p></li>

   <li>

    <p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> to the given
    <var title="">new playback position</var>.</p>

    <p class="note">If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> was
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially playing</a> immediately before it started
    seeking, but seeking caused its <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> attribute to change
    to a value lower than <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code>, then a
    <code title="event-media-waiting"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-waiting">waiting</a></code> <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-waiting-when-waiting">will be fired</a> at the
    element.</p> <!-- also, timeupdate -->
    <!-- also, it will do the "report the controller state" thing -->

    <p class="note">The <code title="dom-media-currentTime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-currenttime">currentTime</a></code> attribute does
    not get updated asynchronously, as it returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#official-playback-position">official
    playback position</a>, not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback
    position</a>.</p>

   </li>

   <li><p>Wait until the user agent has established whether or not the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> for the <var title="">new playback
   position</var> is available, and, if it is, until it has decoded
   enough data to play back that position.</p>
   <!-- at which point, it will do the "port the controller state"
   thing again -->
   </li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#await-a-stable-state">Await a stable state</a>. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous
   section</a> consists of all the remaining steps of this
   algorithm. (Steps in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> are
   marked with ⌛.)</p></li>

   <li><p>⌛ Set the <code title="dom-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking">seeking</a></code> IDL attribute to
   false.</p></li>

   <li id="seekUpdate"><p>⌛ <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-timeupdate">timeupdate</a></code> at the
   element.</p></li>

   <li><p>⌛ <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
   event</a> named <code title="event-media-seeked"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-seeked">seeked</a></code>
   at the element.</p></li>

  </ol><p>The <dfn id="dom-media-seekable" title="dom-media-seekable"><code>seekable</code></dfn>
  attribute must return a new static <a href="http://www.whatwg.org/specs/web-apps/current-work/#normalized-timeranges-object">normalized
  <code>TimeRanges</code> object</a> that represents the ranges of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, if any, that the user agent is able
  to seek to, at the time the attribute is evaluated.</p>

  <p class="note">If the user agent can seek to anywhere in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, e.g. because it is a simple movie file
  and the user agent and the server support HTTP Range requests, then
  the attribute would return an object with one range, whose start is
  the time of the first frame (the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible
  position</a>, typically zero), and whose end is the same as the
  time of the first frame plus the <code title="dom-media-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-duration">duration</a></code> attribute's value (which
  would equal the time of the last frame, and might be positive
  Infinity).</p>

  <p class="note">The range might be continuously changing, e.g. if
  the user agent is buffering a sliding window on an infinite
  stream. This is the behavior seen with DVRs viewing live TV, for
  instance.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">Media resources</a> might be
  internally scripted or interactive. Thus, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a> could play in a non-linear fashion. If this happens,
  the user agent must act as if the algorithm for <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seeking</a> was used whenever the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> changes in a discontinuous
  fashion (so that the relevant events fire).
  If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, then the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#seek-the-media-controller">seek the media
  controller</a> appropriately instead.
  </p>

  </div>

  <h5 id="media-resources-with-multiple-media-tracks"><span class="secno">4.8.10.10 </span>Media resources with multiple media tracks</h5>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> can have multiple embedded audio
  and video tracks. For example, in addition to the primary video and
  audio tracks, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> could have
  foreign-language dubbed dialogues, director's commentaries, audio
  descriptions, alternative angles, or sign-language overlays.</p>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-audioTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks">audioTracks</a></code></dt>

   <dd>

    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> object representing
    the audio tracks available in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code></dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object representing
    the video tracks available in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-media-audiotracks" title="dom-media-audioTracks"><code>audioTracks</code></dfn>
  attribute of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> must return a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> object representing
  the audio tracks available in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>. The same object must be returned each
  time.</p>

  <p>The <dfn id="dom-media-videotracks" title="dom-media-videoTracks"><code>videoTracks</code></dfn>
  attribute of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> must return a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object
  representing the video tracks available in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>. The same object must
  be returned each time.</p>

  <p class="note">There are only ever one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code>
  object and one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object per <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a>, even if another <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is
  loaded into the element: the objects are reused. (The
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> objects are
  not, though.)</p>

  </div>

  <div class="example">

   <p>In this example, a script defines a function that takes a URL to
   a video and a reference to an element where the video is to be
   placed. That function then tries to load the video, and, once it is
   loaded, checks to see if there is a sign-language track available.
   If there is, it also displays that track. Both tracks are just
   placed in the given container; it's assumed that styles have been
   applied to make this work in a pretty way!</p>

   <pre>&lt;script&gt;
 function loadVideo(url, container) {
   var controller = new MediaController();
   var video = document.createElement('video');
   video.src = url;
   video.autoplay = true;
   video.controls = true;
   video.controller = controller;
   container.appendChild(video);
   video.onloadedmetadata = function (event) {
     for (var i = 0; i &lt; video.videoTracks.length; i += 1) {
       if (video.videoTracks[i].kind == 'sign') {
         var sign = document.createElement('video');
         sign.src = url + '#track=' + video.videoTracks[i].id; <!-- should escape this probably -->
         sign.autoplay = true;
         sign.controller = controller;
         container.appendChild(sign);
         return;
       }
     }
   };
 }
&lt;/script&gt;</pre>

  </div>


  <h6 id="audiotracklist-and-videotracklist-objects"><span class="secno">4.8.10.10.1 </span><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> objects</h6>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code>
  interfaces are used by attributes defined in the previous
  section.</p>

  <pre class="idl">interface <dfn id="audiotracklist">AudioTrackList</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#eventtarget">EventTarget</a> {
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotracklist-length" title="dom-AudioTrackList-length">length</a>;
  getter <a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a> (unsigned long index);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotracklist-gettrackbyid" title="dom-AudioTrackList-getTrackById">getTrackById</a>(DOMString id);

  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-tracklist-onchange" title="handler-TrackList-onchange">onchange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-tracklist-onaddtrack" title="handler-TrackList-onaddtrack">onaddtrack</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-tracklist-onremovetrack" title="handler-TrackList-onremovetrack">onremovetrack</a>;
};

interface <dfn id="audiotrack">AudioTrack</dfn> {
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-id" title="dom-AudioTrack-id">id</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-kind" title="dom-AudioTrack-kind">kind</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-label" title="dom-AudioTrack-label">label</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-language" title="dom-AudioTrack-language">language</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-enabled" title="dom-AudioTrack-enabled">enabled</a>;
};

interface <dfn id="videotracklist">VideoTrackList</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#eventtarget">EventTarget</a> {
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotracklist-length" title="dom-VideoTrackList-length">length</a>;
  getter <a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a> (unsigned long index);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotracklist-gettrackbyid" title="dom-VideoTrackList-getTrackById">getTrackById</a>(DOMString id);
  readonly attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotracklist-selectedindex" title="dom-VideoTrackList-selectedIndex">selectedIndex</a>;

  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-tracklist-onchange" title="handler-TrackList-onchange">onchange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-tracklist-onaddtrack" title="handler-TrackList-onaddtrack">onaddtrack</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-tracklist-onremovetrack" title="handler-TrackList-onremovetrack">onremovetrack</a>;
};

interface <dfn id="videotrack">VideoTrack</dfn> {
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-id" title="dom-VideoTrack-id">id</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-kind" title="dom-VideoTrack-kind">kind</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-label" title="dom-VideoTrack-label">label</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-language" title="dom-VideoTrack-language">language</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-selected" title="dom-VideoTrack-selected">selected</a>;
};</pre>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-audioTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks">audioTracks</a></code> . <code title="dom-AudioTrackList-length"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotracklist-length">length</a></code></dt>
   <dt><var title="">media</var> . <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code> . <code title="dom-VideoTrackList-length"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotracklist-length">length</a></code></dt>

   <dd>

    <p>Returns the number of tracks in the list.</p>

   </dd>

   <dt><var title="">audioTrack</var> = <var title="">media</var> . <code title="dom-media-audioTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks">audioTracks</a></code>[<var title="">index</var>]</dt>
   <dt><var title="">videoTrack</var> = <var title="">media</var> . <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code>[<var title="">index</var>]</dt>

   <dd>

    <p>Returns the specified <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object.</p>

   </dd>

   <dt><var title="">audioTrack</var> = <var title="">media</var> . <code title="dom-media-audioTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks">audioTracks</a></code> . <code title="dom-AudioTrackList-getTrackById"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotracklist-gettrackbyid">getTrackById</a></code>( <var title="">id</var> )</dt>
   <dt><var title="">videoTrack</var> = <var title="">media</var> . <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code> . <code title="dom-VideoTrackList-getTrackById"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotracklist-gettrackbyid">getTrackById</a></code>( <var title="">id</var> )</dt>

   <dd>

    <p>Returns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object with the given identifier, or null if no track has that identifier.</p>

   </dd>

   <dt><var title="">audioTrack</var> . <code title="dom-AudioTrack-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-id">id</a></code></dt>
   <dt><var title="">videoTrack</var> . <code title="dom-VideoTrack-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-id">id</a></code></dt>

   <dd>

    <p>Returns the ID of the given track. This is the ID that can be
    used with a fragment identifier if the format supports the
    <cite>Media Fragments URI</cite> syntax, and that can be used with
    the <code title="">getTrackById()</code> method. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMEDIAFRAG">[MEDIAFRAG]</a></p>

   </dd>

   <dt><var title="">audioTrack</var> . <code title="dom-AudioTrack-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-kind">kind</a></code></dt>
   <dt><var title="">videoTrack</var> . <code title="dom-VideoTrack-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-kind">kind</a></code></dt>

   <dd>

    <p>Returns the category the given track falls into. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-TrackList-getKind-categories">possible track categories</a> are given below.</p>

   </dd>

   <dt><var title="">audioTrack</var> . <code title="dom-AudioTrack-label"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-label">label</a></code></dt>
   <dt><var title="">videoTrack</var> . <code title="dom-VideoTrack-label"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-label">label</a></code></dt>

   <dd>

    <p>Returns the label of the given track, if known, or the empty string otherwise.</p>

   </dd>

   <dt><var title="">audioTrack</var> . <code title="dom-AudioTrack-language"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-language">language</a></code></dt>
   <dt><var title="">videoTrack</var> . <code title="dom-VideoTrack-language"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-language">language</a></code></dt>

   <dd>

    <p>Returns the language of the given track, if known, or the empty string otherwise.</p>

   </dd>

   <dt><var title="">audioTrack</var> . <code title="dom-AudioTrack-enabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-enabled">enabled</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns true if the given track is active, and false otherwise.</p>

    <p>Can be set, to change whether the track is enabled or not. If multiple audio tracks are enabled simultaneously, they are mixed.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code> . <code title="dom-VideoTrackList-selectedIndex"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotracklist-selectedindex">selectedIndex</a></code></dt>

   <dd>

    <p>Returns the index of the currently selected track, if any, or −1 otherwise.</p>

   </dd>

   <dt><var title="">videoTrack</var> . <code title="dom-VideoTrack-selected"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-selected">selected</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns true if the given track is active, and false otherwise.</p>

    <p>Can be set, to change whether the track is selected or not. Either zero or one video track is selected; selecting a new track while a previous one is selected will unselect the previous one.</p>

   </dd>

  </dl><div class="impl">

  <p>An <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> object represents a dynamic list
  of zero or more audio tracks, of which zero or more can be enabled
  at a time. Each audio track is represented by an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> object.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object represents a dynamic list of
  zero or more video tracks, of which zero or one can be selected at a
  time. Each video track is represented by a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code>
  object.</p>

  <p>Tracks in <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> objects must be consistently ordered. If
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is in a format that defines an
  order, then that order must be used; otherwise, the order must be
  the relative order in which the tracks are declared in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>. The order used is called the <i>natural
  order</i> of the list.</p>

  <p class="note">Each track in a <code>TrackList</code> thus has an
  index; the first has the index 0, and each subsequent track is
  numbered one higher than the previous one. If a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> dynamically adds or removes audio or video tracks,
  then the indices of the tracks will change dynamically. If the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> changes entirely, then all the previous
  tracks will be removed and replaced with new tracks.</p>

  <p>The <dfn id="dom-audiotracklist-length" title="dom-AudioTrackList-length"><code>AudioTrackList.length</code></dfn>
  and <dfn id="dom-videotracklist-length" title="dom-VideoTrackList-length"><code>VideoTrackList.length</code></dfn>
  attributes must return the number of tracks represented by their
  objects at the time of getting.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property indices</a> of
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> objects
  at any instant are the numbers from zero to the number of tracks
  represented by the respective object minus one, if any tracks are
  represented. If an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object represents no tracks, it has no
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property indices</a>.</p>

  <p>To <a href="http://www.whatwg.org/specs/web-apps/current-work/#determine-the-value-of-an-indexed-property">determine the value of an indexed property</a> for a
  given index <var title="">index</var> in an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object
  <var title="">list</var>, the user agent must return the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object that
  represents the <var title="">index</var>th track in <var title="">list</var>.</p>

  <p>The <dfn id="dom-audiotracklist-gettrackbyid" title="dom-AudioTrackList-getTrackById"><code>AudioTrackList.getTrackById(<var title="">id</var>)</code></dfn> and <dfn id="dom-videotracklist-gettrackbyid" title="dom-VideoTrackList-getTrackById"><code>VideoTrackList.getTrackById(<var title="">id</var>)</code></dfn> methods must return the first
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object
  (respectively) in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object (respectively) whose identifier is
  equal to the value of the <var title="">id</var> argument (in the
  natural order of the list, as defined above). When no tracks match
  the given argument, the methods must return null.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> objects
  represent specific tracks of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>. Each
  track can have an identifier, category, label, and language. These
  aspects of a track are permanent for the lifetime of the track; even
  if a track is removed from a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>'s
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> objects,
  those aspects do not change.</p>

  <p>In addition, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> objects can each be enabled
  or disabled; this is the audio track's <i>enabled state</i>. When an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> is created, its <i>enabled state</i> must be
  set to false (disabled). The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-resource" title="concept-media-load-resource">resource fetch algorithm</a>
  can override this.</p>

  <p>Similarly, a single <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> object per
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object can be selected, this is the
  video track's <i>selection state</i>. When a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> is created, its <i>selection state</i> must
  be set to false (not selected). The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-resource" title="concept-media-load-resource">resource fetch algorithm</a>
  can override this.</p>

  <p>The <dfn id="dom-audiotrack-id" title="dom-AudioTrack-id"><code>AudioTrack.id</code></dfn> and <dfn id="dom-videotrack-id" title="dom-VideoTrack-id"><code>VideTrack.id</code></dfn>
  attributes must return the identifier of the track, if it has one,
  or the empty string otherwise. If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is
  in a format that supports the <cite>Media Fragments URI</cite>
  fragment identifier syntax, the identifier returned for a particular
  track must be the same identifier that would enable the track if
  used as the name of a track in the track dimension of such a
  fragment identifier. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMEDIAFRAG">[MEDIAFRAG]</a></p>

  <p>The <dfn id="dom-audiotrack-kind" title="dom-AudioTrack-kind"><code>AudioTrack.kind</code></dfn> and
  <dfn id="dom-videotrack-kind" title="dom-VideoTrack-kind"><code>VideoTrack.kind</code></dfn>
  attributes must return the category of the track, if it has one, or
  the empty string otherwise.</p>

  <p>The category of a track is the string given in the first column
  of the table below that is the most appropriate for the track based
  on the definitions in the table's second and third columns, as
  determined by the metadata included in the track in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>. The cell in the third column of a row says what the
  category given in the cell in the first column of that row applies
  to; a category is only appropriate for an audio track if it applies
  to audio tracks, and a category is only appropriate for video tracks
  if it applies to video tracks. Categories must only be returned for
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> objects if they are appropriate for audio,
  and must only be returned for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> objects if
  they are appropriate for video.</p>

  <p>For Ogg files, the Role header of the track gives the relevant
  metadata. For DASH media resources, the <code title="">Role</code>
  element conveys the information. For WebM, only the <code title="">FlagDefault</code> element currently maps to a value. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsOGGROLE">[OGGROLE]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDASH">[DASH]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBMCG">[WEBMCG]</a></p>

  </div>

  <table id="dom-TrackList-getKind-categories"><caption>Return values for <code title="dom-AudioTrack-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-audiotrack-kind">AudioTrack.kind()</a></code> and <code title="dom-VideoTrack-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-videotrack-kind">VideoTrack.kind()</a></code></caption>
   <thead><tr><th>Category
     </th><th>Definition
     </th><th>Applies to...</th>
     <th>Examples
   </th></tr></thead><tbody><tr><td>"<dfn id="value-track-kind-alternate" title="value-track-kind-alternate"><code>alternative</code></dfn>"
     </td><td>A possible alternative to the main track, e.g. a different take of a song (audio), or a different angle (video).
     </td><td>Audio and video.
     </td><td>Ogg: "audio/alternate" or "video/alternate"; DASH: "alternate" without "main" and "commentary" roles, and, for audio, without the "dub" role (other roles ignored).

    </td></tr><tr><td>"<dfn id="value-track-kind-caption" title="value-track-kind-caption"><code>captions</code></dfn>"
     </td><td>A version of the main video track with captions burnt in. (For legacy content; new content would use text tracks.)
     </td><td>Video only.
     </td><td>DASH: "caption" and "main" roles together (other roles ignored).

    </td></tr><tr><td>"<dfn id="value-track-kind-description" title="value-track-kind-description"><code>description</code></dfn>"
     </td><td>An audio description of a video track.
     </td><td>Audio only.
     </td><td>Ogg: "audio/audiodesc".

    </td></tr><tr><td>"<dfn id="value-track-kind-main" title="value-track-kind-main"><code>main</code></dfn>"
     </td><td>The primary audio or video track.
     </td><td>Audio and video.
     </td><td>Ogg: "audio/main" or "video/main"; WebM: the "FlagDefault" element is set; DASH: "main" role without "caption", "subtitle", and "dub" roles (other roles ignored).

    </td></tr><tr><td>"<dfn id="value-track-kind-sign" title="value-track-kind-sign"><code>sign</code></dfn>"
     </td><td>A sign-language interpretation of an audio track.
     </td><td>Video only.
     </td><td>Ogg: "video/sign".

    </td></tr><tr><td>"<dfn id="value-track-kind-subtitle" title="value-track-kind-subtitle"><code>subtitles</code></dfn>"
     </td><td>A version of the main video track with subtitles burnt in. (For legacy content; new content would use text tracks.)
     </td><td>Video only.
     </td><td>DASH: "subtitle" and "main" roles together (other roles ignored).

    </td></tr><tr><td>"<dfn id="value-track-kind-translation" title="value-track-kind-translation"><code>translation</code></dfn>"
     </td><td>A translated version of the main audio track.
     </td><td>Audio only.
     </td><td>Ogg: "audio/dub". DASH: "dub" and "main" roles together (other roles ignored).

    </td></tr><tr><td>"<dfn id="value-track-kind-commentary" title="value-track-kind-commentary"><code>commentary</code></dfn>"
     </td><td>Commentary on the primary audio or video track, e.g. a director's commentary.
     </td><td>Audio and video.
     </td><td>DASH: "commentary" role without "main" role (other roles ignored).

    </td></tr><tr><td>"<dfn id="value-track-kind-none" title="value-track-kind-none"><code></code></dfn>" (empty string)
     </td><td>No explicit kind, or the kind given by the track's metadata is not recognised by the user agent.
     </td><td>Audio and video.
     </td><td>Any other track type, track role, or combination of track roles not described above.

  </td></tr></tbody></table><div class="impl">

  <p>The <dfn id="dom-audiotrack-label" title="dom-AudioTrack-label"><code>AudioTrack.label</code></dfn> and
  <dfn id="dom-videotrack-label" title="dom-VideoTrack-label"><code>VideoTrack.label</code></dfn>
  attributes must return the label of the track, if it has one, or the
  empty string otherwise.</p>

  <p>The <dfn id="dom-audiotrack-language" title="dom-AudioTrack-language"><code>AudioTrack.language</code></dfn>
  and <dfn id="dom-videotrack-language" title="dom-VideoTrack-language"><code>VideoTrack.language</code></dfn>
  attributes must return the BCP 47 language tag of the language of
  the track, if it has one, or the empty string otherwise. If the user
  agent is not able to express that language as a BCP 47 language tag
  (for example because the language information in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>'s format is a free-form string without a defined
  interpretation), then the method must return the empty string, as if
  the track had no language.</p>

  <p>The <dfn id="dom-audiotrack-enabled" title="dom-AudioTrack-enabled"><code>AudioTrack.enabled</code></dfn>
  attribute, on getting, must return true if the track is currently
  enabled, and false otherwise. On setting, it must enable the track
  if the new value is true, and disable it otherwise. (If the track is
  no longer in an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> object, then the track
  being enabled or disabled has no effect beyond changing the value of
  the attribute on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code> object.)</p>

  <p>Whenever an audio track in an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> is
  enabled or disabled, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a>
  to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-change">change</code> at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> object.</p>

  <p>The <dfn id="dom-videotracklist-selectedindex" title="dom-VideoTrackList-selectedIndex"><code>VideoTrackList.selectedIndex</code></dfn>
  attribute must return the index of the currently selected track, if
  any. If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object does not currently
  represent any tracks, or if none of the tracks are selected, it must
  instead return −1.</p>

  <p>The <dfn id="dom-videotrack-selected" title="dom-VideoTrack-selected"><code>VideoTrack.selected</code></dfn>
  attribute, on getting, must return true if the track is currently
  selected, and false otherwise. On setting, it must select the track
  if the new value is true, and unselect it otherwise. If the track is
  in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code>, then all the other
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code> objects in that list must be unselected. (If
  the track is no longer in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object, then
  the track being selected or unselected has no effect beyond changing
  the value of the attribute on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code>
  object.)</p>

  <p>Whenever a track in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> that was
  previously not selected is selected, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue
  a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-media-change">change</code> at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> object.</p>

  <hr><p>The following are the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers">event handlers</a> (and their
  corresponding <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type" title="event handler event type">event handler
  event types</a>) that must be supported, as IDL attributes, by
  all objects implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotracklist">AudioTrackList</a></code> and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotracklist">VideoTrackList</a></code> interfaces:</p>

  <table><thead><tr><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers" title="event handlers">Event handler</a> </th><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type">Event handler event type</a>
   </th></tr></thead><tbody><tr><td><dfn id="handler-tracklist-onchange" title="handler-TrackList-onchange"><code>onchange</code></dfn> </td><td> <code title="event-change">change</code>
    </td></tr><tr><td><dfn id="handler-tracklist-onaddtrack" title="handler-TrackList-onaddtrack"><code>onaddtrack</code></dfn> </td><td> <code title="event-addtrack">addtrack</code>
    </td></tr><tr><td><dfn id="handler-tracklist-onremovetrack" title="handler-TrackList-onremovetrack"><code>onremovetrack</code></dfn> </td><td> <code title="event-removetrack">removetrack</code>
  </td></tr></tbody></table><hr><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a> for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> listed in this section is the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-manipulation-task-source">DOM manipulation task source</a>.</p>

  <!-- v2 should also fire an event when the list changes -->

  </div>


  <h6 id="selecting-specific-audio-and-video-tracks-declaratively"><span class="secno">4.8.10.10.2 </span>Selecting specific audio and video tracks declaratively</h6>

  <p>The <code title="dom-media-audioTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-audiotracks">audioTracks</a></code> and
  <code title="dom-media-videoTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-videotracks">videoTracks</a></code> attributes
  allow scripts to select which track should play, but it is also
  possible to select specific tracks declaratively, by specifying
  particular tracks in the fragment identifier of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a>
  of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>. The format of the fragment
  identifier depends on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type">MIME type</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC2046">[RFC2046]</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC3986">[RFC3986]</a></p>

  <div class="example">

   <p>In this example, a video that uses a format that supports the
   <cite>Media Fragments URI</cite> fragment identifier syntax is
   embedded in such a way that the alternative angles labeled
   "Alternative" are enabled instead of the default video track. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMEDIAFRAG">[MEDIAFRAG]</a></p>

   <pre>&lt;video src="myvideo#track=Alternative"&gt;&lt;/video&gt;</pre>

   <!-- XXX need to check with the mediafrag people about whether
   there's a way to select a specific audio or video track without
   affecting the default track selection of the other axis, e.g.
   setting the video track without changing the default audio track
   selection -->

  </div>


  <h5 id="synchronising-multiple-media-elements"><span class="secno">4.8.10.11 </span>Synchronising multiple media elements</h5>

  <h6 id="introduction-0"><span class="secno">4.8.10.11.1 </span>Introduction</h6>

  <p>Each <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> can have a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>. A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is an
  object that coordinates the playback of multiple <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
  element">media elements</a>, for instance so that a sign-language
  interpreter track can be overlaid on a video track, with the two
  being kept in sync.</p>

  <p>By default, a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has no
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>. An implicit
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> can be assigned using the <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> content attribute.
  An explicit <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> can be assigned directly
  using the <code title="dom-media-controller"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-controller">controller</a></code> IDL
  attribute.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">Media elements</a> with a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> are said to be <i>slaved</i> to their
  controller. The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> modifies the playback
  rate and the playback volume of each of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
  element">media elements</a> slaved to it, and ensures that when
  any of its slaved <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a>
  unexpectedly stall, the others are stopped at the same time.</p>

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is slaved to a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>, its playback rate is fixed to that of
  the other tracks in the same <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>, and any
  looping is disabled.</p>

<!-- v2: add control to loop, add control to playback rate
  <div class="example">

   <p>In this example, two audio elements are slaved to the same
   (implicit) controller so that a waltz played by one audio element
   is kept exactly synchronised to the "tick tock tock" sound of the
   metronome played by the second element:</p>

   <pre>&lt;audio src="The%20Amelia%20Earhart%20Waltz.wav" controls autoplay mediagroup="song">&lt;/audio>
&lt;audio src="metronomes/3-4.wav" autoplay loop mediagroup="song">&lt;/audio></pre>

   <p>Assuming the song keeps a regular tempo throughout and assuming
   the metronome has the same tempo, this works even though if the
   metronome file only has one measure's worth of "tick tock tock",
   because the controller (implied by the <code
   title="attr-media-mediagroup">mediagroup</code> attribute)
   guarantees that the two elements will be kept synchronised, even if
   the user rewinds, jumps to a different part of the song, etc (the
   user agent controls made available by the <code
   title="attr-media-controls">controls</code> attribute on the song's
   <code>audio</code> element affect the
   <code>MediaController</code>'s state).</p>

   <p>If the metronome has the wrong rate, its rate can be adjusted by
   script separately from the song's (using the <code
   title="dom-media-playbackRate">audio.playbackRate</code> IDL
   attribute). The two elements will play back their <span>media
   data</span> at different rates, but the ratio will again be
   controlled by the <code>MediaController</code>.</p>

  </div>
-->


  <h6 id="media-controllers"><span class="secno">4.8.10.11.2 </span>Media controllers</h6>

  <pre class="idl">[<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller" title="dom-MediaController">Constructor</a>]
interface <dfn id="mediacontroller">MediaController</dfn> {
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-buffered" title="dom-MediaController-buffered">buffered</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-seekable" title="dom-MediaController-seekable">seekable</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-duration" title="dom-MediaController-duration">duration</a>;
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-currenttime" title="dom-MediaController-currentTime">currentTime</a>;

  readonly attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-paused" title="dom-MediaController-paused">paused</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-played" title="dom-MediaController-played">played</a>;
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-play" title="dom-MediaController-play">play</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-pause" title="dom-MediaController-pause">pause</a>();

           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-defaultplaybackrate" title="dom-MediaController-defaultPlaybackRate">defaultPlaybackRate</a>;
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-playbackrate" title="dom-MediaController-playbackRate">playbackRate</a>;

           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-volume" title="dom-MediaController-volume">volume</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-muted" title="dom-MediaController-muted">muted</a>;

  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onemptied" title="handler-MediaController-onemptied">onemptied</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onloadedmetadata" title="handler-MediaController-onloadedmetadata">onloadedmetadata</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onloadeddata" title="handler-MediaController-onloadeddata">onloadeddata</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-oncanplay" title="handler-MediaController-oncanplay">oncanplay</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-oncanplaythrough" title="handler-MediaController-oncanplaythrough">oncanplaythrough</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onplaying" title="handler-MediaController-onplaying">onplaying</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onended" title="handler-MediaController-onended">onended</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onwaiting" title="handler-MediaController-onwaiting">onwaiting</a>;

  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-ondurationchange" title="handler-MediaController-ondurationchange">ondurationchange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-ontimeupdate" title="handler-MediaController-ontimeupdate">ontimeupdate</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onplay" title="handler-MediaController-onplay">onplay</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onpause" title="handler-MediaController-onpause">onpause</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onratechange" title="handler-MediaController-onratechange">onratechange</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-mediacontroller-onvolumechange" title="handler-MediaController-onvolumechange">onvolumechange</a>;
};</pre>

  <dl class="domintro"><dt><var title="">controller</var> = new <code title="dom-MediaController"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller">MediaController</a></code>()</dt>

   <dd>

    <p>Returns a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-controller"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-controller">controller</a></code> [ = <var title="">controller</var> ]</dt>

   <dd>

    <p>Returns the current <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, if any; returns null otherwise.</p>

    <p>Can be set, to set an explicit <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>.
    Doing so removes the <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute, if
    any.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-buffered"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-buffered">buffered</a></code></dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> object that represents the
    intersection of the time ranges for which the user agent has all
    relevant media data for all the slaved <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
    element">media elements</a>.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-seekable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-seekable">seekable</a></code></dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> object that represents the
    intersection of the time ranges into which the user agent can seek
    for all the slaved <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media
    elements</a>.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-duration">duration</a></code></dt>

   <dd>

    <p>Returns the difference between the earliest playable moment and
    the latest playable moment (not considering whether the data in
    question is actually buffered or directly seekable, but not
    including time in the future for infinite streams). Will return
    zero if there is no media.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-currentTime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-currenttime">currentTime</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a>, in seconds,
    as a position between zero time and the current <code title="dom-MediaController-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-duration">duration</a></code>.</p>

    <p>Can be set, to seek to the given time.</p><p>

   </p></dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-paused">paused</a></code></dt>

   <dd>

    <p>Returns true if playback is paused; false otherwise. When this
    attribute is true, any <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> slaved to this
    controller will be stopped.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-play"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-play">play</a></code>()</dt>

   <dd>

    <p>Sets the <code title="dom-MediaController-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-paused">paused</a></code>
    attribute to false.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-pause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-pause">pause</a></code>()</dt>

   <dd>

    <p>Sets the <code title="dom-MediaController-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-paused">paused</a></code>
    attribute to true.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-played"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-played">played</a></code></dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> object that represents the
    union of the time ranges in all the slaved <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
    element">media elements</a> that have been played.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-defaultplaybackrate">defaultPlaybackRate</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the default rate of playback.</p>

    <p>Can be set, to change the default rate of playback.</p>

    <p>This default rate has no direct effect on playback, but if the
    user switches to a fast-forward mode, when they return to the
    normal playback mode, it is expected that rate of playback (<code title="dom-MediaController-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-playbackrate">playbackRate</a></code>) will
    be returned to this default rate.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-playbackrate">playbackRate</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current rate of playback.</p>

    <p>Can be set, to change the rate of playback.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-volume"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-volume">volume</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current playback volume multiplier, as a number in
    the range 0.0 to 1.0, where 0.0 is the quietest and 1.0 the
    loudest.</p>

    <p>Can be set, to change the volume multiplier.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> if the new value is not
    in the range 0.0 .. 1.0.</p>

   </dd>

   <dt><var title="">controller</var> . <code title="dom-MediaController-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-muted">muted</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns true if all audio is muted (regardless of other
    attributes either on the controller or on any <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
    element">media elements</a> slaved to this controller), and
    false otherwise.</p>

    <p>Can be set, to change whether the audio is muted or not.</p>

   </dd>

  </dl><div class="impl">

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> can have a <dfn id="current-media-controller">current media
  controller</dfn>, which is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object.
  When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is created without a <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute, it does
  not have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>. (If it is created
  <em>with</em> such an attribute, then that attribute initializes the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>, as defined below.)</p>

  <p>The <dfn id="slaved-media-elements">slaved media elements</dfn> of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> are the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
  element">media elements</a> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a> is that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>. All the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>
  must use the same clock for their definition of their <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media
  timeline</a>'s unit time.</p>

  <hr><p>The <dfn id="dom-media-controller" title="dom-media-controller"><code>controller</code></dfn> attribute
  on a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, on getting, must return the
  element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>, if any, or null
  otherwise. On setting, it must first remove the element's <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute, if any,
  and then set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a> to the given
  value. If the given value is null, the element no longer has a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>; if it is not null, then the
  user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#bring-the-media-element-up-to-speed-with-its-new-media-controller">bring the media element up to speed with its
  new media controller</a>.</p>

  <hr><p>The <dfn id="dom-mediacontroller" title="dom-MediaController"><code>MediaController()</code></dfn>
  constructor, when invoked, must return a newly created
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object.</p>

  <hr><p>The <dfn id="dom-mediacontroller-seekable" title="dom-MediaController-seekable"><code>seekable</code></dfn>
  attribute must return a new static <a href="http://www.whatwg.org/specs/web-apps/current-work/#normalized-timeranges-object">normalized
  <code>TimeRanges</code> object</a> that represents the
  intersection of the ranges of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media
  resources</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> that the
  user agent is able to seek to, at the time the attribute is
  evaluated.</p>

  <p>The <dfn id="dom-mediacontroller-buffered" title="dom-MediaController-buffered"><code>buffered</code></dfn>
  attribute must return a new static <a href="http://www.whatwg.org/specs/web-apps/current-work/#normalized-timeranges-object">normalized
  <code>TimeRanges</code> object</a> that represents the
  intersection of the ranges of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media
  resources</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> that the
  user agent has buffered, at the time the attribute is evaluated.
  Users agents must accurately determine the ranges available, even
  for media streams where this can only be determined by tedious
  inspection.</p>

  <p>The <dfn id="dom-mediacontroller-duration" title="dom-MediaController-duration"><code>duration</code></dfn>
  attribute must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-duration">media controller
  duration</a>.</p>

  <p>Every 15 to 250ms, or whenever the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-duration">media controller duration</a> changes, whichever happens
  least often, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-MediaController-durationchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-durationchange">durationchange</a></code>
  at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>. If the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-duration">media controller
  duration</a> decreases such that the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller
  position</a> is greater than the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-duration">media controller
  duration</a>, the user agent must immediately <a href="http://www.whatwg.org/specs/web-apps/current-work/#seek-the-media-controller">seek the
  media controller</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-duration">media controller
  duration</a>.</p>

  <p>The <dfn id="dom-mediacontroller-currenttime" title="dom-MediaController-currentTime"><code>currentTime</code></dfn>
  attribute must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a> on
  getting, and on setting must <a href="http://www.whatwg.org/specs/web-apps/current-work/#seek-the-media-controller">seek the media controller</a>
  to the new value.</p>

  <p>Every 15 to 250ms, or whenever the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a> changes, whichever happens
  least often, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-MediaController-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-timeupdate">timeupdate</a></code> at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>.</p>

  <hr><p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is created it is a
  <dfn id="playing-media-controller">playing media controller</dfn>. It can be changed into a
  <dfn id="paused-media-controller">paused media controller</dfn> and back either via the user
  agent's user interface (when the element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#expose-a-user-interface-to-the-user" title="expose a
  user interface to the user">exposing a user interface to the
  user</a>) or by script using the APIs defined in this section
  (see below).</p>

  <p>The <dfn id="dom-mediacontroller-paused" title="dom-MediaController-paused"><code>paused</code></dfn>
  attribute must return true if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>
  object is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-media-controller">paused media controller</a>, and false
  otherwise.</p>

  <p>When the <dfn id="dom-mediacontroller-pause" title="dom-MediaController-pause"><code>pause()</code></dfn> method
  is invoked, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#playing-media-controller">playing
  media controller</a> then the user agent must change the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> into a <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-media-controller">paused media
  controller</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
  event</a> named <code title="event-MediaController-pause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-pause">pause</a></code> at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>, and then <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller
  state</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>.</p>

  <p>When the <dfn id="dom-mediacontroller-play" title="dom-MediaController-play"><code>play()</code></dfn> method is
  invoked, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-media-controller">paused media
  controller</a>, the user agent must change the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> into a <a href="http://www.whatwg.org/specs/web-apps/current-work/#playing-media-controller">playing media
  controller</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
  event</a> named <code title="event-MediaController-play"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-play">play</a></code> at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>, and then <a href="http://www.whatwg.org/specs/web-apps/current-work/#report-the-controller-state">report the controller
  state</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>.</p>

  <p>The <dfn id="dom-mediacontroller-played" title="dom-MediaController-played"><code>played</code></dfn>
  attribute must return a new static <a href="http://www.whatwg.org/specs/web-apps/current-work/#normalized-timeranges-object">normalized
  <code>TimeRanges</code> object</a> that represents the union of
  the ranges of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media
  resources</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> that the
  user agent has so far rendered, at the time the attribute is
  evaluated.</p>

  <hr><p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> has a <dfn id="media-controller-default-playback-rate">media controller
  default playback rate</dfn> and a <dfn id="media-controller-playback-rate">media controller playback
  rate</dfn>, which must both be set to 1.0 when the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object is created.</p>

  <p>The <dfn id="dom-mediacontroller-defaultplaybackrate" title="dom-MediaController-defaultPlaybackRate"><code>defaultPlaybackRate</code></dfn>
  attribute, on getting, must return the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-default-playback-rate">media controller default
  playback rate</a>, and on setting, must set the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-default-playback-rate">media controller default
  playback rate</a> to the new value, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a
  task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-MediaController-ratechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-ratechange">ratechange</a></code> at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>.</p>

  <p>The <dfn id="dom-mediacontroller-playbackrate" title="dom-MediaController-playbackRate"><code>playbackRate</code></dfn>
  attribute, on getting, must return the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-playback-rate">media controller playback
  rate</a>, and on setting, must set the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-playback-rate">media controller playback
  rate</a> to the new value, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-MediaController-ratechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-ratechange">ratechange</a></code> at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>.</p>

  <hr><p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> has a <dfn id="media-controller-volume-multiplier">media controller volume
  multiplier</dfn>, which must be set to 1.0 when the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object is created, and a <dfn id="media-controller-mute-override">media
  controller mute override</dfn>, much must initially be false.</p>

  <p>The <dfn id="dom-mediacontroller-volume" title="dom-MediaController-volume"><code>volume</code></dfn>
  attribute, on getting, must return the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-volume-multiplier">media controller volume
  multiplier</a>, and on setting, if the new value is in the range
  0.0 to 1.0 inclusive, must set the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-volume-multiplier">media controller volume multiplier</a> to the new value and
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named
  <code title="event-MediaController-volumechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-volumechange">volumechange</a></code>
  at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>. If the new value is outside the
  range 0.0 to 1.0 inclusive, then, on setting, an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception must be thrown instead.</p>

  <p>The <dfn id="dom-mediacontroller-muted" title="dom-MediaController-muted"><code>muted</code></dfn>
  attribute, on getting, must return the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-mute-override">media controller mute
  override</a>, and on setting, must set the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-mute-override">media controller mute
  override</a> to the new value and <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-MediaController-volumechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-volumechange">volumechange</a></code> at
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>.</p>

  <hr><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media resources</a> of all
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> have a defined temporal relationship
  which provides relative offsets between the zero time of each such
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>: for <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media
  resources</a> with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline offset</a>, their relative
  offsets are the difference between their <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline
  offset</a>; the zero times of all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media
  resource">media resources</a> without a <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline
  offset</a> are not offset from each other (i.e. the origins of
  their timelines are cotemporal); and finally, the zero time of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> with the earliest <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline
  offset</a> (if any) is not offset from the zero times of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media resources</a> without a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline offset</a> (i.e. the origins of <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media
  resource">media resources</a> without a <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline
  offset</a> are further cotemporal with the earliest defined point
  on the timeline of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> with the earliest
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#timeline-offset">timeline offset</a>).</p>

  <p>The <dfn id="media-resource-end-position">media resource end position</dfn> of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a> in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is defined as
  follows: if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> has a finite and known
  duration, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource-end-position">media resource end position</a> is the
  duration of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>'s timeline (the last
  defined position on that timeline); otherwise, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>'s duration is infinite or unknown, and the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource-end-position">media resource end position</a> is the time of the last
  frame of <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> currently available for that
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>.</p>

  <p>Each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> also has its own defined
  timeline. On this timeline, all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media
  resource">media resources</a> of all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media
  elements</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> are temporally
  aligned according to their defined offsets. The <dfn id="media-controller-duration">media
  controller duration</dfn> of that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is
  the time from the earliest <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a>,
  relative to this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> timeline, of any of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media resource">media resources</a> of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>, to the time of the latest <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource-end-position">media
  resource end position</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource" title="media
  resource">media resources</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media
  elements</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>, again relative
  to this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> timeline.</p>

  <p>Each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> has a <dfn id="media-controller-position">media controller
  position</dfn>. This is the time on the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s timeline at which the user agent is
  trying to play the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a>. When a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is created, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller
  position</a> is initially zero.</p>

  <p>When the user agent is to <dfn id="bring-the-media-element-up-to-speed-with-its-new-media-controller" title="bring the media element up
  to speed with its new media controller">bring a media element up to
  speed with its new media controller</dfn>, it must <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> that <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>
  to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller
  position</a> relative to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
  timeline.</p>

  <p>When the user agent is to <dfn id="seek-the-media-controller">seek the media controller</dfn> to
  a particular <var title="">new playback position</var>, it must
  follow these steps:</p>

  <ol><li><p>If the <var title="">new playback position</var> is less
   than zero, then set it to zero.</p></li>

   <li><p>If the <var title="">new playback position</var> is greater
   than the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-duration">media controller duration</a>, then set it to the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-duration">media controller duration</a>.</p></li>

   <li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a> to the <var title="">new playback position</var>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">Seek</a> each <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements" title="slaved media elements">slaved media element</a> to the
   <var title="">new playback position</var> relative to the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> timeline.</p></li> <!-- i.e. "bring the
   media element up to speed with its new media controller" -->

  </ol><p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is a <dfn id="blocked-media-controller">blocked media
  controller</dfn> if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-media-controller">paused media controller</a>, or if any of its <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved
  media elements</a> are <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-media-element" title="blocked media
  element">blocked media elements</a>, or if any of its
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#autoplaying-flag">autoplaying
  flag</a> is true still have their <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute set to true, or if
  all of its <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> have their <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> attribute set to true.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is <dfn id="blocked-on-its-media-controller">blocked on its media
  controller</dfn> if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-media-controller">blocked media controller</a>, or if its <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media
  controller position</a> is either before the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a> relative
  to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s timeline or after the end of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> relative to the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s timeline.</p>

  <p id="controller-playback">When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is
  not a <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-media-controller">blocked media controller</a> and it has at least one
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements" title="slaved media elements">slaved media element</a>
  whose <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#fully-active">fully active</a>
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a> must increase monotonically
  at <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-playback-rate">media controller playback rate</a> units of time on the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s timeline per unit time of the clock
  used by its <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a>.</p>

  <p>When the zero point on the timeline of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> moves relative to the timelines of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> by a time difference <var title="">ΔT</var>, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a> must be decremented by <var title="">ΔT</var>.</p>

  <p class="note">In some situations, e.g. when playing back a live
  stream without buffering anything, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller
  position</a> would increase monotonically as described above at the
  same rate as the <var title="">ΔT</var> described in the
  previous paragraph decreases it, with the end result that for all
  intents and purposes, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a>
  would appear to remain constant (probably with the value 0).</p>

  <hr><p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> has a <dfn id="most-recently-reported-readiness-state">most recently reported
  readiness state</dfn>, which is a number from 0 to 4 derived from
  the numbers used for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> <code title="attr-media-readyState">readyState</code> attribute, and a
  <dfn id="most-recently-reported-playback-state">most recently reported playback state</dfn>, which is either
  <i>playing</i>, <i>waiting</i>, or <i>ended</i>.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is created, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#most-recently-reported-readiness-state">most
  recently reported readiness state</a> must be set to 0, and its
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#most-recently-reported-playback-state">most recently reported playback state</a> must be set to
  <i>waiting</i>.</p>

  <p>When a user agent is required to <dfn id="report-the-controller-state">report the controller
  state</dfn> for a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>, the user agent must
  run the following steps:</p>

  <ol><li>

    <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media
    elements</a>, let <var title="">new readiness state</var> be
    0.</p>

    <p>Otherwise, let it have the lowest value of the <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> IDL attributes of
    all of its <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a>.</p>

   </li>

   <li>

    <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#most-recently-reported-readiness-state">most recently
    reported readiness state</a> is less than the <var title="">new
    readiness state</var>, then run these substeps:</p>

    <ol><li><p>Let <var title="">next state</var> be the
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#most-recently-reported-readiness-state">most recently reported
     readiness state</a>.</p></li>

     <li><p><i>Loop</i>: Increment <var title="">next state</var> by
     one.</p></li>

     <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
     event</a> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object, whose
     name is the event name corresponding to the value of <var title="">next state</var> given in the table below.</p></li>

     <li><p>If <var title="">next state</var> is less than <var title="">new readiness state</var>, then return to the step
     labeled <i>loop</i>.</p></li>

    </ol><p>Otherwise, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#most-recently-reported-readiness-state">most
    recently reported readiness state</a> is greater than <var title="">new readiness state</var> then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a>
    to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> at the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object, whose name is the event name
    corresponding to the value of <var title="">new readiness
    state</var> given in the table below.</p>

    <table><thead><tr><th>Value of <var title="">new readiness state</var>
       </th><th>Event name

     </th></tr></thead><tbody><tr><td> 0
       </td><td> <code title="event-MediaController-emptied"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-emptied">emptied</a></code>

      </td></tr><tr><td> 1
       </td><td> <code title="event-MediaController-loadedmetadata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-loadedmetadata">loadedmetadata</a></code>

      </td></tr><tr><td> 2
       </td><td> <code title="event-MediaController-loadeddata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-loadeddata">loadeddata</a></code>

      </td></tr><tr><td> 3
       </td><td> <code title="event-MediaController-canplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-canplay">canplay</a></code>

      </td></tr><tr><td> 4
       </td><td> <code title="event-MediaController-canplaythrough"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-canplaythrough">canplaythrough</a></code>

    </td></tr></tbody></table></li>

   <li><p>Let the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#most-recently-reported-readiness-state">most recently
   reported readiness state</a> be <var title="">new readiness
   state</var>.</p></li>

   <li>

    <p>Initialize <var title="">new playback state</var> by setting it
    to the state given for the first matching condition from the
    following list:</p>

    <dl class="switch"><dt>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved
     media elements</a></dt>

     <dd>Let <var title="">new playback state</var> be <i>waiting</i>.</dd>

     <dt>If all of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved
     media elements</a> have <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback">ended playback</a> and the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-playback-rate">media controller playback rate</a> is positive or
     zero</dt>

     <dd>Let <var title="">new playback state</var> be <i>ended</i>.</dd>

     <dt>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-media-controller">blocked media
     controller</a></dt>

     <dd>Let <var title="">new playback state</var> be <i>waiting</i>.</dd>

     <dt>Otherwise</dt>

     <dd>Let <var title="">new playback state</var> be <i>playing</i>.</dd>

    </dl></li>

   <li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#most-recently-reported-playback-state">most recently
   reported playback state</a> is not equal to <var title="">new
   playback state</var> and the <var title="">new playback state</var>
   is <i>ended</i>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> that, if the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#playing-media-controller">playing media
   controller</a>, and all of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> have still <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback">ended
   playback</a>, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-playback-rate">media controller playback
   rate</a> is still positive or zero, changes the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object to a <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-media-controller">paused media
   controller</a> and then <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event" title="fire a simple event">fires
   a simple event</a> named <code title="event-MediaController-pause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-pause">pause</a></code> at the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object.</p></li>

   <li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#most-recently-reported-playback-state">most recently
   reported playback state</a> is not equal to <var title="">new
   playback state</var> then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a
   simple event</a> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object,
   whose name is <code title="event-MediaController-playing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-playing">playing</a></code> if <var title="">new playback state</var> is <i>playing</i>, <code title="event-MediaController-ended"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-ended">ended</a></code> if <var title="">new playback state</var> is <i>ended</i>, and <code title="event-MediaController-waiting"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-waiting">waiting</a></code>
   otherwise.</p></li>

   <li><p>Let the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#most-recently-reported-playback-state">most recently
   reported playback state</a> be <var title="">new playback
   state</var>.</p></li>

  </ol><hr><p>The following are the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers">event handlers</a> (and their
  corresponding <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type" title="event handler event type">event handler
  event types</a>) that must be supported, as IDL attributes, by
  all objects implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>
  interface:</p>

  <table><thead><tr><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers" title="event handlers">Event handler</a> </th><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type">Event handler event type</a>
   </th></tr></thead><tbody><tr><td><dfn id="handler-mediacontroller-onemptied" title="handler-MediaController-onemptied"><code>onemptied</code></dfn> </td><td> <code title="event-MediaController-emptied"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-emptied">emptied</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-onloadedmetadata" title="handler-MediaController-onloadedmetadata"><code>onloadedmetadata</code></dfn> </td><td> <code title="event-MediaController-loadedmetadata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-loadedmetadata">loadedmetadata</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-onloadeddata" title="handler-MediaController-onloadeddata"><code>onloadeddata</code></dfn> </td><td> <code title="event-MediaController-loadeddata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-loadeddata">loadeddata</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-oncanplay" title="handler-MediaController-oncanplay"><code>oncanplay</code></dfn> </td><td> <code title="event-MediaController-canplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-canplay">canplay</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-oncanplaythrough" title="handler-MediaController-oncanplaythrough"><code>oncanplaythrough</code></dfn> </td><td> <code title="event-MediaController-canplaythrough"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-canplaythrough">canplaythrough</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-onplaying" title="handler-MediaController-onplaying"><code>onplaying</code></dfn> </td><td> <code title="event-MediaController-playing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-playing">playing</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-onended" title="handler-MediaController-onended"><code>onended</code></dfn> </td><td> <code title="event-MediaController-ended"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-ended">ended</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-onwaiting" title="handler-MediaController-onwaiting"><code>onwaiting</code></dfn> </td><td> <code title="event-MediaController-waiting"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-waiting">waiting</a></code>
   </td></tr></tbody><tbody><tr><td><dfn id="handler-mediacontroller-ondurationchange" title="handler-MediaController-ondurationchange"><code>ondurationchange</code></dfn> </td><td> <code title="event-MediaController-durationchange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-durationchange">durationchange</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-ontimeupdate" title="handler-MediaController-ontimeupdate"><code>ontimeupdate</code></dfn> </td><td> <code title="event-MediaController-timeupdate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-timeupdate">timeupdate</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-onplay" title="handler-MediaController-onplay"><code>onplay</code></dfn> </td><td> <code title="event-MediaController-play"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-play">play</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-onpause" title="handler-MediaController-onpause"><code>onpause</code></dfn> </td><td> <code title="event-MediaController-pause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-pause">pause</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-onratechange" title="handler-MediaController-onratechange"><code>onratechange</code></dfn> </td><td> <code title="event-MediaController-ratechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-ratechange">ratechange</a></code>
    </td></tr><tr><td><dfn id="handler-mediacontroller-onvolumechange" title="handler-MediaController-onvolumechange"><code>onvolumechange</code></dfn> </td><td> <code title="event-MediaController-volumechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-mediacontroller-volumechange">volumechange</a></code>
  </td></tr></tbody></table><hr><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a> for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> listed in this section is the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-manipulation-task-source">DOM manipulation task source</a>.</p>

  </div>


  <h6 id="assigning-a-media-controller-declaratively"><span class="secno">4.8.10.11.3 </span>Assigning a media controller declaratively</h6>

  <p>The <dfn id="attr-media-mediagroup" title="attr-media-mediagroup"><code>mediagroup</code></dfn> content
  attribute on <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> can
  be used to link multiple <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media
  elements</a> together by implicitly creating a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>. The value is text; <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
  element">media elements</a> with the same value are automatically
  linked by the user agent.</p>

  <div class="impl">

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is created with a <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute, and when
  a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute is set,
  changed, or removed, the user agent must run the following
  steps:</p>

  <ol><li><p>Let <var title="">m</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>
   in question.</p></li>

   <li><p>Let <var title="">m</var> have no <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current
   media controller</a>, if it currently has one.</p></li>

   <li><p>If <var title="">m</var>'s <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute is being
   removed, then abort these steps.</p></li>

   <li>

    <p>If there is another <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> whose
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> is the same as <var title="">m</var>'s
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> (even if one or both of these elements are
    not actually <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document" title="in a Document"><em>in</em> the
    <code>Document</code></a>), and which also has a <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute, and
    whose <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code>
    attribute has the same value as the new value of <var title="">m</var>'s <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute, then
    let <var title="">controller</var> be that <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
    element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>.</p>

    <p>Otherwise, let <var title="">controller</var> be a newly created
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>.</p>

   </li>

   <li><p>Let <var title="">m</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
   controller</a> be <var title="">controller</var>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#bring-the-media-element-up-to-speed-with-its-new-media-controller">Bring the media element up to speed with its new media
   controller</a>.</p></li>

  </ol><p>The <dfn id="dom-media-mediagroup" title="dom-media-mediaGroup"><code>mediaGroup</code></dfn> IDL
  attribute on <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> content
  attribute.</p>

  </div>

  <div class="example">

   <p>Multiple <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a>
   referencing the same <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> will share a
   single network request. This can be used to efficiently play two
   (video) tracks from the same <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> in two
   different places on the screen. Used with the <code title="attr-media-mediagroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-mediagroup">mediagroup</a></code> attribute, these
   elements can also be kept synchronised.</p>

   <p>In this example, a sign-languge interpreter track from a movie
   file is overlaid on the primary video track of that same video file
   using two <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> elements, some CSS, and an implicit
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>:</p>

   <pre>&lt;article&gt;
 &lt;style scoped&gt;
  div { margin: 1em auto; position: relative; width: 400px; height: 300px; }
  video { position; absolute; bottom: 0; right: 0; }
  video:first-child { width: 100%; height: 100%; }
  video:last-child { width: 30%; }
 &lt;/style&gt;
 &lt;div&gt;
  &lt;video src="movie.vid#track=Video&amp;amp;track=English" autoplay controls mediagroup=movie&gt;&lt;/video&gt;
  &lt;video src="movie.vid#track=sign" autoplay mediagroup=movie&gt;&lt;/video&gt;
 &lt;/div&gt;
&lt;/article&gt;</pre>

  </div>


<!--v2:
  <h6>Ducking</h6>

  <p><dfn>Ducking</dfn> is the process of reducing the volume of one
  audio track when another audio track is playing, for example
  occasionally reducing the volume of a the soundtrack to allow the
  viewer to hear an intermittent commentary track.</p>

  (add an "autoduck" attribute that reduces the volume of other media
  elements with the same <span>current media controller</span>
  whenever this media element is playing audio)

   <video src="movie.vid#track=Video&amp;amp;track=English" autoplay controls mediagroup=main></video>
   <audio src="movie.vid#track=Descriptions" mediagroup=main autoduck></audio>
-->


<!--TOPIC:Video Text Tracks-->
  <h5 id="timed-text-tracks"><span class="secno">4.8.10.12 </span>Timed text tracks</h5>

  <h6 id="text-track-model"><span class="secno">4.8.10.12.1 </span>Text track model</h6>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> can have a group of associated <dfn id="text-track" title="text track">text tracks</dfn>, known as the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a>'s <dfn id="list-of-text-tracks">list of text tracks</dfn>. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> are sorted as follows:</p>

  <ol class="brief"><li>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> corresponding
   to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element children of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
   element</a>, in <a href="http://www.whatwg.org/specs/web-apps/current-work/#tree-order">tree order</a>.</li>

   <li>Any <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> added using
   the <code title="dom-media-addTextTrack"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-addtexttrack">addTextTrack()</a></code> method, in
   the order they were added, oldest first.</li>

   <li>Any <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource-specific-text-track" title="media-resource-specific text
   track">media-resource-specific text tracks</a> (<a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> corresponding to data in
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>), in the order defined by the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>'s format specification.</li>

  </ol><p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> consists of:</p>

  <dl><dt><dfn id="text-track-kind" title="text track kind">The kind of text track</dfn>

   </dt><dd>

    <p>This decides how the track is handled by the user agent. The
    kind is represented by a string. The possible strings are:</p>

    <ul class="brief"><li><dfn id="dom-texttrack-kind-subtitles" title="dom-TextTrack-kind-subtitles"><code>subtitles</code></dfn>
     </li><li><dfn id="dom-texttrack-kind-captions" title="dom-TextTrack-kind-captions"><code>captions</code></dfn>
     </li><li><dfn id="dom-texttrack-kind-descriptions" title="dom-TextTrack-kind-descriptions"><code>descriptions</code></dfn>
     </li><li><dfn id="dom-texttrack-kind-chapters" title="dom-TextTrack-kind-chapters"><code>chapters</code></dfn>
     </li><li><dfn id="dom-texttrack-kind-metadata" title="dom-TextTrack-kind-metadata"><code>metadata</code></dfn>
    </li></ul><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind" title="text track kind">kind of track</a> can
    change dynamically, in the case of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>
    corresponding to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element.</p>

   </dd>

   <dt><dfn id="text-track-label" title="text track label">A label</dfn>

   </dt><dd>

    <p>This is a human-readable string intended to identify the track
    for the user. In certain cases, the label might be generated
    automatically.</p>

    <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-label" title="text track label">label of a track</a> can
    change dynamically, in the case of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>
    corresponding to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element or in the case of an
    automatically-generated label whose value depends on variable
    factors such as the user's preferred user interface language.</p>

   </dd>

   <dt><dfn id="text-track-language" title="text track language">A language</dfn>

   </dt><dd>

    <p>This is a string (a BCP 47 language tag) representing the
    language of the text track's cues. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBCP47">[BCP47]</a></p>

    <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-language" title="text track language">language of a text
    track</a> can change dynamically, in the case of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
    track</a> corresponding to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element.</p>

   </dd>

   <dt><dfn id="text-track-readiness-state" title="text track readiness state">A readiness state</dfn>

   </dt><dd>

    <p>One of the following:</p>

    <dl><dt><dfn id="text-track-not-loaded" title="text track not loaded">Not loaded</dfn>

     </dt><dd>

      <p>Indicates that the text track's cues have not been
      obtained.</p>

     </dd>

     <dt><dfn id="text-track-loading" title="text track loading">Loading</dfn>

     </dt><dd>

      <p>Indicates that the text track is loading and there have been
      no fatal errors encountered so far. Further cues might still be
      added to the track by the parser.</p>

     </dd>

     <dt><dfn id="text-track-loaded" title="text track loaded">Loaded</dfn>

     </dt><dd>

      <p>Indicates that the text track has been loaded with no fatal
      errors.</p>

     </dd>

     <dt><dfn id="text-track-failed-to-load" title="text track failed to load">Failed to load</dfn>

     </dt><dd>

      <p>Indicates that the text track was enabled, but when the user
      agent attempted to obtain it, this failed in some way
      (e.g. <a href="http://www.whatwg.org/specs/web-apps/current-work/#url">URL</a> could not be <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a
      url">resolved</a>, network error, unknown text track
      format). Some or all of the cues are likely missing and will not
      be obtained.</p>

     </dd>

    </dl><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state" title="text track readiness state">readiness
    state</a> of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> changes dynamically as
    the track is obtained.</p>

   </dd>

   <dt><dfn id="text-track-mode" title="text track mode">A mode</dfn>

   </dt><dd>

    <p>One of the following:</p>

    <dl><dt><dfn id="text-track-disabled" title="text track disabled">Disabled</dfn>

     </dt><dd>

      <p>Indicates that the text track is not active. Other than for
      the purposes of exposing the track in the DOM, the user agent is
      ignoring the text track. No cues are active, no events are
      fired, and the user agent will not attempt to obtain the track's
      cues.</p>

     </dd>

     <dt><dfn id="text-track-hidden" title="text track hidden">Hidden</dfn>

     </dt><dd>

      <p>Indicates that the text track is active, but that the user
      agent is not actively displaying the cues. If no attempt has yet
      been made to obtain the track's cues, the user agent will
      perform such an attempt momentarily. The user agent is
      maintaining a list of which cues are active, and events are
      being fired accordingly.</p>

     </dd>

     <dt><dfn id="text-track-showing" title="text track showing">Showing</dfn>
     </dt><dt><dfn id="text-track-showing-by-default" title="text track showing by default">Showing by default</dfn>

     </dt><dd>

      <p>Indicates that the text track is active. If no attempt has
      yet been made to obtain the track's cues, the user agent will
      perform such an attempt momentarily. The user agent is
      maintaining a list of which cues are active, and events are
      being fired accordingly. In addition, for text tracks whose
      <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind" title="text track kind">kind</a> is <code title="dom-mediatrack-kind-subtitles">subtitles</code> or <code title="dom-mediatrack-kind-captions">captions</code>, the cues
      are being overlaid on the video as appropriate; for text tracks
      whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind" title="text track kind">kind</a> is <code title="dom-mediatrack-kind-descriptions">descriptions</code>,
      the user agent is making the cues available to the user in a
      non-visual fashion; and for text tracks whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind" title="text
      track kind">kind</a> is <code title="dom-mediatrack-kind-chapters">chapters</code>, the user
      agent is making available to the user a mechanism by which the
      user can navigate to any point in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
      resource</a> by selecting a cue.</p>

      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by default">showing by
      default</a> state is used in conjunction with the <code title="attr-track-default"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-default">default</a></code> attribute on
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> elements to indicate that the text track was
      enabled due to that attribute. This allows the user agent to
      override the state if a later track is discovered that is more
      appropriate per the user's preferences.</p>

     </dd>

    </dl></dd>

   <dt><dfn id="text-track-list-of-cues" title="text track list of cues">A list of zero or more cues</dfn>

   </dt><dd>

    <p>A list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">text track
    cues</a>, along with <dfn id="rules-for-updating-the-text-track-rendering">rules for updating the text track
    rendering</dfn>.
    For example, for <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-display-of-webvtt-text-tracks">rules for updating
    the display of WebVTT text tracks</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a>
    </p>

    <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues" title="text track list of cues">list of cues of a
    text track</a> can change dynamically, either because the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> has <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-not-loaded" title="text track not
    loaded">not yet been loaded</a> or is still <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loading" title="text
    track loading">loading</a>, or due to DOM manipulation.</p>

   </dd>

  </dl><p>Each <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> has a corresponding
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> of a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> are <dfn id="the-text-tracks-are-ready" title="the text tracks are
  ready">ready</dfn> if all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text
  tracks</a> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode" title="text track mode">mode</a> was
  not in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled" title="text track disabled">disabled</a> state
  when the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection
  algorithm</a> last started now have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state">text track readiness
  state</a> of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loaded" title="text track loaded">loaded</a> or
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-failed-to-load" title="text track failed to load">failed to load</a>.</p>

  <hr><p>A <dfn id="text-track-cue">text track cue</dfn> is the unit of time-sensitive data
  in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>, corresponding for instance for
  subtitles and captions to the text that appears at a particular time
  and disappears at another time.</p>

  <p>Each <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> consists of:</p>

  <dl><dt><dfn id="text-track-cue-identifier" title="text track cue identifier">An identifier</dfn>
   </dt><dd>
    <p>An arbitrary string.</p>
   </dd>

   <dt><dfn id="text-track-cue-start-time" title="text track cue start time">A start time</dfn>
   </dt><dd>
    <p>The time, in seconds and fractions of a second, that describes
    the beginning of the range of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> to which
    the cue applies.</p>
   </dd>

   <dt><dfn id="text-track-cue-end-time" title="text track cue end time">An end time</dfn>
   </dt><dd>
    <p>The time, in seconds and fractions of a second, that describes
    the end of the range of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> to which the
    cue applies.</p>
   </dd>

   <dt><dfn id="text-track-cue-pause-on-exit-flag" title="text track cue pause-on-exit flag">A pause-on-exit flag</dfn>
   </dt><dd>
    <p>A boolean indicating whether playback of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
    resource</a> is to pause when the end of the range to which the
    cue applies is reached.</p>
   </dd>

   <dt><dfn id="text-track-cue-writing-direction" title="text track cue writing direction">A writing direction</dfn>
   </dt><dd>
    <p>A writing direction, either <dfn id="text-track-cue-horizontal-writing-direction" title="text track cue
    horizontal writing direction">horizontal</dfn> (a line extends
    horizontally and is positioned vertically, with consecutive lines
    displayed below each other), <dfn id="text-track-cue-vertical-growing-left-writing-direction" title="text track cue vertical
    growing left writing direction">vertical growing left</dfn> (a
    line extends vertically and is positioned horizontally, with
    consecutive lines displayed to the left of each other<!-- used
    for east asian-->), or <dfn id="text-track-cue-vertical-growing-right-writing-direction" title="text track cue vertical
    growing right writing direction">vertical growing right</dfn> (a
    line extends vertically and is positioned horizontally, with
    consecutive lines displayed to the right of each other<!-- used for
    mongolian -->).</p>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction" title="text track cue writing direction">writing
    direction</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-horizontal-writing-direction" title="text track cue horizontal
    writing direction">horizontal</a>, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position" title="text
    track cue line position">line position</a> percentages are
    relative to the height of the video, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text-position" title="text track
    cue text position">text position</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-size" title="text
    track cue size">size</a> percentages are relative to the width
    of the video.</p>

    <p>Otherwise, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position" title="text track cue line position">line
    position</a> percentages are relative to the width of the
    video, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text-position" title="text track cue text position">text
    position</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-size" title="text track cue size">size</a>
    percentages are relative to the height of the video.</p>

   </dd>

   <dt><dfn id="text-track-cue-snap-to-lines-flag" title="text track cue snap-to-lines flag">A snap-to-lines flag</dfn>
   </dt><dd>
    <p>A boolean indicating whether the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position" title="text track cue
    line position">line's position</a> is a line position
    (positioned to a multiple of the line dimensions of the first line
    of the cue), or whether it is a percentage of the dimension of the
    video.</p>
   </dd>

   <dt><dfn id="text-track-cue-line-position" title="text track cue line position">A line position</dfn>
   </dt><dd>
    <p>Either a number giving the position of the lines of the cue, to
    be interpreted as defined by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction" title="text track cue
    writing direction">writing direction</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-snap-to-lines-flag" title="text
    track cue snap-to-lines flag">snap-to-lines flag</a> of the
    cue, or the special value <dfn id="text-track-cue-automatic-line-position" title="text track cue automatic line
    position">auto</dfn>, which means the position is to depend on
    the other active tracks.</p>

    <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> has a <dfn id="text-track-cue-computed-line-position">text track cue
    computed line position</dfn> whose value is defined in terms of
    the other aspects of the cue. If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position">text track cue line
    position</a> is numeric, then that is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-computed-line-position">text track cue
    computed line position</a>. Otherwise, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position">text track cue
    line position</a> is the special value <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-automatic-line-position" title="text track
    cue automatic line position">auto</a>; if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-snap-to-lines-flag">text track
    cue snap-to-lines flag</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a>
    is not set, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-computed-line-position">text track cue computed line position</a>
    is the value 100; otherwise, it is the value returned by the
    following algorithm:</p>

    <ol><li><p>Let <var title="">cue</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track
     cue</a>.</p></li>

     <li><p>If <var title="">cue</var> is not associated with a
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>, return −1 and abort these
     steps.</p></li>

     <li><p>Let <var title="">track</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
     track</a> that the <var title="">cue</var> is associated
     with.</p></li>

     <li><p>Let <var title="">n</var> be the number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track
     mode</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track showing">showing</a> or
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by default">showing by
     default</a> and that are in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a> before <var title="">track</var>.</p></li>

     <li><p>Increment <var title="">n</var> by one.</p></li>

     <li><p>Negate <var title="">n</var>.</p></li>

     <li><p>Return <var title="">n</var>.</p></li>

    </ol></dd>

   <dt><dfn id="text-track-cue-text-position" title="text track cue text position">A text position</dfn>
   </dt><dd>
    <p>A number giving the position of the text of the cue within each
    line, to be interpreted as a percentage of the video, as defined
    by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction" title="text track cue writing direction">writing
    direction</a>.</p>
   </dd>

   <dt><dfn id="text-track-cue-size" title="text track cue size">A size</dfn>
   </dt><dd>
    <p>A number giving the size of the box within which the text of
    each line of the cue is to be aligned, to be interpreted as a
    percentage of the video, as defined by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction" title="text
    track cue writing direction">writing direction</a>.</p>
   </dd>

   <dt><dfn id="text-track-cue-alignment" title="text track cue alignment">An alignment</dfn>
   </dt><dd>
    <p>An alignment for the text of each line of the cue, either <dfn id="text-track-cue-start-alignment" title="text track cue start alignment">start alignment</dfn> (the
    text is aligned towards its start side), <dfn id="text-track-cue-middle-alignment" title="text track
    cue middle alignment">middle alignment</dfn> (the text is aligned
    centered between its start and end sides), <dfn id="text-track-cue-end-alignment" title="text track
    cue end alignment">end alignment</dfn> (the text is aligned
    towards its end side). Which sides are the start and end sides
    depends on the Unicode bidirectional algorithm and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction" title="text track cue writing direction">writing
    direction</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBIDI">[BIDI]</a></p>
   </dd>

   <dt><dfn id="text-track-cue-text" title="text track cue text">The text of the cue</dfn>
   </dt><dd>
    <p>The raw text of the cue, and rules for its interpretation,
    allowing the text to be rendered and converted to a DOM fragment.</p>
   </dd>

  </dl><p>Each <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> has a corresponding
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object, and can be associated with a
  particular <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>. Once a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track
  cue</a> is associated with a particular <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>,
  the association is permanent. A <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a>'s
  in-memory representation can be dynamically changed through this
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> API.</p>

  <p>In addition, each <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> has two pieces of
  dynamic information:</p>

  <dl><dt>The <dfn id="text-track-cue-active-flag" title="text track cue active flag">active flag</dfn>
   </dt><dd>

    <p>This flag must be initially unset.  The flag is used to ensure
    events are fired appropriately when the cue becomes active or
    inactive, and to make sure the right cues are rendered.</p>

    <p>The user agent must synchronously unset this flag whenever the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> is removed from its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
    track</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a>; whenever the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> itself is removed from its <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
    element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a> or has its
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> changed to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled" title="text track
    disabled">disabled</a>; and whenever the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
    element</a>'s <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> is changed back to
    <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code>. When the
    flag is unset in this way for one or more cues in <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> that were <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track showing">showing</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text
    track showing by default">showing by default</a> prior to the
    relevant incident, the user agent must, after having unset the
    flag for all the affected cues, apply the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-text-track-rendering">rules for updating
    the text track rendering</a> of those <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text
    track">text tracks</a>.
    For example, for <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a>
    based on <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-display-of-webvtt-text-tracks">rules for updating the
    display of WebVTT text tracks</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p>
   </dd>

   <dt>The <dfn id="text-track-cue-display-state" title="text track cue display state">display state</dfn>
   </dt><dd>

    <p>This is used as part of the rendering model, to keep cues in a
    consistent position. It must initially be empty. Whenever the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text track cue active flag</a> is unset, the user agent
    must empty the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-display-state">text track cue display state</a>.</p>

   </dd>

  </dl><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">text track cues</a> of a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text
  tracks</a> are ordered relative to each other in the <dfn id="text-track-cue-order">text
  track cue order</dfn>, which is determined as follows: first group
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a> by their <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
  track</a>, with the groups being sorted in the same order as
  their <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> appear in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>;
  then, within each group, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a>
  must be sorted by their <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time" title="text track cue start
  time">start time</a>, earliest first; then, any <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a> with the same <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time" title="text
  track cue start time">start time</a> must be sorted by their
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time" title="text track cue end time">end time</a>, latest
  first; and finally, any <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a>
  with identical <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time" title="text track cue end time">end
  times</a> must be sorted in the order they were created (so
  e.g. for cues from a <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a> file, that would be the
  order in which the cues were listed in the file). <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p>


  <h6 id="sourcing-in-band-text-tracks"><span class="secno">4.8.10.12.2 </span>Sourcing in-band text tracks</h6>

  <p>A <dfn id="media-resource-specific-text-track">media-resource-specific text track</dfn> is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
  track</a> that corresponds to data found in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>.</p>


  <div class="impl">

  <p>Rules for processing and rendering such data are defined by the
  relevant specifications, e.g. the specification of the video format
  if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is a video.</p>

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> contains data that the user
  agent recognises and supports as being equivalent to a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
  track</a>, the user agent <a href="http://www.whatwg.org/specs/web-apps/current-work/#found-a-media-resource-specific-timed-track">runs</a> the
  <dfn id="steps-to-expose-a-media-resource-specific-text-track">steps to expose a media-resource-specific text track</dfn>
  with the relevant data, as follows.</p>

  <!-- this runs synchronously from a fetch task -->

  <ol><li><p>Associate the relevant data with a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
   track</a> and its corresponding new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code>
   object. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> is a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource-specific-text-track">media-resource-specific text track</a>.</p></li>

   <li><p>Set the new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind" title="text track
   kind">kind</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-label" title="text track label">label</a>,
   and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-language" title="text track language">language</a> based on the
   semantics of the relevant data, as defined by the relevant
   specification.</p></li>

   <li><p>Populate the new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues" title="text track list of cues">list of cues</a> with the cues
   parsed so far, folllowing the <a href="http://www.whatwg.org/specs/web-apps/current-work/#guidelines-for-exposing-cues-in-various-formats-as-text-track-cues">guidelines for exposing
   cues</a>, and begin updating it dynamically as
   necessary.</p></li>

   <li><p>Set the new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state" title="text
   track readiness state">readiness state</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loaded" title="text
   track loaded">loaded</a>.</p></li> <!-- otherwise, you'll have
   to load the whole media file just to start playing the first
   frame... -->

   <li><p>Set the new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode" title="text
   track mode">mode</a> to the mode consistent with the user's
   preferences and the requirements of the relevant specification for
   the data.</p></li>

   <li><p>Leave the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a> empty, and
   associate with it the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-text-track-rendering">rules for updating the text track
   rendering</a> appropriate for the format in question.</p>

   </li><li><p>Add the new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
   element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>.</p></li>

   <li><p>Fire an event with the name <code title="event-addtrack">addtrack</code>, that does not bubble and is
   not cancelable, and that uses the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#trackevent">TrackEvent</a></code>
   interface, with the <code title="dom-TrackEvent-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trackevent-track">track</a></code>
   attribute initialized to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object, at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
   <code title="dom-media-textTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-texttracks">textTracks</a></code> attribute's
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object.</p></li>

  </ol><!-- removetrack: we don't currently ever remove an in-band text
  track, because it might have been manipulated or might be about to
  be manipulated. If we made in-band text tracks readonly, we could
  probably get away with cleaning them up when they fall into the time
  before the earliest possible position and are known to be over and
  done with. --><p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is to <dfn id="forget-the-media-element&#39;s-media-resource-specific-text-tracks">forget the media
  element's media-resource-specific text tracks</dfn>, the user
  agent must remove from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list
  of text tracks</a> all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource-specific-text-track" title="media-resource-specific
  text track">media-resource-specific text tracks</a>.</p>

  </div>



  <div class="impl">

  <h6 id="sourcing-out-of-band-text-tracks"><span class="secno">4.8.10.12.3 </span>Sourcing out-of-band text tracks</h6>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element is created, it must be
  associated with a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> (with its value set
  as defined below) and its corresponding new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code>
  object.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track kind</a> is determined from the state of
  the element's <code title="attr-track-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind">kind</a></code> attribute
  according to the following table; for a state given in a cell of the
  first column, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind" title="text track kind">kind</a> is the
  string given in the second column:</p>

  <table><thead><tr><th>State
     </th><th>String
   </th></tr></thead><tbody><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-subtitles" title="attr-track-kind-subtitles">Subtitles</a>
     </td><td><code title="dom-timedtrack-kind-subtitles">subtitles</code>
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-captions" title="attr-track-kind-captions">Captions</a>
     </td><td><code title="dom-timedtrack-kind-captions">captions</code>
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-descriptions" title="attr-track-kind-descriptions">Descriptions</a>
     </td><td><code title="dom-timedtrack-kind-descriptions">descriptions</code>
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-chapters" title="attr-track-kind-chapters">Chapters</a>
     </td><td><code title="dom-timedtrack-kind-chapters">chapters</code>
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind-metadata" title="attr-track-kind-metadata">Metadata</a>
     </td><td><code title="dom-timedtrack-kind-metadata">metadata</code>
  </td></tr></tbody></table><p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-label">text track label</a> is the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-label">track
  label</a>.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-language">text track language</a> is the element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-language">track language</a>, if any, or the empty string
  otherwise.</p>

  <p>As the <code title="attr-track-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-kind">kind</a></code>, <code title="attr-track-label"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-label">label</a></code>, and <code title="attr-track-srclang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-srclang">srclang</a></code> attributes are set,
  changed, or removed, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> must update
  accordingly, as per the definitions above.</p>

  <p class="note">Changes to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-url">track URL</a> are handled in
  the algorithm below.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a> is initially empty. It
  is dynamically modified when the referenced file is parsed.
  Associated with the list are the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-text-track-rendering">rules for updating the text
  track rendering</a> appropriate for the format in question; for
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a>, this is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-display-of-webvtt-text-tracks">rules for updating the
  display of WebVTT text tracks</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element's parent element changes and
  the new parent is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, then the user agent
  must add the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element's corresponding <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
  track</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text
  tracks</a>, and then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to fire an event
  with the name <code title="event-addtrack">addtrack</code>, that
  does not bubble and is not cancelable, and that uses the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#trackevent">TrackEvent</a></code> interface, with the <code title="dom-TrackEvent-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trackevent-track">track</a></code> attribute initialized to
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object, at the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-textTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-texttracks">textTracks</a></code> attribute's
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element's parent element changes and
  the old parent was a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, then the user agent
  must remove the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element's corresponding
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>, and then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a>
  to fire an event with the name <code title="event-removetrack">removetrack</code>, that does not bubble
  and is not cancelable, and that uses the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#trackevent">TrackEvent</a></code>
  interface, with the <code title="dom-TrackEvent-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trackevent-track">track</a></code>
  attribute initialized to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object, at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
  <code title="dom-media-textTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-texttracks">textTracks</a></code> attribute's
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object.</p> <!-- removetrack -->

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> corresponding to a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element is added to a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>, the user agent
  must set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> appropriately, as
  determined by the following conditions:</p>

  <dl class="switch"><dt>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track kind</a> is <code title="dom-TextTrack-kind-subtitles"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-subtitles">subtitles</a></code> or <code title="dom-TextTrack-kind-captions"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-captions">captions</a></code> and the user
   has indicated an interest in having a track with this <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text
   track kind</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-language">text track language</a>, and
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-label">text track label</a> enabled, and there is no other
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a> with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track
   kind</a> of either <code title="dom-TextTrack-kind-subtitles"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-subtitles">subtitles</a></code> or <code title="dom-TextTrack-kind-captions"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-captions">captions</a></code> whose
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track
   showing">showing</a></dt>

   <dt>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track kind</a> is <code title="dom-TextTrack-kind-descriptions"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-descriptions">descriptions</a></code> and
   the user has indicated an interest in having text descriptions with
   this <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-language">text track language</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-label">text track
   label</a> enabled, and there is no other <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
   track</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of
   text tracks</a> with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track kind</a> of <code title="dom-TextTrack-kind-descriptions"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-descriptions">descriptions</a></code> whose
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track
   showing">showing</a></dt>

   <dd>
    <p>Let the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text
    track showing">showing</a>.</p>

    <p>If there is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
    element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a> whose
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing
    by default">showing by default</a>, the user agent must
    furthermore change <em>that</em> <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden" title="text track
    hidden">hidden</a>.</p> <!-- so that we still get events and
    stuff: we can expect authors to forget that default doesn't mean
    that it'll always be turned on, and that they'll still rely on
    events firing even if it doesn't show -->

   </dd>

   <dt>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track kind</a> is <code title="dom-TextTrack-kind-chapters"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-chapters">chapters</a></code> and the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-language">text track language</a> is one that the user agent has
   reason to believe is appropriate for the user, and there is no
   other <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a> with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track
   kind</a> of <code title="dom-TextTrack-kind-chapters"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-chapters">chapters</a></code> whose
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track
   showing">showing</a></dt>

   <dd>
    <p>Let the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text
    track showing">showing</a>.</p>
   </dd>

   <dt>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element has a <code title="attr-track-default"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-track-default">default</a></code> attribute specified, and
   there is no other <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
   element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a> whose
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track
   showing">showing</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track
   showing by default">showing by default</a></dt>

   <dd>
    <p>Let the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text
    track showing by default">showing by default</a>.</p>
   </dd>

   <dt>Otherwise</dt>

   <dd>
    <p>Let the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled" title="text
    track disabled">disabled</a>.</p>
   </dd>

  </dl><p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> corresponding to a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element is created with <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track
  mode</a> set to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden" title="text track hidden">hidden</a>,
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track showing">showing</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by default">showing by default</a>,
  and when a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> corresponding to a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element is created with <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track
  mode</a> set to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled" title="text track
  disabled">disabled</a> and subsequently changes its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text
  track mode</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden" title="text track hidden">hidden</a>,
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track showing">showing</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by default">showing by default</a> for
  the first time, the user agent must immediately and synchronously
  run the following algorithm. This algorithm interacts closely with
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> mechanism; in particular, it has a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> (which is triggered as part of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> algorithm). The step in that section is
  marked with ⌛.</p>

  <ol><li><p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state">text track readiness state</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loading" title="text track loading">loading</a>.</p></li>

   <li><p>Let <var title="">URL</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-url">track URL</a> of
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element.</p></li>

   <li><p>Asynchronously run the remaining steps, while continuing
   with whatever task was responsible for creating the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
   track</a> or changing the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track
   mode</a>.</p></li>

   <li>

    <p><i>Download</i>: At this point, the text track is downloaded.</p>

    <p>If <var title="">URL</var> is not the empty string, perform a
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-cors-enabled-fetch">potentially CORS-enabled fetch</a> of <var title="">URL</var>, with the <i>mode</i> being the state of the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="attr-media-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-crossorigin">crossorigin</a></code> content
    attribute, the <i title="">origin</i> being the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, and the <i>default origin behaviour</i> set
    to <i>fail</i>.</p>

    <p>The resource obtained in this fashion, if any, contains the
    text track data. If any data is obtained, it is by definition
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#cors-same-origin">CORS-same-origin</a> (cross-origin resources that are not
    suitably CORS-enabled do not get this far).</p>

    <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue
    a task">queued</a> by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching
    algorithm</a> on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> to
    process the data as it is being fetched must <!--<span
    title="Content-Type sniffing">-->determine the <!--sniffed--> type
    of a the resource<!--</span>-->. If the <!--sniffed--> type of the
    resource is not a supported text track format, the load will fail,
    as described below. Otherwise, the resource's data must be passed
    to the appropriate parser (e.g. the <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-parser">WebVTT parser</a><!--
    if the file starts with the "<code title="">WEBVTT</code>"
    signature-->) as it is received, with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of
    cues</a> being used for that parser's output. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p>

    <p class="critical">This specification does not currently say
    whether or how to check the MIME types of text tracks, or whether
    or how to perform file type sniffing using the actual file data.
    Implementors differ in their intentions on this matter and it is
    therefore unclear what the right solution is. In the absence of
    any requirement here, the HTTP specification's strict requirement
    to follow the Content-Type header prevails ("Content-Type
    specifies the media type of the underlying data." ... "If and only
    if the media type is not given by a Content-Type field, the
    recipient MAY attempt to guess the media type via inspection of
    its content and/or the name extension(s) of the URI used to
    identify the resource.").</p>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching algorithm</a> fails for
    any reason (network error, the server returns an error code, a
    cross-origin check fails, etc), if <var title="">URL</var> is the
    empty string, or if the sniffed type of the resource is not a
    supported text track format, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to
    first change the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state">text track readiness state</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-failed-to-load" title="text track failed to load">failed to load</a> and then
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple event</a> named <code title="event-error">error</code> at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code>
    element; and then, once that <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a
    task">queued</a>, move on to the step below labeled
    <i>monitoring</i>.</p>

    <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching algorithm</a> does not
    fail, then the final <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">task</a> that
    is <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task" title="queue a task">queued</a> by the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#networking-task-source">networking task source</a> must run the following
    steps after it has tried to parse the data:</p>

    <ol><li><p>Change the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state">text track readiness state</a> to
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loaded" title="text track loaded">loaded</a>.</p></li>

     <li>

      <p>If the file was successfully processed, <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
      event</a> named <code title="event-load">load</code> at the
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element.</p>

      <p>If the file was not successfully processed, e.g. the format
      in question is an XML format and the file contained a
      well-formedness error that the XML specification requires be
      detected and reported to the application, then <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a
      simple event</a> named <code title="event-error">error</code>
      at the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element.</p>

     </li>

     <li><p>Jump to the step below labeled <i>monitoring</i>.</p></li>

    </ol><p>If, while the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching algorithm</a> is
    active, either:</p>

    <ul><li>the <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-url">track URL</a> changes so that it is no longer
     equal to <var title="">URL</var>, while the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track
     mode</a> is set to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden" title="text track
     hidden">hidden</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track
     showing">showing</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by
     default">showing by default</a>; or</li>

     <li>the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> changes to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden" title="text track hidden">hidden</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text
     track showing">showing</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track
     showing by default">showing by default</a>, while the
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-url">track URL</a> is not equal to <var title="">URL</var></li>

    </ul><p>...then the user agent must run the following steps:</p>

    <ol><li><p>Abort the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fetch" title="fetch">fetching algorithm</a>,
     discarding any pending <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-task" title="concept-task">tasks</a>
     generated by that algorithm.</p></li>

     <li><p>Let <var title="">URL</var> be the new <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-url">track
     URL</a>.</p></li>

     <li><p>Jump back to the top of the step labeled
     <i>download</i>.</p></li>

    </ol><p>Until one of the above circumstances occurs, the user agent
    must remain on this step.</p>

   </li>

   <li><p><i>Monitoring</i>: Wait until the <a href="http://www.whatwg.org/specs/web-apps/current-work/#track-url">track URL</a> is
   no longer equal to <var title="">URL</var>, at the same time as the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> is set to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden" title="text track
   hidden">hidden</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track
   showing">showing</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by
   default">showing by default</a>.</p></li>

   <li><p>Wait until the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state">text track readiness state</a> is
   no longer set to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loading" title="text track
   loading">loading</a>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#await-a-stable-state">Await a stable state</a>. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous
   section</a> consists of the following step. (The step in the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a> is marked with ⌛.)</p></li>

   <li><p>⌛ Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state">text track readiness state</a> to
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loading" title="text track loading">loading</a>.</p></li>

   <!-- if you add more, change the grammar of the sentences above to
   be plural with respect to the number of synchronous steps (both in
   the step above and in the intro to the whole algorithm) -->

   <li><p>End the <a href="http://www.whatwg.org/specs/web-apps/current-work/#synchronous-section">synchronous section</a>, continuing the
   remaining steps asynchronously.</p></li>

   <li><p>Jump to the step labeled <i>download</i>.</p></li>

  </ol></div>


  <div class="impl">

  <h6 id="guidelines-for-exposing-cues-in-various-formats-as-text-track-cues"><span class="secno">4.8.10.12.4 </span><dfn>Guidelines for exposing cues</dfn> in various formats as
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">text track cues</a></h6>

  <p>How a specific format's text track cues are to be interpreted
  for the purposes of processing by an HTML user agent is defined by
  that format. In the absence of such a specification, this section
  provides some constraints within which implementations can attempt
  to consistently expose such formats.</p>

  <p>To support the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> model of HTML, each unit
  of timed data is converted to a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a>. Where
  the mapping of the format's features to the aspects of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text
  track cue</a> as defined in this specification are not defined,
  implementations must ensure that the mapping is consistent with the
  definitions of the aspects of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> as
  defined above, as well as with the following constraints:</p>

  <dl><dt>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-identifier">text track cue identifier</a>
   </dt><dd>
    <p>Should be set to the empty string if the format has no
    obvious analogue to a per-cue identifier.</p>
   </dd>

   <dt>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-pause-on-exit-flag">text track cue pause-on-exit flag</a>
   </dt><dd>
    <p>Should be set to false.</p>
   </dd>

   <dt>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction">text track cue writing direction</a>
   </dt><dd>
    <p>Should be set to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-horizontal-writing-direction" title="text track cue horizontal writing
    direction">horizontal</a> if the concept of writing direction
    doesn't really apply (e.g. the cue consists of a bitmap
    image).</p>
   </dd>

   <dt>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-snap-to-lines-flag">text track cue snap-to-lines flag</a>
   </dt><dd>
    <p>Should be set to false unless the format uses a rendering and
    positioning model for cues that is largely consistent with the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-cue-text-rendering-rules">WebVTT cue text rendering rules</a>.</p>
   </dd>

   <dt>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position">text track cue line position</a>
   </dt><dt>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text-position">text track cue text position</a>
   </dt><dt>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-size">text track cue size</a>
   </dt><dt>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-alignment">text track cue alignment</a>
   </dt><dd>
    <p>If the format uses a rendering and positioning model for
    cues that can be largely simulated using the <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-cue-text-rendering-rules">WebVTT cue text
    rendering rules</a>, then these should be set to the values
    that would give the same effect for <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a>
    cues. Otherwise, they should be set to zero.</p>
   </dd>

  </dl></div>


  <h6 id="text-track-api"><span class="secno">4.8.10.12.5 </span>Text track API</h6>

  <pre class="idl">interface <dfn id="texttracklist">TextTrackList</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#eventtarget">EventTarget</a> {
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttracklist-length" title="dom-TextTrackList-length">length</a>;
  getter <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a> (unsigned long index);

  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-texttracklist-onaddtrack" title="handler-TextTrackList-onaddtrack">onaddtrack</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-texttracklist-onremovetrack" title="handler-TextTrackList-onremovetrack">onremovetrack</a>;
};</pre>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-textTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-texttracks">textTracks</a></code> . <code title="">length</code></dt>
   <dd>
    <p>Returns the number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> associated with the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> (e.g. from <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> elements). This is the number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>.</p>
   </dd>

   <dt><var title="">media</var> . <code title="dom-media-textTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-texttracks">textTracks[</a></code> <var title="">n</var> <code title="">]</code></dt>
   <dd>
    <p>Returns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object representing the <var title="">n</var>th <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>.</p>
   </dd>

   <dt><var title="">track</var> . <code title="dom-track-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-track-track">track</a></code></dt>
   <dd>
    <p>Returns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object representing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-track-element">track</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>.</p>
   </dd>

  </dl><div class="impl">

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object represents a dynamically
  updating list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> in a
  given order.</p>

  <p>The <dfn id="dom-media-texttracks" title="dom-media-textTracks"><code>textTracks</code></dfn> attribute
  of <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> must return a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object representing the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> objects of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text
  tracks</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text
  tracks</a>, in the same order as in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text
  tracks</a>. The same object must be returned each time the
  attribute is accessed. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBIDL">[WEBIDL]</a></p>

  <p>The <dfn id="dom-texttracklist-length" title="dom-TextTrackList-length"><code>length</code></dfn> attribute
  of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object must return the number of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> in the list represented
  by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property indices</a> of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object at any instant are the numbers
  from zero to the number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text
  tracks</a> in the list represented by the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object minus one, if any. If there are no
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> in the list, there are
  no <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property indices</a>.</p>

  <p>To <a href="http://www.whatwg.org/specs/web-apps/current-work/#determine-the-value-of-an-indexed-property">determine the value of an indexed property</a> of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object for a given index <var title="">index</var>, the user agent must return the <var title="">index</var>th <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> in the list
  represented by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object.</p>

  </div>

  <hr><pre class="idl">enum <dfn id="texttrackmode">TextTrackMode</dfn> { "<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-disabled" title="dom-TextTrack-disabled">disabled</a>", "<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-hidden" title="dom-TextTrack-hidden">hidden</a>", "<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-showing" title="dom-TextTrack-showing">showing</a>" };
interface <dfn id="texttrack">TextTrack</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#eventtarget">EventTarget</a> {
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind" title="dom-TextTrack-kind">kind</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-label" title="dom-TextTrack-label">label</a>;
  readonly attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-language" title="dom-TextTrack-language">language</a>;

           attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackmode">TextTrackMode</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-mode" title="dom-TextTrack-mode">mode</a>;

  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-cues" title="dom-TextTrack-cues">cues</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-activecues" title="dom-TextTrack-activeCues">activeCues</a>;

  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-addcue" title="dom-TextTrack-addCue">addCue</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a> cue);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-removecue" title="dom-TextTrack-removeCue">removeCue</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a> cue);

  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-texttrack-oncuechange" title="handler-TextTrack-oncuechange">oncuechange</a>;
};</pre>

  <dl class="domintro"><dt><var title="">textTrack</var> . <code title="dom-TextTrack-kind"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind">kind</a></code></dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track kind</a> string.</p>
   </dd>

   <dt><var title="">textTrack</var> . <code title="dom-TextTrack-label"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-label">label</a></code></dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-label">text track label</a>.</p>
   </dd>

   <dt><var title="">textTrack</var> . <code title="dom-TextTrack-language"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-language">language</a></code></dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-language">text track language</a> string.</p>
   </dd>

   <dt><var title="">textTrack</var> . <code title="dom-TextTrack-mode"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-mode">mode</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a>, represented by a
    string from the following list:</p>
    <dl><dt>"<code title="dom-TextTrack-disabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-disabled">disabled</a></code>"</dt>
     <dd>
      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled">text track disabled</a> mode.</p>
     </dd>
     <dt>"<code title="dom-TextTrack-hidden"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-hidden">hidden</a></code>"</dt>
     <dd>
      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden">text track hidden</a> mode.</p>
     </dd>
     <dt>"<code title="dom-TextTrack-showing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-showing">showing</a></code>"</dt>
     <dd>
      <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing">text track showing</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by default">showing by default</a> modes.</p>
     </dd>
    </dl><p>Can be set, to change the mode.</p>
   </dd>

   <dt><var title="">textTrack</var> . <code title="dom-TextTrack-cues"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-cues">cues</a></code></dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a>, as a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object.</p>
   </dd>

   <dt><var title="">textTrack</var> . <code title="dom-TextTrack-activeCues"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-activecues">activeCues</a></code></dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">text track cues</a> from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a> that are currently active (i.e. that start before the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> and end after it), as a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object.</p>
   </dd>

   <dt><var title="">textTrack</var> . <code title="dom-TextTrack-addCue"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-addcue">addCue</a></code>( <var title="">cue</var> )</dt>
   <dd>
    <p>Adds the given cue to <var title="">textTrack</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a>.</p>
    <p>Throws an exception if the argument is associated with another <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> or already in the list of cues.</p>
   </dd>

   <dt><var title="">textTrack</var> . <code title="dom-TextTrack-removeCue"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-removecue">removeCue</a></code>( <var title="">cue</var> )</dt>
   <dd>
    <p>Removes the given cue from <var title="">textTrack</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a>.</p>
    <p>Throws an exception if the argument is associated with another <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> or not in the list of cues.</p>
   </dd>

   <dt><var title="">textTrack</var> = <var title="">media</var> . <code title="dom-media-addTextTrack"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-addtexttrack">addTextTrack</a></code>( <var title="">kind</var> [, <var title="">label</var> [, <var title="">language</var> ] ] )</dt>
   <dd>
    <p>Creates and returns a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object, which is also added to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-texttrack-kind" title="dom-TextTrack-kind"><code>kind</code></dfn>
  attribute must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track kind</a> of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object
  represents.</p>

  <p>The <dfn id="dom-texttrack-label" title="dom-TextTrack-label"><code>label</code></dfn>
  attribute must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-label">text track label</a> of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object
  represents.</p>

  <p>The <dfn id="dom-texttrack-language" title="dom-TextTrack-language"><code>language</code></dfn>
  attribute must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-language">text track language</a> of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object
  represents.</p>

  <p>The <dfn id="dom-texttrack-mode" title="dom-TextTrack-mode"><code>mode</code></dfn>
  attribute, on getting, must return the string corresponding to the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> that the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object represents, as defined by the
  following list:</p>

  <dl><dt>"<dfn id="dom-texttrack-disabled" title="dom-TextTrack-disabled"><code>disabled</code></dfn>"</dt>
   <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled">text track disabled</a> mode.</dd>
   <dt>"<dfn id="dom-texttrack-hidden" title="dom-TextTrack-hidden"><code>hidden</code></dfn>"</dt>
   <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden">text track hidden</a> mode.</dd>
   <dt>"<dfn id="dom-texttrack-showing" title="dom-TextTrack-showing"><code>showing</code></dfn>"</dt>
   <dd>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing">text track showing</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by default">showing by default</a> modes.</dd>
  </dl><p>On setting, if the new value isn't equal to what the attribute
  would currently return, the new value must be processed as
  follows:</p>

  <dl class="switch"><dt>If the new value is "<code title="dom-TextTrack-disabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-disabled">disabled</a></code>"</dt>

   <dd>

    <p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
    track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object represents to
    the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled">text track disabled</a> mode.</p>

   </dd>

   <dt>If the new value is "<code title="dom-TextTrack-hidden"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-hidden">hidden</a></code>"</dt>

   <dd>

    <p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
    track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object represents to
    the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden">text track hidden</a> mode.</p>

   </dd>

   <dt>If the new value is "<code title="dom-TextTrack-showing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-showing">showing</a></code>"</dt>

   <dd>

    <p>Set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
    track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object represents to
    the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing">text track showing</a> mode.</p>

   </dd>

  </dl><p class="note">If the mode is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text track showing by
  default">showing by default</a>, then there is no way to change
  it to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track showing">showing</a> without first
  changing it to <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled" title="text track disabled">disabled</a> or
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden" title="text track hidden">hidden</a>.</p>

  <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
  track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object represents is
  not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled">text track disabled</a> mode, then the <dfn id="dom-texttrack-cues" title="dom-TextTrack-cues"><code>cues</code></dfn> attribute must
  return a <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object that
  represents the subset of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a> of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object
  represents whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time" title="text track cue end time">end
  times</a> occur at or after the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position-when-the-script-started">earliest possible position
  when the script started</a>, in <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-order">text track cue
  order</a>. Otherwise, it must return null. When an object is
  returned, the same object must be returned each time.</p>

  <p>The <dfn id="earliest-possible-position-when-the-script-started">earliest possible position when the script started</dfn>
  is whatever the <a href="http://www.whatwg.org/specs/web-apps/current-work/#earliest-possible-position">earliest possible position</a> was the last
  time the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> reached step 1.</p>

  <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
  track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object represents is
  not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-disabled">text track disabled</a> mode, then the <dfn id="dom-texttrack-activecues" title="dom-TextTrack-activeCues"><code>activeCues</code></dfn>
  attribute must return a <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a>
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object that represents the subset of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
  track</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object represents
  whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-flag-was-set-when-the-script-started">active flag was set when the script started</a>, in
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-order">text track cue order</a>. Otherwise, it must return
  null. When an object is returned, the same object must be returned
  each time.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a>'s <dfn id="active-flag-was-set-when-the-script-started">active flag was set when
  the script started</dfn> if its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-active-flag">text track cue active
  flag</a> was set the last time the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a>
  reached step 1.</p>

  <hr><p>The <dfn id="dom-texttrack-addcue" title="dom-TextTrack-addCue"><code>addCue(<var title="">cue</var>)</code></dfn> method of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code>
  objects, when invoked, must run the following steps:</p>

  <ol><li><p>If the given <var title="">cue</var> is already associated
   with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> other than the method's
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>, then throw
   an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception and abort these
   steps.</p></li>

   <li><p>If the given <var title="">cue</var> is already listed in
   the method's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
   track</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a>, then throw an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception.</p></li>

   <li><p>Associate <var title="">cue</var> with the method's
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>, if it is
   not currently associated with a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>.</p></li>

   <li><p>Add <var title="">cue</var> to the method's
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a>.</p></li>

  </ol><p>The <dfn id="dom-texttrack-removecue" title="dom-TextTrack-removeCue"><code>removeCue(<var title="">cue</var>)</code></dfn> method of
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> objects, when invoked, must run the
  following steps:</p>

  <ol><li><p>If the given <var title="">cue</var> is not associated with
   the method's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
   track</a>, then throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code>
   exception.</p></li>

   <li><p>If the given <var title="">cue</var> is not currently listed
   in the method's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text
   track</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a>, then throw a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notfounderror">NotFoundError</a></code> exception.</p></li>

   <li><p>Remove <var title="">cue</var> from the method's
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a>.</p></li>

  </ol><hr><p>The <dfn id="dom-media-addtexttrack" title="dom-media-addTextTrack"><code>addTextTrack(<var title="">kind</var>, <var title="">label</var>, <var title="">language</var>)</code></dfn> method of <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
  element">media elements</a>, when invoked, must run the following
  steps:</p>

  <ol><li>

    <p>If <var title="">kind</var> is not one of the following
    strings, then throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code> exception and abort
    these steps:</p>

    <ul class="brief"><li><code title="dom-TextTrack-kind-subtitles"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-subtitles">subtitles</a></code>
     </li><li><code title="dom-TextTrack-kind-captions"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-captions">captions</a></code>
     </li><li><code title="dom-TextTrack-kind-descriptions"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-descriptions">descriptions</a></code>
     </li><li><code title="dom-TextTrack-kind-chapters"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-chapters">chapters</a></code>
     </li><li><code title="dom-TextTrack-kind-metadata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-kind-metadata">metadata</a></code>
    </li></ul></li>

   <li>

    <p>If the <var title="">label</var> argument was omitted, let <var title="">label</var> be the empty string.</p>

   </li>

   <li>

    <p>If the <var title="">language</var> argument was omitted, let
    <var title="">language</var> be the empty string.</p>

   </li>

   <li>

    <p>Create a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object.</p>

   </li>

   <li>

    <p>Create a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> corresponding to the new
    object, and set its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track kind</a> to <var title="">kind</var>, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-label">text track label</a> to <var title="">label</var>, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-language">text track language</a> to <var title="">language</var>, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-readiness-state">text track readiness
    state</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-loaded">text track loaded</a> state, its
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-mode">text track mode</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-hidden">text track hidden</a>
    mode, and its <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a> to an empty
    list.
    Associate the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues">text track list of cues</a> with the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-display-of-webvtt-text-tracks">rules for updating the display of WebVTT text tracks</a>
    as its <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-updating-the-text-track-rendering">rules for updating the text track rendering</a>.
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a>
    </p>

   </li>

   <li>

    <p>Add the new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
    element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>.</p>

   </li>

   <li>

    <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to fire an event with the name <code title="event-addtrack">addtrack</code>, that does not bubble and
    is not cancelable, and that uses the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#trackevent">TrackEvent</a></code>
    interface, with the <code title="dom-TrackEvent-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trackevent-track">track</a></code> attribute initialized to
    the new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object,
    at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <code title="dom-media-textTracks"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-texttracks">textTracks</a></code> attribute's
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> object.</p>

   </li>

   <li>

    <p>Return the new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object.</p>

   </li>

  </ol></div>

  <div class="example">

   <p>In this example, an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> element is used to play a
   specific sound-effect from a sound file containing many sound
   effects. A cue is used to pause the audio, so that it ends exactly
   at the end of the clip, even if the browser is busy running some
   script. If the page had relied on script to pause the audio, then
   the start of the next clip might be heard if the browser was not
   able to run the script at the exact time specified.</p>

   <pre>var sfx = new Audio('sfx.wav');
var sounds = sfx.addTextTrack('metadata');

// add sounds we care about
sounds.addCue(new TextTrackCue('dog bark', 12.783, 13.612, '', '', '', true));
sounds.addCue(new TextTrackCue('kitten mew', 13.612, 15.091, '', '', '', true));

function playSound(id) {
  sfx.currentTime = sounds.getCueById(id).startTime;
  sfx.play();
}

sfx.oncanplaythrough = function () {
  playSound('dog bark');
}
window.onbeforeunload = function () {
  playSound('kitten mew');
  return 'Are you sure you want to leave this awesome page?';
}</pre>

  </div>

  <hr><pre class="idl">interface <dfn id="texttrackcuelist">TextTrackCueList</dfn> {
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcuelist-length" title="dom-TextTrackCueList-length">length</a>;
  getter <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a> (unsigned long index);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcuelist-getcuebyid" title="dom-TextTrackCueList-getCueById">getCueById</a>(DOMString id);
};</pre>

  <dl class="domintro"><dt><var title="">cuelist</var> . <code title="dom-TextTrackCueList-length"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcuelist-length">length</a></code></dt>
   <dd>
    <p>Returns the number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a> in the list.</p>
   </dd>

   <dt><var title="">cuelist</var>[<var title="">index</var>]</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> with index <var title="">index</var> in the list. The cues are sorted in <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-order">text track cue order</a>.</p>
   </dd>

   <dt><var title="">cuelist</var> . <code title="dom-TextTrackCueList-getCueById"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcuelist-getcuebyid">getCueById</a></code>( <var title="">id</var> )</dt>
   <dd>
    <p>Returns the first <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> (in <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-order">text track cue order</a>) with <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-identifier">text track cue identifier</a> <var title="">id</var>.</p>
    <p>Returns null if none of the cues have the given identifier or if the argument is the empty string.</p>
   </dd>

  </dl><div class="impl">

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object represents a dynamically
  updating list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">text track
  cues</a> in a given order.</p>

  <p>The <dfn id="dom-texttrackcuelist-length" title="dom-TextTrackCueList-length"><code>length</code></dfn>
  attribute must return the number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track
  cue">cues</a> in the list represented by the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property indices</a> of a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object at any instant are the numbers
  from zero to the number of <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track cue">cues</a>
  in the list represented by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object
  minus one, if any. If there are no <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue" title="text track
  cue">cues</a> in the list, there are no <a href="http://www.whatwg.org/specs/web-apps/current-work/#supported-property-indices">supported property
  indices</a>.</p>

  <p>To <a href="http://www.whatwg.org/specs/web-apps/current-work/#determine-the-value-of-an-indexed-property">determine the value of an indexed property</a> for a
  given index <var title="">index</var>, the user agent must return
  the <var title="">index</var>th <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> in the
  list represented by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object.</p>

  <p>The <dfn id="dom-texttrackcuelist-getcuebyid" title="dom-TextTrackCueList-getCueById"><code>getCueById(<var title="">id</var>)</code></dfn> method, when called with an argument
  other than the empty string, must return the first <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track
  cue</a> in the list represented by the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcuelist">TextTrackCueList</a></code> object whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-identifier">text track cue
  identifier</a> is <var title="">id</var>, if any, or null
  otherwise. If the argument is the empty string, then the method must
  return null.</p>

  </div>

  <hr><pre class="idl">[<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue" title="dom-TextTrackCue">Constructor</a>(DOMString id, double startTime, double endTime, DOMString text, optional DOMString settings, optional boolean pauseOnExit)]
interface <dfn id="texttrackcue">TextTrackCue</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#eventtarget">EventTarget</a> {
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-track" title="dom-TextTrackCue-track">track</a>;

           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-id" title="dom-TextTrackCue-id">id</a>;
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-starttime" title="dom-TextTrackCue-startTime">startTime</a>;
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-endtime" title="dom-TextTrackCue-endTime">endTime</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-pauseonexit" title="dom-TextTrackCue-pauseOnExit">pauseOnExit</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-vertical" title="dom-TextTrackCue-vertical">vertical</a>;
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-snaptolines" title="dom-TextTrackCue-snapToLines">snapToLines</a>;
           attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-line" title="dom-TextTrackCue-line">line</a>;
           attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-position" title="dom-TextTrackCue-position">position</a>;
           attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-size" title="dom-TextTrackCue-size">size</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-align" title="dom-TextTrackCue-align">align</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-text" title="dom-TextTrackCue-text">text</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#documentfragment">DocumentFragment</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-getcueashtml" title="dom-TextTrackCue-getCueAsHTML">getCueAsHTML</a>();

  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-texttrackcue-onenter" title="handler-TextTrackCue-onenter">onenter</a>;
  [TreatNonCallableAsNull] attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#function">Function</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#handler-texttrackcue-onexit" title="handler-TextTrackCue-onexit">onexit</a>;
};</pre>

  <dl class="domintro"><dt><var title="">cue</var> = new <code title="dom-TextTrackCue"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue">TextTrackCue</a></code>( <var title="">id</var>, <var title="">startTime</var>, <var title="">endTime</var>, <var title="">text</var> [, <var title="">settings</var> [, <var title="">pauseOnExit</var> ] ] )</dt>
   <dd>
    <p>Returns a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object, for use with the <code title="dom-TextTrack-addCue"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrack-addcue">addCue()</a></code> method.</p>
    <p>The <var title="">id</var> argument sets the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-identifier">text track cue identifier</a>.</p>
    <p>The <var title="">startTime</var> argument sets the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue start time</a>.</p>
    <p>The <var title="">endTime</var> argument sets the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end time</a>.</p>
    <p>The <var title="">text</var> argument sets the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text">text track cue text</a>.</p>
    <p>The <var title="">settings</var> argument is a string in the format of <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-cue-settings">WebVTT cue settings</a>. If omitted, the empty string is assumed.</p>
    <p>The <var title="">pauseOnExit</var> argument sets the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-pause-on-exit-flag">text track cue pause-on-exit flag</a>. If omitted, false is assumed.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-track" title="dom-TextTrackCue-track">track</a></dt>
   <dd>
    <p>Returns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object to which this
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> belongs, if any, or null
    otherwise.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-id" title="dom-TextTrackCue-id">id</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-identifier">text track cue identifier</a>.</p>
    <p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-starttime" title="dom-TextTrackCue-startTime">startTime</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue start time</a>, in seconds.</p>
    <p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-endtime" title="dom-TextTrackCue-endTime">endTime</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end time</a>, in seconds.</p>
    <p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-pauseonexit" title="dom-TextTrackCue-pauseOnExit">pauseOnExit</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns true if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-pause-on-exit-flag">text track cue pause-on-exit flag</a> is set, false otherwise.</p>
    <p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-vertical" title="dom-TextTrackCue-vertical">vertical</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns a string representing the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction">text track cue writing direction</a>, as follows:</p>
    <dl class="switch"><dt>If it is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-horizontal-writing-direction" title="text track cue horizontal writing direction">horizontal</a></dt>
     <dd><p>The empty string.</p></dd>
     <dt>If it is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-vertical-growing-left-writing-direction" title="text track cue vertical growing left writing direction">vertical growing left</a></dt>
     <dd><p>The string "<code title="">rl</code>".</p></dd>
     <dt>If it is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-vertical-growing-right-writing-direction" title="text track cue vertical growing right writing direction">vertical growing right</a></dt>
     <dd><p>The string "<code title="">lr</code>".</p></dd>
    </dl><p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-snaptolines" title="dom-TextTrackCue-snapToLines">snapToLines</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns true if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-snap-to-lines-flag">text track cue snap-to-lines flag</a> is set, false otherwise.</p>
    <p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-line" title="dom-TextTrackCue-line">line</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position">text track cue line position</a>. In the
    case of the value being <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-automatic-line-position" title="text track cue automatic
    line position">auto</a>, the appropriate default is returned.</p>
    <p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-position" title="dom-TextTrackCue-position">position</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text-position">text track cue text position</a>.</p>
    <p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-size" title="dom-TextTrackCue-size">size</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-size">text track cue size</a>.</p>
    <p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-align" title="dom-TextTrackCue-align">align</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns a string representing the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-alignment">text track cue alignment</a>, as follows:</p>
    <dl class="switch"><dt>If it is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-alignment" title="text track cue start alignment">start alignment</a></dt>
     <dd><p>The string "<code title="">start</code>".</p></dd>
     <dt>If it is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-middle-alignment" title="text track cue middle alignment">middle alignment</a></dt>
     <dd><p>The string "<code title="">middle</code>".</p></dd>
     <dt>If it is <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-alignment" title="text track cue end alignment">end alignment</a></dt>
     <dd><p>The string "<code title="">end</code>".</p></dd>
    </dl><p>Can be set.</p>
   </dd>

   <dt><var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-text" title="dom-TextTrackCue-text">text</a> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text">text track cue text</a> in raw unparsed form.</p>
    <p>Can be set.</p>
   </dd>

   <dt><var title="">fragment</var> = <var title="">cue</var> . <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-getcueashtml" title="dom-TextTrackCue-getCueAsHTML">getCueAsHTML</a>()</dt>
   <dd>
    <p>Returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text">text track cue text</a> as a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#documentfragment">DocumentFragment</a></code> of <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-elements">HTML elements</a> and other DOM nodes.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-texttrackcue" title="dom-TextTrackCue"><code>TextTrackCue(<var title="">id</var>, <var title="">startTime</var>, <var title="">endTime</var>, <var title="">text</var>, <var title="">settings</var>, <var title="">pauseOnExit</var>)</code></dfn> constructor, when invoked,
  must run the following steps:</p>

  <ol><li><p>Create a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that is not
   associated with any <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>. Let <var title="">cue</var> be that <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a>.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-identifier">text track cue
   identifier</a> be the value of the <var title="">id</var>
   argument.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue start
   time</a> be the value of the <var title="">startTime</var>
   argument, interpreted as a time in seconds.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end
   time</a> be the value of the <var title="">endTime</var>
   argument, interpreted as a time in seconds.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-pause-on-exit-flag">text track cue
   pause-on-exit flag</a> be true if the <var title="">pauseOnExit</var> is present and true. Otherwise, let it
   be false.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text">text track cue
   text</a> be the value of the <var title="">text</var> argument,
   and let the rules for its interpretation be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-cue-text-parsing-rules">WebVTT cue
   text parsing rules</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-cue-text-rendering-rules">WebVTT cue text rendering
   rules</a>, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-cue-text-dom-construction-rules">WebVTT cue text DOM construction
   rules</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p></li>

   <!-- default settings -->

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction">text track cue
   writing direction</a> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-horizontal-writing-direction" title="text track cue
   horizontal writing direction">horizontal</a>.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-snap-to-lines-flag">text track cue
   snap-to-lines flag</a> be true.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position">text track cue line
   position</a> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-automatic-line-position" title="text track cue automatic line
   position">auto</a>.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text-position">text track cue
   text position</a> be 50.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-size">text track cue
   size</a> be 100.</p></li>

   <li><p>Let <var title="">cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-alignment">text track cue
   alignment</a> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-middle-alignment" title="text track cue middle
   alignment">middle alignment</a>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#parse-the-webvtt-settings">Parse the WebVTT settings</a> given by the <var title="">settings</var> argument for <var title="">cue</var>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p></li>

   <li><p>Return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object representing
   <var title="">cue</var>.</p></li>

  </ol><p>The <dfn id="dom-texttrackcue-track" title="dom-TextTrackCue-track"><code>track</code></dfn>
  attribute, on getting, must return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> object
  of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> with which the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track
  cue</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents is
  associated, if any; or null otherwise.</p>

  <p>The <dfn id="dom-texttrackcue-id" title="dom-TextTrackCue-id"><code>id</code></dfn>
  attribute, on getting, must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-identifier">text track cue
  identifier</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents. On setting, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-identifier">text track cue
  identifier</a> must be set to the new value.</p>

  <p>The <dfn id="dom-texttrackcue-starttime" title="dom-TextTrackCue-startTime"><code>startTime</code></dfn>
  attribute, on getting, must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue start
  time</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents, in seconds. On setting, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue start
  time</a> must be set to the new value, interpreted in seconds.</p>

  <p>The <dfn id="dom-texttrackcue-endtime" title="dom-TextTrackCue-endTime"><code>endTime</code></dfn>
  attribute, on getting, must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end
  time</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents, in seconds. On setting, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end
  time</a> must be set to the new value, interpreted in seconds.</p>

  <p>The <dfn id="dom-texttrackcue-pauseonexit" title="dom-TextTrackCue-pauseOnExit"><code>pauseOnExit</code></dfn>
  attribute, on getting, must return true if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-pause-on-exit-flag">text track cue
  pause-on-exit flag</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents is set; or false
  otherwise. On setting, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-pause-on-exit-flag">text track cue pause-on-exit
  flag</a> must be set if the new value is true, and must be unset
  otherwise.</p>

  <p>The <dfn id="dom-texttrackcue-vertical" title="dom-TextTrackCue-vertical"><code>vertical</code></dfn>
  attribute, on getting, must return the string from the second cell
  of the row in the table below whose first cell is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction">text
  track cue writing direction</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track
  cue</a> that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents:</p>

  <table><thead><tr><th> <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction">Text track cue writing direction</a>
         </th><th> <code title="dom-TextTrackCue-direction">direction</code> value
   </th></tr></thead><tbody><tr><td> <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-horizontal-writing-direction" title="text track cue horizontal writing direction">Horizontal</a>
         </td><td> "<code title=""></code>" (the empty string)
    </td></tr><tr><td> <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-vertical-growing-left-writing-direction" title="text track cue vertical growing left writing direction">Vertical growing left</a>
         </td><td> "<code title="">rl</code>"
    </td></tr><tr><td> <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-vertical-growing-right-writing-direction" title="text track cue vertical growing right writing direction">Vertical growing right</a>
         </td><td> "<code title="">lr</code>"
  </td></tr></tbody></table><p>On setting, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-writing-direction">text track cue writing direction</a>
  must be set to the value given in the first cell of the row in the
  table above whose second cell is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a> match
  for the new value, if any. If none of the values match, then the
  user agent must instead throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code>
  exception.</p>

  <p>The <dfn id="dom-texttrackcue-snaptolines" title="dom-TextTrackCue-snapToLines"><code>snapToLines</code></dfn>
  attribute, on getting, must return true if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-snap-to-lines-flag">text track cue
  snap-to-lines flag</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents is set; or false
  otherwise. On setting, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-snap-to-lines-flag">text track cue snap-to-lines
  flag</a> must be set if the new value is true, and must be unset
  otherwise.</p>

  <p>The <dfn id="dom-texttrackcue-line" title="dom-TextTrackCue-line"><code>line</code></dfn>
  attribute, on getting, must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-computed-line-position">text track cue computed
  line position</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents. On setting, if the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-snap-to-lines-flag">text track cue snap-to-lines flag</a> is not set, and the
  new value is negative or greater than 100, then throw an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception. Otherwise, set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position">text
  track cue line position</a> to the new value.</p>

  <p class="note">There is no way to explicitly set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-line-position">text
  track cue line position</a> to the special default <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-automatic-line-position" title="text track cue automatic line position">auto</a>
  value.</p>

  <p>The <dfn id="dom-texttrackcue-position" title="dom-TextTrackCue-position"><code>position</code></dfn>
  attribute, on getting, must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text-position">text track cue text
  position</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents. On setting, if the new
  value is negative or greater than 100, then throw an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception. Otherwise, set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text-position">text
  track cue text position</a> to the new value.</p>

  <p>The <dfn id="dom-texttrackcue-size" title="dom-TextTrackCue-size"><code>size</code></dfn>
  attribute, on getting, must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-size">text track cue
  size</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents. On setting, if the new
  value is negative or greater than 100, then throw an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception. Otherwise, set the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-size">text
  track cue size</a> to the new value.</p>

  <p>The <dfn id="dom-texttrackcue-align" title="dom-TextTrackCue-align"><code>align</code></dfn>
  attribute, on getting, must return the string from the second cell
  of the row in the table below whose first cell is the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-alignment">text
  track cue alignment</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents:</p>

  <table><thead><tr><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-alignment">Text track cue alignment</a> </th><th> <code title="dom-TextTrackCue-align"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-texttrackcue-align">align</a></code> value
   </th></tr></thead><tbody><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-alignment" title="text track cue start alignment">Start alignment</a> </td><td> "<code title="">start</code>"
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-middle-alignment" title="text track cue middle alignment">Middle alignment</a> </td><td> "<code title="">middle</code>"
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-alignment" title="text track cue end alignment">End alignment</a> </td><td> "<code title="">end</code>"
  </td></tr></tbody></table><p>On setting, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-alignment">text track cue alignment</a> must be set
  to the value given in the first cell of the row in the table above
  whose second cell is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a> match for the new
  value, if any. If none of the values match, then the user agent must
  instead throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code> exception.</p>

  <p>The <dfn id="dom-texttrackcue-text" title="dom-TextTrackCue-text"><code>text</code></dfn>
  attribute, on getting, must return the raw <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text">text track cue
  text</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> that the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> object represents. On setting, the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text">text track cue text</a> must be set to the new value.</p>

  <p>The <dfn id="dom-texttrackcue-getcueashtml" title="dom-TextTrackCue-getCueAsHTML"><code>getCueAsHTML()</code></dfn>
  method must convert the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text">text track cue text</a> to a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#documentfragment">DocumentFragment</a></code> for the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code>, using the appropriate rules for doing
  so.
  For example, for <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt">WebVTT</a>, those rules are the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-cue-text-parsing-rules">WebVTT cue text parsing rules</a> and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-cue-text-dom-construction-rules">WebVTT cue
  text DOM construction rules</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a>
  </p>

  </div>


  <h6 id="text-tracks-describing-chapters"><span class="secno">4.8.10.12.6 </span>Text tracks describing chapters</h6>

  <p>Chapters are segments of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> with a
  given title. Chapters can be nested, in the same way that sections
  in a document outline can have subsections.</p>

  <p>Each <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track cue</a> in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a>
  being used for describing chapters has three key features: the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue start time</a>, giving the start time of the
  chapter, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end time</a>, giving the end
  time of the chapter, and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text">text track cue text</a> giving
  the chapter title.</p>

  <div class="impl">

  <p>The <dfn id="rules-for-constructing-the-chapter-tree-from-a-text-track">rules for constructing the chapter tree from a text
  track</dfn> are as follows. They produce a potentially nested list
  of chapters, each of which have a start time, end time, title, and a
  list of nested chapters. This algorithm discards cues that do not
  correctly nest within each other, or that are out of order.</p>

  <ol><li><p>Let <var title="">list</var> be a copy of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-list-of-cues" title="text track list of cues">list of cues</a> of the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track">text track</a> being processed.</p></li>

   <li><p>Remove from <var title="">list</var> any <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue">text track
   cue</a> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end time</a> is before its
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue start time</a>.</p></li>

   <li><p>Let <var title="">output</var> be an empty list of chapters,
   where a chapter is a record consisting of a start time, an end
   time, a title, and a (potentially empty) list of nested chapters.
   For the purpose of this algorithm, each chapter also has a parent
   chapter.</p></li>

   <li><p>Let <var title="">current chapter</var> be a stand-in
   chapter whose start time is negative infinity, whose end time is
   positive infinity, and whose list of nested chapters is <var title="">output</var>. (This is just used to make the algorithm
   easier to describe.)</p></li>

   <!-- while not empty... -->
   <li><p><i>Loop</i>: If <var title="">list</var> is empty, jump to
   the step labeled <i>end</i>.</p></li>

   <!-- do... -->
   <li><p>Let <var title="">current cue</var> be the first cue in <var title="">list</var>, and then remove it from <var title="">list</var>.</p></li>

   <li><p>If <var title="">current cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue
   start time</a> is less than the start time of <var title="">current chapter</var>, then return to the step labeled
   <i>loop</i>.</p> <!-- out of order chapter -->

   </li><li><p>While <var title="">current cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track cue
   start time</a> is greater than or equal to <var title="">current
   chapter</var>'s end time, let <var title="">current chapter</var>
   be <var title="">current chapter</var>'s parent chapter.</p></li>

   <li><p>If <var title="">current cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue
   end time</a> is greater than the end time of <var title="">current chapter</var>, then return to the step labeled
   <i>loop</i>.</p> <!-- misnested chapter -->

   </li><li><p>Create a new chapter <var title="">new chapter</var>, whose
   start time is <var title="">current cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-start-time">text track
   cue start time</a>, whose end time is <var title="">current
   cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-end-time">text track cue end time</a>, whose title is
   <var title="">current cue</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-cue-text">text track cue text</a>
   interpreted according to its rules for interpretation, and whose
   list of nested chapters is empty.</p></li>

   <li><p>Append <var title="">new chapter</var> to <var title="">current chapter</var>'s list of nested chapters, and let
   <var title="">current chapter</var> be <var title="">new
   chapter</var>'s parent.</p></li>

   <li><p>Let <var title="">current chapter</var> be <var title="">new
   chapter</var>.</p></li>

   <li><p>Return to the step labeled <i>loop</i>.</p></li>
   <!-- ...end while -->

   <li><p><i>End</i>: Return <var title="">output</var>.</p></li>

  </ol></div>

  <div class="example">

   <p>The following snippet of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#webvtt-file">WebVTT file</a> shows how
   nested chapters can be marked up. The file describes three
   50-minute chapters, "Astrophysics", "Computational Physics", and
   "General Relativity". The first has three subchapters, the second
   has four, and the third has two. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBVTT">[WEBVTT]</a></p>

   <pre>WEBVTT

00:00:00.000 --&gt; 00:50:00.000
Astrophysics

00:00:00.000 --&gt; 00:10:00.000
Introduction to Astrophysics

00:10:00.000 --&gt; 00:45:00.000
The Solar System

00:00:00.000 --&gt; 00:10:00.000
Coursework Description

00:50:00.000 --&gt; 01:40:00.000
Computational Physics

00:50:00.000 --&gt; 00:55:00.000
Introduction to Programming

00:55:00.000 --&gt; 01:30:00.000
Data Structures

01:30:00.000 --&gt; 01:35:00.000
Answers to Last Exam

01:35:00.000 --&gt; 01:40:00.000
Coursework Description

01:40:00.000 --&gt; 02:30:00.000
General Relativity

01:40:00.000 --&gt; 02:00:00.000
Tensor Algebra

02:00:00.000 --&gt; 02:30:00.000
The General Relativistic Field Equations</pre>

  </div>


  <div class="impl">

  <h6 id="cue-events"><span class="secno">4.8.10.12.7 </span>Event definitions</h6>

  <p>The following are the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers">event handlers</a> that (and their
  corresponding <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type" title="event handler event type">event handler
  event types</a>) must be
  supported, as IDL attributes, by all objects implementing the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttracklist">TextTrackList</a></code> interface:</p>

  <table><thead><tr><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers" title="event handlers">Event handler</a> </th><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type">Event handler event type</a>
   </th></tr></thead><tbody><tr><td><dfn id="handler-texttracklist-onaddtrack" title="handler-TextTrackList-onaddtrack"><code>onaddtrack</code></dfn> </td><td> <code title="event-addtrack">addtrack</code>
    </td></tr><tr><td><dfn id="handler-texttracklist-onremovetrack" title="handler-TextTrackList-onremovetrack"><code>onremovetrack</code></dfn> </td><td> <code title="event-removetrack">removetrack</code>
  </td></tr></tbody></table><p>The following are the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers">event handlers</a> that (and their
  corresponding <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type" title="event handler event type">event handler
  event types</a>) must be supported, as IDL attributes, by all
  objects implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code> interface:</p>

  <table><thead><tr><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers" title="event handlers">Event handler</a> </th><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type">Event handler event type</a>
   </th></tr></thead><tbody><tr><td><dfn id="handler-texttrack-oncuechange" title="handler-TextTrack-oncuechange"><code>oncuechange</code></dfn> </td><td> <code title="event-cuechange">cuechange</code>
  </td></tr></tbody></table><p>The following are the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers">event handlers</a> that (and their
  corresponding <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type" title="event handler event type">event handler
  event types</a>) must be supported, as IDL attributes, by all
  objects implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrackcue">TextTrackCue</a></code> interface:</p>

  <table><thead><tr><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handlers" title="event handlers">Event handler</a> </th><th><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-handler-event-type">Event handler event type</a>
   </th></tr></thead><tbody><tr><td><dfn id="handler-texttrackcue-onenter" title="handler-TextTrackCue-onenter"><code>onenter</code></dfn> </td><td> <code title="event-enter">enter</code>
    </td></tr><tr><td><dfn id="handler-texttrackcue-onexit" title="handler-TextTrackCue-onexit"><code>onexit</code></dfn> </td><td> <code title="event-exit">exit</code>
  </td></tr></tbody></table></div>


<!--TOPIC:Video and Audio-->
  <h5 id="user-interface"><span class="secno">4.8.10.13 </span>User interface</h5>

  <p>The <dfn id="attr-media-controls" title="attr-media-controls"><code>controls</code></dfn>
  attribute is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute">boolean attribute</a>. If present, it
  indicates that the author has not provided a scripted controller and
  would like the user agent to provide its own set of controls.</p>

  <div class="impl">

  <p>If the attribute is present, or if <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-noscript" title="concept-n-noscript">scripting is disabled</a> for the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, then the user agent should <dfn id="expose-a-user-interface-to-the-user">expose a
  user interface to the user</dfn>. This user interface should include
  features to begin playback, pause playback, seek to an arbitrary
  position in the content (if the content supports arbitrary seeking),
  change the volume, change the display of closed captions or embedded
  sign-language tracks, select different audio tracks or turn on audio
  descriptions, and show the media content in manners more suitable to
  the user (e.g. full-screen video or in an independent resizable
  window). Other controls may also be made available.</p>

  <p>If the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, then the user agent should expose audio tracks
  from all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> (although avoiding
  duplicates if the same <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> is being used
  several times). If a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>'s audio track
  exposed in this way has no known name, and it is the only audio
  track for a particular <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, the user agent
  should use the element's <code title="attr-title"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-title-attribute">title</a></code>
  attribute, if any, as the name (or as part of the name) of that
  track.</p>

  <p>Even when the attribute is absent, however, user agents may
  provide controls to affect playback of the media resource
  (e.g. play, pause, seeking, and volume controls), but such features
  should not interfere with the page's normal rendering. For example,
  such features could be exposed in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s
  context menu.</p>

  <p>Where possible (specifically, for starting, stopping, pausing,
  and unpausing playback, for seeking, for changing the rate of
  playback, for fast-forwarding or rewinding,
  for listing, enabling, and disabling text tracks,
  and for muting or changing the volume of the audio), user interface
  features exposed by the user agent must be implemented in terms of
  the DOM API described above, so that, e.g., all the same events
  fire.</p>

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, the user agent's user interface for pausing and
  unpausing playback, for seeking, for changing the rate of playback,
  for fast-forwarding or rewinding, and for muting or changing the
  volume of audio of the entire group must be implemented in terms of
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> API exposed on that <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current
  media controller</a>.</p>

  <p>The "play" function in the user agent's interface must set the
  <code title="">playbackRate</code> attribute to the value of the
  <code title="">defaultPlaybackRate</code> attribute before invoking
  the <code title="">play()</code> method.
  When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, the attributes and method with those names on
  that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object must be used. Otherwise,
  the attributes and method with those names on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a> itself must be used.
  </p>

  <p>Features such as fast-forward or rewind must be implemented by
  only changing the <code title="">playbackRate</code> attribute (and
  not the <code title="">defaultPlaybackRate</code> attribute).
  Again, when a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, the attributes with those names on that
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object must be used; otherwise, the
  attributes with those names on the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> itself
  must be used.
  </p>

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, and all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> of
  that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> are paused, the user agent should
  unpause all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> when the user
  invokes a user agent interface control for beginning playback.</p>

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, seeking must be implemented in terms of the <code title="dom-MediaController-currentTime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-currenttime">currentTime</a></code> attribute
  on that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object. Otherwise, the user
  agent must directly <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek" title="dom-media-seek">seek</a> to the
  requested position in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media
  timeline</a>.</p>

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media
  controller</a>, user agents may additionally provide the user
  with controls that directly manipulate an individual <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media
  element</a> without affecting the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>,
  but such features are considered relatively advanced and unlikely to
  be useful to most users.

  </p><p>For the purposes of listing chapters in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media
  resource</a>, only <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track" title="text track">text tracks</a> in
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#list-of-text-tracks">list of text tracks</a>
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing" title="text track showing">showing</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-showing-by-default" title="text
  track showing by default">showing by default</a> and whose
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-track-kind">text track kind</a> is <code title="dom-timedtrack-kind-chapters">chapters</code> should be used.
  Such tracks must be interpreted according to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-constructing-the-chapter-tree-from-a-text-track">rules for
  constructing the chapter tree from a text track</a>.</p>

  <p>The <dfn id="dom-media-controls" title="dom-media-controls"><code>controls</code></dfn>
  IDL attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name.</p>

  <hr></div>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-media-volume"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-volume">volume</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current playback volume, as a number in the range
    0.0 to 1.0, where 0.0 is the quietest and 1.0 the loudest.</p>

    <p>Can be set, to change the volume.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> if the new value is not
    in the range 0.0 .. 1.0.</p>

   </dd>

   <dt><var title="">media</var> . <code title="dom-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-muted">muted</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns true if audio is muted, overriding the <code title="dom-media-volume"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-volume">volume</a></code> attribute, and false if the
    <code title="dom-media-volume"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-volume">volume</a></code> attribute is being
    honored.</p>

    <p>Can be set, to change whether the audio is muted or not.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-media-volume" title="dom-media-volume"><code>volume</code></dfn>
  attribute must return the playback volume of any audio portions of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, in the range 0.0 (silent) to 1.0
  (loudest). Initially, the volume should be 1.0, but user agents may
  remember the last set value across sessions, on a per-site basis or
  otherwise, so the volume may start at other values. On setting, if
  the new value is in the range 0.0 to 1.0 inclusive, the playback
  volume of any audio portions of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> must
  be set to the new value. If the new value is outside the range 0.0
  to 1.0 inclusive, then, on setting, an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code>
  exception must be thrown instead.</p>

  <p>The <dfn id="dom-media-muted" title="dom-media-muted"><code>muted</code></dfn>
  attribute must return true if the audio output is muted and false
  otherwise. Initially, the audio output should not be muted (false),
  but user agents may remember the last set value across sessions, on
  a per-site basis or otherwise, so the muted state may start as muted
  (true). On setting, if the new value is true then the audio output
  should be muted and if the new value is false it should be
  unmuted.</p>

  <p>Whenever either of the values that would be returned by the <code title="dom-media-volume"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-volume">volume</a></code> and <code title="dom-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-muted">muted</a></code> attributes change, the user
  agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">queue a task</a> to <a href="http://www.whatwg.org/specs/web-apps/current-work/#fire-a-simple-event">fire a simple
  event</a> named <code title="event-media-volumechange"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-volumechange">volumechange</a></code> at the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>.</p>

  <p>An element's <dfn id="effective-media-volume">effective media volume</dfn> is determined as
  follows:</p>

  <ol><li><p>If the user has indicated that the user agent is to override
   the volume of the element, then the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-media-volume">effective media
   volume</a> is the volume desired by the user. Abort these
   steps.</p></li>

   <li><p>If the element's audio output is muted, the element's
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-media-volume">effective media volume</a> is zero. Abort these
   steps.</p></li>

   <li><p>If the element has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>
   and that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-mute-override">media
   controller mute override</a> is true, the element's
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-media-volume">effective media volume</a> is zero. Abort these
   steps.</p></li>

   <li><p>Let <var title="">volume</var> be the playback volume of the
   audio portions of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>, in range 0.0
   (silent) to 1.0 (loudest).</p></li>

   <li><p>If the element has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a>,
   multiply <var title="">volume</var> by that
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-volume-multiplier">media controller volume
   multiplier</a>.</p></li>

   <li><p>The element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#effective-media-volume">effective media volume</a> is <var title="">volume</var>, interpreted relative to the range 0.0 to
   1.0, with 0.0 being silent, and 1.0 being the loudest setting,
   values in between increasing in loudness. The range need not be
   linear. The loudest setting may be lower than the system's loudest
   possible setting; for example the user could have set a maximum
   volume.</p></li>

  </ol></div>

  <p>The <dfn id="attr-media-muted" title="attr-media-muted"><code>muted</code></dfn>
  attribute on <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> is a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#boolean-attribute">boolean attribute</a> that controls the default state of
  the audio output of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>, potentially
  overriding user preferences.</p>

  <div class="impl">

  <p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> is created, if it has a <code title="attr-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-muted">muted</a></code> attribute specified, the user
  agent must mute the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>'s audio output,
  overriding any user preference.</p>

  <p>The <dfn id="dom-media-defaultmuted" title="dom-media-defaultMuted"><code>defaultMuted</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-muted">muted</a></code> content attribute.</p>

  </div>

  <p class="note">This attribute has no dynamic effect (it only
  controls the default state of the element).</p>

  <div class="example">

   <p>This video (an advertisment) autoplays, but to avoid annoying
   users, it does so without sound, and allows the user to turn the
   sound on.</p>

   <pre>&lt;video src="adverts.cgi?kind=video" controls autoplay loop muted&gt;&lt;/video&gt;</pre>

  </div>




  <h5 id="time-ranges"><span class="secno">4.8.10.14 </span>Time ranges</h5>

  <p>Objects implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> interface
  represent a list of ranges (periods) of time.</p>

  <pre class="idl">interface <dfn id="timeranges">TimeRanges</dfn> {
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-timeranges-length" title="dom-TimeRanges-length">length</a>;
  double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-timeranges-start" title="dom-TimeRanges-start">start</a>(unsigned long index);
  double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-timeranges-end" title="dom-TimeRanges-end">end</a>(unsigned long index);
};</pre>

  <dl class="domintro"><dt><var title="">media</var> . <code title="dom-TimeRanges-length"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-timeranges-length">length</a></code></dt>

   <dd>

    <p>Returns the number of ranges in the object.</p>

   </dd>

   <dt><var title="">time</var> = <var title="">media</var> . <code title="dom-TimeRanges-start"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-timeranges-start">start</a></code>(<var title="">index</var>)</dt>

   <dd>

    <p>Returns the time for the start of the range with the given index.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> if the index is out of range.</p>

   </dd>

   <dt><var title="">time</var> = <var title="">media</var> . <code title="dom-TimeRanges-end"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-timeranges-end">end</a></code>(<var title="">index</var>)</dt>

   <dd>

    <p>Returns the time for the end of the range with the given index.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> if the index is out of range.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-timeranges-length" title="dom-TimeRanges-length"><code>length</code></dfn>
  IDL attribute must return the number of ranges represented by the object.</p>

  <p>The <dfn id="dom-timeranges-start" title="dom-TimeRanges-start"><code>start(<var title="">index</var>)</code></dfn> method must return the position
  of the start of the <var title="">index</var>th range represented by
  the object, in seconds measured from the start of the timeline that
  the object covers.</p>

  <p>The <dfn id="dom-timeranges-end" title="dom-TimeRanges-end"><code>end(<var title="">index</var>)</code></dfn> method must return the position
  of the end of the <var title="">index</var>th range represented by
  the object, in seconds measured from the start of the timeline that
  the object covers.</p>

  <p>These methods must throw <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exceptions
  if called with an <var title="">index</var> argument greater than or
  equal to the number of ranges represented by the object.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> object is said to be a
  <dfn id="normalized-timeranges-object">normalized <code>TimeRanges</code> object</dfn>, the ranges it
  represents must obey the following criteria:</p>

  <ul><li>The start of a range must be greater than the end of all
   earlier ranges.</li>

   <li>The start of a range must be less than the end of that same
   range.</li>

  </ul><p>In other words, the ranges in such an object are ordered, don't
  overlap, aren't empty, and don't touch (adjacent ranges are folded
  into one bigger range).</p>

  <p>Ranges in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#timeranges">TimeRanges</a></code> object must be inclusive.</p>

  <p class="example">Thus, the end of a range would be equal to the
  start of a following adjacent (touching but not overlapping) range.
  Similarly, a range covering a whole timeline anchored at zero would
  have a start equal to zero and an end equal to the duration of the
  timeline.</p>

  <p>The timelines used by the objects returned by the <code title="dom-media-buffered"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-buffered">buffered</a></code>, <code title="dom-media-seekable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seekable">seekable</a></code> and <code title="dom-media-played"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-played">played</a></code> IDL attributes of <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media elements</a> must be that element's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-timeline">media timeline</a>.</p>

  </div>


  <h5 id="event-definitions"><span class="secno">4.8.10.15 </span>Event definitions</h5>

  <pre class="idl">[Constructor(DOMString type, optional <a href="http://www.whatwg.org/specs/web-apps/current-work/#trackeventinit">TrackEventInit</a> eventInitDict)]
interface <dfn id="trackevent">TrackEvent</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a> {
  readonly attribute object? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trackevent-track" title="dom-TrackEvent-track">track</a>;
};

dictionary <dfn id="trackeventinit">TrackEventInit</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#eventinit">EventInit</a> {
  object? track;
};</pre>

  <dl class="domintro"><dt><var title="">event</var> . <code title="dom-TrackEvent-track"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-trackevent-track">track</a></code></dt>

   <dd>

    <p>Returns the track object (<code><a href="http://www.whatwg.org/specs/web-apps/current-work/#texttrack">TextTrack</a></code>,
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#audiotrack">AudioTrack</a></code>, or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#videotrack">VideoTrack</a></code>) to which the
    event relates.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-trackevent-track" title="dom-TrackEvent-track"><code>track</code></dfn>
  attribute must return the value it was initialized to. When the
  object is created, this attribute must be initialized to null. It
  represents the context information for the event.</p>

  </div>



  <h5 id="mediaevents"><span class="secno">4.8.10.16 </span>Event summary</h5>

  <p><i>This section is non-normative.</i></p>

  <p>The following events fire on <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media element">media
  elements</a> as part of the processing model described above:</p>

  <table><thead><tr><th>Event name
     </th><th>Interface
     </th><th>Fired when...
     </th><th>Preconditions

   </th></tr></thead><tbody><tr><td><dfn id="event-media-loadstart" title="event-media-loadstart"><code>loadstart</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The user agent begins looking for <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>, as part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection algorithm</a>.
     </td><td><code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> equals <code title="dom-media-NETWORK_LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading">NETWORK_LOADING</a></code>
    </td></tr><tr><td><dfn id="event-media-progress" title="event-media-progress"><code>progress</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The user agent is fetching <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>.
     </td><td><code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> equals <code title="dom-media-NETWORK_LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading">NETWORK_LOADING</a></code>
    </td></tr><tr><td><dfn id="event-media-suspend" title="event-media-suspend"><code>suspend</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The user agent is intentionally not currently fetching <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>.
     </td><td><code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> equals <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code>
    </td></tr><tr><td><dfn id="event-media-abort" title="event-media-abort"><code>abort</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The user agent stops fetching the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> before it is completely downloaded, but not due to an error.
     </td><td><code title="dom-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error">error</a></code> is an object with the code <code title="dom-MediaError-MEDIA_ERR_ABORTED"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_aborted">MEDIA_ERR_ABORTED</a></code>.
         <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> equals either <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code> or <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code>, depending on when the download was aborted.
    </td></tr><tr><td><dfn id="event-media-error" title="event-media-error"><code>error</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>An error occurs while fetching the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>.
     </td><td><code title="dom-media-error"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-error">error</a></code> is an object with the code <code title="dom-MediaError-MEDIA_ERR_NETWORK"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediaerror-media_err_network">MEDIA_ERR_NETWORK</a></code> or higher.
         <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> equals either <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code> or <code title="dom-media-NETWORK_IDLE"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_idle">NETWORK_IDLE</a></code>, depending on when the download was aborted.
    </td></tr><tr><td><dfn id="event-media-emptied" title="event-media-emptied"><code>emptied</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> whose <code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> was previously not in the <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code> state has just switched to that state (either because of a fatal error during load that's about to be reported, or because the <code title="dom-media-load"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-load">load()</a></code> method was invoked while the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-media-load-algorithm" title="concept-media-load-algorithm">resource selection algorithm</a> was already running).
     </td><td><code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> is <code title="dom-media-NETWORK_EMPTY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_empty">NETWORK_EMPTY</a></code>; all the IDL attributes are in their initial states.
    </td></tr><tr><td><dfn id="event-media-stalled" title="event-media-stalled"><code>stalled</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The user agent is trying to fetch <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>, but data is unexpectedly not forthcoming.
     </td><td><code title="dom-media-networkState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-networkstate">networkState</a></code> is <code title="dom-media-NETWORK_LOADING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-network_loading">NETWORK_LOADING</a></code>.

   </td></tr></tbody><tbody><tr><td><dfn id="event-media-loadedmetadata" title="event-media-loadedmetadata"><code>loadedmetadata</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The user agent has just determined the duration and dimensions of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>
 and <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-text-tracks-are-ready">the text tracks are ready</a>.
     </td><td><code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> is newly equal to <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> or greater for the first time.
    </td></tr><tr><td><dfn id="event-media-loadeddata" title="event-media-loadeddata"><code>loadeddata</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The user agent can render the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a> at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> for the first time.
     </td><td><code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> newly increased to <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> or greater for the first time.
    </td></tr><tr><td><dfn id="event-media-canplay" title="event-media-canplay"><code>canplay</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The user agent can resume playback of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>, but estimates that if playback were to be started now, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> could not be rendered at the current playback rate up to its end without having to stop for further buffering of content.
     </td><td><code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> newly increased to <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> or greater.
    </td></tr><tr><td><dfn id="event-media-canplaythrough" title="event-media-canplaythrough"><code>canplaythrough</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The user agent estimates that if playback were to be started now, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> could be rendered at the current playback rate all the way to its end without having to stop for further buffering.
     </td><td><code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> is newly equal to <code title="dom-media-HAVE_ENOUGH_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code>.
    </td></tr><tr><td><dfn id="event-media-playing" title="event-media-playing"><code>playing</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>Playback is ready to start after having been paused or delayed due to lack of <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-data">media data</a>.
     </td><td><code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> is newly equal to or greater than <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> and <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> is false, or <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> is newly false and <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> is equal to or greater than <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code>. Even if this event fires, the element might still not be <a href="http://www.whatwg.org/specs/web-apps/current-work/#potentially-playing">potentially playing</a>, e.g. if
     the element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-on-its-media-controller">blocked on its media controller</a> (e.g. because the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-media-controller">current media controller</a> is paused, or another <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements" title="slaved media elements">slaved media element</a> is stalled somehow, or because the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> has no data corresponding to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a>), or
     the element is <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-user-interaction">paused for user interaction</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-in-band-content">paused for in-band content</a>.
    </td></tr><tr><td><dfn id="event-media-waiting" title="event-media-waiting"><code>waiting</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>Playback has stopped because the next frame is not available, but the user agent expects that frame to become available in due course.
     </td><td><code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> is equal to or less than <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code>, and <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> is false. Either <code title="dom-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking">seeking</a></code> is true, or the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> is not contained in any of the ranges in <code title="dom-media-buffered"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-buffered">buffered</a></code>. It is possible for playback to stop for other reasons without <code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> being false, but those reasons do not fire this event (and when those situations resolve, a separate <code title="event-media-playing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-media-playing">playing</a></code> event is not fired either): e.g.
     the element is newly <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-on-its-media-controller">blocked on its media controller</a>, or
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback" title="ended playback">playback ended</a>, or playback <a href="http://www.whatwg.org/specs/web-apps/current-work/#stopped-due-to-errors">stopped due to errors</a>, or the element has <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-user-interaction">paused for user interaction</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#paused-for-in-band-content">paused for in-band content</a>.
   </td></tr></tbody><tbody><tr><td><dfn id="event-media-seeking" title="event-media-seeking"><code>seeking</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <code title="dom-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking">seeking</a></code> IDL attribute changed to true.
     </td><td>
    </td></tr><tr><td><dfn id="event-media-seeked" title="event-media-seeked"><code>seeked</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <code title="dom-media-seeking"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seeking">seeking</a></code> IDL attribute changed to false.
     </td><td>
    </td></tr><tr><td><dfn id="event-media-ended" title="event-media-ended"><code>ended</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>Playback has stopped because the end of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> was reached.
     </td><td><code title="dom-media-currentTime"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-currenttime">currentTime</a></code> equals the end of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a>; <code title="dom-media-ended"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-ended">ended</a></code> is true.

   </td></tr></tbody><tbody><tr><td><dfn id="event-media-durationchange" title="event-media-durationchange"><code>durationchange</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <code title="dom-media-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-duration">duration</a></code> attribute has just been updated.
     </td><td>
    </td></tr><tr><td><dfn id="event-media-timeupdate" title="event-media-timeupdate"><code>timeupdate</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current playback position</a> changed as part of normal playback or in an especially interesting way, for example discontinuously.
     </td><td>
    </td></tr><tr><td><dfn id="event-media-play" title="event-media-play"><code>play</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The element is no longer paused. Fired after the <code title="dom-media-play"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-play">play()</a></code> method has returned, or when the <code title="attr-media-autoplay"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-autoplay">autoplay</a></code> attribute has caused playback to begin.
     </td><td><code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> is newly false.
    </td></tr><tr><td><dfn id="event-media-pause" title="event-media-pause"><code>pause</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The element has been paused. Fired after the <code title="dom-media-pause"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-pause">pause()</a></code> method has returned.
     </td><td><code title="dom-media-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-paused">paused</a></code> is newly true.
    </td></tr><tr><td><dfn id="event-media-ratechange" title="event-media-ratechange"><code>ratechange</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>Either the <code title="dom-media-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-defaultplaybackrate">defaultPlaybackRate</a></code> or the <code title="dom-media-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-playbackrate">playbackRate</a></code> attribute has just been updated.
     </td><td>
    </td></tr><tr><td><dfn id="event-media-volumechange" title="event-media-volumechange"><code>volumechange</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>Either the <code title="dom-media-volume"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-volume">volume</a></code> attribute or the <code title="dom-media-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-muted">muted</a></code> attribute has changed. Fired after the relevant attribute's setter has returned.
     </td><td>
  </td></tr></tbody></table><p>The following events fire on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> objects:</p>

  <table><thead><tr><th>Event name
     </th><th>Interface
     </th><th>Fired when...

   </th></tr></thead><tbody><tr><td><dfn id="event-mediacontroller-emptied" title="event-MediaController-emptied"><code>emptied</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>All the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> newly have <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> set to <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code> or greater, or there are no longer any <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a>.
    </td></tr><tr><td><dfn id="event-mediacontroller-loadedmetadata" title="event-MediaController-loadedmetadata"><code>loadedmetadata</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>All the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> newly have <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> set to <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code> or greater.
    </td></tr><tr><td><dfn id="event-mediacontroller-loadeddata" title="event-MediaController-loadeddata"><code>loadeddata</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>All the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> newly have <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> set to <code title="dom-media-HAVE_CURRENT_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_current_data">HAVE_CURRENT_DATA</a></code> or greater.
    </td></tr><tr><td><dfn id="event-mediacontroller-canplay" title="event-MediaController-canplay"><code>canplay</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>All the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> newly have <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> set to <code title="dom-media-HAVE_FUTURE_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_future_data">HAVE_FUTURE_DATA</a></code> or greater.
    </td></tr><tr><td><dfn id="event-mediacontroller-canplaythrough" title="event-MediaController-canplaythrough"><code>canplaythrough</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>All the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> newly have <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code> set to <code title="dom-media-HAVE_ENOUGH_DATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_enough_data">HAVE_ENOUGH_DATA</a></code> or greater.
    </td></tr><tr><td><dfn id="event-mediacontroller-playing" title="event-MediaController-playing"><code>playing</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is no longer a <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-media-controller">blocked media controller</a>.
    </td></tr><tr><td><dfn id="event-mediacontroller-ended" title="event-MediaController-ended"><code>ended</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> has reached the end of all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a>.
    </td></tr><tr><td><dfn id="event-mediacontroller-waiting" title="event-MediaController-waiting"><code>waiting</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code> is now a <a href="http://www.whatwg.org/specs/web-apps/current-work/#blocked-media-controller">blocked media controller</a>.
    </td></tr><tr><td><dfn id="event-mediacontcoller-ended" title="event-MediaContcoller-ended"><code>ended</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>All the <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a> have newly <a href="http://www.whatwg.org/specs/web-apps/current-work/#ended-playback">ended playback</a>.

   </td></tr></tbody><tbody><tr><td><dfn id="event-mediacontroller-durationchange" title="event-MediaController-durationchange"><code>durationchange</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <code title="dom-MediaController-duration"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-duration">duration</a></code> attribute has just been updated.
    </td></tr><tr><td><dfn id="event-mediacontroller-timeupdate" title="event-MediaController-timeupdate"><code>timeupdate</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-controller-position">media controller position</a> changed.
    </td></tr><tr><td><dfn id="event-mediacontroller-play" title="event-MediaController-play"><code>play</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <code title="dom-MediaController-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-paused">paused</a></code> attribute is newly false.
    </td></tr><tr><td><dfn id="event-mediacontroller-pause" title="event-MediaController-pause"><code>pause</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>The <code title="dom-MediaController-paused"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-paused">paused</a></code> attribute is newly true.
    </td></tr><tr><td><dfn id="event-mediacontroller-ratechange" title="event-MediaController-ratechange"><code>ratechange</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>Either the <code title="dom-MediaController-defaultPlaybackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-defaultplaybackrate">defaultPlaybackRate</a></code> attribute or the <code title="dom-MediaController-playbackRate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-playbackrate">playbackRate</a></code> attribute has just been updated.
    </td></tr><tr><td><dfn id="event-mediacontroller-volumechange" title="event-MediaController-volumechange"><code>volumechange</code></dfn>
     </td><td><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#event">Event</a></code>
     </td><td>Either the <code title="dom-MediaController-volume"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-volume">volume</a></code> attribute or the <code title="dom-MediaController-muted"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mediacontroller-muted">muted</a></code> attribute has just been updated.
  </td></tr></tbody></table><!--ADD-TOPIC:Security--><div class="impl">

  <h5 id="security-and-privacy-considerations"><span class="secno">4.8.10.17 </span>Security and privacy considerations</h5>

  <p>The main security and privacy implications of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-audio-element">audio</a></code> elements come from the
  ability to embed media cross-origin. There are two directions that
  threats can flow: from hostile content to a victim page, and from a
  hostile page to victim content.</p>

  <hr><p>If a victim page embeds hostile content, the threat is that the
  content might contain scripted code that attempts to interact with
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> that embeds the content. To avoid this,
  user agents must ensure that there is no access from the content to
  the embedding page. In the case of media content that uses DOM
  concepts, the embedded content must be treated as if it was in its
  own unrelated <a href="http://www.whatwg.org/specs/web-apps/current-work/#top-level-browsing-context">top-level browsing context</a>.</p>

  <p class="example">For instance, if an SVG animation was embedded in
  a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element, the user agent would not give it
  access to the DOM of the outer page. From the perspective of scripts
  in the SVG resource, the SVG file would appear to be in a lone
  top-level browsing context with no parent.</p>

  <hr><p>If a hostile page embeds victim content, the threat is that the
  embedding page could obtain information from the content that it
  would not otherwise have access to. The API does expose some
  information: the existence of the media, its type, its duration, its
  size, and the performance characteristics of its host. Such
  information is already potentially problematic, but in practice the
  same information can more or less be obtained using the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element, and so it has been deemed acceptable.</p>

  <p>However, significantly more sensitive information could be
  obtained if the user agent further exposes metadata within the
  content such as subtitles or chapter titles. Such information is
  therefore only exposed if the video resource passes a CORS
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#resource-sharing-check">resource sharing check</a>. The <code title="attr-media-crossorigin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-crossorigin">crossorigin</a></code> attribute allows
  authors to control how this check is performed. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCORS">[CORS]</a></p>

  <p class="example">Without this restriction, an attacker could trick
  a user running within a corporate network into visiting a site that
  attempts to load a video from a previously leaked location on the
  corporation's intranet. If such a video included confidential plans
  for a new product, then being able to read the subtitles would
  present a serious confidentiality breach.</p>

  </div>
<!--REMOVE-TOPIC:Security-->


  <h5 id="best-practices-for-authors-using-media-elements"><span class="secno">4.8.10.18 </span>Best practices for authors using media elements</h5>

  <p><i>This section is non-normative.</i></p>

  <p>Playing audio and video resources on small devices such as
  set-top boxes or mobile phones is often constrained by limited
  hardware resources in the device. For example, a device might only
  support three simultaneous videos. For this reason, it is a good
  practice to release resources held by <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element" title="media
  element">media elements</a> when they are done playing, either by
  being very careful about removing all references to the element and
  allowing it to be garbage collected, or, even better, by removing
  the element's <code title="attr-media-src"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-media-src">src</a></code> attribute and
  any <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-source-element">source</a></code> element descendants, and invoking the
  element's <code title="dom-media-load"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-load">load()</a></code> method.</p>

  <p>Similarly, when the playback rate is not exactly 1.0, hardware,
  software, or format limitations can cause video frames to be dropped
  and audio to be choppy or muted.</p>


  <div class="impl">

  <h5 id="best-practices-for-implementors-of-media-elements"><span class="secno">4.8.10.19 </span>Best practices for implementors of media elements</h5>

  <p><i>This section is non-normative.</i></p>

  <p>How accurately various aspects of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>
  API are implemented is considered a quality-of-implementation issue.</p>

  <p>For example, when implementing the <code title="attr-media-buffered">buffered</code> attribute, how precise
  an implementation reports the ranges that have been buffered depends
  on how carefully the user agent inspects the data. Since the API
  reports ranges as times, but the data is obtained in byte streams, a
  user agent receiving a variable-bit-rate stream might only be able
  to determine precise times by actually decoding all of the data.
  User agents aren't required to do this, however; they can instead
  return estimates (e.g. based on the average bit rate seen so far)
  which get revised as more information becomes available.</p>

  <p>As a general rule, user agents are urged to be conservative
  rather than optimistic. For example, it would be bad to report that
  everything had been buffered when it had not.</p>

  <p>Another quality-of-implementation issue would be playing a video
  backwards when the codec is designed only for forward playback (e.g.
  there aren't many key frames, and they are far apart, and the
  intervening frames only have deltas from the previous frame). User
  agents could do a poor job, e.g. only showing key frames; however,
  better implementations would do more work and thus do a better job,
  e.g. actually decoding parts of the video forwards, storing the
  complete frames, and then playing the frames backwards.</p>

  <p>Similarly, while implementations are allowed to drop buffered
  data at any time (there is no requirement that a user agent keep all
  the media data obtained for the lifetime of the media element), it
  is again a quality of implementation issue: user agents with
  sufficient resources to keep all the data around are encouraged to
  do so, as this allows for a better user experience. For example, if
  the user is watching a live stream, a user agent could allow the
  user only to view the live video; however, a better user agent would
  buffer everything and allow the user to seek through the earlier
  material, pause it, play it forwards and backwards, etc.</p>

  <p>When multiple tracks are synchronised with a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>, it is possible for scripts to add and
  remove media elements from the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mediacontroller">MediaController</a></code>'s list
  of <a href="http://www.whatwg.org/specs/web-apps/current-work/#slaved-media-elements">slaved media elements</a>, even while these tracks are
  playing. How smoothly the media plays back in such situations is
  another quality-of-implementation issue.</p>

  <hr><p>When a <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a> that is paused is <a href="http://www.whatwg.org/specs/web-apps/current-work/#remove-an-element-from-a-document" title="remove an element from a document">removed from a
  document</a> and not reinserted before the next time the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> spins, implementations that are resource
  constrained are encouraged to take that opportunity to release all
  hardware resources (like video planes, networking resources, and
  data buffers) used by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-element">media element</a>. (User agents
  still have to keep track of the playback position and so forth,
  though, in case playback is later restarted.)</p>

  </div>
  


<!--TOPIC:Canvas-->
  <h4 id="the-canvas-element"><span class="secno">4.8.11 </span>The <dfn id="canvas"><code>canvas</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">Embedded content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">Transparent</a><!--
--><!--FORK--><!--
-->, but with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#interactive-content">interactive content</a> descendants except for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> elements, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code> elements, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> elements whose <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute are in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#checkbox-state-(type=checkbox)" title="attr-input-type-checkbox">Checkbox</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#radio-button-state-(type=radio)" title="attr-input-type-radio">Radio Button</a> states, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> elements that are <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-button" title="concept-button">buttons</a><!--
--><!--FORK--><!--
-->.</dd> <!-- and maybe <select>, I guess? I've left it our for now, since I guess authors might make accessible selects if they're simple enough, and it's not obvious how to distinguish the simple ones from the complex ones... -->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-canvas-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-canvas-width">width</a></code></dd>
   <dd><code title="attr-canvas-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-canvas-height">height</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--ADD-TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmlcanvaselement">HTMLCanvasElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-width" title="dom-canvas-width">width</a>;
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-height" title="dom-canvas-height">height</a>;

  DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-todataurl" title="dom-canvas-toDataURL">toDataURL</a>(optional DOMString type, any... args);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-toblob" title="dom-canvas-toBlob">toBlob</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#filecallback">FileCallback</a>? _callback, optional DOMString type, any... args);

  object? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-getcontext" title="dom-canvas-getContext">getContext</a>(DOMString contextId, any... args);
};</pre>
   </dd>
  </dl><!--REMOVE-TOPIC:DOM APIs--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element provides scripts with a
  resolution-dependent bitmap canvas, which can be used for rendering
  graphs, game graphics, or other visual images on the fly.</p>

  <p>Authors should not use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element in a
  document when a more suitable element is available. For example, it
  is inappropriate to use a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element to render a
  page heading: if the desired presentation of the heading is
  graphically intense, it should be marked up using appropriate
  elements (typically <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code>) and then styled using CSS and
  supporting technologies such as XBL.</p>

  <p>When authors use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, they must also
  provide content that, when presented to the user, conveys
  essentially the same function or purpose as the bitmap canvas. This
  content may be placed as content of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>
  element. The contents of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, if any,
  are the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>.</p>

  <p>In interactive visual media, if <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-script" title="concept-n-script">scripting is enabled</a> for the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, and if support for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>
  elements has been enabled, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> consisting of
  a dynamically created image.</p>

  <p>In non-interactive, static, visual media, if the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element has been previously painted on (e.g. if
  the page was viewed in an interactive visual medium and is now being
  printed, or if some script that ran during the page layout process
  painted on the element), then the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a> with the
  current image and size. Otherwise, the element represents its
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a> instead.</p>

  <p>In non-visual media, and in visual media if <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-n-noscript" title="concept-n-noscript">scripting is disabled</a> for the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element or if support for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>
  elements has been disabled, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> its <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>
  instead.</p>

  <!-- CANVAS-FOCUS-FALLBACK -->
  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a>
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a>, the user can still focus descendants
  of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element (in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback
  content</a>). When an element is focused, it is the target of
  keyboard interaction events (even though the element itself is not
  visible). This allows authors to make an interactive canvas
  keyboard-accessible: authors should have a one-to-one mapping of
  interactive regions to focusable elements in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback
  content</a>. (Focus has no effect on mouse interaction
  events.) <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsDOMEVENTS">[DOMEVENTS]</a></p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element has two attributes to control the
  size of the coordinate space: <dfn id="attr-canvas-width" title="attr-canvas-width"><code>width</code></dfn> and <dfn id="attr-canvas-height" title="attr-canvas-height"><code>height</code></dfn>. These
  attributes, when specified, must have values that are <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer" title="valid non-negative integer">valid non-negative
  integers</a>. <span class="impl">The <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers">rules for parsing
  non-negative integers</a> must be used to obtain their numeric
  values. If an attribute is missing, or if parsing its value returns
  an error, then the default value must be used instead.</span> The
  <code title="attr-canvas-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-canvas-width">width</a></code> attribute defaults to
  300, and the <code title="attr-canvas-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-canvas-height">height</a></code>
  attribute defaults to 150.</p>

  <p>The intrinsic dimensions of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element equal
  the size of the coordinate space, with the numbers interpreted in
  CSS pixels. However, the element can be sized arbitrarily by a
  style sheet. During rendering, the image is scaled to fit this layout
  size.</p>

  <div class="impl">

  <p>The size of the coordinate space does not necessarily represent
  the size of the actual bitmap that the user agent will use
  internally or during rendering. On high-definition displays, for
  instance, the user agent may internally use a bitmap with two device
  pixels per unit in the coordinate space, so that the rendering
  remains at high quality throughout.</p>

  <p>When the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element is created, and subsequently
  whenever the <code title="attr-canvas-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-canvas-width">width</a></code> and <code title="attr-canvas-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-canvas-height">height</a></code> attributes are set (whether
  to a new value or to the previous value), the bitmap and any
  associated contexts must be cleared back to their initial state and
  reinitialized with the newly specified coordinate space
  dimensions.</p>

  <p>When the canvas is initialized, its bitmap must be cleared to
  transparent black.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element does not represent its
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback content</a>, it <a href="http://www.whatwg.org/specs/web-apps/current-work/#provides-a-paint-source">provides a paint
  source</a> whose width is the element's intrinsic width, whose
  height is the element's intrinsic height, and whose appearance is
  the element's bitmap.</p>

  <p>The <dfn id="dom-canvas-width" title="dom-canvas-width"><code>width</code></dfn> and
  <dfn id="dom-canvas-height" title="dom-canvas-height"><code>height</code></dfn> IDL
  attributes must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content
  attributes of the same name, with the same defaults.</p>

  </div>

  <div class="example">
   <p>Only one square appears to be drawn in the following example:</p>
   <pre>  // canvas is a reference to a &lt;canvas&gt; element
  var context = canvas.getContext('2d');
  context.fillRect(0,0,50,50);
  canvas.setAttribute('width', '300'); // clears the canvas
  context.fillRect(0,100,50,50);
  canvas.width = canvas.width; // clears the canvas
  context.fillRect(100,0,50,50); // only this square remains</pre>
  </div>

  <hr><!--ADD-TOPIC:DOM APIs--><dl class="domintro"><dt><var title="">context</var> = <var title="">canvas</var> . <code title="dom-canvas-getContext"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-getcontext">getContext</a></code>(<var title="">contextId</var> [, ... ])</dt>

   <dd>

    <p>Returns an object that exposes an API for drawing on the
    canvas. The first argument specifies the desired API. Subsequent
    arguments are handled by that API.</p>

<!--2DCONTEXT-->

    <p>This specification defines the "<code title="canvas-context-2d"><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvas-context-2d">2d</a></code>" context below. There is also
    a specification that defines a "<code title="canvas-context-webgl">webgl</code>" context. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBGL">[WEBGL]</a></p>

<!--2DCONTEXT-->

    <p>The list of defined contexts is given on the <a href="http://wiki.whatwg.org/wiki/CanvasContexts">WHATWG Wiki
    CanvasContexts page</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWHATWGWIKI">[WHATWGWIKI]</a>

    </p><p>Returns null if the given context ID is not supported or if the
    canvas has already been initialized with some other (incompatible)
    context type (e.g. trying to get a "<code title="canvas-context-2d"><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvas-context-2d">2d</a></code>" context after getting a
    "<code title="canvas-context-webgl">webgl</code>" context).</p>

   </dd>

  </dl><div class="impl">

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element can have a <dfn id="primary-context">primary
  context</dfn>, which is the first context to have been obtained for
  that element. When created, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element must not
  have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#primary-context">primary context</a>.</p>


  <p>The <dfn id="dom-canvas-getcontext" title="dom-canvas-getContext"><code>getContext(<var title="">contextId</var>, <var title="">args...</var>)</code></dfn>
  method of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, when invoked, must run
  the following steps:</p>

  <ol><li><p>Let <var title="">contextId</var> be the first argument to
   the method.</p></li>

   <li>

    <p>If <var title="">contextId</var> is not the name of a context
    supported by the user agent, return null and abort these
    steps.</p>

    <p class="note">An example of this would be a user agent that
    theoretically supports the "<code title="canvas-context-webgl">webgl</code>" 3D context, in the case
    where the platform does not have hardware support for OpenGL and
    the user agent does not have a software OpenGL implementation.
    Despite the user agent recognising the "<code title="canvas-context-webgl">webgl</code>" name, it would return
    null at this step because that context is not, in practice,
    supported at the time of the call.</p>

   </li>

   <li><p>If the element has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#primary-context">primary context</a> and that
   context's entry in the <a href="http://wiki.whatwg.org/wiki/CanvasContexts">WHATWG Wiki
   CanvasContexts page</a> does not list <var title="">contextId</var>
   as a context with which it is compatible, return null and abort
   these steps. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWHATWGWIKI">[WHATWGWIKI]</a></p></li>

   <li><p>If the element does not have a <a href="http://www.whatwg.org/specs/web-apps/current-work/#primary-context">primary context</a>,
   let the element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#primary-context">primary context</a> be <var title="">contextId</var>.</p></li>

   <li><p>If the <code title="dom-canvas-getContext"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-getcontext">getContext()</a></code> method has
   already been invoked on this element for the same <var title="">contextId</var>, return the same object as was returned
   that time, and abort these steps. The additional arguments are
   ignored.</p></li>

   <li><p><dfn id="getcontext-return" title="getContext-return">Return a new object for <var title="">contextId</var></dfn>, as defined by the specification
   given for <var title="">contextId</var>'s entry in the <a href="http://wiki.whatwg.org/wiki/CanvasContexts">WHATWG Wiki
   CanvasContexts page</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWHATWGWIKI">[WHATWGWIKI]</a></p></li>

  </ol><p>New context types may be registered in the <a href="http://wiki.whatwg.org/wiki/CanvasContexts">WHATWG Wiki
  CanvasContexts page</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWHATWGWIKI">[WHATWGWIKI]</a></p>

  <p>Anyone is free to edit the WHATWG Wiki CanvasContexts page at any
  time to add a new context type. These new context types must be
  specified with the following information:</p>

  <dl><dt>Keyword</dt>

   <dd><p>The value of <var title="">contextID</var> that will return
   the object for the new API.</p></dd>


   <dt>Specification</dt>

   <dd><p>A link to a formal specification of the context type's
   API. It could be another page on the Wiki, or a link to an external
   page. If the type does not have a formal specification, an informal
   description can be substituted until such time as a formal
   specification is available.</p></dd>


   <dt>Compatible with</dt>

   <dd><p>The list of context types that are compatible with this one
   (i.e. that operate on the same underlying bitmap). This list must
   be transitive and symmetric; if one context type is defined as
   compatible with another, then all types it is compatible with must
   be compatible with all types the other is compatible with.</p></dd>

  </dl><p>Vendors may also define experimental contexts using the syntax
  <code><var title="">vendorname</var>-<var title="">context</var></code>, for example,
  <code>moz-3d</code>. Such contexts should be registered in the
  WHATWG Wiki CanvasContexts page.</p>

  </div>

  <hr><dl class="domintro"><dt><var title="">url</var> = <var title="">canvas</var> . <code title="dom-canvas-toDataURL"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-todataurl">toDataURL</a></code>( [ <var title="">type</var>, ... ] )</dt>

   <dd>

    <p>Returns a <a href="http://www.whatwg.org/specs/web-apps/current-work/#data-protocol" title="data protocol"><code title="">data:</code> URL</a> for the image in the canvas.</p>

    <p>The first argument, if provided, controls the type of the image
    to be returned (e.g. PNG or JPEG). The default is <code title="">image/png</code>; that type is also used if the given
    type isn't supported. The other arguments are specific to the
    type, and control the way that the image is generated, as given in
    the table below.</p>

    <p>When trying to use types other than "<code>image/png</code>",
    authors can check if the image was really returned in the
    requested format by checking to see if the returned string starts
    with one of the exact strings "<code title="">data:image/png,</code>" or "<code title="">data:image/png;</code>". If it does, the image is PNG,
    and thus the requested type was not supported. (The one exception
    to this is if the canvas has either no height or no width, in
    which case the result might simply be "<code title="">data:,</code>".)</p>

   </dd>

   <dt><var title="">canvas</var> . <code title="dom-canvas-toBlob"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-toblob">toBlob</a></code>(<var title="">callback</var> [, <var title="">type</var>, ... ])</dt>

   <dd>

    <p>Creates a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#blob">Blob</a></code> object representing a file
    containing the image in the canvas, and invokes a callback with a
    handle to that object.</p>

    <p>The second argument, if provided, controls the type of the
    image to be returned (e.g. PNG or JPEG). The default is <code title="">image/png</code>; that type is also used if the given
    type isn't supported. The other arguments are specific to the
    type, and control the way that the image is generated, as given in
    the table below.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-canvas-todataurl" title="dom-canvas-toDataURL"><code>toDataURL()</code></dfn> method
  must run the following steps:</p>

  <ol><!--ADD-TOPIC:Security--><li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's <i>origin-clean</i>
   flag is set to false, throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code> exception
   and abort these steps.</p>
<!--REMOVE-TOPIC:Security-->

   </li><li><p>If the canvas has no pixels (i.e. either its horizontal
   dimension or its vertical dimension is zero) then return the string
   "<code title="">data:,</code>" and abort these steps. (This is the
   shortest <a href="http://www.whatwg.org/specs/web-apps/current-work/#data-protocol" title="data protocol"><code title="">data:</code>
   URL</a>; it represents the empty string in a <code title="">text/plain</code> resource.)</p></li>

   <li><p>Let <var title="">file</var> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-serialization-of-the-image-as-a-file">a serialization of the
   image as a file</a>, using the method's arguments (if any) as
   the <var title="">arguments</var>.</p></li>

   <li><p>Return a <a href="http://www.whatwg.org/specs/web-apps/current-work/#data-protocol" title="data protocol"><code title="">data:</code> URL</a> representing <var title="">file</var>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsRFC2397">[RFC2397]</a></p>

   <!-- should we explicitly require the URL to be base64-encoded and
   not have any parameters, to ensure the same exact URL is generated
   in each browser? -->

  </li></ol><p>The <dfn id="dom-canvas-toblob" title="dom-canvas-toBlob"><code>toBlob()</code></dfn> method
  must run the following steps:</p>

  <ol><!--ADD-TOPIC:Security--><li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's <i>origin-clean</i>
   flag is set to false, throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code> exception
   and abort these steps.</p>
<!--REMOVE-TOPIC:Security-->

   </li><li><p>Let <var title="">callback</var> be the first
   argument.</p></li>

   <li><p>Let <var title="">arguments</var> be the second and
   subsequent arguments to the method, if any.</p></li>

   <li>

    <p>If the canvas has no pixels (i.e. either its horizontal
    dimension or its vertical dimension is zero) then let <var title="">result</var> be null.</p>

    <p>Otherwise, let <var title="">result</var> be a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#blob">Blob</a></code> object representing <a href="http://www.whatwg.org/specs/web-apps/current-work/#a-serialization-of-the-image-as-a-file">a serialization of the
    image as a file</a>, using <var title="">arguments</var>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsFILEAPI">[FILEAPI]</a> </p>

   </li>

   <li><p>Return, but continue running these steps
   asynchronously.</p></li>

   <li><p>If <var title="">callback</var> is null, abort these
   steps.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#queue-a-task">Queue a task</a> to invoke the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#filecallback">FileCallback</a></code> <var title="">callback</var> with <var title="">result</var> as its argument. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#task-source">task source</a>
   for this task is the <dfn id="canvas-blob-serialization-task-source">canvas blob serialization task
   source</dfn>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsFILESYSTEMAPI">[FILESYSTEMAPI]</a></p></li>

  </ol><p>When a user agent is to create <dfn id="a-serialization-of-the-image-as-a-file">a serialization of the image
  as a file</dfn>, optionally with some given <var title="">arguments</var>, it must create an image file in the format
  given by the first value of <var title="">arguments</var>, or, if
  there are no <var title="">arguments</var>, in the PNG format. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsPNG">[PNG]</a></p>

  <p>If <var title="">arguments</var> is not empty, the first value
  must be interpreted as a <a href="http://www.whatwg.org/specs/web-apps/current-work/#mime-type" title="MIME type">MIME type</a>
  giving the format to use. If the type has any parameters, it must be
  treated as not supported.</p>

  <p class="example">For example, the value "<code>image/png</code>" would
  mean to generate a PNG image, the value "<code>image/jpeg</code>"
  would mean to generate a JPEG image, and the value
  "<code>image/svg+xml</code>" would mean to generate an SVG image
  (which would probably require that the implementation actually keep
  enough information to reliably render an SVG image from the canvas).</p>

  <p>User agents must support PNG ("<code>image/png</code>"). User
  agents may support other types. If the user agent does not support
  the requested type, it must create the file using the PNG format. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsPNG">[PNG]</a></p>

  <p>User agents must <a href="http://www.whatwg.org/specs/web-apps/current-work/#converted-to-ascii-lowercase" title="converted to ASCII
  lowercase">convert the provided type to ASCII lowercase</a>
  before establishing if they support that type.</p>

  <p>For image types that do not support an alpha channel, the
  serialized image must be the canvas image composited onto a solid
  black background using the source-over operator.</p>

  <p>If the first argument in <var title="">arguments</var> gives a
  type corresponding to one of the types given in the first column of
  the following table, and the user agent supports that type, then the
  subsequent arguments, if any, must be treated as described in the
  second cell of that row.</p>

  </div>

  <table><thead><tr><th> Type </th><th> Other arguments </th><th> Reference
   </th></tr></thead><tbody><tr><td> <code>image/jpeg</code>
     </td><td> The second argument<span class="impl">, if it</span> is a
     number in the range 0.0 to 1.0 inclusive<span class="impl">, must
     be</span> treated as the desired quality level. <span class="impl">If it is not a number or is outside that range, the
     user agent must use its default value, as if the argument had
     been omitted.</span>
     </td><td> <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsJPEG">[JPEG]</a>
  </td></tr></tbody></table><div class="impl">

  <p>For the purposes of these rules, an argument is considered to be
  a number if it is converted to an IDL double value by the rules for
  handling arguments of type <code title="">any</code> in the Web IDL
  specification. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsWEBIDL">[WEBIDL]</a></p>

  <p>Other arguments must be ignored and must not cause the user agent
  to throw an exception. A future version of this specification will
  probably define other parameters to be passed to these methods to
  allow authors to more carefully control compression settings, image
  metadata, etc.</p>

  </div>
  <!--REMOVE-TOPIC:DOM APIs-->


  <!--2DCONTEXT-->

  <div data-component="HTML Canvas 2D Context (editor: Ian Hickson)">

  <h5 id="2dcontext"><span class="secno">4.8.11.1 </span>The 2D context</h5>

  <!-- v2: we're on v5. suggestions for subsequent versions are marked v6, v7. -->

  

  <p>This specification defines the <dfn id="canvas-context-2d" title="canvas-context-2d"><code>2d</code></dfn> context type, whose
  API is implemented using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code>
  interface.</p>

  <div class="impl">

  <p>When the <code title="dom-canvas-getContext"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-getcontext">getContext()</a></code>
  method of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element is to <a href="http://www.whatwg.org/specs/web-apps/current-work/#getcontext-return" title="getContext-return">return a new object for the <var title="">contextId</var></a> <code title="canvas-context-2d"><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvas-context-2d">2d</a></code>, the user agent must return a
  new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object. Any additional
  arguments are ignored.</p>

  </div>

  <p>The 2D context represents a flat Cartesian surface whose origin
  (0,0) is at the top left corner, with the coordinate space having
  <var title="">x</var> values increasing when going right, and <var title="">y</var> values increasing when going down.</p>

  <pre class="idl">interface <dfn id="canvasrenderingcontext2d">CanvasRenderingContext2D</dfn> {

  // back-reference to the canvas
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-canvas" title="dom-context-2d-canvas">canvas</a>;

  // state
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-save" title="dom-context-2d-save">save</a>(); // push state on state stack
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-restore" title="dom-context-2d-restore">restore</a>(); // pop state stack and restore state
<!--
  // v7 we've also received requests for:
          attribute boolean <span title="dom-context-2d-forceHighQuality">forceHighQuality</span> // (default false)
  // when enabled, it would prevent the UA from falling back on lower-quality but faster rendering routines
  // useful e.g. for when an image manipulation app uses <canvas> both for UI previews and the actual work

-->
  // transformations (default transform is the identity matrix)
           attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-currenttransform" title="dom-context-2d-currentTransform">currentTransform</a>;
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-scale" title="dom-context-2d-scale">scale</a>(double x, double y);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-rotate" title="dom-context-2d-rotate">rotate</a>(double angle);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-translate" title="dom-context-2d-translate">translate</a>(double x, double y);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-transform" title="dom-context-2d-transform">transform</a>(double a, double b, double c, double d, double e, double f);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-settransform" title="dom-context-2d-setTransform">setTransform</a>(double a, double b, double c, double d, double e, double f);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-resettransform" title="dom-context-2d-resetTransform">resetTransform</a>();
<!--
  // v7 we've also received requests (though not many so far) for:
  void skew(...);                             // is this common enough that one can't just use setTransform()?
  void reflect(...);  and  void mirror(...);  // aren't negative values in scale() sufficient for these?

-->
  // compositing
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha" title="dom-context-2d-globalAlpha">globalAlpha</a>; // (default 1.0)
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation" title="dom-context-2d-globalCompositeOperation">globalCompositeOperation</a>; // (default source-over)
<!--
  // v7 we've also received requests for:
  - turning off antialiasing to avoid seams when patterns are painted next to each other
    - might be better to overdraw?
    - might be better to just draw at a higher res then downsample, like for 3d?
  - nested layers
    - the ability to composite an entire set of drawing operations with one shadow all at once
      http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-August/015567.html

-->
  // colors and styles (see also the <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a> interface)
           attribute any <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle" title="dom-context-2d-strokeStyle">strokeStyle</a>; // (default black)
           attribute any <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle" title="dom-context-2d-fillStyle">fillStyle</a>; // (default black)
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createlineargradient" title="dom-context-2d-createLinearGradient">createLinearGradient</a>(double x0, double y0, double x1, double y1);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createradialgradient" title="dom-context-2d-createRadialGradient">createRadialGradient</a>(double x0, double y0, double r0, double x1, double y1, double r1);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createpattern" title="dom-context-2d-createPattern">createPattern</a>((<a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a>) image, DOMString repetition);

  // shadows
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsetx" title="dom-context-2d-shadowOffsetX">shadowOffsetX</a>; // (default 0)
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsety" title="dom-context-2d-shadowOffsetY">shadowOffsetY</a>; // (default 0)
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowblur" title="dom-context-2d-shadowBlur">shadowBlur</a>; // (default 0)
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowcolor" title="dom-context-2d-shadowColor">shadowColor</a>; // (default transparent black)

  // rects
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-clearrect" title="dom-context-2d-clearRect">clearRect</a>(double x, double y, double w, double h);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillrect" title="dom-context-2d-fillRect">fillRect</a>(double x, double y, double w, double h);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokerect" title="dom-context-2d-strokeRect">strokeRect</a>(double x, double y, double w, double h);

  // path API (see also <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspathmethods">CanvasPathMethods</a>)
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-beginpath" title="dom-context-2d-beginPath">beginPath</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fill" title="dom-context-2d-fill">fill</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fill" title="dom-context-2d-fill">fill</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-stroke" title="dom-context-2d-stroke">stroke</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-stroke" title="dom-context-2d-stroke">stroke</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawsystemfocusring" title="dom-context-2d-drawSystemFocusRing">drawSystemFocusRing</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a> element);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawsystemfocusring" title="dom-context-2d-drawSystemFocusRing">drawSystemFocusRing</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path, <a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a> element);
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawcustomfocusring" title="dom-context-2d-drawCustomFocusRing">drawCustomFocusRing</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a> element);
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawcustomfocusring" title="dom-context-2d-drawCustomFocusRing">drawCustomFocusRing</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path, <a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a> element);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-scrollpathintoview" title="dom-context-2d-scrollPathIntoView">scrollPathIntoView</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-scrollpathintoview" title="dom-context-2d-scrollPathIntoView">scrollPathIntoView</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-clip" title="dom-context-2d-clip">clip</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-clip" title="dom-context-2d-clip">clip</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-resetclip" title="dom-context-2d-resetClip">resetClip</a>();
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ispointinpath" title="dom-context-2d-isPointInPath">isPointInPath</a>(double x, double y);
  boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ispointinpath" title="dom-context-2d-isPointInPath">isPointInPath</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path, double x, double y);

  // text (see also the <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a> interface)
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-filltext" title="dom-context-2d-fillText">fillText</a>(DOMString text, double x, double y, optional double maxWidth);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-stroketext" title="dom-context-2d-strokeText">strokeText</a>(DOMString text, double x, double y, optional double maxWidth);<!-- v6DVT
  void <span title="dom-context-2d-fillVerticalText">fillVerticalText</span>(DOMString text, double x, double y, optional double maxHeight);
  void <span title="dom-context-2d-strokeVerticalText">strokeVerticalText</span>(DOMString text, double x, double y, optional double maxHeight); -->
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#textmetrics">TextMetrics</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-measuretext" title="dom-context-2d-measureText">measureText</a>(DOMString text);

  // drawing images
           attribute boolean <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-imagesmoothingenabled" title="dom-context-2d-imageSmoothingEnabled">imageSmoothingEnabled</a>; // (default true)
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage" title="dom-context-2d-drawImage">drawImage</a>((<a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a>) image, double dx, double dy);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage" title="dom-context-2d-drawImage">drawImage</a>((<a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a>) image, double dx, double dy, double dw, double dh);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage" title="dom-context-2d-drawImage">drawImage</a>((<a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a> or <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a>) image, double sx, double sy, double sw, double sh, double dx, double dy, double dw, double dh);

  // hit regions
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-addhitregion" title="dom-context-2d-addHitRegion">addHitRegion</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#hitregionoptions">HitRegionOptions</a> options);

  // pixel manipulation
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createimagedata" title="dom-context-2d-createImageData">createImageData</a>(double sw, double sh);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createimagedata" title="dom-context-2d-createImageData">createImageData</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a> imagedata);
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata" title="dom-context-2d-getImageData">getImageData</a>(double sx, double sy, double sw, double sh);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-putimagedata" title="dom-context-2d-putImageData">putImageData</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a> imagedata, double dx, double dy);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-putimagedata" title="dom-context-2d-putImageData">putImageData</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a> imagedata, double dx, double dy, double dirtyX, double dirtyY, double dirtyWidth, double dirtyHeight);
};
<a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a> implements <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a>;
<a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a> implements <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspathmethods">CanvasPathMethods</a>;

[NoInterfaceObject]
interface <dfn id="canvasdrawingstyles">CanvasDrawingStyles</dfn> {
  // line caps/joins
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linewidth" title="dom-context-2d-lineWidth">lineWidth</a>; // (default 1)
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linecap" title="dom-context-2d-lineCap">lineCap</a>; // "butt", "round", "square" (default "butt")
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linejoin" title="dom-context-2d-lineJoin">lineJoin</a>; // "round", "bevel", "miter" (default "miter")
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-miterlimit" title="dom-context-2d-miterLimit">miterLimit</a>; // (default 10)

  // dashed lines
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-setlinedash" title="dom-context-2d-setLineDash">setLineDash</a>(sequence&lt;double&gt; segments); // default empty
  sequence&lt;double&gt; <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getlinedash" title="dom-context-2d-getLineDash">getLineDash</a>();
           attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linedashoffset" title="dom-context-2d-lineDashOffset">lineDashOffset</a>;

  // text
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-font" title="dom-context-2d-font">font</a>; // (default 10px sans-serif)
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign" title="dom-context-2d-textAlign">textAlign</a>; // "start", "end", "left", "right", "center" (default: "start")
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline" title="dom-context-2d-textBaseline">textBaseline</a>; // "top", "hanging", "middle", "alphabetic", "ideographic", "bottom" (default: "alphabetic")
};

[NoInterfaceObject]
interface <dfn id="canvaspathmethods">CanvasPathMethods</dfn> {
  // shared path API methods
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-closepath" title="dom-context-2d-closePath">closePath</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-moveto" title="dom-context-2d-moveTo">moveTo</a>(double x, double y);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-lineto" title="dom-context-2d-lineTo">lineTo</a>(double x, double y);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-quadraticcurveto" title="dom-context-2d-quadraticCurveTo">quadraticCurveTo</a>(double cpx, double cpy, double x, double y);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-beziercurveto" title="dom-context-2d-bezierCurveTo">bezierCurveTo</a>(double cp1x, double cp1y, double cp2x, double cp2y, double x, double y);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arcto" title="dom-context-2d-arcTo">arcTo</a>(double x1, double y1, double x2, double y2, double radius); <!-- see ARC-ORDER note below -->
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arcto" title="dom-context-2d-arcTo">arcTo</a>(double x1, double y1, double x2, double y2, double radiusX, double radiusY, double rotation); <!-- see ARC-ORDER note below -->
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-rect" title="dom-context-2d-rect">rect</a>(double x, double y, double w, double h);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arc" title="dom-context-2d-arc">arc</a>(double x, double y, double radius, double startAngle, double endAngle, optional boolean anticlockwise = false); <!-- see ARC-ORDER note below -->
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ellipse" title="dom-context-2d-ellipse">ellipse</a>(double x, double y, double radiusX, double radiusY, double rotation, double startAngle, double endAngle, boolean anticlockwise); <!-- see ARC-ORDER note below -->
};

interface <dfn id="canvasgradient">CanvasGradient</dfn> {
  // opaque object
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvasgradient-addcolorstop" title="dom-canvasgradient-addColorStop">addColorStop</a>(double offset, DOMString color);
};

interface <dfn id="canvaspattern">CanvasPattern</dfn> {
  // opaque object
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvaspattern-settransform" title="dom-canvaspattern-setTransform">setTransform</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a> transform);
};

interface <dfn id="textmetrics">TextMetrics</dfn> {
  // x-direction
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-width" title="dom-textmetrics-width">width</a>; // advance width
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxleft" title="dom-textmetrics-actualBoundingBoxLeft">actualBoundingBoxLeft</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxright" title="dom-textmetrics-actualBoundingBoxRight">actualBoundingBoxRight</a>;

  // y-direction
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-fontboundingboxascent" title="dom-textmetrics-fontBoundingBoxAscent">fontBoundingBoxAscent</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-fontboundingboxdescent" title="dom-textmetrics-fontBoundingBoxDescent">fontBoundingBoxDescent</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxascent" title="dom-textmetrics-actualBoundingBoxAscent">actualBoundingBoxAscent</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxdescent" title="dom-textmetrics-actualBoundingBoxDescent">actualBoundingBoxDescent</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-emheightascent" title="dom-textmetrics-emHeightAscent">emHeightAscent</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-emheightdescent" title="dom-textmetrics-emHeightDescent">emHeightDescent</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-hangingbaseline" title="dom-textmetrics-hangingBaseline">hangingBaseline</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-alphabeticbaseline" title="dom-textmetrics-alphabeticBaseline">alphabeticBaseline</a>;
  readonly attribute double <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-ideographicbaseline" title="dom-textmetrics-ideographicBaseline">ideographicBaseline</a>;
};

dictionary <dfn id="hitregionoptions">HitRegionOptions</dfn> {
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a>? <span title="dom-HitRegionOptions-path">path</span> = null;
<!--  <span>SVGMatrix</span>? <span title="dom-HitRegionOptions-transform">transform</span> = null;
-->  <span>DOMString</span> <span title="dom-HitRegionOptions-id">id</span> = '';
  <span>DOMString</span>? <span title="dom-HitRegionOptions-parentID">parentID</span> = null;
  <span>DOMString</span> <span title="dom-HitRegionOptions-cursor">cursor</span> = 'inherit';
  // for control-backed regions:
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a>? <span title="dom-HitRegionOptions-control">control</span> = null;
  // for unbacked regions:
  <span>DOMString</span>? <span title="dom-HitRegionOptions-label">label</span> = null;
  <span>DOMString</span>? <span title="dom-HitRegionOptions-role">role</span> = null;
};

interface <dfn id="imagedata">ImageData</dfn> {
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-width" title="dom-imagedata-width">width</a>;
  readonly attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-height" title="dom-imagedata-height">height</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#uint8clampedarray">Uint8ClampedArray</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-data" title="dom-imagedata-data">data</a>;
};

[<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-drawingstyle" title="dom-DrawingStyle">Constructor</a>(optional <a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a> scope)]
interface <dfn id="drawingstyle">DrawingStyle</dfn> { };
<a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a> implements <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a>;

[<a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path" title="dom-Path">Constructor</a>,
 <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-copy" title="dom-Path-copy">Constructor</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path),
 <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-withdata" title="dom-Path-withdata">Constructor</a>(DOMString d)]
interface <dfn id="path">Path</dfn> {
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpath" title="dom-path-addPath">addPath</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path, <a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a>? transformation);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingpath" title="dom-path-addPathByStrokingPath">addPathByStrokingPath</a>(<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path, <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a> styles, <a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a>? transformation);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addtext" title="dom-path-addText">addText</a>(DOMString text, <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a> styles, <a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a>? transformation, double x, double y, optional double maxWidth);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingtext" title="dom-path-addPathByStrokingText">addPathByStrokingText</a>(DOMString text, <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a> styles, <a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a>? transformation, double x, double y, optional double maxWidth);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addtext" title="dom-path-addText">addText</a>(DOMString text, <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a> styles, <a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a>? transformation, <a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path, optional double maxWidth);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingtext" title="dom-path-addPathByStrokingText">addPathByStrokingText</a>(DOMString text, <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a> styles, <a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a>? transformation, <a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> path, optional double maxWidth);
};
<a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a> implements <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspathmethods">CanvasPathMethods</a>;</pre>

 <!-- ARC-ORDER note (see above):
      some demos rely on the precise order of the arc() and arcTo()
      methods, see https://bugzilla.mozilla.org/show_bug.cgi?id=623437
      for an example, and its duplicates for more -->

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-canvas"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-canvas">canvas</a></code></dt>

   <dd>

    <p>Returns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-context-2d-canvas" title="dom-context-2d-canvas"><code>canvas</code></dfn>
  attribute must return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element that the
  context paints on.</p>

  <p>Except where otherwise specified, for the 2D context interface,
  <strong>any method call with a numeric argument whose value is
  infinite or a NaN value must be ignored</strong>.</p>

  <!--
   Philip Taylor wrote:
   > My experience with some 3d canvas code is that infinities come up in
   > naturally harmless places, e.g. having a function that scales by x then
   > translates by 1/x and wanting it to work when x=0 (which ought to draw
   > nothing, since anything it draws is zero pixels wide), and it's a bit
   > annoying to track down and fix those issues, so I'd probably like it if
   > they were harmless in canvas methods. Opera appears to silently not draw
   > anything if the transformation matrix is not finite, but Firefox throws
   > exceptions when passing in non-finite arguments.
  -->

  <p>Whenever the CSS value <code title="">currentColor</code> is used
  as a color in this API, the "computed value of the 'color' property"
  for the purposes of determining the computed value of the <code title="">currentColor</code> keyword is the computed value of the
  'color' property on the element in question at the time that the
  color is specified (e.g. when the appropriate attribute is set, or
  when the method is called; not when the color is rendered or
  otherwise used). If the computed value of the 'color' property is
  undefined for a particular case (e.g. because the element is not
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document">in a <code>Document</code></a>), then the "computed value
  of the 'color' property" for the purposes of determining the
  computed value of the <code title="">currentColor</code> keyword is
  fully opaque black. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSCOLOR">[CSSCOLOR]</a></p>

  <p>In the case of <code title="dom-canvasgradient-addColorStop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvasgradient-addcolorstop">addColorStop()</a></code> on
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code>, the "computed value of the 'color'
  property" for the purposes of determining the computed value of the
  <code title="">currentColor</code> keyword is always fully opaque
  black (there is no associated element). <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSCOLOR">[CSSCOLOR]</a></p>

  <p class="note">This is because <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> objects
  are <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>-neutral — a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> object created by one
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> can be used by another, and there is therefore
  no way to know which is the "element in question" at the time that
  the color is specified.</p>

  <p class="note">Similar concerns exist with font-related properties;
  the rules for those are described in detail in the relevant section
  below.</p>

  </div>



  <h6 id="the-canvas-state"><span class="secno">4.8.11.1.1 </span>The canvas state</h6>

  <p>Each context maintains a stack of drawing states. <dfn id="drawing-state" title="drawing state">Drawing states</dfn> consist of:</p>

  <ul class="brief"><li>The current <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">transformation matrix</a>.</li>
   <li>The current <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a>.</li>
   <li>The current values of the following attributes: <code title="dom-context-2d-strokeStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle">strokeStyle</a></code>, <code title="dom-context-2d-fillStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle">fillStyle</a></code>, <code title="dom-context-2d-globalAlpha"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha">globalAlpha</a></code>, <code title="dom-context-2d-lineWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linewidth">lineWidth</a></code>, <code title="dom-context-2d-lineCap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linecap">lineCap</a></code>, <code title="dom-context-2d-lineJoin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linejoin">lineJoin</a></code>, <code title="dom-context-2d-miterLimit"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-miterlimit">miterLimit</a></code>, <code title="dom-context-2d-shadowOffsetX"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsetx">shadowOffsetX</a></code>, <code title="dom-context-2d-shadowOffsetY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsety">shadowOffsetY</a></code>, <code title="dom-context-2d-shadowBlur"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowblur">shadowBlur</a></code>, <code title="dom-context-2d-shadowColor"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowcolor">shadowColor</a></code>, <code title="dom-context-2d-globalCompositeOperation"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation">globalCompositeOperation</a></code>, <code title="dom-context-2d-font"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-font">font</a></code>, <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code>, <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code>.</li>
  </ul><p class="note">The <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> and the
  current bitmap are not part of the drawing state. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current
  default path</a> is persistent, and can only be reset using the
  <code title="dom-context-2d-beginPath"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-beginpath">beginPath()</a></code> method.
  The current bitmap is a property of the canvas, not the context.</p>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-save"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-save">save</a></code>()</dt>

   <dd>

    <p>Pushes the current state onto the stack.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-restore"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-restore">restore</a></code>()</dt>

   <dd>

    <p>Pops the top state on the stack, restoring the context to that state.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-context-2d-save" title="dom-context-2d-save"><code>save()</code></dfn>
  method must push a copy of the current drawing state onto the
  drawing state stack.</p>

  <p>The <dfn id="dom-context-2d-restore" title="dom-context-2d-restore"><code>restore()</code></dfn> method
  must pop the top entry in the drawing state stack, and reset the
  drawing state it describes. If there is no saved state, the method
  must do nothing.</p>

  <!-- v7
idea from Mihai:
> 5. Drawing states should be saveable with IDs, and for easier restoring.
>
> save(id)
> restore(id)
>
> If id is not provided, then save() works as defined now. The same for
> restore().
>
> Currently, it's not trivial to save and restore a specific state.
...and from Philip:
> I think a more convenient syntax would be:
>   var state = ctx.save();
>   ctx.restore(state);
> But how would it interact with normal calls to ctx.restore()?
  -->

  </div>


  <h6 id="drawingstyle-objects"><span class="secno">4.8.11.1.2 </span><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> objects</h6>

  <p>All the line styles (line width, caps, joins, and dash patterns)
  and text styles (fonts) described in the next two sections apply to
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> objects and to
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> objects. This section defines the
  constructor used to obtain a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> object. This
  object is then used by methods on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> objects to
  control how text and paths are rasterised and stroked.</p>

  <dl class="domintro"><dt><var title="">styles</var> = new <code title="dom-DrawingStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-drawingstyle">DrawingStyle</a></code>( [ <var title="">element</var> ] )</dt>

   <dd>

    <p>Creates a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> object, optionally
    using a specific element for resolving relative keywords and sizes
    in font specifications.</p>

   </dd>

  </dl><div class="impl">

  <p>Each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> object has a <dfn id="styles-scope-node">styles scope
  node</dfn>.</p>

  <p>The <dfn id="dom-drawingstyle" title="dom-DrawingStyle"><code>DrawingStyle()</code></dfn>
  constructor, when invoked, must return a newly created
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> object. If the constructor was passed an
  argument, then the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#styles-scope-node">styles
  scope node</a> is that element. Otherwise, the object's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#styles-scope-node">styles scope node</a> is the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object
  of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#active-document">active document</a> of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#browsing-context">browsing
  context</a> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#window">Window</a></code> object on which the
  interface object of the invoked constructor is found.</p>

  </div>


  <h6 id="line-styles"><span class="secno">4.8.11.1.3 </span>Line styles</h6>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-lineWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linewidth">lineWidth</a></code> [ = <var title="">value</var> ]</dt>
   <dt><var title="">styles</var> . <code title="dom-context-2d-lineWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linewidth">lineWidth</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current line width.</p>

    <p>Can be set, to change the line width. Values that are not
    finite values greater than zero are ignored.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-lineCap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linecap">lineCap</a></code> [ = <var title="">value</var> ]</dt>
   <dt><var title="">styles</var> . <code title="dom-context-2d-lineCap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linecap">lineCap</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current line cap style.</p>

    <p>Can be set, to change the line cap style.</p>

    <p>The possible line cap styles are <code>butt</code>,
    <code>round</code>, and <code>square</code>. Other values are
    ignored.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-lineJoin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linejoin">lineJoin</a></code> [ = <var title="">value</var> ]</dt>
   <dt><var title="">styles</var> . <code title="dom-context-2d-lineJoin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linejoin">lineJoin</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current line join style.</p>

    <p>Can be set, to change the line join style.</p>

    <p>The possible line join styles are <code>bevel</code>,
    <code>round</code>, and <code>miter</code>. Other values are
    ignored.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-miterLimit"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-miterlimit">miterLimit</a></code> [ = <var title="">value</var> ]</dt>
   <dt><var title="">styles</var> . <code title="dom-context-2d-miterLimit"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-miterlimit">miterLimit</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current miter limit ratio.</p>

    <p>Can be set, to change the miter limit ratio. Values that are
    not finite values greater than zero are ignored.</p>

   </dd>


   <dt><var title="">context</var> . <code title="dom-context-2d-setLineDash"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-setlinedash">setLineDash</a></code>(<var title="">segments</var>)</dt>
   <dt><var title="">styles</var> . <code title="dom-context-2d-setLineDash"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-setlinedash">setLineDash</a></code>(<var title="">segments</var>)</dt>

   <dd>

    <p>Sets the current line dash pattern (as used when stroking). The
    argument is an array of distances for which to alternately have
    the line on and the line off.</p>

   </dd>


   <dt><var title="">segments</var> = <var title="">context</var> . <code title="dom-context-2d-getLineDash"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getlinedash">getLineDash</a></code>()</dt>
   <dt><var title="">segments</var> = <var title="">styles</var> . <code title="dom-context-2d-getLineDash"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getlinedash">getLineDash</a></code>()</dt>

   <dd>

    <p>Returns a copy of the current line dash pattern. The array
    returned will always have an even number of entries (i.e. the
    pattern is normalized).</p>

   </dd>


   <dt><var title="">context</var> . <code title="dom-context-2d-lineDashOffset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linedashoffset">lineDashOffset</a></code></dt>
   <dt><var title="">styles</var> . <code title="dom-context-2d-lineDashOffset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linedashoffset">lineDashOffset</a></code></dt>

   <dd>

    <p>Returns the phase offset (in the same units as the line dash pattern).</p>

    <p>Can be set, to change the phase offset. Values that are not
    finite values are ignored.</p>

   </dd>

  </dl><div class="impl">

  <p>Objects that implement the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
  interface have attributes and methods (defined in this section) that
  control how lines are treated by the object.</p>

  <p>The <dfn id="dom-context-2d-linewidth" title="dom-context-2d-lineWidth"><code>lineWidth</code></dfn>
  attribute gives the width of lines, in coordinate space units. On
  getting, it must return the current value. On setting, zero,
  negative, infinite, and NaN values must be ignored, leaving the
  value unchanged; other values must change the current value to the
  new value.</p>

  <p>When the object implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
  interface is created, the <code title="dom-context-2d-lineWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linewidth">lineWidth</a></code> attribute must
  initially have the value <code>1.0</code>.</p>

  <hr><p>The <dfn id="dom-context-2d-linecap" title="dom-context-2d-lineCap"><code>lineCap</code></dfn> attribute
  defines the type of endings that UAs will place on the end of lines.
  The three valid values are <code>butt</code>, <code>round</code>,
  and <code>square</code>.</p>

  <p>On getting, it must return the current value. On setting, if the
  new value is one of the literal strings <code>butt</code>,
  <code>round</code>, and <code>square</code>, then the current value
  must be changed to the new value; other values must ignored, leaving
  the value unchanged.</p>

  <p>When the object implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
  interface is created, the <code title="dom-context-2d-lineCap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linecap">lineCap</a></code> attribute must
  initially have the value <code>butt</code>.</p>

  <hr><p>The <dfn id="dom-context-2d-linejoin" title="dom-context-2d-lineJoin"><code>lineJoin</code></dfn>
  attribute defines the type of corners that UAs will place where two
  lines meet. The three valid values are <code>bevel</code>,
  <code>round</code>, and <code>miter</code>.</p>

  <p>On getting, it must return the current value. On setting, if the
  new value is one of the literal strings <code>bevel</code>,
  <code>round</code>, and <code>miter</code>, then the current value
  must be changed to the new value; other values must be ignored,
  leaving the value unchanged.</p>

  <p>When the object implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
  interface is created, the <code title="dom-context-2d-lineJoin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linejoin">lineJoin</a></code> attribute must
  initially have the value <code>miter</code>.</p>

  <hr><p>When the <code title="dom-context-2d-lineJoin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linejoin">lineJoin</a></code>
  attribute has the value <code>miter</code>, strokes use the miter
  limit ratio to decide how to render joins. The miter limit ratio can
  be explicitly set using the <dfn id="dom-context-2d-miterlimit" title="dom-context-2d-miterLimit"><code>miterLimit</code></dfn>
  attribute. On getting, it must return the current value. On setting,
  zero, negative, infinite, and NaN values must be ignored, leaving
  the value unchanged; other values must change the current value to
  the new value.</p>

  <p>When the object implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
  interface is created, the <code title="dom-context-2d-miterLimit"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-miterlimit">miterLimit</a></code> attribute must
  initially have the value <code>10.0</code>.</p>

  <hr><p>Each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code> object has a <dfn id="dash-list">dash
  list</dfn>, which is either empty or consists of an even number of
  positive non-zero numbers. Initially, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dash-list">dash list</a>
  must be empty.</p>

  <p>When the <dfn id="dom-context-2d-setlinedash" title="dom-context-2d-setLineDash"><code>setLineDash()</code></dfn>
  method is invoked, it must run the following steps:</p>

  <ol><li><p>Let <var title="">a</var> be a copy of the array provided as
   the argument.</p></li>

   <li><p>If any value in the array is not finite (e.g. an Infinity or
   a NaN value), or if any value is negative (less than zero), then
   abort these steps.</p></li>

   <li><p>If the number of elements in <var title="">a</var> is odd,
   then let <var title="">a</var> be the concatentation of two copies
   of <var title="">a</var>.</p></li>

   <li><p>Let the object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#dash-list">dash list</a> be <var title="">a</var>.</p></li>

  </ol><p>When the <dfn id="dom-context-2d-getlinedash" title="dom-context-2d-getLineDash"><code>getLineDash()</code></dfn>
  method is invoked, it must return a newly created array whose values
  are the values of the object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#dash-list">dash list</a>, in the same
  order.</p>

  <p>It is sometimes useful to change the "phase" of the dash pattern,
  e.g. to achieve a "marching ants" effect. The phase can be set using
  the <dfn id="dom-context-2d-linedashoffset" title="dom-context-2d-lineDashOffset"><code>lineDashOffset</code></dfn>
  attribute. On getting, it must return the current value. On setting,
  infinite and NaN values must be ignored, leaving the value
  unchanged; other values must change the current value to the new
  value.</p>

  <p>When the object implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
  interface is created, the <code title="dom-context-2d-lineDashOffset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linedashoffset">lineDashOffset</a></code>
  attribute must initially have the value <code>0.0</code>.</p>

  <hr><p>When a user agent is to <dfn id="trace-a-path">trace a <span>path</span></dfn>,
  given an object <var title="">style</var> that implements the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code> interface, it must run the following
  algorithm. This algorithm returns a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#path">path</a>.</p>

  <ol><li><p>Let <var title="">path</var> be a copy of the path being
   traced.</p></li>

   <li><p>Remove from <var title="">path</var> any subpaths containing
   no lines (i.e. empty subpaths with zero points, and subpaths with
   just one point).</p></li>

   <li><p>Replace each point in each subpath of <var title="">path</var> other than the first point and the last point
   of each subpath by a <i>join</i> that joins the line leading to
   that point to the line leading out of that point, such that the
   subpaths all consist of two points (a starting point with a line
   leading out of it, and an ending point with a line leading into
   it), one or more lines (connecting the points and the joins), and
   zero or more joins (each connecting one line to another), connected
   together such that each subpath is a series of one or more lines
   with a join between each one and a point on each end.</p></li>

   <li><p>Add a straight closing line to each closed subpath in <var title="">path</var> connecting the last point and the first point
   of that subpath; change the last point to a join (from the
   previously last line to the newly added closing line), and change
   the first point to a join (from the newly added closing line to the
   first line).</p>

   </li><li><p>If the <var title="">styles</var> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dash-list">dash list</a> is
   empty, jump to the step labeled <i>joins</i>.</p></li>

   <li><p>Let <var title="">width</var> be the aggregate length of all
   the lines of all the subpaths in <var title="">path</var>, in
   coordinate space units.</p></li>

   <li><p>Let <var title="">offset</var> be the value of the <var title="">styles</var> <code title="dom-context-2d-lineDashOffset"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linedashoffset">lineDashOffset</a></code>, in
   coordinate space units.</p></li>

   <li>

    <p>While <var title="">offset</var> is greater than <var title="">width</var>, decrement it by <var title="">width</var>.</p>

    <p>While <var title="">offset</var> is less than <var title="">width</var>, increment it by <var title="">width</var>.</p>

   </li>

   <li><p><i>Offset subpath</i>: If <var title="">offset</var> is
   non-zero, add a new subpath at the start of <var title="">path</var> consisting of two points connected by a line
   whose length is <var title="">offset</var> coordinate space units.
   (This path is temporary and will be removed in the <i>joins</i>
   step below. Its purpose is to offset the dash pattern.)</p>

   </li><li><p>Define <var title="">L</var> to be a linear coordinate line
   defined along all lines in all the subpaths in <var title="">path</var>, such that the start of the first line in the
   first subpath is defined as coordinate 0, and the end of the last
   line in the last subpath is defined as coordinate <var title="">width</var>.</p></li>

   <li><p>Let <var title="">position</var> be 0.</p></li>

   <li><p>Let <var title="">index</var> be 0.</p></li>

   <li><p>Let <var title="">current state</var> be <i>off</i> (the
   other states being <i>on</i> and <i>zero-on</i>).</p></li>

   <li><p><i>Dash On</i>: Let <var title="">segment length</var> be
   the value of the <var title="">styles</var> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dash-list">dash
   list</a>'s <var title="">index</var>th entry.</p></li>

   <li><p>Increment <var title="">position</var> by <var title="">segment length</var>.</p></li>

   <li><p>If <var title="">position</var> is greater than <var title="">width</var>, then jump to the step labeled
   <i>joins</i>.</p></li>

   <li><p>If <var title="">segment length</var> is non-zero, let <var title="">current state</var> be <i>on</i>.</p></li>

   <li><p>Increment <var title="">index</var> by one.</p></li>

   <li><p><i>Dash Off</i>: Let <var title="">segment length</var> be
   the value of the <var title="">styles</var> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dash-list">dash
   list</a>'s <var title="">index</var>th entry.</p></li>

   <li><p>Let <var title="">start</var> be the offset <var title="">position</var> on <var title="">L</var>.</p></li>

   <li><p>Increment <var title="">position</var> by <var title="">segment length</var>.</p></li>

   <li><p>If <var title="">position</var> is greater than <var title="">width</var>, then let <var title="">end</var> be the
   offset <var title="">width</var> on <var title="">L</var>.
   Otherwise, let <var title="">end</var> be the offset <var title="">position</var> on <var title="">L</var>.</p></li>

   <li>

    <p>Jump to the first appropriate step:</p>

    <dl class="switch"><dt>If <var title="">segment length</var> is zero and <var title="">current state</var> is <i>off</i></dt>

     <dd>

      <p>Do nothing, just continue to the next step.</p>

     </dd>


     <dt>If <var title="">current state</var> is <i>off</i></dt>

     <dd>

      <p>Cut the line on which <var title="">end</var> finds itself
      short at <var title="">end</var> and place a point there,
      cutting the subpath that it was in in two; remove all line
      segments, joins, points, and subpaths that are between <var title="">start</var> and <var title="">end</var>; and finally
      place a single point at <var title="">start</var> with no lines
      connecting to it.</p>

      <p>The point has a <i>directionality</i> for the purposes of
      drawing line caps (see below). The directionality is the
      direction that the original line had at that point (i.e. when
      <var title="">L</var> was defined above).</p>

     </dd>


     <dt>Otherwise</dt>

     <dd>

      <p>Cut the line on which <var title="">start</var> finds itself
      into two at <var title="">start</var> and place a point there,
      cutting the subpath that it was in in two, and similarly cut the
      line on which <var title="">end</var> finds itself short at <var title="">end</var> and place a point there, cutting the subpath
      that <em>it</em> was in in two, and then remove all line segments,
      joins, points, and subpaths that are between <var title="">start</var> and <var title="">end</var>.</p>

      <p>If <var title="">start</var> and <var title="">end</var> are
      the same point, then this results in just the line being cut in
      two and two points being inserted there, with nothing being
      removed, unless a join also happens to be at that point, in which
      case the join must be removed.</p>

     </dd>

    </dl></li>

   <li><p>If <var title="">position</var> is greater than <var title="">width</var>, then jump to the step labeld
   <i>joins</i>.</p></li>

   <li><p>If <var title="">segment length</var> is greater than zero,
   let <var title="">positioned-at-on-dash</var> be false.</p></li>

   <li><p>Increment <var title="">index</var> by one. If it is equal
   to the number of entries in the <var title="">styles</var>
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#dash-list">dash list</a>, then let <var title="">index</var> be
   0.</p></li>

   <li><p>Return to the step labeled <i>dash on</i>.</p></li>

   <li><p><i>Joins</i>: Remove from <var title="">path</var> any
   subpath that originally formed part of the subpath added in the
   <i>offset subpath</i> step above.</p></li>

   <li>

    <p>Create a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#path">path</a> that describes the result of
    inflating the paths in <var title="">path</var> perpendicular to
    the direction of the path to the <var title="">styles</var> <code title="dom-context-2d-lineWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linewidth">lineWidth</a></code> width, replacing
    each point with the end cap necessary to satisfy the <var title="">styles</var> <code title="dom-context-2d-lineCap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linecap">lineCap</a></code> attribute as
    described previously and elaborated below, and replacing each join
    with the join necessary to satisfy the <var title="">styles</var>
    <code title="dom-context-2d-lineJoin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linejoin">lineJoin</a></code> type, as
    defined below.</p>

    <p><strong>Caps</strong>: Each point has a flat edge perpendicular
    to the direction of the line coming out of it. This is them
    augmented according to the value of the <var title="">styles</var>
    <code title="dom-context-2d-lineCap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linecap">lineCap</a></code>. The
    <code>butt</code> value means that no additional line cap is
    added. The <code>round</code> value means that a semi-circle with
    the diameter equal to the <var title="">styles</var> <code title="dom-context-2d-lineWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linewidth">lineWidth</a></code> width must
    additionally be placed on to the line coming out of each point.
    The <code>square</code> value means that a rectangle with the
    length of the <var title="">styles</var> <code title="dom-context-2d-lineWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linewidth">lineWidth</a></code> width and the
    width of half the <var title="">styles</var> <code title="dom-context-2d-lineWidth"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linewidth">lineWidth</a></code> width, placed
    flat against the edge perpendicular to the direction of the line
    coming out of the point, must be added at each point.</p>

    <p>Points with no lines coming out of them must have two caps
    placed back-to-back as if it was really two points connected to
    each other by an infinitesimally short straight line in the
    direction of the point's <i>directionality</i> (as defined
    above).</p>

    <p><strong>Joins</strong>: In addition to the point where a join
    occurs, two additional points are relevant to each join, one for
    each line: the two corners found half the line width away from the
    join point, one perpendicular to each line, each on the side
    furthest from the other line.</p>

    <p>A filled triangle connecting these two opposite corners with a
    straight line, with the third point of the triangle being the join
    point, must be added at all joins. The <code title="dom-context-2d-lineJoin"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-linejoin">lineJoin</a></code> attribute controls
    whether anything else is rendered. The three aforementioned values
    have the following meanings:</p>

    <p>The <code>bevel</code> value means that this is all that is
    rendered at joins.</p>

    <p>The <code>round</code> value means that a filled arc connecting
    the two aforementioned corners of the join, abutting (and not
    overlapping) the aforementioned triangle, with the diameter equal
    to the line width and the origin at the point of the join, must be
    added at joins.</p>

    <p>The <code>miter</code> value means that a second filled
    triangle must (if it can given the miter length) be added at the
    join, with one line being the line between the two aforementioned
    corners, abutting the first triangle, and the other two being
    continuations of the outside edges of the two joining lines, as
    long as required to intersect without going over the miter
    length.</p>

    <p>The miter length is the distance from the point where the join
    occurs to the intersection of the line edges on the outside of the
    join. The miter limit ratio is the maximum allowed ratio of the
    miter length to half the line width. If the miter length would
    cause the miter limit ratio (as set by the <var title="">style</var> <code title="dom-context-2d-miterLimit"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-miterlimit">miterLimit</a></code> attribute) to
    be exceeded, this second triangle must not be added.</p>

    <p>Subpaths in the newly created path must wind clockwise,
    regardless of the direction of paths in <var title="">path</var>.</p>
    <!--
     ...because both of these examples result in two lines (assuming
     non-zero winding rules, things are different under even/odd),
     there's no "hole" where the lines overlap:

            c.beginPath();
            c.lineWidth=30;
            c.moveTo(200,200); // subpath 1
            c.lineTo(400,200);
            c.moveTo(400,210); // subpath 2
            c.lineTo(200,190);
            c.stroke();

            c.beginPath();
            c.lineWidth=30;
            c.moveTo(200,200); // subpath 1
            c.lineTo(400,200);
            c.lineTo(300,300);
            c.closePath();
            c.moveTo(400,210); // subpath 2
            c.lineTo(200,190);
            c.lineTo(300,300);
            c.closePath();
            c.stroke();

     ...and we want the same result when you create the two subpaths
     in each example above as two Paths, stroke them onto a third
     Path, and then fill that Path on the context.
    -->

   </li>

   <li><p>Return the newly created path.</p></li>

  </ol><!--v6: Another request has been for hairline width lines, that remain
hairline width with transform. ack Shaun Morris.  --></div>


  <h6 id="text-styles"><span class="secno">4.8.11.1.4 </span>Text styles</h6>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-font"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-font">font</a></code> [ = <var title="">value</var> ]</dt>
   <dt><var title="">styles</var> . <code title="dom-context-2d-font"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-font">font</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current font settings.</p>

    <p>Can be set, to change the font. The syntax is the same as for
    the CSS 'font' property; values that cannot be parsed as CSS font
    values are ignored.</p>

    <p>Relative keywords and lengths are computed relative to the font
    of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> [ = <var title="">value</var> ]</dt>
   <dt><var title="">styles</var> . <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current text alignment settings.</p>

    <p>Can be set, to change the alignment. The possible values are
    <code title="">start</code>, <code title="">end</code>, <code title="">left</code>, <code title="">right</code>, and <code title="">center</code>. Other values are ignored. The default is
    <code title="">start</code>.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> [ = <var title="">value</var> ]</dt>
   <dt><var title="">styles</var> . <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current baseline alignment settings.</p>

    <p>Can be set, to change the baseline alignment. The possible
    values and their meanings are given below. Other values are
    ignored. The default is <code title="">alphabetic</code>.</p>

   </dd>

  </dl><div class="impl">

  <p>Objects that implement the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
  interface have attributes (defined in this section) that control how
  text is laid out (rasterized or outlined) by the object. Such
  objects also have a <dfn id="font-style-source-node">font style source node</dfn>. For
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> objects, this is the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element. For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> objects,
  it's the <a href="http://www.whatwg.org/specs/web-apps/current-work/#styles-scope-node">styles scope node</a>.</p>

  <p>The <dfn id="dom-context-2d-font" title="dom-context-2d-font"><code>font</code></dfn> IDL
  attribute, on setting, must be parsed the same way as the 'font'
  property of CSS (but without supporting property-independent style
  sheet syntax like 'inherit'), and the resulting font must be
  assigned to the context, with the 'line-height' component forced to
  'normal', with the 'font-size' component converted to CSS pixels,
  and with system fonts being computed to explicit values. If the new
  value is syntactically incorrect (including using
  property-independent style sheet syntax like 'inherit' or
  'initial'), then it must be ignored, without assigning a new font
  value. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>

  <p>Font names must be interpreted in the context of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font
  style source node</a>'s stylesheets when the font is to be used;
  any fonts embedded using <code title="">@font-face</code> that are
  visible to that element must therefore be available once they are
  loaded. (If a reference font is used before it is fully loaded, or
  if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font style source node</a> does not have that font
  in scope at the time the font is to be used, then it must be treated
  as if it was an unknown font, falling back to another as described
  by the relevant CSS specifications.) <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSFONTS">[CSSFONTS]</a></p>

  <p>Only vector fonts should be used by the user agent; if a user
  agent were to use bitmap fonts then transformations would likely
  make the font look very ugly.</p>

  <p>On getting, the <code title="dom-context-2d-font"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-font">font</a></code>
  attribute must return the <a href="http://www.whatwg.org/specs/web-apps/current-work/#serializing-a-css-value" title="serializing a CSS
  value">serialized form</a> of the current font of the context
  (with no 'line-height' component). <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSOM">[CSSOM]</a></p>

  <div class="example">

   <p>For example, after the following statement:</p>

   <pre>context.font = 'italic 400 12px/2 Unknown Font, sans-serif';</pre>

   <p>...the expression <code title="">context.font</code> would
   evaluate to the string "<code title="">italic&nbsp;12px&nbsp;"Unknown&nbsp;Font",&nbsp;sans-serif</code>". The
   "400" font-weight doesn't appear because that is the default
   value. The line-height doesn't appear because it is forced to
   "normal", the default value.</p>

  </div>

  <p>When the object implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
  interface is created, the font of the context must be set to 10px
  sans-serif. When the 'font-size' component is set to lengths using
  percentages, 'em' or 'ex' units, or the 'larger' or 'smaller'
  keywords, these must be interpreted relative to the computed value


  of the 'font-size' property of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font style source
  node</a> at the time that the attribute is set, if that is an
  element. When the 'font-weight' component is set to the relative
  values 'bolder' and 'lighter', these must be interpreted relative to
  the computed value of the 'font-weight' property of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font
  style source node</a> at the time that the attribute is set, if
  that is an element. If the computed values are undefined for a
  particular case (e.g. because the <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font style source
  node</a> is not an element or is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#in-a-document">in a
  <code>Document</code></a>), then the relative keywords must be
  interpreted relative to the normal-weight 10px sans-serif
  default.</p>

  <p>The <dfn id="dom-context-2d-textalign" title="dom-context-2d-textAlign"><code>textAlign</code></dfn> IDL
  attribute, on getting, must return the current value. On setting, if
  the value is one of <code title="">start</code>, <code title="">end</code>, <code title="">left</code>, <code title="">right</code>, or <code title="">center</code>, then the
  value must be changed to the new value. Otherwise, the new value
  must be ignored. When the object implementing the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code> interface is created, the <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> attribute must
  initially have the value <code title="">start</code>.</p>

  <p>The <dfn id="dom-context-2d-textbaseline" title="dom-context-2d-textBaseline"><code>textBaseline</code></dfn>
  IDL attribute, on getting, must return the current value. On
  setting, if the value is one of <code title="dom-context-2d-textBaseline-top"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-top">top</a></code>, <code title="dom-context-2d-textBaseline-hanging"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-hanging">hanging</a></code>, <code title="dom-context-2d-textBaseline-middle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-middle">middle</a></code>, <code title="dom-context-2d-textBaseline-alphabetic"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-alphabetic">alphabetic</a></code>,
  <code title="dom-context-2d-textBaseline-ideographic"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-ideographic">ideographic</a></code>,
  or <code title="dom-context-2d-textBaseline-bottom"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-bottom">bottom</a></code>,
  then the value must be changed to the new value. Otherwise, the new
  value must be ignored. When the object implementing the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code> interface is created, the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute
  must initially have the value <code title="">alphabetic</code>.</p>

  </div>

  <p>The <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code>
  attribute's allowed keywords correspond to alignment points in the
  font:</p>

  <!-- this is filler to make sure the TCP packet boundary doesn't fall in the middle of one of the NCRs below -->
  <!-- (because otherwise the parser in anolis screws it up) -->
  <p><img alt="The top of the em square is roughly at the top of the glyphs in a font, the hanging baseline is where some glyphs like आ are anchored, the middle is half-way between the top of the em square and the bottom of the em square, the alphabetic baseline is where characters like Á, ÿ, f, and Ω are anchored, the ideographic baseline is where glyphs like 私 and 達 are anchored, and the bottom of the em square is roughly at the bottom of the glyphs in a font. The top and bottom of the bounding box can be far from these baselines, due to glyphs extending far outside the em square." height="300" src="./HTML Standard_files/baselines.png" width="738"></p>

  <p>The keywords map to these alignment points as follows:</p>

  <dl><dt><dfn id="dom-context-2d-textbaseline-top" title="dom-context-2d-textBaseline-top"><code>top</code></dfn>
   </dt><dd>The top of the em square</dd>

   <dt><dfn id="dom-context-2d-textbaseline-hanging" title="dom-context-2d-textBaseline-hanging"><code>hanging</code></dfn>
   </dt><dd>The hanging baseline</dd>

   <dt><dfn id="dom-context-2d-textbaseline-middle" title="dom-context-2d-textBaseline-middle"><code>middle</code></dfn>
   </dt><dd>The middle of the em square</dd>

   <dt><dfn id="dom-context-2d-textbaseline-alphabetic" title="dom-context-2d-textBaseline-alphabetic"><code>alphabetic</code></dfn>
   </dt><dd>The alphabetic baseline</dd>

   <dt><dfn id="dom-context-2d-textbaseline-ideographic" title="dom-context-2d-textBaseline-ideographic"><code>ideographic</code></dfn>
   </dt><dd>The ideographic baseline</dd>

   <dt><dfn id="dom-context-2d-textbaseline-bottom" title="dom-context-2d-textBaseline-bottom"><code>bottom</code></dfn>
   </dt><dd>The bottom of the em square</dd>

  </dl><p>The <dfn id="text-preparation-algorithm">text preparation algorithm</dfn> is as follows. It takes
  as input a string <var title="">text</var>, a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code> object <var title="">target</var>,
  and an optional length <var title="">maxWidth</var>. It returns an
  array of glyph shapes, each positioned on a common coordinate space,
  and a <var title="">physical alignment</var> whose value is one of
  <i>left</i>, <i>right</i>, and <i title="">center</i>. (Most callers of this
  algorithm ignore the <var title="">physical alignment</var>.)</p>

  <ol><li><p>If <var title="">maxWidth</var> was provided but is less
   than or equal to zero, return an empty array.</p></li>

   <li><p>Replace all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space
   characters</a> in <var title="">text</var> with U+0020 SPACE
   characters.</p></li>

   <li><p>Let <var title="">font</var> be the current font of <var title="">target</var>, as given by that object's <code title="dom-context-2d-font"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-font">font</a></code> attribute.</p></li>

   <li>

    <p>Apply the appropriate step from the following list to determine
    the value of <var title="">direction</var>:</p>

    <dl class="switch"><dt>If the <var title="">target</var> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font style
     source node</a> is an element</dt>

     <dd>Let <var title="">direction</var> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">the
     directionality</a> of the <var title="">target</var> object's
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font style source node</a>.</dd>

     <dt>If the <var title="">target</var> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font style
     source node</a> is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> and that
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> has a root element child</dt>

     <dd>Let <var title="">direction</var> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-directionality">the
     directionality</a> of the <var title="">target</var> object's
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font style source node</a>'s root element child.</dd>

     <dt>If the <var title="">target</var> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#font-style-source-node">font style
     source node</a> is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> and that
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> has no root element child</dt>

     <dd>Let <var title="">direction</var> be '<a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-ltr" title="concept-ltr">ltr</a>'.</dd>

    </dl></li>

   <li><p>Form a hypothetical infinitely-wide CSS line box containing
   a single inline box containing the text <var title="">text</var>,
   with all the properties at their initial values except the 'font'
   property of the inline box set to <var title="">font</var>, the
   'direction' property of the inline box set to <var title="">direction</var>, and the 'white-space' property set to
   'pre'. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p></li>

   <!-- if you insert a step here, make sure to adjust the next step's
   final words -->

   <li><p>If <var title="">maxWidth</var> was provided and the
   hypothetical width of the inline box in the hypothetical line box
   is greater than <var title="">maxWidth</var> CSS pixels, then
   change <var title="">font</var> to have a more condensed font (if
   one is available or if a reasonably readable one can be synthesized
   by applying a horizontal scale factor to the font) or a smaller
   font, and return to the previous step.</p></li>

   <li>

    <p>The <var title="">anchor point</var> is a point on the inline
    box, and the <var title="">physical alignment</var> is one of the
    values <i>left</i>, <i>right</i>, and <i title="">center</i>. These
    variables are determined by the <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> and <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> values as
    follows:</p>

    <p>Horizontal position:</p>

    <dl><dt>If <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> is
     <code title="">left</code></dt>

     <dt>If <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> is
     <code title="">start</code> and <var title="">direction</var> is
     'ltr'</dt>

     <dt>If <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> is
     <code title="">end</code> and <var title="">direction</var> is
     'rtl'</dt>

     <dd>Let the <var title="">anchor point</var>'s horizontal
     position be the left edge of the inline box, and let <var title="">physical alignment</var> be <i>left</i>.</dd>


     <dt>If <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> is
     <code title="">right</code></dt>

     <dt>If <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> is
     <code title="">end</code> and <var title="">direction</var> is
     'ltr'</dt>

     <dt>If <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> is
     <code title="">start</code> and <var title="">direction</var> is
     'rtl'</dt>

     <dd>Let the <var title="">anchor point</var>'s horizontal
     position be the right edge of the inline box, and let <var title="">physical alignment</var> be <i>right</i>.</dd>


     <dt>If <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> is
     <code title="">center</code></dt>

     <dd>Let the <var title="">anchor point</var>'s horizontal
     position be half way between the left and right edges of the
     inline box, and let <var title="">physical alignment</var> be
     <i title="">center</i>.</dd>

    </dl><p>Vertical position:</p>

    <dl><dt>If <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> is <code title="dom-context-2d-textBaseline-top"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-top">top</a></code></dt>

     <dd>Let the <var title="">anchor point</var>'s vertical position
     be the top of the em box of the first available font of the
     inline box.</dd>


     <dt>If <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> is <code title="dom-context-2d-textBaseline-hanging"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-hanging">hanging</a></code></dt>

     <dd>Let the <var title="">anchor point</var>'s vertical position
     be the hanging baseline of the first available font of the inline
     box.</dd>


     <dt>If <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> is <code title="dom-context-2d-textBaseline-middle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-middle">middle</a></code></dt>

     <dd>Let the <var title="">anchor point</var>'s vertical position
     be half way between the bottom and the top of the em box of the
     first available font of the inline box.</dd>


     <dt>If <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> is <code title="dom-context-2d-textBaseline-alphabetic"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-alphabetic">alphabetic</a></code></dt>

     <dd>Let the <var title="">anchor point</var>'s vertical position
     be the alphabetic baseline of the first available font of the inline
     box.</dd>


     <dt>If <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> is <code title="dom-context-2d-textBaseline-ideographic"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-ideographic">ideographic</a></code></dt>

     <dd>Let the <var title="">anchor point</var>'s vertical position
     be the ideographic baseline of the first available font of the inline
     box.</dd>


     <dt>If <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> is <code title="dom-context-2d-textBaseline-bottom"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-bottom">bottom</a></code></dt>

     <dd>Let the <var title="">anchor point</var>'s vertical position
     be the bottom of the em box of the first available font of the
     inline box.</dd>

    </dl></li>

   <li>

    <p>Let <var title="">result</var> be an array constructed by
    iterating over each glyph in the inline box from left to right (if
    any), adding to the array, for each glyph, the shape of the glyph
    as it is in the inline box, positioned on a coordinate space using
    CSS pixels with its origin is at the <var title="">anchor
    point</var>.</p>

   </li>

   <li><p>Return <var title="">result</var>, and, for callers that
   need it, <var title="">physical alignment</var> as the alignment
   value.</p></li>

  </ol><h6 id="building-paths"><span class="secno">4.8.11.1.5 </span>Building paths</h6>

  <p>Each object implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspathmethods">CanvasPathMethods</a></code>
  interface has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-path" title="concept-path">path</a>. A <dfn id="concept-path" title="concept-path">path</dfn> has a list of zero or more subpaths.
  Each subpath consists of a list of one or more points, connected by
  straight or curved lines, and a flag indicating whether the subpath
  is closed or not. A closed subpath is one where the last point of
  the subpath is connected to the first point of the subpath by a
  straight line. Subpaths with fewer than two points are ignored when
  painting the path.</p>

  <p>When an object implementing the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspathmethods">CanvasPathMethods</a></code>
  interface is created, its <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-path" title="concept-path">path</a>
  must be initialized to zero subpaths.</p>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-moveTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-moveto">moveTo</a></code>(<var title="">x</var>, <var title="">y</var>)</dt>
   <dt><var title="">path</var> . <code title="dom-context-2d-moveTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-moveto">moveTo</a></code>(<var title="">x</var>, <var title="">y</var>)</dt>

   <dd>

    <p>Creates a new subpath with the given point.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-closePath"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-closepath">closePath</a></code>()</dt>
   <dt><var title="">path</var> . <code title="dom-context-2d-closePath"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-closepath">closePath</a></code>()</dt>

   <dd>

    <p>Marks the current subpath as closed, and starts a new subpath with a point the same as the start and end of the newly closed subpath.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-lineTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-lineto">lineTo</a></code>(<var title="">x</var>, <var title="">y</var>)</dt>
   <dt><var title="">path</var> . <code title="dom-context-2d-lineTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-lineto">lineTo</a></code>(<var title="">x</var>, <var title="">y</var>)</dt>

   <dd>

    <p>Adds the given point to the current subpath, connected to the previous one by a straight line.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-quadraticCurveTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-quadraticcurveto">quadraticCurveTo</a></code>(<var title="">cpx</var>, <var title="">cpy</var>, <var title="">x</var>, <var title="">y</var>)</dt>
   <dt><var title="">path</var> . <code title="dom-context-2d-quadraticCurveTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-quadraticcurveto">quadraticCurveTo</a></code>(<var title="">cpx</var>, <var title="">cpy</var>, <var title="">x</var>, <var title="">y</var>)</dt>

   <dd>

    <p>Adds the given point to the current subpath, connected to the previous one by a quadratic Bézier curve with the given control point.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-bezierCurveTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-beziercurveto">bezierCurveTo</a></code>(<var title="">cp1x</var>, <var title="">cp1y</var>, <var title="">cp2x</var>, <var title="">cp2y</var>, <var title="">x</var>, <var title="">y</var>)</dt>
   <dt><var title="">path</var> . <code title="dom-context-2d-bezierCurveTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-beziercurveto">bezierCurveTo</a></code>(<var title="">cp1x</var>, <var title="">cp1y</var>, <var title="">cp2x</var>, <var title="">cp2y</var>, <var title="">x</var>, <var title="">y</var>)</dt>

   <dd>

    <p>Adds the given point to the current subpath, connected to the previous one by a cubic Bézier curve with the given control points.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-arcTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arcto">arcTo</a></code>(<var title="">x1</var>, <var title="">y1</var>, <var title="">x2</var>, <var title="">y2</var>, <var title="">radiusX</var> [, <var title="">radiusY</var>, <var title="">rotation</var> ])</dt>
   <dt><var title="">path</var> . <code title="dom-context-2d-arcTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arcto">arcTo</a></code>(<var title="">x1</var>, <var title="">y1</var>, <var title="">x2</var>, <var title="">y2</var>, <var title="">radius</var> [, <var title="">radiusY</var>, <var title="">rotation</var> ])</dt>

   <dd>

    <p>Adds an arc with the given control points and radius to the
    current subpath, connected to the previous point by a straight
    line.</p>

    <p>If two radii are provided, the first controls the width of the
    arc's ellipse, and the second controls the height. If only one is
    provided, or if they are the same, the arc is from a circle. In
    the case of an ellipse, the rotation argument controls the
    anti-clockwise inclination of the ellipse relative to the x-axis.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception if the given
    radius is negative.</p>

    <figure class="diagrams"><!-- if anyone wants to try writing alternative text for these,
     be my guest. I can't work out how to describe them. --><img alt="" src="./HTML Standard_files/arcTo1.png"><img alt="" src="./HTML Standard_files/arcTo2.png"><img alt="" src="./HTML Standard_files/arcTo3.png"></figure><!--

c.clearRect(0, 0, 640, 480);
c.save();
try {
  var x0 = 150;
  var y0 = 100;
  var x1 = 375;
  var y1 = 100;
  var x2 = x1;
  var y2 = 250;
  var r = 50;

  var bottom = 210;
  var center = 100;

  var fontSize = 16;
  var margin = 50;
  var dotHalfSize = 5;

  // (also update the label positions at the bottom)


  // ========

  function extendLine(xa,ya,xb,yb) {
    var dx = xb-xa;
    var dy = yb-ya;
    var theta = Math.atan2(dx,dy);
    var extX = margin * Math.sin(theta);
    var extY = margin * Math.cos(theta);
    c.beginPath();
    c.moveTo(xa-extX,ya-extY);
    c.lineTo(xb+extX,yb+extY);
    c.stroke();
  }

  function dot(x,y,s) {
    c.beginPath();
    c.arc(x,y,dotHalfSize,0,Math.PI*2);
    c.fill();
    c.textAlign = 'left';
    c.textBaseline = 'top';
    c.fillText(s,x+dotHalfSize,y);
  }

  c.font = fontSize + 'px Gill Sans';
  c.fillStyle = 'black';
  c.lineWidth = 1;
  c.strokeStyle = 'red';
  extendLine(x0,y0,x1,y1);
  extendLine(x1,y1,x2,y2);

  c.lineWidth = 1;
  c.strokeStyle = 'silver';
  c.beginPath();
  c.moveTo(x0,y0);

  // based on http://lists.freedesktop.org/archives/cairo/2005-August/004801.html
  var angle0, angle1, angle2, angled;
  var xc, yc, dc;
  angle0 = Math.atan2(y0 - y1, x0 - x1);
  angle2 = Math.atan2(y2 - y1, x2 - x1);
  angle1 = (angle0 + angle2) / 2;
  angled = angle2 - angle0;
  if (angled > Math.PI || (angled < 0 && angled > -Math.PI)) {
    angle1 += Math.PI;
    angled = 2 * Math.PI - angled;
    angle0 += Math.PI*2;
    angle2 -= Math.PI*2;
  } else {
    angle0 -= Math.PI*2;
    angle2 += Math.PI*2;
  }
  dc = r / Math.sin (angled / 2);
  yc = Math.sin(angle1);
  xc = Math.cos(angle1);
  xc = x1 + xc * dc;
  yc = y1 + yc * dc;

  c.lineWidth = 1;
  c.strokeStyle = 'blue';
  c.beginPath();
  c.moveTo(xc,yc);
  c.arc(xc,yc,r, Math.PI*3/4, Math.PI*(3/4));
  c.stroke();
  c.beginPath();
  c.strokeStyle = 'silver';
  c.arc(xc,yc,r, Math.PI*3/4,Math.PI*(2+3/4));
  c.stroke();
  c.save();
  try {
    c.translate(xc, yc);
    c.rotate(-Math.PI/4);
    c.textAlign = 'center';
    c.textBaseline = 'top';
    c.fillText("radius", -r/2, 0);
  } finally {
    c.restore();
  }

  c.lineWidth = 15;
  c.lineCap = 'round';
  c.strokeStyle = 'rgba(20,200,40,0.8)';
  c.beginPath();
  c.moveTo(x0,y0);
  c.arcTo(x1,y1,x2,y2,r);
  c.stroke();

  dot(x0,y0, "x\u2080,y\u2080");
  dot(x1,y1, "x\u2081,y\u2081");
  dot(x2,y2, "x\u2082,y\u2082");
  dot(xc,yc, '');

  c.textAlign = 'left';
  c.textBaseline = 'alphabetic';
  var L = 0;

  function print(s) {
    c.fillText(s, center, bottom+L*fontSize*1.3);
    L += 1;
  }
  print('// the thick line corresponds to:');
  print('context.moveTo(x\u2080, y\u2080)');
  print('context.arcTo(x\u2081, y\u2081, x\u2082, y\u2082, radius)');
  print('context.stroke()');

  c.fillStyle = 'green';
  c.fillText("\u25be initial line", 160, 70);
  c.textAlign = 'right';
  c.fillText("arc \u25b8", x1-25, 115);

} finally {
  c.restore();
}

--></dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-arc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arc">arc</a></code>(<var title="">x</var>, <var title="">y</var>, <var title="">radius</var>, <var title="">startAngle</var>, <var title="">endAngle</var> [, <var title="">anticlockwise</var> ] )</dt>
   <dt><var title="">path</var> . <code title="dom-context-2d-arc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arc">arc</a></code>(<var title="">x</var>, <var title="">y</var>, <var title="">radius</var>, <var title="">startAngle</var>, <var title="">endAngle</var> [, <var title="">anticlockwise</var> ] )</dt>

   <dd>

    <p>Adds points to the subpath such that the arc described by the
    circumference of the circle described by the arguments, starting
    at the given start angle and ending at the given end angle, going
    in the given direction (defaulting to clockwise), is added to the
    path, connected to the previous point by a straight line.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception if the given
    radius is negative.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-ellipse"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ellipse">ellipse</a></code>(<var title="">x</var>, <var title="">y</var>, <var title="">radiusX</var>, <var title="">radiusY</var>, <var title="">rotation</var>, <var title="">startAngle</var>, <var title="">endAngle</var>, <var title="">anticlockwise</var>)</dt>
   <dt><var title="">path</var> . <code title="dom-context-2d-ellipse"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ellipse">ellipse</a></code>(<var title="">x</var>, <var title="">y</var>, <var title="">radiusX</var>, <var title="">radiusY</var>, <var title="">rotation</var>, <var title="">startAngle</var>, <var title="">endAngle</var>, <var title="">anticlockwise</var>)</dt>

   <dd>

    <p>Adds points to the subpath such that the arc described by the
    circumference of the ellipse described by the arguments, starting
    at the given start angle and ending at the given end angle, going
    in the given direction (defaulting to clockwise), is added to the
    path, connected to the previous point by a straight line.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception if the given
    radius is negative.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-rect"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-rect">rect</a></code>(<var title="">x</var>, <var title="">y</var>, <var title="">w</var>, <var title="">h</var>)</dt>
   <dt><var title="">path</var> . <code title="dom-context-2d-rect"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-rect">rect</a></code>(<var title="">x</var>, <var title="">y</var>, <var title="">w</var>, <var title="">h</var>)</dt>

   <dd>

    <p>Adds a new closed subpath to the path, representing the given rectangle.</p>

   </dd>

  </dl><div class="impl">

  <p>The following methods allow authors to manipulate the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-path" title="concept-path">paths</a> of objects implementing the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspathmethods">CanvasPathMethods</a></code> interface.</p>

  <p>For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> objects, the points and
  lines added to <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> by these methods
  must be transformed according to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">current transformation
  matrix</a> before they are added to the path.</p>


  <p>The <dfn id="dom-context-2d-moveto" title="dom-context-2d-moveTo"><code>moveTo(<var title="">x</var>, <var title="">y</var>)</code></dfn> method must
  create a new subpath with the specified point as its first (and
  only) point.</p>

  <p>When the user agent is to <dfn id="ensure-there-is-a-subpath">ensure there is a subpath</dfn>
  for a coordinate (<var title="">x</var>, <var title="">y</var>) on a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-path" title="concept-path">path</a>, the user agent must check to
  see if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-path" title="concept-path">path</a> has any subpaths,
  and if it does not, then the user agent must create a new subpath
  with the point (<var title="">x</var>, <var title="">y</var>) as its
  first (and only) point, as if the <code title="dom-context-2d-moveTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-moveto">moveTo()</a></code> method had been
  called.</p>


  <p>The <dfn id="dom-context-2d-closepath" title="dom-context-2d-closePath"><code>closePath()</code></dfn>
  method must do nothing if the object's path has no subpaths.
  Otherwise, it must mark the last subpath as closed, create a new
  subpath whose first point is the same as the previous subpath's
  first point, and finally add this new subpath to the path.</p>

  <p class="note">If the last subpath had more than one point in its
  list of points, then this is equivalent to adding a straight line
  connecting the last point back to the first point, thus "closing"
  the shape, and then repeating the last (possibly implied) <code title="dom-context-2d-moveTo"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-moveto">moveTo()</a></code> call.</p>


  <p>New points and the lines connecting them are added to subpaths
  using the methods described below. In all cases, the methods only
  modify the last subpath in the object's path.</p>


  <p>The <dfn id="dom-context-2d-lineto" title="dom-context-2d-lineTo"><code>lineTo(<var title="">x</var>, <var title="">y</var>)</code></dfn> method must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#ensure-there-is-a-subpath">ensure there is a subpath</a> for <span title="">(<var title="">x</var>, <var title="">y</var>)</span> if the object's path
  has no subpaths. Otherwise, it must connect the last point in the
  subpath to the given point (<var title="">x</var>, <var title="">y</var>) using a straight line, and must then add the given
  point (<var title="">x</var>, <var title="">y</var>) to the
  subpath.</p>


  <p>The <dfn id="dom-context-2d-quadraticcurveto" title="dom-context-2d-quadraticCurveTo"><code>quadraticCurveTo(<var title="">cpx</var>, <var title="">cpy</var>, <var title="">x</var>,
  <var title="">y</var>)</code></dfn> method must <a href="http://www.whatwg.org/specs/web-apps/current-work/#ensure-there-is-a-subpath">ensure there
  is a subpath</a> for <span title="">(<var title="">cpx</var>,
  <var title="">cpy</var>)</span>, and then must connect the last
  point in the subpath to the given point (<var title="">x</var>, <var title="">y</var>) using a quadratic Bézier curve with control
  point (<var title="">cpx</var>, <var title="">cpy</var>), and must
  then add the given point (<var title="">x</var>, <var title="">y</var>) to the subpath. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBEZIER">[BEZIER]</a></p>


  <p>The <dfn id="dom-context-2d-beziercurveto" title="dom-context-2d-bezierCurveTo"><code>bezierCurveTo(<var title="">cp1x</var>, <var title="">cp1y</var>, <var title="">cp2x</var>, <var title="">cp2y</var>, <var title="">x</var>, <var title="">y</var>)</code></dfn> method must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#ensure-there-is-a-subpath">ensure there is a subpath</a> for <span title="">(<var title="">cp1x</var>, <var title="">cp1y</var>)</span>, and then must
  connect the last point in the subpath to the given point (<var title="">x</var>, <var title="">y</var>) using a cubic Bézier
  curve with control points (<var title="">cp1x</var>, <var title="">cp1y</var>) and (<var title="">cp2x</var>, <var title="">cp2y</var>). Then, it must add the point (<var title="">x</var>, <var title="">y</var>) to the subpath. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsBEZIER">[BEZIER]</a></p>

  <hr><p>The <dfn id="dom-context-2d-arcto" title="dom-context-2d-arcTo"><code>arcTo(<var title="">x1</var>, <var title="">y1</var>, <var title="">x2</var>,
  <var title="">y2</var>, <var title="">radiusX</var>, <var title="">radiusY</var>, <var title="">rotation</var>)</code></dfn>
  method must first <a href="http://www.whatwg.org/specs/web-apps/current-work/#ensure-there-is-a-subpath">ensure there is a subpath</a> for <span title="">(<var title="">x1</var>, <var title="">y1</var>)</span>.
  Then, the behavior depends on the arguments and the last point in
  the subpath, as described below.</p>

  <p>Negative values for <var title="">radiusX</var> or <var title="">radiusY</var> must cause the implementation to throw an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception. If <var title="">radiusY</var> is omitted, user agents must act as if it had
  the same value as <var title="">radiusX</var>.</p>

  <p>Let the point (<var title="">x0</var>, <var title="">y0</var>) be
  the last point in the subpath.</p>

  <p>If the point (<var title="">x0</var>, <var title="">y0</var>) is
  equal to the point (<var title="">x1</var>, <var title="">y1</var>),
  or if the point (<var title="">x1</var>, <var title="">y1</var>) is
  equal to the point (<var title="">x2</var>, <var title="">y2</var>),
  or if both <var title="">radiusX</var> and <var title="">radiusY</var> are zero, then the method must add the point
  (<var title="">x1</var>, <var title="">y1</var>) to the subpath, and
  connect that point to the previous point (<var title="">x0</var>,
  <var title="">y0</var>) by a straight line.</p>

  <p>Otherwise, if the points (<var title="">x0</var>, <var title="">y0</var>), (<var title="">x1</var>, <var title="">y1</var>), and (<var title="">x2</var>, <var title="">y2</var>) all lie on a single straight line, then the
  method must add the point (<var title="">x1</var>, <var title="">y1</var>) to the subpath, and connect that point to the
  previous point (<var title="">x0</var>, <var title="">y0</var>) by a
  straight line.</p>

  <p>Otherwise, let <var title="">The Arc</var> be the shortest arc
  given by circumference of the ellipse that has radius <var title="">radiusX</var> on the major axis and radius <var title="">radiusY</var> on the minor axis, and whose semi-major axis
  is rotated <var title="">rotation</var> radians anti-clockwise from
  the positive x-axis, and that has one point tangent to the
  half-infinite line that crosses the point (<var title="">x0</var>,
  <var title="">y0</var>) and ends at the point (<var title="">x1</var>, <var title="">y1</var>), and that has a different
  point tangent to the half-infinite line that ends at the point (<var title="">x1</var>, <var title="">y1</var>) and crosses the point
  (<var title="">x2</var>, <var title="">y2</var>). The points at
  which this ellipse touches these two lines are called the start and
  end tangent points respectively. The method must connect the point
  (<var title="">x0</var>, <var title="">y0</var>) to the start
  tangent point by a straight line, adding the start tangent point to
  the subpath, and then must connect the start tangent point to the
  end tangent point by <var title="">The Arc</var>, adding the end
  tangent point to the subpath.</p>

  <hr><p>The <dfn id="dom-context-2d-arc" title="dom-context-2d-arc"><code>arc(<var title="">x</var>, <var title="">y</var>, <var title="">radius</var>,
  <var title="">startAngle</var>, <var title="">endAngle</var>, <var title="">anticlockwise</var>)</code></dfn> and <dfn id="dom-context-2d-ellipse" title="dom-context-2d-ellipse"><code>ellipse(<var title="">x</var>,
  <var title="">y</var>, <var title="">radiusX</var>, <var title="">radiusY</var>, <var title="">rotation</var>, <var title="">startAngle</var>, <var title="">endAngle</var>, <var title="">anticlockwise</var>)</code></dfn> methods draw arcs.</p>

  <p>The <code title="dom-context-2d-arc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arc">arc()</a></code> method is
  equivalent to the <code title="dom-context-2d-ellipse"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ellipse">ellipse()</a></code> method in the case
  where the two radii are equal. When the <code title="dom-context-2d-arc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arc">arc()</a></code> method is invoked, it must
  act as if the <code title="dom-context-2d-ellipse"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ellipse">ellipse()</a></code>
  method had been invoked with the <var title="">radiusX</var> and
  <var title="">radiusY</var> arguments set to the value of the <var title="">radius</var> argument, the <var title="">rotation</var>
  argument set to zero, and the other arguments set to the same values
  as their identically named arguments on the <code title="dom-context-2d-arc"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-arc">arc()</a></code> method.</p>

  <p>When the <code title="dom-context-2d-ellipse"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ellipse">ellipse()</a></code>
  method is invoked, it must proceed as follows. First, if the
  object's path has any subpaths, then the method must add a straight
  line from the last point in the subpath to the start point of the
  arc. Then, it must add the start and end points of the arc to the
  subpath, and connect them with an arc. The arc and its start and end
  points are defined as follows:</p>

  <p>Consider an ellipse that has its origin at (<var title="">x</var>, <var title="">y</var>), that has a major-axis
  radius <var title="">radiusX</var> and a minor-axis radius <var title="">radiusY</var>, and that is rotated about its origin such
  that its semi-major axis is inclined <var title="">angle</var>
  radians anti-clockwise from the x-axis. The points at <var title="">startAngle</var> and <var title="">endAngle</var> along
  this circle's circumference, measured in radians clockwise from the
  ellipse's semi-major axis, are the start and end points
  respectively.</p>

  <p>If the <var title="">anticlockwise</var> argument false and <span title=""><var title="">endAngle</var>-<var title="">startAngle</var></span> is equal to or greater than <span title="">2π</span>, or, if the <var title="">anticlockwise</var>
  argument is <em>true</em> and <span title=""><var title="">startAngle</var>-<var title="">endAngle</var></span> is
  equal to or greater than <span title="">2π</span>, then the arc
  is the whole circumference of this ellipse.</p>

  <p>Otherwise, the arc is the path along the circumference of this
  ellipse from the start point to the end point, going anti-clockwise
  if the <var title="">anticlockwise</var> argument is true, and
  clockwise otherwise. Since the points are on the ellipse, as opposed
  to being simply angles from zero, the arc can never cover an angle
  greater than <span title="">2π</span> radians.</p>

  <p>Negative values for <var title="">radiusX</var> or <var title="">radiusY</var> must cause the implementation to throw an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>

  <hr><p>The <dfn id="dom-context-2d-rect" title="dom-context-2d-rect"><code>rect(<var title="">x</var>, <var title="">y</var>, <var title="">w</var>, <var title="">h</var>)</code></dfn> method must create a new subpath
  containing just the four points (<var title="">x</var>, <var title="">y</var>), (<var title="">x</var>+<var title="">w</var>,
  <var title="">y</var>), (<var title="">x</var>+<var title="">w</var>, <var title="">y</var>+<var title="">h</var>),
  (<var title="">x</var>, <var title="">y</var>+<var title="">h</var>), with those four points connected by straight
  lines, and must then mark the subpath as closed. It must then create
  a new subpath with the point (<var title="">x</var>, <var title="">y</var>) as the only point in the subpath.</p>


  <!-- v6 feature request:
        * points as a primitive shape
          http://home.comcast.net/~urbanjost/canvas/vogle4.html
  -->

  </div>



  <h6 id="path-objects"><span class="secno">4.8.11.1.6 </span><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> objects</h6>

  <p><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> objects can be used to declare paths that are
  then later used on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> objects. In
  addition to many of the APIs described in earlier sections,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> objects have methods to combine paths, and to add
  text to paths.</p>

  <dl class="domintro"><dt><var title="">path</var> = new <code title="dom-Path"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path">Path</a></code>()</dt>

   <dd>

    <p>Creates a new empty <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object.</p>

   </dd>

   <dt><var title="">path</var> = new <code title="dom-Path-copy"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-copy">Path</a></code>(<var title="">path</var>)</dt>

   <dd>

    <p>Creates a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object that is a copy of the argument.</p>

   </dd>

   <dt><var title="">path</var> = new <code title="dom-Path-withdata"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-withdata">Path</a></code>(<var title="">d</var>)</dt>

   <dd>

    <p>Creates a new path with the path described by the argument, interpreted as SVG path data. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSVG">[SVG]</a></p>

   </dd>

   <dt><var title="">path</var> . <code title="dom-path-addPath"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpath">addPath</a></code>(<var title="">path</var>, <var title="">transform</var>)</dt>
   <dt><var title="">path</var> . <code title="dom-path-addPathByStrokingPath"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingpath">addPathByStrokingPath</a></code>(<var title="">path</var>, <var title="">styles</var>, <var title="">transform</var>)</dt>

   <dd>

    <p>Adds to the path the path given by the argument.</p>

    <p>In the case of the stroking variants, the line styles are taken from the <var title="">styles</var> argument, which can be either a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> object or a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object.</p>

   </dd>

   <dt><var title="">path</var> . <code title="dom-path-addText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addtext">addText</a></code>(<var title="">text</var>, <var title="">styles</var>, <var title="">transform</var>, <var title="">x</var>, <var title="">y</var> [, <var title="">maxWidth</var> ])</dt>
   <dt><var title="">path</var> . <code title="dom-path-addText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addtext">addText</a></code>(<var title="">text</var>, <var title="">styles</var>, <var title="">transform</var>, <var title="">path</var> [, <var title="">maxWidth</var> ])</dt>
   <dt><var title="">path</var> . <code title="dom-path-addPathByStrokingText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingtext">addPathByStrokingText</a></code>(<var title="">text</var>, <var title="">styles</var>, <var title="">transform</var>, <var title="">x</var>, <var title="">y</var> [, <var title="">maxWidth</var> ])</dt>
   <dt><var title="">path</var> . <code title="dom-path-addPathByStrokingText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingtext">addPathByStrokingText</a></code>(<var title="">text</var>, <var title="">styles</var>, <var title="">transform</var>, <var title="">path</var> [, <var title="">maxWidth</var> ])</dt>

   <dd>

    <p>Adds to the path a series of subpaths corresponding to the given text. If the arguments give a coordinate, the text is drawn horizontally at the given coordinates. If the arguments give a path, the text is drawn along the path. If a maximum width is provided, the text will be scaled to fit that width if necessary.</p>

    <p>The font, and in the case of the stroking variants, the line styles, are taken from the <var title="">styles</var> argument, which can be either a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#drawingstyle">DrawingStyle</a></code> object or a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-path" title="dom-Path"><code>Path()</code></dfn> constructor,
  when invoked, must return a newly created <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code>
  object.</p>

  <hr><p>The <dfn id="dom-path-copy" title="dom-Path-copy"><code>Path()</code></dfn>
  constructor, when invoked, must return a newly created
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object, to which the subpaths of the argument are
  added. (In other words, it returns a copy of the argument.)</p>

  <hr><p>The <dfn id="dom-path-withdata" title="dom-Path-withdata"><code>Path(<var title="">d</var>)</code></dfn> constructor must run the following
  steps:</p>

  <ol><li>

    <p>Parse and interpret the <var title="">d</var> argument
    according to the SVG specification's rules for path data, thus
    obtaining an SVG path. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSVG">[SVG]</a></p>

    <p class="note">The resulting path could be empty. SVG defines
    error handling rules for parsing and applying path data.</p>

   </li>

   <li><p>Let (<var title="">x</var>, <var title="">y</var>) be the
   last point in the SVG path.</p></li>

   <li><p>Create a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object and add all the
   subpaths in the SVG path, if any, to that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object.
   </p>

   </li><li><p>Create a new subpath in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object with
   (<var title="">x</var>, <var title="">y</var>) as the only point in
   the subpath.</p></li>

   <li><p>Return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object as the constructed
   object.</p></li>

  </ol><hr><p>The <dfn id="dom-path-addpath" title="dom-path-addPath"><code>addPath(<var title="">b</var>, <var title="">transform</var>)</code></dfn>
  method, when invoked on a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object <var title="">a</var>, must run the following steps:</p>

  <ol><li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object <var title="">b</var> has
   no subpaths, abort these steps.</p></li>

   <li><p>Create a copy of all the subpaths in <var title="">b</var>.
   Let this copy be known as <var title="">c</var>.</p></li>

   <li><p>Transform all the coordinates and lines in <var title="">c</var> by the transform matrix <var title="">transform</var>, if it is not null.</p></li>

   <li><p>Let (<var title="">x</var>, <var title="">y</var>) be the
   last point in the last subpath of <var title="">c</var>.</p></li>

   <li><p>Add all the subpaths in <var title="">c</var> to <var title="">a</var>.</p></li>

   <li><p>Create a new subpath in <var title="">a</var> with (<var title="">x</var>, <var title="">y</var>) as the only point in the
   subpath.</p></li>

  </ol><hr><p>The <dfn id="dom-path-addpathbystrokingpath" title="dom-path-addPathByStrokingPath"><code>addPathByStrokingPath(<var title="">b</var>, <var title="">styles</var>, <var title="">transform</var>)</code></dfn> method, when invoked on a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object <var title="">a</var>, must run the
  following steps:</p>

  <ol><li><p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object <var title="">b</var> has
   no subpaths, abort these steps.</p></li>

   <li><p>Create a copy of all the subpaths in <var title="">b</var>.
   Let this copy be known as <var title="">c</var>.</p></li>

   <li><p>Transform all the coordinates and lines in <var title="">c</var> by transformation matrix <var title="">transform</var>, if it is not null.</p></li>

   <li><p>Let a new list of subpaths <var title="">d</var> be the
   result of <a href="http://www.whatwg.org/specs/web-apps/current-work/#trace-a-path" title="trace a path">tracing</a> <var title="">c</var>, using the <var title="">styles</var> argument for
   the line styles.</p>

   </li><li><p>Let (<var title="">x</var>, <var title="">y</var>) be the
   last point in the last subpath of <var title="">d</var>.</p></li>

   <li><p>Add all the subpaths in <var title="">d</var> to <var title="">a</var>.</p></li>

   <li><p>Create a new subpath in <var title="">a</var> with (<var title="">x</var>, <var title="">y</var>) as the only point in the
   subpath.</p></li>

  </ol><hr><p>The <dfn id="dom-path-addtext" title="dom-path-addText"><code>addText()</code></dfn>
  and <dfn id="dom-path-addpathbystrokingtext" title="dom-path-addPathByStrokingText"><code>addPathByStrokingText()</code></dfn>
  methods each come in two variants: one rendering text at a given
  coordinate, and one rendering text along a given path. In both
  cases, the methods take a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code> object
  argument for the text and (if appropriate) line styles to use, an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a></code> object <var title="">transform</var> (which
  can be null), and a maximum width can optionally be provided.</p>

  <p>When one of the <code title="dom-path-addText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addtext">addText()</a></code> and <code title="dom-path-addPathByStrokingText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingtext">addPathByStrokingText()</a></code> variants
  that take as argument an (<var title="">x</var>, <var title="">y</var>) coordinate is invoked, the method must run the
  following algorithm:</p>

  <ol><li><p>Run the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-preparation-algorithm">text preparation algorithm</a>, passing it
   <var title="">text</var>, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
   object argument, and, if the <var title="">maxWidth</var> argument
   was provided, that argument. Let <var title="">glyphs</var> be the
   result.</p>

   </li><li><p>Move all the shapes in <var title="">glyphs</var> to the
   right by <var title="">x</var> CSS pixels and down by <var title="">y</var> CSS pixels.</p></li>

   <li><p>Let <var title="">glyph subpaths</var> be a
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#path">path</a> describing the shapes given in <var title="">glyphs</var>, with each CSS pixel in the coordinate space
   of <var title="">glyphs</var> mapped to one coordinate space unit
   in <var title="">glyph subpaths</var>. Subpaths in <var title="">glyph subpaths</var> must wind clockwise, regardless of
   how the user agent's font subsystem renders fonts and regardless of
   how the fonts themselves are defined.</p>

   </li><li><p>If the method is <code title="dom-path-addPathByStrokingText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingtext">addPathByStrokingText()</a></code>,
   replace <var title="">glyph subpaths</var> by the result of <a href="http://www.whatwg.org/specs/web-apps/current-work/#trace-a-path" title="trace a path">tracing</a> <var title="">glyph
   subpaths</var>, using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code> object
   argument for the line styles.</p>

   </li><li><p>Transform all the coordinates and lines in <var title="">glyph subpaths</var> by the transformation matrix <var title="">transform</var>, if it is not null.</p></li>

   <li><p>Let (<var title="">x<sub title="">final</sub></var>, <var title="">y<sub title="">final</sub></var>) be the last point in the
   last subpath of <var title="">glyph subpaths</var>.</p></li>

   <li><p>Add all the subpaths in <var title="">glyph
   subpaths</var> to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object.</p></li>

   <li><p>Create a new subpath in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object with
   (<var title="">x<sub title="">final</sub></var>, <var title="">y<sub title="">final</sub></var>) as the only point in the
   subpath.</p></li>

  </ol><p>When one of the <code title="dom-path-addText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addtext">addText()</a></code> and <code title="dom-path-addPathByStrokingText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingtext">addPathByStrokingText()</a></code>
  variants that take as argument a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object is
  invoked, the method must run the following algorithm:</p>

  <ol><li><p>Let <var title="">target</var> be the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code>
   object on which the method was invoked.</p></li>

   <li><p>Let <var title="">path</var> be the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object
   that was provided in the method's arguments.</p></li>

   <li><p>Run the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-preparation-algorithm">text preparation algorithm</a>, passing it
   <var title="">text</var>, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code>
   object argument, and, if the <var title="">maxWidth</var> argument
   was provided, that argument. Let <var title="">glyphs</var> be the
   resulting array, and <var title="">physical alignment</var> be the
   resulting alignment value.</p>

   </li><li><p>Let <var title="">width</var> be the aggregate length of all
   the subpaths in <var title="">path</var>, including the distances
   from the last point of each closed subpath to the first point of
   that subpath.</p></li>

   <li><p>Define <var title="">L</var> to be a linear coordinate line
   for of all the subpaths in <var title="">path</var>, with
   additional lines drawn between the last point and the first point
   of each closed subpath, such that the first point of the first
   subpath is defined as point 0, and the last point of the last
   subpath, if the last subpath is not closed, or the second
   occurrence first point of that subpath, if it is closed, is defined
   as point <var title="">width</var>.</p></li>

   <li>

    <p>Let <var title="">offset</var> be determined according to the
    appropriate step below:</p>

    <dl class="switch"><dt>If <var title="">physical alignment</var> is <i>left</i></dt>
     <dd>Let <var title="">offset</var> be zero.</dd>

     <dt>If <var title="">physical alignment</var> is <i>right</i></dt>
     <dd>Let <var title="">offset</var> be <var title="">width</var>.</dd>

     <dt>If <var title="">physical alignment</var> is <i title="">center</i></dt>
     <dd>Let <var title="">offset</var> be half of <var title="">width</var>.</dd>

    </dl></li>

   <li><p>Move all the shapes in <var title="">glyphs</var> to the
   right by <var title="">offset</var> CSS pixels.</p></li>

   <li>

    <p>For each glyph <var title="">glyph</var> in the <var title="">glyphs</var> array, run these substeps:</p>

    <ol><li><p>Let <var title="">dx</var> be the <var title="">x</var>-coordinate of the horizontal center of the
     bounding box of the shape described by <var title="">glyph</var>, in CSS pixels.</p></li>

     <li><p>If <var title="">dx</var> is negative or greater than <var title="">width</var>, skip the remainder of these substeps for
     this glyph.</p></li>

     <li><p>Recast <var title="">dx</var> to coordinate spaces units
     in <var title="">path</var>. (This just changes the
     dimensionality of <var title="">dx</var>, not its numeric
     value.)</p> <!-- hide this step if people get confused by the
     pedancy -->

     </li><li><p>Find the point <var title="">p</var> on <var title="">path</var> (or implied closing lines in <var title="">path</var>) that corresponds to the position <var title="">dx</var> on the coordinate line <var title="">L</var>.</p>

     </li><li><p>Let <var title="">θ</var> be the clockwise angle
     from the positive x-axis to the side of the line that is
     tangential to <var title="">path</var> at the point <var title="">p</var> that is going in the same direction as the line
     at point <var title="">p</var>.</p></li>

     <li><p>Rotate the shape described by <var title="">glyph</var>
     clockwise by <var title="">θ</var> about the point that is
     at the <var title="">dx</var> coordinate horizontally and the
     zero coordinate vertically.</p></li>

     <li><p>Let (<var title="">x</var>, <var title="">y</var>) be the
     coordinate of the point <var title="">p</var>.</p></li>

     <li><p>Move the shape described by <var title="">glyph</var> to
     the right by <var title="">x</var> and down by <var title="">y</var>.</p></li>

     <li><p>Let <var title="">glyph subpaths</var> be a list of
     subpaths describing the shape given in <var title="">glyph</var>,
     with each CSS pixel in the coordinate space of <var title="">glyph</var> mapped to one coordinate space unit in <var title="">glyph subpaths</var>. Subpaths in <var title="">glyph
     subpaths</var> must wind clockwise, regardless of how the user
     agent's font subsystem renders fonts and regardless of how the
     fonts themselves are defined.</p>

     </li><li><p>If the method is <code title="dom-path-addPathByStrokingText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-path-addpathbystrokingtext">addPathByStrokingText()</a></code>,
     replace <var title="">glyph subpaths</var> by the result of <a href="http://www.whatwg.org/specs/web-apps/current-work/#trace-a-path" title="trace a path">tracing</a> <var title="">glyph
     subpaths</var>, using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasdrawingstyles">CanvasDrawingStyles</a></code> object
     argument for the line styles.</p>

     </li><li><p>Transform all the coordinates and lines in <var title="">glyph subpaths</var> by the transformation matrix <var title="">transform</var>, if it is not null.</p></li>

     <li><p>Let (<var title="">x<sub title="">final</sub></var>, <var title="">y<sub title="">final</sub></var>) be the last point in
     the last subpath of <var title="">glyph subpaths</var>. (This
     coordinate is only used if this is the last glyph
     processed.)</p></li>

     <li><p>Add all the subpaths in <var title="">glyph subpaths</var>
     to <var title="">target</var>.</p></li>

    </ol></li>

   <li><p>Create a new subpath in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object with
   (<var title="">x<sub title="">final</sub></var>, <var title="">y<sub title="">final</sub></var>) as the only point in the
   subpath.</p></li>

  </ol></div>



  <h6 id="transformations"><span class="secno">4.8.11.1.7 </span><dfn title="dom-context-2d-transformation">Transformations</dfn></h6>

  <p>Each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object has a
  <i>current transformation matrix</i>, as well as methods (described
  in this section) to manipulate it. When a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object is created, its
  transformation matrix must be initialized to the identity
  transform.</p>

  <p>The transformation matrix is applied to coordinates when creating
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a>, and when painting text,
  shapes, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> objects, on
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> objects.</p> <!-- conformance
  criteria for actual drawing are described in the various sections
  below -->

  <p class="note">Most of the API uses <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a></code> objects
  rather than this API. This API remains mostly for historical
  reasons.</p>

  <div class="impl">

  <p>The transformations must be performed in reverse order.</p>

  <p class="note">For instance, if a scale transformation that doubles
  the width is applied to the canvas, followed by a rotation
  transformation that rotates drawing operations by a quarter turn,
  and a rectangle twice as wide as it is tall is then drawn on the
  canvas, the actual result will be a square.</p> <!-- q.v.
  http://goo.gl/5RLrN -->

  </div>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-currentTransform"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-currenttransform">currentTransform</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the transformation matrix, as an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a></code> object.</p>

    <p>Can be set, to change the transformation matrix.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-scale"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-scale">scale</a></code>(<var title="">x</var>, <var title="">y</var>)</dt>

   <dd>

    <p>Changes the transformation matrix to apply a scaling transformation with the given characteristics.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-rotate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-rotate">rotate</a></code>(<var title="">angle</var>)</dt>

   <dd>

    <p>Changes the transformation matrix to apply a rotation transformation with the given characteristics. The angle is in radians.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-translate"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-translate">translate</a></code>(<var title="">x</var>, <var title="">y</var>)</dt>

   <dd>

    <p>Changes the transformation matrix to apply a translation transformation with the given characteristics.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-transform"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-transform">transform</a></code>(<var title="">a</var>, <var title="">b</var>, <var title="">c</var>, <var title="">d</var>, <var title="">e</var>, <var title="">f</var>)</dt>

   <dd>

    <p>Changes the transformation matrix to apply the matrix given by the arguments as described below.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-setTransform"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-settransform">setTransform</a></code>(<var title="">a</var>, <var title="">b</var>, <var title="">c</var>, <var title="">d</var>, <var title="">e</var>, <var title="">f</var>)</dt>

   <dd>

    <p>Changes the transformation matrix <em>to</em> the matrix given by the arguments as described below.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-resetTransform"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-resettransform">resetTransform</a></code>()</dt>

   <dd>

    <p>Changes the transformation matrix to the identity transform.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-context-2d-currenttransform" title="dom-context-2d-currentTransform"><code>currentTransform</code></dfn>,
  on getting, must return the last object that it was set to. On
  setting, its value must be changed to the new value, and the
  transformation matrix must be updated to match the matrix described
  by the new value. When the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code>
  object is created, the <code title="dom-context-2d-currentTransform"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-currenttransform">currentTransform</a></code>
  attribute must be set a newly created <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a></code> object.
  When the transformation matrix is mutated by the methods described
  in this section, the last <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a></code> object to which the
  attribute has been set must be mutated in a corresponding
  fashion.</p>

  <p>The <dfn id="dom-context-2d-scale" title="dom-context-2d-scale"><code>scale(<var title="">x</var>, <var title="">y</var>)</code></dfn> method must
  add the scaling transformation described by the arguments to the
  transformation matrix. The <var title="">x</var> argument represents
  the scale factor in the horizontal direction and the <var title="">y</var> argument represents the scale factor in the
  vertical direction. The factors are multiples.</p>

  <p>The <dfn id="dom-context-2d-rotate" title="dom-context-2d-rotate"><code>rotate(<var title="">angle</var>)</code></dfn> method must add the rotation
  transformation described by the argument to the transformation
  matrix. The <var title="">angle</var> argument represents a
  clockwise rotation angle expressed in radians.</p>

  <p>The <dfn id="dom-context-2d-translate" title="dom-context-2d-translate"><code>translate(<var title="">x</var>, <var title="">y</var>)</code></dfn> method must
  add the translation transformation described by the arguments to the
  transformation matrix. The <var title="">x</var> argument represents
  the translation distance in the horizontal direction and the <var title="">y</var> argument represents the translation distance in the
  vertical direction. The arguments are in coordinate space units.</p>

  <p>The <dfn id="dom-context-2d-transform" title="dom-context-2d-transform"><code>transform(<var title="">a</var>, <var title="">b</var>, <var title="">c</var>, <var title="">d</var>, <var title="">e</var>, <var title="">f</var>)</code></dfn> method must replace the current
  transformation matrix with the result of multiplying the current
  transformation matrix with the matrix described by:</p>

  </div>

  <table class="matrix"><tbody><tr><td><var title="">a</var></td>
    <td><var title="">c</var></td>
    <td><var title="">e</var></td>
   </tr><tr><td><var title="">b</var></td>
    <td><var title="">d</var></td>
    <td><var title="">f</var></td>
   </tr><tr><td>0</td>
    <td>0</td>
    <td>1</td>
   </tr></tbody></table><p class="note">The arguments <var title="">a</var>, <var title="">b</var>, <var title="">c</var>, <var title="">d</var>, <var title="">e</var>, and <var title="">f</var> are sometimes called
  <var title="">m11</var>, <var title="">m12</var>, <var title="">m21</var>, <var title="">m22</var>, <var title="">dx</var>,
  and <var title="">dy</var> or <var title="">m11</var>, <var title="">m21</var>, <var title="">m12</var>, <var title="">m22</var>, <var title="">dx</var>, and <var title="">dy</var>. Care should be taken in particular with the order
  of the second and third arguments (<var title="">b</var> and <var title="">c</var>) as their order varies from API to API and APIs
  sometimes use the notation <var title="">m12</var>/<var title="">m21</var> and sometimes <var title="">m21</var>/<var title="">m12</var> for those positions.</p>

  <div class="impl">

  <p>The <dfn id="dom-context-2d-settransform" title="dom-context-2d-setTransform"><code>setTransform(<var title="">a</var>, <var title="">b</var>, <var title="">c</var>, <var title="">d</var>, <var title="">e</var>,
  <var title="">f</var>)</code></dfn> method must reset the current
  transform to the identity matrix, and then invoke the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-transform" title="dom-context-2d-transform">transform</a>(<var title="">a</var>, <var title="">b</var>, <var title="">c</var>, <var title="">d</var>, <var title="">e</var>,
  <var title="">f</var>)</code> method with the same arguments.</p>

  <p>The <dfn id="dom-context-2d-resettransform" title="dom-context-2d-resetTransform"><code>resetTransform()</code></dfn>
  method must reset the current transform to the identity matrix.</p>

  </div>




  <h6 id="fill-and-stroke-styles"><span class="secno">4.8.11.1.8 </span>Fill and stroke styles</h6>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-fillStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle">fillStyle</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current style used for filling shapes.</p>

    <p>Can be set, to change the fill style.</p>

    <p>The style can be either a string containing a CSS color, or a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code>
    object. Invalid values are ignored.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-strokeStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle">strokeStyle</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current style used for stroking shapes.</p>

    <p>Can be set, to change the stroke style.</p>

    <p>The style can be either a string containing a CSS color, or a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code>
    object. Invalid values are ignored.</p>

   </dd>

  </dl><div class="impl">

  <!-- v6 feature requests:

   * Getting and setting colours by component to bypass the CSS value parsing.

     Either:
        context.fillStyle.red += 1;

     Or:
        var array = context.fillStyle;
        array[1] += 1;
        context.fillStyle = array;

   * A more performant way of setting colours in general, e.g.:

       context.setFillColor(r,g,b,a) // already supported by webkit

     Or:

       context.fillStyle = 0xRRGGBBAA; // set a 32bit int directly

   * fill rule for deciding between winding and even-odd algorithms.
     SVG has fill-rule: nonzero | evenodd
       http://www.w3.org/TR/SVG/painting.html#FillProperties
     see also mozFillRule: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2011-June/032002.html

  -->

  <p>The <dfn id="dom-context-2d-fillstyle" title="dom-context-2d-fillStyle"><code>fillStyle</code></dfn>
  attribute represents the color or style to use inside shapes, and
  the <dfn id="dom-context-2d-strokestyle" title="dom-context-2d-strokeStyle"><code>strokeStyle</code></dfn>
  attribute represents the color or style to use for the lines around
  the shapes.</p>

  <p>Both attributes can be either strings,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code>s, or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code>s. On
  setting, strings must be <a href="http://www.whatwg.org/specs/web-apps/current-work/#parsed-as-a-css-color-value" title="parsed as a CSS &lt;color&gt;
  value">parsed as CSS &lt;color&gt; values</a> and the color
  assigned, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code> objects must be assigned themselves. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSCOLOR">[CSSCOLOR]</a> If the value is a string but
  cannot be <a href="http://www.whatwg.org/specs/web-apps/current-work/#parsed-as-a-css-color-value">parsed as a CSS &lt;color&gt; value</a>, or is
  neither a string, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code>, nor a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code>, then it must be ignored, and the
  attribute must retain its previous value.</p>

  <p>When set to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> object, the assignment is
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a>, meaning that changes made to the object after the
  assignment do affect subsequent stroking or filling of shapes.</p>

  <p>On getting, if the value is a color, then the <a href="http://www.whatwg.org/specs/web-apps/current-work/#serialization-of-a-color" title="serialization of a color">serialization of the color</a>
  must be returned. Otherwise, if it is not a color but a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code>, then the
  respective object must be returned. (Such objects are opaque and
  therefore only useful for assigning to other attributes or for
  comparison to other gradients or patterns.)</p>

  <p>The <dfn id="serialization-of-a-color">serialization of a color</dfn> for a color value is a
  string, computed as follows: if it has alpha equal to 1.0, then the
  string is a lowercase six-digit hex value, prefixed with a "#"
  character (U+0023 NUMBER SIGN), with the first two digits
  representing the red component, the next two digits representing the
  green component, and the last two digits representing the blue
  component, the digits being in the range 0-9 a-f (U+0030 to U+0039
  and U+0061 to U+0066). Otherwise, the color value has alpha less
  than 1.0, and the string is the color value in the CSS <code title="">rgba()</code> functional-notation format: the literal
  string <code title="">rgba</code> (U+0072 U+0067 U+0062 U+0061)
  followed by a U+0028 LEFT PARENTHESIS, a base-ten integer in the
  range 0-255 representing the red component (using digits 0-9, U+0030
  to U+0039, in the shortest form possible), a literal U+002C COMMA
  and U+0020 SPACE, an integer for the green component, a comma and a
  space, an integer for the blue component, another comma and space, a
  U+0030 DIGIT ZERO, if the alpha value is greater than zero then a
  U+002E FULL STOP (representing the decimal point), if the alpha
  value is greater than zero then one or more digits in the range 0-9
  (U+0030 to U+0039) representing the fractional part of the alpha<!--
  value with no trailing zeros (implied by next sentence)-->, and
  finally a U+0029 RIGHT PARENTHESIS. User agents must express the
  fractional part of the alpha value, if any, with the level of
  precision necessary for the alpha value, when reparsed, to be
  interpreted as the same alpha value.</p> <!-- if people complain
  this is unreadable, expand it into a <dl> with two nested <ol>s -->

  <p>When the context is created, the <code title="dom-context-2d-fillStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle">fillStyle</a></code> and <code title="dom-context-2d-strokeStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle">strokeStyle</a></code> attributes
  must initially have the string value <code title="">#000000</code>.</p>

  <p>When the value is a color, it must not be affected by the
  transformation matrix when used to draw on the canvas.</p> <!-- so
  singular matrices don't affect solid color fillStyles -->

  </div>

  <hr><p>There are two types of gradients, linear gradients and radial
  gradients, both represented by objects implementing the opaque
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> interface.</p>

  <p id="interpolation">Once a gradient has been created (see below),
  stops are placed along it to define how the colors are distributed
  along the gradient. <span class="impl">The color of the gradient at
  each stop is the color specified for that stop. Between each such
  stop, the colors and the alpha component must be linearly
  interpolated over the RGBA space without premultiplying the alpha
  value to find the color to use at that offset. Before the first
  stop, the color must be the color of the first stop. After the last
  stop, the color must be the color of the last stop. When there are
  no stops, the gradient is transparent black.</span></p>

  <dl class="domintro"><dt><var title="">gradient</var> . <code title="dom-canvasgradient-addColorStop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvasgradient-addcolorstop">addColorStop</a></code>(<var title="">offset</var>, <var title="">color</var>)</dt>

   <dd>

    <p>Adds a color stop with the given color to the gradient at the
    given offset. 0.0 is the offset at one end of the gradient, 1.0 is
    the offset at the other end.</p>

    <p>Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception if the offset
    is out of range. Throws a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code> exception if the
    color cannot be parsed.</p>

   </dd>

   <dt><var title="">gradient</var> = <var title="">context</var> . <code title="dom-context-2d-createLinearGradient"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createlineargradient">createLinearGradient</a></code>(<var title="">x0</var>, <var title="">y0</var>, <var title="">x1</var>, <var title="">y1</var>)</dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> object that represents a
    linear gradient that paints along the line given by the
    coordinates represented by the arguments.</p>

    <p>If any of the arguments are not finite numbers, throws a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception.</p>

   </dd>

   <dt><var title="">gradient</var> = <var title="">context</var> . <code title="dom-context-2d-createRadialGradient"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createradialgradient">createRadialGradient</a></code>(<var title="">x0</var>, <var title="">y0</var>, <var title="">r0</var>, <var title="">x1</var>, <var title="">y1</var>, <var title="">r1</var>)</dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> object that represents a
    radial gradient that paints along the cone given by the circles
    represented by the arguments.</p>

    <p>If any of the arguments are not finite numbers, throws a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception. If either of the radii
    are negative, throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-canvasgradient-addcolorstop" title="dom-canvasgradient-addColorStop"><code>addColorStop(<var title="">offset</var>, <var title="">color</var>)</code></dfn>
  method on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> interface adds a new stop
  to a gradient. If the <var title="">offset</var> is less than 0,
  greater than 1, infinite, or NaN, then an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception must be thrown. If the <var title="">color</var> cannot be <a href="http://www.whatwg.org/specs/web-apps/current-work/#parsed-as-a-css-color-value">parsed as a CSS &lt;color&gt;
  value</a>, then a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code> exception must be
  thrown. Otherwise, the gradient must have a new stop placed, at
  offset <var title="">offset</var> relative to the whole gradient,
  and with the color obtained by parsing <var title="">color</var> as
  a CSS &lt;color&gt; value. If multiple stops are added at the same
  offset on a gradient, they must be placed in the order added, with
  the first one closest to the start of the gradient, and each
  subsequent one infinitesimally further along towards the end point
  (in effect causing all but the first and last stop added at each
  point to be ignored).</p>

  <p>The <dfn id="dom-context-2d-createlineargradient" title="dom-context-2d-createLinearGradient"><code>createLinearGradient(<var title="">x0</var>, <var title="">y0</var>, <var title="">x1</var>,
  <var title="">y1</var>)</code></dfn> method takes four arguments
  that represent the start point (<var title="">x0</var>, <var title="">y0</var>) and end point (<var title="">x1</var>, <var title="">y1</var>) of the gradient. If any of the arguments to <code title="dom-context-2d-createLinearGradient"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createlineargradient">createLinearGradient()</a></code>
  are infinite or NaN, the method must throw a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception. Otherwise, the method must
  return a linear <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code> initialized with the
  specified line.</p>

  <p>Linear gradients must be rendered such that all points on a line
  perpendicular to the line that crosses the start and end points have
  the color at the point where those two lines cross (with the colors
  coming from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#interpolation">interpolation and
  extrapolation</a> described above). The points in the linear
  gradient must be transformed as described by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">current transformation
  matrix</a> when rendering.</p>

  <p>If <span title=""><var title="">x0</var>&nbsp;=&nbsp;<var title="">x1</var></span> and <span title=""><var title="">y0</var>&nbsp;=&nbsp;<var title="">y1</var></span>, then
  the linear gradient must paint nothing.</p>

  <p>The <dfn id="dom-context-2d-createradialgradient" title="dom-context-2d-createRadialGradient"><code>createRadialGradient(<var title="">x0</var>, <var title="">y0</var>, <var title="">r0</var>,
  <var title="">x1</var>, <var title="">y1</var>, <var title="">r1</var>)</code></dfn> method takes six arguments, the
  first three representing the start circle with origin (<var title="">x0</var>, <var title="">y0</var>) and radius <var title="">r0</var>, and the last three representing the end circle
  with origin (<var title="">x1</var>, <var title="">y1</var>) and
  radius <var title="">r1</var>. The values are in coordinate space
  units. If any of the arguments are infinite or NaN, a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception must be thrown. If either
  of <var title="">r0</var> or <var title="">r1</var> are negative, an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception must be thrown. Otherwise,
  the method must return a radial <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasgradient">CanvasGradient</a></code>
  initialized with the two specified circles.</p>

  <p>Radial gradients must be rendered by following these steps:</p>

  <ol><li><p>If <span title=""><var title="">x<sub>0</sub></var>&nbsp;=&nbsp;<var title="">x<sub>1</sub></var></span> and <span title=""><var title="">y<sub>0</sub></var>&nbsp;=&nbsp;<var title="">y<sub>1</sub></var></span> and <span title=""><var title="">r<sub>0</sub></var>&nbsp;=&nbsp;<var title="">r<sub>1</sub></var></span>, then the radial gradient must
   paint nothing. Abort these steps.</p></li>

   <li>

    <p>Let <span title="">x(<var title="">ω</var>)&nbsp;=&nbsp;(<var title="">x<sub>1</sub></var>-<var title="">x<sub>0</sub></var>)<var title="">ω</var>&nbsp;+&nbsp;<var title="">x<sub>0</sub></var></span></p>

    <p>Let <span title="">y(<var title="">ω</var>)&nbsp;=&nbsp;(<var title="">y<sub>1</sub></var>-<var title="">y<sub>0</sub></var>)<var title="">ω</var>&nbsp;+&nbsp;<var title="">y<sub>0</sub></var></span></p>

    <p>Let <span title="">r(<var title="">ω</var>)&nbsp;=&nbsp;(<var title="">r<sub>1</sub></var>-<var title="">r<sub>0</sub></var>)<var title="">ω</var>&nbsp;+&nbsp;<var title="">r<sub>0</sub></var></span></p>

    <p>Let the color at <var title="">ω</var> be the color at
    that position on the gradient (with the colors coming from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#interpolation">interpolation and extrapolation</a>
    described above).</p>

   </li>

   <li><p>For all values of <var title="">ω</var> where <span title="">r(<var title="">ω</var>)&nbsp;&gt;&nbsp;0</span>,
   starting with the value of <var title="">ω</var> nearest to
   positive infinity and ending with the value of <var title="">ω</var> nearest to negative infinity, draw the
   circumference of the circle with radius <span title="">r(<var title="">ω</var>)</span> at position (<span title="">x(<var title="">ω</var>)</span>, <span title="">y(<var title="">ω</var>)</span>), with the color at <var title="">ω</var>, but only painting on the parts of the
   canvas that have not yet been painted on by earlier circles in this
   step for this rendering of the gradient.</p></li>

  </ol><p class="note">This effectively creates a cone, touched by the two
  circles defined in the creation of the gradient, with the part of
  the cone before the start circle (0.0) using the color of the first
  offset, the part of the cone after the end circle (1.0) using the
  color of the last offset, and areas outside the cone untouched by
  the gradient (transparent black).</p>

  <p>The resulting radial gradient must then be transformed as
  described by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">current
  transformation matrix</a> when rendering.</p>

  <p>Gradients must be painted only where the relevant stroking or
  filling effects requires that they be drawn.</p>

  </div>

  <hr><p>Patterns are represented by objects implementing the opaque
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code> interface.</p>

  <dl class="domintro"><dt><var title="">pattern</var> = <var title="">context</var> . <code title="dom-context-2d-createPattern"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createpattern">createPattern</a></code>(<var title="">image</var>, <var title="">repetition</var>)</dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code> object that uses the given image
    and repeats in the direction(s) given by the <var title="">repetition</var> argument.</p>

    <p>The allowed values for <var title="">repetition</var> are <code title="">repeat</code> (both directions), <code title="">repeat-x</code> (horizontal only), <code title="">repeat-y</code> (vertical only), and <code title="">no-repeat</code> (neither). If the <var title="">repetition</var> argument is empty, the value <code title="">repeat</code> is used.</p>

    <p>If the image has no image data, throws an
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception. If the second argument
    isn't one of the allowed values, throws a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code>
    exception. If the image isn't yet fully decoded, then the method
    returns null.</p>

   </dd>

   <dt><var title="">pattern</var> . <code title="dom-canvaspattern-setTransform"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvaspattern-settransform">setTransform</a></code>(<var title="">transform</var>)</dt>

   <dd>

    <p>Sets the transformation matrix that will be used when rendering
    the pattern during a fill or stroke painting operation.</p>

   </dd>

  </dl><div class="impl">

  <p>To create objects of this type, the <dfn id="dom-context-2d-createpattern" title="dom-context-2d-createPattern"><code>createPattern(<var title="">image</var>, <var title="">repetition</var>)</code></dfn>
  method is used. The first argument gives the image to use as the
  pattern (either an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a></code>, or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code>
  object). Modifying this image after calling the <code title="dom-context-2d-createPattern"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createpattern">createPattern()</a></code> method
  must not affect the pattern. The second argument must be a string
  with one of the following values: <code title="">repeat</code>,
  <code title="">repeat-x</code>, <code title="">repeat-y</code>,
  <code title="">no-repeat</code>. If the empty string is specified,
  <code title="">repeat</code> must be assumed. If an unrecognized value
  is given, then the user agent must throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code>
  exception. User agents must recognize the four values described above
  exactly (e.g. they must not do case folding). Except as specified
  below, the method must return a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code> object
  suitably initialized.</p>

  <p>The <var title="">image</var> argument is an instance of either
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a></code>, or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code>.</p> <!-- drawImage() has an equivalent
  paragraph -->

  <p>If the <var title="">image</var> argument is an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code> object that is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-good" title="img-good">fully decodable</a>, or if the <var title="">image</var> argument is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code>
  object whose <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code>
  attribute is either <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code> or <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code>, then the
  implementation must return null.</p> <!-- drawImage() has an
  equivalent paragraph -->

  <p>If the <var title="">image</var> argument is an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a></code> object with either a horizontal
  dimension or a vertical dimension equal to zero, then the
  implementation must throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code>
  exception.</p>
  <!-- drawImage() has an equivalent paragraph -->

  <p>Patterns have a transformation matrix, which controls how the
  pattern is used when it is painted. Initially, a pattern's
  transformation matrix must be the identity transform.</p>

  <p>When the <dfn id="dom-canvaspattern-settransform" title="dom-canvaspattern-setTransform"><code>setTransform()</code></dfn>
  method is invoked on the pattern, the user agent must replace the
  pattern's transformation matrix with the one described by the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#svgmatrix">SVGMatrix</a></code> object provided as an argument to the
  method.</p>

  <p>When a pattern is to be rendered within an area, the user agent
  must run the following steps to determine what is rendered:</p>

  <ol><li><p>Create an infinite transparent black bitmap.</p></li>

   <li>

    <p>Place a copy of the image on the bitmap, anchored such that its
    top left corner is at the origin of the coordinate space, with one
    coordinate space unit per CSS pixel of the image, then place
    repeated copies of this image horizontally to the left and right,
    if the <code>repeat-x</code> string was specified, or vertically
    up and down, if the <code>repeat-y</code> string was specified, or
    in all four directions all over the bitmap, if the
    <code>repeat</code> string was specified.</p>

    <p>If the original image data is a bitmap image, the value painted
    at a point in the area of the repetitions is computed by filtering
    the original image data. The user agent may use any filtering
    algorithm (for example bilinear interpolation or
    nearest-neighbor). When the filtering algorithm requires a pixel
    value from outside the original image data, it must instead use
    the value from wrapping the pixel's coordinates to the original
    image's dimensions. (That is, the filter uses 'repeat' behavior,
    regardless of the value of <var title="">repetition</var>.)
    <!-- drawImage() has a similar paragraph with different rules -->

   </p></li>

   <li><p>Transform the resulting bitmap according to the pattern's
   transformation matrix.</p></li>

   <li><p>Transform the resulting bitmap again, this time according to
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">current
   transformation matrix</a>.</p></li>

   <li><p>Replace any part of the image outside the area in which the
   pattern is to be rendered with transparent black.</p></li>

   <li><p>The resulting bitmap is what is to be rendered, with the
   same origin and same scale.</p></li>

  </ol><p>When the <code title="dom-context-2d-createPattern"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createpattern">createPattern()</a></code> method
  is passed an animated image as its <var title="">image</var>
  argument, the user agent must use the poster frame of the animation,
  or, if there is no poster frame, the first frame of the
  animation.</p>
  <!-- drawImage() has an equivalent paragraph -->

  <p>When the <var title="">image</var> argument is an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code>, then the frame at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current
  playback position</a> must be used as the source image, and the
  source image's dimensions must be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-width" title="concept-video-intrinsic-width">intrinsic width</a> and
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-height" title="concept-video-intrinsic-height">intrinsic height</a>
  of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> (i.e. after any aspect-ratio
  correction has been applied).</p>
  <!-- drawImage() has an equivalent paragraph -->

  </div>

  <div class="impl">

  <hr><p>If a radial gradient or repeated pattern is used when the
  transformation matrix is singular, the resulting style must be
  transparent black (otherwise the gradient or pattern would be
  collapsed to a point or line, leaving the other pixels undefined).
  Linear gradients and solid colors always define all points even with
  singular tranformation matrices.</p>

  </div>




  <h6 id="drawing-rectangles-to-the-canvas"><span class="secno">4.8.11.1.9 </span>Drawing rectangles to the canvas</h6>

  <p>There are three methods that immediately draw rectangles to the
  bitmap. They each take four arguments; the first two give the <var title="">x</var> and <var title="">y</var> coordinates of the top
  left of the rectangle, and the second two give the width <var title="">w</var> and height <var title="">h</var> of the rectangle,
  respectively.</p>

  <div class="impl">

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">current
  transformation matrix</a> must be applied to the following four
  coordinates, which form the path that must then be closed to get the
  specified rectangle: <span title="">(<var title="">x</var>, <var title="">y</var>)</span>, <span title="">(<span title=""><var title="">x</var>+<var title="">w</var></span>, <var title="">y</var>)</span>,
  <span title="">(<span title=""><var title="">x</var>+<var title="">w</var></span>,
  <span title=""><var title="">y</var>+<var title="">h</var></span>)</span>,
  <span title="">(<var title="">x</var>, <span title=""><var title="">y</var>+<var title="">h</var></span>)</span>.</p>

  <p>Shapes are painted without affecting the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default
  path</a>, and are subject to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a>,
  and, with the exception of <code title="dom-context-2d-clearRect"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-clearrect">clearRect()</a></code>, also <a href="http://www.whatwg.org/specs/web-apps/current-work/#shadows" title="shadows">shadow effects</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha" title="dom-context-2d-globalAlpha">global alpha</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation" title="dom-context-2d-globalCompositeOperation">global composition
  operators</a>.</p>

  </div>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-clearRect"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-clearrect">clearRect</a></code>(<var title="">x</var>, <var title="">y</var>, <var title="">w</var>, <var title="">h</var>)</dt>

   <dd>

    <p>Clears all pixels on the canvas in the given rectangle to transparent black.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-fillRect"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillrect">fillRect</a></code>(<var title="">x</var>, <var title="">y</var>, <var title="">w</var>, <var title="">h</var>)</dt>

   <dd>

    <p>Paints the given rectangle onto the canvas, using the current fill style.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-strokeRect"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokerect">strokeRect</a></code>(<var title="">x</var>, <var title="">y</var>, <var title="">w</var>, <var title="">h</var>)</dt>

   <dd>

    <p>Paints the box that outlines the given rectangle onto the canvas, using the current stroke style.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-context-2d-clearrect" title="dom-context-2d-clearRect"><code>clearRect(<var title="">x</var>, <var title="">y</var>, <var title="">w</var>, <var title="">h</var>)</code></dfn> method must run the following steps:</p>

  <ol><li><p>Let <var title="">pixels</var> be the set of pixels in the
   specified rectangle that also intersect the current <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping
   region</a>.</p></li>

   <li><p>Clear the pixels in <var title="">pixels</var> to a fully
   transparent black, erasing any previous image.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#clear-regions-that-cover-the-pixels">Clear regions that cover the pixels</a> in <var title="">pixels</var> in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element.</p></li>

  </ol><p class="note">If either height or width are zero, this method has
  no effect, since the set of pixels would be empty.</p>

  <p>The <dfn id="dom-context-2d-fillrect" title="dom-context-2d-fillRect"><code>fillRect(<var title="">x</var>, <var title="">y</var>, <var title="">w</var>, <var title="">h</var>)</code></dfn> method must paint the specified
  rectangular area using the <code title="dom-context-2d-fillStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle">fillStyle</a></code>. If either height
  or width are zero, this method has no effect.</p>

  <p>The <dfn id="dom-context-2d-strokerect" title="dom-context-2d-strokeRect"><code>strokeRect(<var title="">x</var>, <var title="">y</var>, <var title="">w</var>, <var title="">h</var>)</code></dfn> method must take the result of <a href="http://www.whatwg.org/specs/web-apps/current-work/#trace-a-path" title="trace a path">tracing the path</a> described below, using
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object's line styles, and
  fill it with the <code title="dom-context-2d-strokeStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle">strokeStyle</a></code>.</p>

  <p>If both <var title="">w</var> and <var title="">h</var> are zero,
  the path has a single subpath with just one point (<var title="">x</var>, <var title="">y</var>), and no lines, and this
  method thus has no effect (the <a href="http://www.whatwg.org/specs/web-apps/current-work/#trace-a-path">trace a path</a> algorithm
  returns an empty path in that case).</p>

  <p>If just one of either <var title="">w</var> or <var title="">h</var> is zero, then the path has a single subpath
  consisting of two points, with coordinates (<span title=""><var title="">x</var></span>, <span title=""><var title="">y</var></span>) and (<span title=""><var title="">x</var>+<var title="">w</var></span>, <span title=""><var title="">y</var></span>+<var title="">h</var>), in that order,
  connected by a single straight line.</p>

  <p>Otherwise, the path has a single subpath are four points, with
  coordinates (<span title=""><var title="">x</var></span>, <span title=""><var title="">y</var></span>), (<span title=""><var title="">x</var>+<var title="">w</var></span>, <span title=""><var title="">y</var></span>), (<span title=""><var title="">x</var>+<var title="">w</var></span>, <span title=""><var title="">y</var></span>+<var title="">h</var>), and (<span title=""><var title="">x</var></span>, <span title=""><var title="">y</var>+<var title="">h</var></span>), connected to each
  other in that order by straight lines.</p>

  </div>



  <h6 id="drawing-text-to-the-canvas"><span class="secno">4.8.11.1.10 </span>Drawing text to the canvas</h6>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-fillText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-filltext">fillText</a></code>(<var title="">text</var>, <var title="">x</var>, <var title="">y</var> [, <var title="">maxWidth</var> ] )</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-strokeText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-stroketext">strokeText</a></code>(<var title="">text</var>, <var title="">x</var>, <var title="">y</var> [, <var title="">maxWidth</var> ] )</dt>

   <dd>

    <p>Fills or strokes (respectively) the given text at the given
    position. If a maximum width is provided, the text will be scaled
    to fit that width if necessary.</p>

   </dd>

   <dt><var title="">metrics</var> = <var title="">context</var> . <code title="dom-context-2d-measureText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-measuretext">measureText</a></code>(<var title="">text</var>)</dt>

   <dd>

    <p>Returns a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textmetrics">TextMetrics</a></code> object with the metrics of the given text in the current font.</p>

   </dd>

   <dt><var title="">metrics</var> . <code title="dom-textmetrics-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-width">width</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-actualBoundingBoxLeft"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxleft">actualBoundingBoxLeft</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-actualBoundingBoxRight"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxright">actualBoundingBoxRight</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-fontBoundingBoxAscent"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-fontboundingboxascent">fontBoundingBoxAscent</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-fontBoundingBoxDescent"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-fontboundingboxdescent">fontBoundingBoxDescent</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-actualBoundingBoxAscent"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxascent">actualBoundingBoxAscent</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-actualBoundingBoxDescent"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxdescent">actualBoundingBoxDescent</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-emHeightAscent"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-emheightascent">emHeightAscent</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-emHeightDescent"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-emheightdescent">emHeightDescent</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-hangingBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-hangingbaseline">hangingBaseline</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-alphabeticBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-alphabeticbaseline">alphabeticBaseline</a></code></dt>
   <dt><var title="">metrics</var> . <code title="dom-textmetrics-ideographicBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-ideographicbaseline">ideographicBaseline</a></code></dt>

   <dd>

    <p>Returns the measurement described below.</p>

   </dd>

  </dl><div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> interface provides the
  following methods for rendering text directly to the canvas.</p>

  <p>The <dfn id="dom-context-2d-filltext" title="dom-context-2d-fillText"><code>fillText()</code></dfn> and
  <dfn id="dom-context-2d-stroketext" title="dom-context-2d-strokeText"><code>strokeText()</code></dfn>
  methods take three or four arguments, <var title="">text</var>, <var title="">x</var>, <var title="">y</var>, and optionally <var title="">maxWidth</var>, and render the given <var title="">text</var> at the given (<var title="">x</var>, <var title="">y</var>) coordinates ensuring that the text isn't wider
  than <var title="">maxWidth</var> if specified, using the current
  <code title="dom-context-2d-font"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-font">font</a></code>, <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code>, and <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code>
  values. Specifically, when the methods are called, the user agent
  must run the following steps:</p>

  <ol><li><p>Run the <a href="http://www.whatwg.org/specs/web-apps/current-work/#text-preparation-algorithm">text preparation algorithm</a>, passing it
   <var title="">text</var>, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code>
   object, and, if the <var title="">maxWidth</var> argument was
   provided, that argument. Let <var title="">glyphs</var> be the
   result.</p>

   </li><li><p>Move all the shapes in <var title="">glyphs</var> to the
   right by <var title="">x</var> CSS pixels and down by <var title="">y</var> CSS pixels.</p></li>

   <li>

    <p>Paint the shapes given in <var title="">glyphs</var>, as
    transformed by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">current transformation
    matrix</a>, with each CSS pixel in the coordinate space of <var title="">glyphs</var> mapped to one coordinate space unit.</p>

    <p>For <code title="dom-context-2d-fillText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-filltext">fillText()</a></code>,
    <code title="dom-context-2d-fillStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle">fillStyle</a></code> must be
    applied to the shapes and <code title="dom-context-2d-strokeStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle">strokeStyle</a></code> must be
    ignored. For <code title="dom-context-2d-strokeText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-stroketext">strokeText()</a></code>, the reverse
    holds: <code title="dom-context-2d-strokeStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle">strokeStyle</a></code>
    must be applied to the result of <a href="http://www.whatwg.org/specs/web-apps/current-work/#trace-a-path" title="trace a
    path">tracing</a> the shapes using the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object for the line styles,
    and <code title="dom-context-2d-fillStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle">fillStyle</a></code> must
    be ignored.</p>

    <p>These shapes are painted without affecting the current path,
    and are subject to <a href="http://www.whatwg.org/specs/web-apps/current-work/#shadows" title="shadows">shadow effects</a>,
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha" title="dom-context-2d-globalAlpha">global alpha</a>, the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation" title="dom-context-2d-globalCompositeOperation">global composition
    operators</a>.</p>

   </li>

  </ol><!--v6DVT - this is commented out until CSS can get its act together
enough to actual specify vertical text rendering (how long have we
been waiting now?)

WHEN EDITING THIS, FIX THE PARTS MARKED "&#x0058;&#x0058;&#x0058;" BELOW

ALSO NOTE THAT THIS PROBABLY NEEDS ENTIRELY REVISITING NOW THAT WE
HAVE REJIGGED HOW TEXT WORKS IN v5

  <p>The <dfn
  title="dom-context-2d-fillVerticalText"><code>fillVerticalText()</code></dfn>
  and <dfn
  title="dom-context-2d-strokeVerticalText"><code>strokeVerticalText()</code></dfn>
  methods take three or four arguments, <var title="">text</var>, <var
  title="">x</var>, <var title="">y</var>, and optionally <var
  title="">maxHeight</var>, and render the given <var
  title="">text</var> as vertical text at the given (<var
  title="">x</var>, <var title="">y</var>) coordinates ensuring that
  the text isn't taller than <var title="">maxHeight</var> if
  specified, using the current <code
  title="dom-context-2d-font">font</code> and <code
  title="dom-context-2d-textAlign">textAlign</code>
  values. Specifically, when the methods are called, the user agent
  must run the following steps:</p>

  <ol>

   <li><p>If <var title="">maxHeight</var> is present but less than or
   equal to zero, return without doing anything; abort these
   steps.</p></li>

   <li><p>Let <var title="">font</var> be the current font of the
   context, as given by the <code
   title="dom-context-2d-font">font</code> attribute.</p></li>

   <li><p>Replace all the <span title="space character">space
   characters</span> in <var title="">text</var> with U+0020 SPACE
   characters.</p></li>

   <li><p>Form a <em class="&#x0058;&#x0058;&#x0058;">whatever CSS ends up calling
   vertical line boxes and inline boxes</em> containing the text <var
   title="">text</var>, with all the properties at their initial
   values except the 'font' property of the inline box set to <var
   title="">font</var> and the 'direction' property of the inline
   box set to <span>the directionality</span> of the <code>canvas</code>
   element.</p></li>

   <!- - if you insert a step here, make sure to adjust the next step's
   final words - ->

   <li><p>If the <var title="">maxHeight</var> argument was specified
   and the hypothetical height of the <em class="&#x0058;&#x0058;&#x0058;">box</em>
   in the hypothetical line box is greater than <var
   title="">maxHeight</var> CSS pixels, then change <var
   title="">font</var> to have a more condensed font (if one is
   available or if a reasonably readable one can be synthesized by
   applying an appropriate scale factor to the font) or a smaller
   font, and return to the previous step.</p></li>

   <li>

    <p>Let the <var title="">anchor point</var> be a point on the <em
    class="&#x0058;&#x0058;&#x0058;">inline box</var>, determined by the <code
    title="dom-context-2d-textAlign">textAlign</code>, as follows:</p>

    <p>Vertical position:</p>

    <dl>

     <dt>If <code
     title="dom-context-2d-textAlign">textAlign</code> is <code
     title="">start</code></dt>
     <dt>If <code
     title="dom-context-2d-textAlign">textAlign</code> is <code
     title="">left</code> and <span>the directionality</span> of the
     <code>canvas</code> element is 'ltr'</dt>
     <dt>If <code
     title="dom-context-2d-textAlign">textAlign</code> is <code
     title="">right</code> and <span>the directionality</span> of the
     <code>canvas</code> element is 'rtl'</dt>

     <dd>Let the <var title="">anchor point</var>'s vertical
     position be the top edge of the <em class="&#x0058;&#x0058;&#x0058;">inline
     box</em>.</dd>

     <dt>If <code
     title="dom-context-2d-textAlign">textAlign</code> is <code
     title="">end</code></dt>
     <dt>If <code
     title="dom-context-2d-textAlign">textAlign</code> is <code
     title="">right</code> and <span>the directionality</span> of the
     <code>canvas</code> element is 'ltr'</dt>
     <dt>If <code
     title="dom-context-2d-textAlign">textAlign</code> is <code
     title="">left</code> and <span>the directionality</span> of the
     <code>canvas</code> element is 'rtl'</dt>

     <dd>Let the <var title="">anchor point</var>'s vertical
     position be the bottom edge of the <em class="&#x0058;&#x0058;&#x0058;">inline
     box</em>.</dd>


     <dt>If <code
     title="dom-context-2d-textAlign">textAlign</code> is <code
     title="">center</code></dt>

     <dd>Let the <var title="">anchor point</var>'s vertical position
     be half way between the top and bottom edges of the <em
     class="&#x0058;&#x0058;&#x0058;">inline box</em>.</dd>

    </dl>

    <p>Let the horizontal position be half way between the left and
    right edges of the em box of the first available font of the <em
    class="&#x0058;&#x0058;&#x0058;">inline box</em>.</p>

   </li>

   <li>

    <p>Paint the hypothetical inline box as the shape given by the
    text's glyphs, as transformed by the <span
    title="dom-context-2d-transformation">current transformation
    matrix</span>, and anchored and sized so that before applying the
    <span title="dom-context-2d-transformation">current transformation
    matrix</span>, the <var title="">anchor point</var> is at (<var
    title="">x</var>, <var title="">y</var>) and each CSS pixel is
    mapped to one coordinate space unit.</p>

    <p>For <code
    title="dom-context-2d-fillVerticalText">fillVerticalText()</code>
    <code title="dom-context-2d-fillStyle">fillStyle</code> must be
    applied and <code
    title="dom-context-2d-strokeStyle">strokeStyle</code> must be
    ignored. For <code
    title="dom-context-2d-strokeVerticalText">strokeVerticalText()</code>
    the reverse holds and <code
    title="dom-context-2d-strokeStyle">strokeStyle</code> must be
    applied and <code
    title="dom-context-2d-fillStyle">fillStyle</code> must be
    ignored.</p>

    <p>Text is painted without affecting the current path, and is
    subject to <span title="shadows">shadow effects</span>, <span
    title="dom-context-2d-globalAlpha">global alpha</span>, the
    <span>clipping region</span>, and <span
    title="dom-context-2d-globalCompositeOperation">global composition
    operators</span>.</p>

   </li>

  </ol>

v6DVT (also check for '- -' bits in the part above) --><p>The <dfn id="dom-context-2d-measuretext" title="dom-context-2d-measureText"><code>measureText()</code></dfn>
  method takes one argument, <var title="">text</var>. When the method
  is invoked, the user agent must replace all the <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space
  character">space characters</a> in <var title="">text</var> with
  U+0020 SPACE characters, and then must form a hypothetical
  infinitely-wide CSS line box containing a single inline box
  containing the text <var title="">text</var>, with all the
  properties at their initial values except the 'white-space' property
  of the inline element set to 'pre' and the 'font' property of the
  inline element set to the current font of the context as given by
  the <code title="dom-context-2d-font"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-font">font</a></code> attribute, and
  must then create a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textmetrics">TextMetrics</a></code> object with its
  attributes set as described in the following list.
<!--ADD-TOPIC:Security-->
  If doing these measurements requires using a font that has an
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> that is not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin" title="same
  origin">same</a> as that of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object that
  owns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element (even if "using a font" means
  just checking if that font has a particular glyph in it before
  falling back to another font), then the method must throw a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code> exception.
<!--REMOVE-TOPIC:Security-->
  Otherwise, it must return the new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#textmetrics">TextMetrics</a></code> object.
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSS">[CSS]</a></p>

  </div>

  <dl><dt><dfn id="dom-textmetrics-width" title="dom-textmetrics-width"><code>width</code></dfn> attribute</dt>

   <dd><p>The width of that inline box, in CSS pixels. (The text's advance width.)</p></dd>

   <dt><dfn id="dom-textmetrics-actualboundingboxleft" title="dom-textmetrics-actualBoundingBoxLeft"><code>actualBoundingBoxLeft</code></dfn> attribute</dt>

   <dd>
    <p>The distance parallel to the baseline from the alignment point given by the <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> attribute to the left side of the bounding rectangle of the given text, in CSS pixels; positive numbers indicating a distance going left from the given alignment point.
    </p><p class="note">The sum of this value and the next (<code title="dom-textmetrics-actualBoundingBoxRight"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxright">actualBoundingBoxRight</a></code>) can be wider than the width of the inline box (<code title="dom-textmetrics-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-width">width</a></code>), in particular with slanted fonts where characters overhang their advance width.</p>

   </dd>

   <dt><dfn id="dom-textmetrics-actualboundingboxright" title="dom-textmetrics-actualBoundingBoxRight"><code>actualBoundingBoxRight</code></dfn> attribute</dt>

   <dd>
    <p>The distance parallel to the baseline from the alignment point given by the <code title="dom-context-2d-textAlign"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textalign">textAlign</a></code> attribute to the right side of the bounding rectangle of the given text, in CSS pixels; positive numbers indicating a distance going right from the given alignment point.</p>
   </dd>

   <dt><dfn id="dom-textmetrics-fontboundingboxascent" title="dom-textmetrics-fontBoundingBoxAscent"><code>fontBoundingBoxAscent</code></dfn> attribute</dt>

   <dd>
    <p>The distance from the horizontal line indicated by the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute to the top of the highest bounding rectangle of all the fonts used to render the text, in CSS pixels; positive numbers indicating a distance going up from the given baseline.</p>
    <p class="note">This value and the next are useful when rendering a background that must have a consistent height even if the exact text being rendered changes. The <code title="dom-textmetrics-actualBoundingBoxAscent"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxascent">actualBoundingBoxAscent</a></code> attribute (and its corresponding attribute for the descent) are useful when drawing a bounding box around specific text.</p>
   </dd>

   <dt><dfn id="dom-textmetrics-fontboundingboxdescent" title="dom-textmetrics-fontBoundingBoxDescent"><code>fontBoundingBoxDescent</code></dfn> attribute</dt>

   <dd><p>The distance from the horizontal line indicated by the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute to the bottom of the lowest bounding rectangle of all the fonts used to render the text, in CSS pixels; positive numbers indicating a distance going down from the given baseline.</p></dd>

   <dt><dfn id="dom-textmetrics-actualboundingboxascent" title="dom-textmetrics-actualBoundingBoxAscent"><code>actualBoundingBoxAscent</code></dfn> attribute</dt>

   <dd>
    <p>The distance from the horizontal line indicated by the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute to the top of the bounding rectangle of the given text, in CSS pixels; positive numbers indicating a distance going up from the given baseline.
    </p><p class="note">This number can vary greatly based on the input text, even if the first font specified covers all the characters in the input. For example, the <code title="dom-textmetrics-actualBoundingBoxAscent"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-textmetrics-actualboundingboxascent">actualBoundingBoxAscent</a></code> of a lowercase "o" from an alphabetic baseline would be less than that of an uppercase "F". The value can easily be negative; for example, the distance from the top of the em box (<code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> value "<code title="dom-context-2d-textBaseline-top"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline-top">top</a></code>") to the top of the bounding rectangle when the given text is just a single comma "<code title="">,</code>" would likely (unless the font is quite unusual) be negative.</p>
   </dd>

   <dt><dfn id="dom-textmetrics-actualboundingboxdescent" title="dom-textmetrics-actualBoundingBoxDescent"><code>actualBoundingBoxDescent</code></dfn> attribute</dt>

   <dd><p>The distance from the horizontal line indicated by the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute to the bottom of the bounding rectangle of the given text, in CSS pixels; positive numbers indicating a distance going down from the given baseline.</p></dd>

   <dt><dfn id="dom-textmetrics-emheightascent" title="dom-textmetrics-emHeightAscent"><code>emHeightAscent</code></dfn> attribute</dt>

   <dd><p>The distance from the horizontal line indicated by the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute to the top of the em square in the line box, in CSS pixels; positive numbers indicating that the given baseline is below the top of the em square (so this value will usually be positive). Zero if the given baseline is the top of the em square; half the font size if the given baseline is the middle of the em square.</p></dd>

   <dt><dfn id="dom-textmetrics-emheightdescent" title="dom-textmetrics-emHeightDescent"><code>emHeightDescent</code></dfn> attribute</dt>

   <dd><p>The distance from the horizontal line indicated by the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute to the bottom of the em square in the line box, in CSS pixels; positive numbers indicating that the given baseline is below the bottom of the em square (so this value will usually be negative). (Zero if the given baseline is the top of the em square.)</p></dd>

   <dt><dfn id="dom-textmetrics-hangingbaseline" title="dom-textmetrics-hangingBaseline"><code>hangingBaseline</code></dfn> attribute</dt>

   <dd><p>The distance from the horizontal line indicated by the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute to the hanging baseline of the line box, in CSS pixels; positive numbers indicating that the given baseline is below the hanging baseline. (Zero if the given baseline is the hanging baseline.)</p></dd>

   <dt><dfn id="dom-textmetrics-alphabeticbaseline" title="dom-textmetrics-alphabeticBaseline"><code>alphabeticBaseline</code></dfn> attribute</dt>

   <dd><p>The distance from the horizontal line indicated by the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute to the alphabetic baseline of the line box, in CSS pixels; positive numbers indicating that the given baseline is below the alphabetic baseline. (Zero if the given baseline is the alphabetic baseline.)</p></dd>

   <dt><dfn id="dom-textmetrics-ideographicbaseline" title="dom-textmetrics-ideographicBaseline"><code>ideographicBaseline</code></dfn> attribute</dt>

   <dd><p>The distance from the horizontal line indicated by the <code title="dom-context-2d-textBaseline"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-textbaseline">textBaseline</a></code> attribute to the ideographic baseline of the line box, in CSS pixels; positive numbers indicating that the given baseline is below the ideographic baseline. (Zero if the given baseline is the ideographic baseline.)</p></dd>

  </dl><p class="note">Glyphs rendered using <code title="dom-context-2d-fillText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-filltext">fillText()</a></code> and <code title="dom-context-2d-strokeText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-stroketext">strokeText()</a></code> can spill out
  of the box given by the font size (the em square size) and the width
  returned by <code title="dom-context-2d-measureText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-measuretext">measureText()</a></code> (the text
  width). Authors are encouraged to use the bounding box values
  described above if this is an issue.</p>

  <p class="note">A future version of the 2D context API may provide a
  way to render fragments of documents, rendered using CSS, straight
  to the canvas. This would be provided in preference to a dedicated
  way of doing multiline layout.</p>



  <h6 id="drawing-paths-to-the-canvas"><span class="secno">4.8.11.1.11 </span>Drawing paths to the canvas</h6>

  <p>The context always has a <dfn id="current-default-path">current default path</dfn>. There
  is only one <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a>, it is not part of the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#drawing-state">drawing state</a>. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> is
  a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-path" title="concept-path">path</a>, as described above.</p>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-beginPath"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-beginpath">beginPath</a></code>()</dt>

   <dd>

    <p>Resets the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a>.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-fill"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fill">fill</a></code>()</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-fill"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fill">fill</a></code>(<var title="">path</var>)</dt>

   <dd>

    <p>Fills the subpaths of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> or the given path with the current fill style.</p>

   </dd>


   <dt><var title="">context</var> . <code title="dom-context-2d-stroke"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-stroke">stroke</a></code>()</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-stroke"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-stroke">stroke</a></code>(<var title="">path</var>)</dt>

   <dd>

    <p>Strokes the subpaths of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> or the given path with the current stroke style.</p>

   </dd>


   <dt><var title="">context</var> . <code title="dom-context-2d-drawSystemFocusRing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawsystemfocusring">drawSystemFocusRing</a></code>(<var title="">element</var>)</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-drawSystemFocusRing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawsystemfocusring">drawSystemFocusRing</a></code>(<var title="">path</var>, <var title="">element</var>)</dt>

   <dd>

    <p>If the given element is focused, draws a focus ring around the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> or hte given path, following the platform
    conventions for focus rings.</p>

   </dd>


   <dt><var title="">shouldDraw</var> = <var title="">context</var> . <code title="dom-context-2d-drawCustomFocusRing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawcustomfocusring">drawCustomFocusRing</a></code>(<var title="">element</var>)</dt>
   <dt><var title="">shouldDraw</var> = <var title="">context</var> . <code title="dom-context-2d-drawCustomFocusRing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawcustomfocusring">drawCustomFocusRing</a></code>(<var title="">path</var>, <var title="">element</var>)</dt>

   <dd>

    <p>If the given element is focused, and the user has configured
    his system to draw focus rings in a particular manner (for
    example, high contrast focus rings), draws a focus ring around the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> or the given path and returns
    false.</p>

    <p>Otherwise, returns true if the given element is focused, and
    false otherwise. This can thus be used to determine when to draw a
    focus ring (see <a href="http://www.whatwg.org/specs/web-apps/current-work/#drawCustomFocusRingExample">the
    example</a> below).</p>

   </dd>


   <dt><var title="">context</var> . <code title="dom-context-2d-scrollPathIntoView"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-scrollpathintoview">scrollPathIntoView</a></code>()</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-scrollPathIntoView"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-scrollpathintoview">scrollPathIntoView</a></code>(<var title="">path</var>)</dt>

   <dd>

    <p>Scrolls the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> or the given path
    into view. This is especially useful on devices with small
    screens, where the whole canvas might not be visible at once.</p>

   </dd>


   <dt><var title="">context</var> . <code title="dom-context-2d-clip"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-clip">clip</a></code>()</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-clip"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-clip">clip</a></code>(<var title="">path</var>)</dt>

   <dd>

    <p>Further constrains the clipping region to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current
    default path</a> or the given path.</p>

   </dd>


   <dt><var title="">context</var> . <code title="dom-context-2d-resetClip"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-resetclip">resetClip</a></code>()</dt>

   <dd>

    <p>Unconstrains the clipping region.</p>

   </dd>


   <dt><var title="">context</var> . <code title="dom-context-2d-isPointInPath"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ispointinpath">isPointInPath</a></code>(<var title="">x</var>, <var title="">y</var>)</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-isPointInPath"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-ispointinpath">isPointInPath</a></code>(<var title="">path</var>, <var title="">x</var>, <var title="">y</var>)</dt>

   <dd>

    <p>Returns true if the given point is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a>.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-context-2d-beginpath" title="dom-context-2d-beginPath"><code>beginPath()</code></dfn>
  method must empty the list of subpaths in the context's
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> so that the it once again has zero
  subpaths.</p>

  <p>Where the following method definitions use the term <i>intended
  path</i>, it means the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> argument, if one was
  provided, or the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> otherwise.</p>

  <p>When the intended path is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object, the
  coordinates and lines of its subpaths must be transformed according
  to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">current transformation
  matrix</a> when used by these methods (without affecting the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object itself). When the intended path is the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a>, it is not affected by the
  transform. (This is because transformations already affect the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> when it is constructed, so
  applying it when it is painted as well would result in a double
  transformation.)</p>

  <p>The <dfn id="dom-context-2d-fill" title="dom-context-2d-fill"><code>fill()</code></dfn>
  method must fill all the subpaths of the intended path, using <code title="dom-context-2d-fillStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle">fillStyle</a></code>, and using the
  non-zero winding number rule. Open subpaths must be implicitly
  closed when being filled (without affecting the actual
  subpaths).</p>

  <p class="note">Thus, if two overlapping but otherwise independent
  subpaths have opposite windings, they cancel out and result in no
  fill. If they have the same winding, that area just gets painted
  once.</p>

  <p>The <dfn id="dom-context-2d-stroke" title="dom-context-2d-stroke"><code>stroke()</code></dfn> method
  must <a href="http://www.whatwg.org/specs/web-apps/current-work/#trace-a-path" title="trace a path">trace</a> the intended path,
  using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object for the line
  styles, and then fill the combined stroke area using the <code title="dom-context-2d-strokeStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle">strokeStyle</a></code> attribute.</p>

  <p class="note">As a result of how the algorithm to <a href="http://www.whatwg.org/specs/web-apps/current-work/#trace-a-path">trace a
  path</a> is defined, overlapping parts of the paths in one stroke
  operation are treated as if their union was what was painted.</p>

  <p class="note">The stroke <em>style</em> is affected by the
  transformation during painting, even if the intended path is the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a>.</p>

  <p>Paths, when filled or stroked, must be painted without affecting
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> or any <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code>
  objects, and must be subject to <a href="http://www.whatwg.org/specs/web-apps/current-work/#shadows" title="shadows">shadow
  effects</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha" title="dom-context-2d-globalAlpha">global
  alpha</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation" title="dom-context-2d-globalCompositeOperation">global composition
  operators</a>. (The effect of transformations is described above
  and varies based on which path is being used.)</p>

  <p>Zero-length line segments must be pruned before stroking a path.
  Empty subpaths must be ignored.</p>

  <hr><p id="dom-context-2d-drawosfocusring">The <dfn id="dom-context-2d-drawsystemfocusring" title="dom-context-2d-drawSystemFocusRing"><code>drawSystemFocusRing(<var title="">element</var>)</code></dfn> method, when invoked, must run
  the following steps:</p>

  <ol><li><p>If <var title="">element</var> is not focused or is not a
   descendant of the element with whose context the method is
   associated, then abort these steps.</p></li>

   <li>

    <p>If the user has requested the use of particular focus rings
    (e.g. high-contrast focus rings), or if the <var title="">element</var> would have a focus ring drawn around it,
    then draw a focus ring of the appropriate style along the intended
    path, following platform conventions.</p>

    <p class="note">Some platforms only draw focus rings around
    elements that have been focused from the keyboard, and not those
    focused from the mouse. Other platforms simply don't draw focus
    rings around some elements at all unless relevant accessibility
    features are enabled. This API is intended to follow these
    conventions. User agents that implement distinctions based on the
    manner in which the element was focused are encouraged to classify
    focus driven by the <code title="dom-focus"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-focus">focus()</a></code> method
    based on the kind of user interaction event from which the call
    was triggered (if any).</p>

    <p>The focus ring should not be subject to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#shadows" title="shadows">shadow effects</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha" title="dom-context-2d-globalAlpha">global alpha</a>, or the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation" title="dom-context-2d-globalCompositeOperation">global
    composition operators</a>, but <em>should</em> be subject to
    the <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a>. (The effect of transformations
    is described above and varies based on which path is being
    used.)</p>

   </li>

   <li>

    <p>Optionally, <a href="http://www.whatwg.org/specs/web-apps/current-work/#inform">inform the user</a> that the
    focus is at the location given by the intended path. User agents
    may wait until the next time the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> reaches
    its "update the rendering" step to optionally inform the user.</p>

   </li>

  </ol><p>The <dfn id="dom-context-2d-drawcustomfocusring" title="dom-context-2d-drawCustomFocusRing"><code>drawCustomFocusRing(<var title="">element</var>)</code></dfn> method, when invoked, must run
  the following steps:</p>

  <ol><li><p>If <var title="">element</var> is not focused or is not a
   descendant of the element with whose context the method is
   associated, then return false and abort these steps.</p></li>

   <li><p>Let <var title="">result</var> be true.</p></li>

   <li>

    <p>If the user has requested the use of particular focus rings
    (e.g. high-contrast focus rings), then draw a focus ring of the
    appropriate style along the intended path, and set <var title="">result</var> to false.</p>

    <p>The focus ring should not be subject to the <a href="http://www.whatwg.org/specs/web-apps/current-work/#shadows" title="shadows">shadow effects</a>, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha" title="dom-context-2d-globalAlpha">global alpha</a>, or the
    <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation" title="dom-context-2d-globalCompositeOperation">global
    composition operators</a>, but <em>should</em> be subject to
    the <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a>. (The effect of transformations
    is described above and varies based on which path is being
    used.)</p>

   </li>

   <li>

    <p>Optionally, <a href="http://www.whatwg.org/specs/web-apps/current-work/#inform">inform the user</a> that the
    focus is at the location given by the intended path. User agents
    may wait until the next time the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> reaches
    its "update the rendering" step to optionally inform the user.</p>

   </li>

   <li><p>Return <var title="">result</var>.</p></li>

  </ol><p>The <dfn id="dom-context-2d-scrollpathintoview" title="dom-context-2d-scrollPathIntoView"><code>scrollPathIntoView()</code></dfn>
  method, when invoked, must run the following steps:</p>

  <ol><li><p>Let <var title="">the specified rectangle</var> be the
   rectangle of the bounding box of the intended path.</p></li>

   <li><p>Let <var title="">notional child</var> be a hypothetical
   element that is a rendered child of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element
   whose dimensions are those of <var title="">the specified
   rectangle</var>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#scroll-an-element-into-view" title="scroll an element into view">Scroll <var title="">notional child</var> into view</a> with the <var title="">align to top flag</var> set.</p>

   </li><li><p>Optionally, <a href="http://www.whatwg.org/specs/web-apps/current-work/#inform">inform the user</a> that the
   caret and/or selection cover <var title="">the specified
   rectangle</var> of the canvas. User agents may wait until the next
   time the <a href="http://www.whatwg.org/specs/web-apps/current-work/#event-loop">event loop</a> reaches its "update the rendering"
   step to optionally inform the user.</p></li>

  </ol><p class="note" id="inform">"Inform the user", as used in this
  section, could mean calling a system accessibility API, which would
  notify assistive technologies such as magnification tools. To
  properly drive magnification based on a focus change, a system
  accessibility API driving a screen magnifier needs the bounds for
  the newly focused object. The methods above are intended to enable
  this by allowing the user agent to report the bounding box of the
  path used to render the focus ring as the bounds of the <var title="">element</var> element passed as an argument, if that
  element is focused, and the bounding box of the area to which the
  user agent is scrolling as the bounding box of the current
  selection.</p>

  <hr><p>The <dfn id="dom-context-2d-clip" title="dom-context-2d-clip"><code>clip()</code></dfn>
  method must create a new <dfn id="clipping-region">clipping region</dfn> by calculating
  the intersection of the current clipping region and the area
  described by the intended path, using the non-zero winding number
  rule. Open subpaths must be implicitly closed when computing the
  clipping region, without affecting the actual subpaths. The new
  clipping region replaces the current clipping region.</p>

  <p>When the context is initialized, the clipping region must be set
  to the rectangle with the top left corner at (0,0) and the width and
  height of the coordinate space.</p>

  <!-- v6
   Jordan OSETE suggests:
    * support ways of extending the clipping region (union instead of intersection)
       - also "add", "subtract", "replace", "intersect" and "xor"
       - maybe just support creating unions, intersections, and other -ions of paths
  -->

  <p>The <dfn id="dom-context-2d-resetclip" title="dom-context-2d-resetClip"><code>resetClip()</code></dfn>
  method must create a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a> that is the
  rectangle with the top left corner at (0,0) and the width and height
  of the coordinate space. The new clipping region replaces the
  current clipping region.</p>

  <hr><p>The <dfn id="dom-context-2d-ispointinpath" title="dom-context-2d-isPointInPath"><code>isPointInPath(<var title="">x</var>, <var title="">y</var>)</code></dfn> method must
  return true if the point given by the <var title="">x</var> and <var title="">y</var> coordinates passed to the method, when treated as
  coordinates in the canvas coordinate space unaffected by the current
  transformation, is inside the intended path as determined by the
  non-zero winding number rule; and must return false otherwise.
  Points on the path itself must be considered to be inside the path.
  If either of the arguments is infinite or NaN, then the method must
  return false.</p>

  </div>


  <div class="example" id="drawCustomFocusRingExample">

   <p>This <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element has a couple of checkboxes. The
   path-related commands are highlighted:</p>

   <pre>&lt;canvas height=400 width=750&gt;
 &lt;label&gt;&lt;input type=checkbox id=showA&gt; Show As&lt;/label&gt;
 &lt;label&gt;&lt;input type=checkbox id=showB&gt; Show Bs&lt;/label&gt;
 &lt;!-- ... --&gt;
&lt;/canvas&gt;
&lt;script&gt;
 function drawCheckbox(context, element, x, y, paint) {
   context.save();
   context.font = '10px sans-serif';
   context.textAlign = 'left';
   context.textBaseline = 'middle';
   var metrics = context.measureText(element.labels[0].textContent);
   if (paint) {
<strong>     context.beginPath();
     context.strokeStyle = 'black';
     context.rect(x-5, y-5, 10, 10);
     context.stroke();
</strong>     if (element.checked) {
<strong>       context.fillStyle = 'black';
       context.fill();
</strong>     }
     context.fillText(element.labels[0].textContent, x+5, y);
   }
<strong>   context.beginPath();
   context.rect(x-7, y-7, 12 + metrics.width+2, 14);
   if (paint &amp;&amp; context.drawCustomFocusRing(element)) {
     context.strokeStyle = 'silver';
     context.stroke();
   }
</strong>   context.restore();
 }
 function drawBase() { /* ... */ }
 function drawAs() { /* ... */ }
 function drawBs() { /* ... */ }
 function redraw() {
   var canvas = document.getElementsByTagName('canvas')[0];
   var context = canvas.getContext('2d');
   context.clearRect(0, 0, canvas.width, canvas.height);
   drawCheckbox(context, document.getElementById('showA'), 20, 40, true);
   drawCheckbox(context, document.getElementById('showB'), 20, 60, true);
   drawBase();
   if (document.getElementById('showA').checked)
     drawAs();
   if (document.getElementById('showB').checked)
     drawBs();
 }
 function processClick(event) {
   var canvas = document.getElementsByTagName('canvas')[0];
   var context = canvas.getContext('2d');
   var x = event.clientX;
   var y = event.clientY;
   var node = event.target;
   while (node) {
     x -= node.offsetLeft - node.scrollLeft;
     y -= node.offsetTop - node.scrollTop;
     node = node.offsetParent;
   }
   drawCheckbox(context, document.getElementById('showA'), 20, 40, false);
   if (<strong>context.isPointInPath(x, y)</strong>)
     document.getElementById('showA').checked = !(document.getElementById('showA').checked);
   drawCheckbox(context, document.getElementById('showB'), 20, 60, false);
   if (<strong>context.isPointInPath(x, y)</strong>)
     document.getElementById('showB').checked = !(document.getElementById('showB').checked);
   redraw();
 }
 document.getElementsByTagName('canvas')[0].addEventListener('focus', redraw, true);
 document.getElementsByTagName('canvas')[0].addEventListener('blur', redraw, true);
 document.getElementsByTagName('canvas')[0].addEventListener('change', redraw, true);
 document.getElementsByTagName('canvas')[0].addEventListener('click', processClick, false);
 redraw();
&lt;/script&gt;</pre>
<!-- http://software.hixie.ch/utilities/js/live-dom-viewer/saved/340 -->

  </div>



  <h6 id="drawing-images-to-the-canvas"><span class="secno">4.8.11.1.12 </span>Drawing images to the canvas</h6>

  <p>To draw images onto the canvas, the <dfn id="dom-context-2d-drawimage" title="dom-context-2d-drawImage"><code>drawImage</code></dfn> method
  can be used.</p>

  <p>This method can be invoked with three different sets of arguments:</p>

  <ul class="brief"><li><code title="">drawImage(<var title="">image</var>, <var title="">dx</var>, <var title="">dy</var>)</code>
   </li><li><code title="">drawImage(<var title="">image</var>, <var title="">dx</var>, <var title="">dy</var>, <var title="">dw</var>, <var title="">dh</var>)</code>
   </li><li><code title="">drawImage(<var title="">image</var>, <var title="">sx</var>, <var title="">sy</var>, <var title="">sw</var>, <var title="">sh</var>, <var title="">dx</var>, <var title="">dy</var>, <var title="">dw</var>, <var title="">dh</var>)</code>
  </li></ul><!-- v3: drawImage() of an ImageData object might make sense (when resizing as well as filtering) - ack Charles Pritchard --><p>Each of those three can take either an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code>, an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a></code>, or
  an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code> for the <var title="">image</var>
  argument.</p>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage</a></code>(<var title="">image</var>, <var title="">dx</var>, <var title="">dy</var>)</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage</a></code>(<var title="">image</var>, <var title="">dx</var>, <var title="">dy</var>, <var title="">dw</var>, <var title="">dh</var>)</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage</a></code>(<var title="">image</var>, <var title="">sx</var>, <var title="">sy</var>, <var title="">sw</var>, <var title="">sh</var>, <var title="">dx</var>, <var title="">dy</var>, <var title="">dw</var>, <var title="">dh</var>)</dt>

   <dd>

    <p>Draws the given image onto the canvas. The arguments are
    interpreted as follows:</p>

    <p><img alt="The sx and sy parameters give the x and y coordinates of the source rectangle; the sw and sh arguments give the width and height of the source rectangle; the dx and dy give the x and y coordinates of the destination rectangle; and the dw and dh arguments give the width and height of the destination rectangle." height="356" src="./HTML Standard_files/drawImage.png" width="356"></p>

    <p>If the first argument isn't an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>,
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>, or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> element, throws a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#typemismatcherror">TypeMismatchError</a></code> exception. If the image has no
    image data, throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code> exception. If
    the one of the source rectangle dimensions is zero, throws an
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception. If the image isn't yet
    fully decoded, then nothing is drawn.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-imageSmoothingEnabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-imagesmoothingenabled">imageSmoothingEnabled</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns whether the <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage()</a></code> method will
    attempt to smooth the image if it has to rescale it (as opposed to
    just rendering the image with "big pixels").</p>

    <p>Can be set, to change whether images are smoothed (true) or not
    (false).</p>

   </dd>

  </dl><div class="impl">

  <p>If not specified, the <var title="">dw</var> and <var title="">dh</var> arguments must default to the values of <var title="">sw</var> and <var title="">sh</var>, interpreted such that
  one CSS pixel in the image is treated as one unit in the canvas
  coordinate space. If the <var title="">sx</var>, <var title="">sy</var>, <var title="">sw</var>, and <var title="">sh</var> arguments are omitted, they must default to 0, 0,
  the image's intrinsic width in image pixels, and the image's
  intrinsic height in image pixels, respectively. If the image has no
  intrinsic dimensions, the <i>concrete object size</i> must be used
  instead, as determined using the CSS "<a href="http://dev.w3.org/csswg/css3-images/#default-sizing">Concrete
  Object Size Resolution</a>" algorithm, with the <i>specified
  size</i> having neither a definite width nor height, nor any
  additional contraints, the object's intrinsic properties being those
  of the <var title="">image</var> argument, and the <i>default object
  size</i> being the size of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSIMAGES">[CSSIMAGES]</a></p>

  <p>The <var title="">image</var> argument is an instance of either
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a></code>, or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code>.</p> <!-- createPattern() has an
  equivalent paragraph -->

  <p>If the <var title="">image</var> argument is an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code> object that is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#img-good" title="img-good">fully decodable</a>, or if the <var title="">image</var> argument is an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code>
  object whose <code title="dom-media-readyState"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-readystate">readyState</a></code>
  attribute is either <code title="dom-media-HAVE_NOTHING"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_nothing">HAVE_NOTHING</a></code> or <code title="dom-media-HAVE_METADATA"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-media-have_metadata">HAVE_METADATA</a></code>, then the
  implementation must return without drawing anything.</p> <!--
  createPattern() has an equivalent paragraph -->

  <p>If the <var title="">image</var> argument is an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a></code> object with either a horizontal
  dimension or a vertical dimension equal to zero, then the
  implementation must throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidstateerror">InvalidStateError</a></code>
  exception.</p>
  <!-- createPattern() has an equivalent paragraph -->

  <p>The source rectangle is the rectangle whose corners are the four
  points (<var title="">sx</var>, <var title="">sy</var>), (<span title=""><var title="">sx</var>+<var title="">sw</var></span>, <var title="">sy</var>), (<span title=""><var title="">sx</var>+<var title="">sw</var></span>, <span title=""><var title="">sy</var>+<var title="">sh</var></span>), (<var title="">sx</var>, <span title=""><var title="">sy</var>+<var title="">sh</var></span>).</p>

  <p>If one of the <var title="">sw</var> or <var title="">sh</var>
  arguments is zero, the implementation must throw an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>

  <p>The destination rectangle is the rectangle whose corners are the
  four points (<var title="">dx</var>, <var title="">dy</var>),
  (<span title=""><var title="">dx</var>+<var title="">dw</var></span>, <var title="">dy</var>), (<span title=""><var title="">dx</var>+<var title="">dw</var></span>, <span title=""><var title="">dy</var>+<var title="">dh</var></span>), (<var title="">dx</var>, <span title=""><var title="">dy</var>+<var title="">dh</var></span>).</p>

  <p>When the source rectangle is outside the source image, it must be
  clipped to the source image, and the destination rectangle must be
  clipped in the same proportion.</p>

  <p>When <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage()</a></code> is
  invoked, the region of the image specified by the source rectangle
  must be painted on the region of the canvas specified by the
  destination rectangle, after applying the <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">current transformation
  matrix</a> to the points of the destination rectangle.</p>

  <p>The original image data of the source image must be used, not the
  image as it is rendered (e.g. <code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code> and <code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code> attributes on the source
  element have no effect). The image data must be processed in the
  original direction, even if the dimensions given are negative. <!--
  remove that last sentence if it causes confusion. Someone once
  suggested that 5,5,-2,-2 was different than 3,3,2,2; this is trying
  to clarify that this is no the case. --></p>

  <p>If the <code title="dom-context-2d-imageSmoothingEnabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-imagesmoothingenabled">imageSmoothingEnabled</a></code>
  attribute is set to true, then the user agent should attempt to
  apply a smoothing algorithm to the image data when it is scaled.
  Otherwise, the image must be rendered using nearest-neighbor
  interpolation.</p>

  <p class="note">This specification does not define the precise
  algorithm to use when scaling an image when the <code title="dom-context-2d-imageSmoothingEnabled"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-imagesmoothingenabled">imageSmoothingEnabled</a></code>
  attribute is set to true.</p>

  <p class="note">When a canvas is drawn onto itself, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#drawing-model">drawing
  model</a> requires the source to be copied before the image is drawn
  back onto the canvas, so it is possible to copy parts of a canvas
  onto overlapping parts of itself.</p>

  <p>If the original image data is a bitmap image, the value painted
  at a point in the destination rectangle is computed by filtering the
  original image data. The user agent may use any filtering algorithm
  (for example bilinear interpolation or nearest-neighbor). When the
  filtering algorithm requires a pixel value from outside the original
  image data, it must instead use the value from the nearest edge
  pixel. (That is, the filter uses 'clamp-to-edge' behavior.)</p>
  <!-- see CORE-32111 and:
       http://krijnhoetmer.nl/irc-logs/whatwg/20100818#l-737
       http://www.w3.org/Bugs/Public/show_bug.cgi?id=10799#c11
  -->
  <!-- createPattern() has a similar paragraph with different rules -->

  <p>When the <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage()</a></code> method
  is passed an animated image as its <var title="">image</var>
  argument, the user agent must use the poster frame of the animation,
  or, if there is no poster frame, the first frame of the
  animation.</p>
  <!-- createPattern() has an equivalent paragraph -->

  <p>When the <var title="">image</var> argument is an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code>, then the frame at the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-playback-position">current
  playback position</a> must be used as the source image, and the
  source image's dimensions must be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-width" title="concept-video-intrinsic-width">intrinsic width</a> and
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-video-intrinsic-height" title="concept-video-intrinsic-height">intrinsic height</a>
  of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#media-resource">media resource</a> (i.e. after any aspect-ratio
  correction has been applied).</p>
  <!-- createPattern() has an equivalent paragraph -->

  <p>Images are painted without affecting the current path, and are
  subject to <a href="http://www.whatwg.org/specs/web-apps/current-work/#shadows" title="shadows">shadow effects</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha" title="dom-context-2d-globalAlpha">global alpha</a>, the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation" title="dom-context-2d-globalCompositeOperation">global composition
  operators</a>.</p>

  <p>The <dfn id="dom-context-2d-imagesmoothingenabled" title="dom-context-2d-imageSmoothingEnabled"><code>imageSmoothingEnabled</code></dfn>
  attribute, on getting, must return the last value it was set to. On
  setting, it must be set to the new value. When the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object is create, the
  attribute must be set to true.</p>

  </div>


  <h6 id="hit-regions"><span class="secno">4.8.11.1.13 </span>Hit regions</h6>

  <p>Each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#primary-context">primary
  context</a> is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code> object
  must have a <dfn id="hit-region-list">hit region list</dfn> associated with its
  bitmap.</p>

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region list</a> is a list of <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region" title="hit
  region">hit regions</a>.</p>

  <p>Each <dfn id="hit-region">hit region</dfn> consists of the following
  information:</p>

  <ul><li><p>A <dfn id="hit-region&#39;s-set-of-pixels" title="hit region&#39;s set of pixels">set of
   pixels</dfn> on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's bitmap for which
   this region is responsible.</p></li>

   <li><p>A <dfn id="hit-region&#39;s-bounding-circumference" title="hit region&#39;s bounding circumference">bounding
   circumference</dfn> on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's bitmap
   that surrounds the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-set-of-pixels">hit region's set of pixels</a> as they
   stood when it was created.</p></li>

   <li><p>Optionally, a non-empty string representing an <dfn id="hit-region&#39;s-id" title="hit region&#39;s ID">ID</dfn> for distinguishing the region
   from others.</p></li>

   <li><p>Optionally, a reference to another region that acts as the
   <dfn id="hit-region&#39;s-parent" title="hit region&#39;s parent">parent</dfn> for this
   one.</p></li>

   <li><p>A count of regions that have this one as their <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit region&#39;s parent">parent</a>, known as the <dfn id="hit-region&#39;s-child-count">hit
   region's child count</dfn>.</p></li>

   <li><p>A <dfn id="hit-region&#39;s-cursor-specification" title="hit region&#39;s cursor specification">cursor
   specification</dfn>, in the form of either a CSS cursor value, or
   the string "<code title="">inherit</code>" meaning that the cursor
   of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent">hit region's parent</a>, if any, or of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, if not, is to be used
   instead.</p></li>

   <li>

    <p>Optionally, either a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control" title="hit region&#39;s
    control">control</a>, or an <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-unbacked-region-description" title="hit region&#39;s unbacked
    region description">unbacked region description</a>.</p>

    <p>A <dfn id="hit-region&#39;s-control" title="hit region&#39;s control">control</dfn> is just a
    reference to an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#element">Element</a></code> node, to which, in certain
    conditions, the user agent will route events, and from which the
    user agent will determine the state of the hit region for the
    purposes of accessibility tools.</p>

    <p>An <dfn id="hit-region&#39;s-unbacked-region-description" title="hit region&#39;s unbacked region
    description">unbacked region description</dfn> consists of the
    following:</p>

    <ul class="brief"><li><p>Optionally, a <dfn id="hit-region&#39;s-label" title="hit region&#39;s
     label">label</dfn>.</p>

     </li><li><p>An <dfn id="hit-region&#39;s-aria-role" title="hit region&#39;s ARIA role">ARIA role</dfn>,
     which, if the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-unbacked-region-description" title="hit region&#39;s unbacked region
     description">unbacked region description</a> also has a label,
     could be the empty string.</p></li>

    </ul></li>

  </ul><dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-addHitRegion"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-addhitregion">addHitRegion</a></code>(<var title="">options</var>)</dt>

   <dd>

    <p>Adds a hit region to the canvas bitmap. The argument is an
    object with the following members:</p>

    <dl><dt><code title="dom-HitRegionOptions-path">path</code> (default null)

     </dt><dd>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#path">Path</a></code> object that describes the pixels that
     form part of the region. If this member is not provided or is set
     to null, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a> is used
     instead.</dd>
<!--
     <dt><code title="dom-HitRegionOptions-transform">transform</code> (default null)

     <dd>An <code>SVGMatrix</code> object that describes a
     transformation to apply to the path described by the <code
     title="dom-HitRegionOptions-path">path</code> member.</dd>
-->
     <dt><code title="dom-HitRegionOptions-id">id</code> (default empty string)

     </dt><dd>The ID to use for this region. This is used in
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mouseevent">MouseEvent</a></code> events on the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> (<code title="dom-MouseEvent-region"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mouseevent-region">event.region</a></code>) and as a way
     to reference this region in later calls to <code title="dom-context-2d-addHitRegion"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-addhitregion">addHitRegion()</a></code>.</dd>

     <dt><code title="dom-HitRegionOptions-parentID">parentID</code> (default null)

     </dt><dd>The ID of the parent region, for purposes of navigation by
     accessibility tools and for cursor fallback.</dd>

     <dt><code title="dom-HitRegionOptions-cursor">cursor</code> (default "<code title="">inherit</code>")

     </dt><dd>The cursor to use when the mouse is over this region. The
     value "<code title="">inherit</code>" means to use the cursor for
     the parent region (as specified by the <code title="dom-HitRegionOptions-parentID">parentID</code> member), if
     any, or to use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's cursor if the
     region has no parent.</dd>

     <dt><code title="dom-HitRegionOptions-control">control</code> (default null)

     </dt><dd>An element (that is a descendant of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>)
     to which events are to be routed, and which accessibility tools
     are to use as a surrogate for describing and interacting with
     this region.</dd>

     <dt><code title="dom-HitRegionOptions-label">label</code> (default null)

     </dt><dd>A text label for accessibility tools to use as a description
     of this region, if there is no control.</dd>

     <dt><code title="dom-HitRegionOptions-role">role</code> (default null)

     </dt><dd>An ARIA role for accessibility tools to use to determine how
     to represent this region, if there is no control.</dd>

    </dl><p>Hit regions can be used for a variety of purposes:</p>

    <ul><li>With an ID, they can make hit detection easier by having the
     user agent check which region the mouse is over and include the
     ID in the mouse events.</li>

     <li>With a control, they can make routing events to DOM elements
     automatic, allowing e.g. clicks on a canvas to automatically
     submit a form via a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code> element.</li>

     <li>With a label, they can make it easier for users to explore a
     canvas without seeing it, e.g. by touch on a mobile device.</li>

     <li>With a cursor, they can make it easier for different regions
     of the canvas to have different cursors, with the user agent
     automatically switching between them.</li>

    </ul></dd>

  </dl><div class="impl">

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> <var title="">A</var> is an
  <dfn id="ancestor-region">ancestor region</dfn> of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> <var title="">B</var> if <var title="">B</var> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit
  region&#39;s parent">parent</a> and its <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit region&#39;s
  parent">parent</a> is either <var title="">A</var> or another
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> for which <var title="">A</var> is an
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#ancestor-region">ancestor region</a>.</p>

  <p><dfn id="the-region-identified-by-the-id">The region identified by the ID</dfn> <var title="">ID</var> in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element <var title="">ancestor</var> is the value returned by the following
  algorithm (which can return a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> or
  nothing):</p>

  <ol><li><p>If <var title="">ID</var> is null, return nothing and abort
   these steps.</p></li>

   <li><p>Let <var title="">list</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region
   list</a> associated with <var title="">ancestor</var>'s
   bitmap.</p></li>

   <li><p>If there is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> in <var title="">list</var> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-id" title="hit region&#39;s ID">ID</a>
   is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a> match for <var title="">ID</var>,
   then return that <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> and abort these
   steps.</p></li>

   <li><p>Otherwise, return nothing.</p></li>

  </ol><p><dfn id="the-region-representing-the-control">The region representing the control</dfn> <var title="">control</var> for a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element <var title="">ancestor</var> is the value returned by the following
  algorithm (which can return a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> or
  nothing):</p>

  <ol><li><p>If <var title="">control</var> is not a descendant of <var title="">ancestor</var>, then return nothing and abort these
   steps.</p></li>

   <li><p>Let <var title="">list</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region
   list</a> associatd with <var title="">ancestor</var>'s
   bitmap.</p></li>

   <li><p>If there is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> in <var title="">list</var> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control" title="hit region&#39;s
   control">control</a> is <var title="">control</var>, then
   return that <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> and abort these
   steps.</p></li>

   <li><p>Otherwise, return nothing.</p></li>

  </ol><p><dfn id="the-control-represented-by-a-region">The control represented by a region</dfn> <var title="">region</var> for a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element <var title="">ancestor</var> is the value returned by the following
  algorithm (which can return an element or nothing):</p>

  <ol><li><p>If <var title="">region</var> has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control" title="hit
   region&#39;s control">control</a>, return nothing and abort these
   steps.</p></li>

   <li><p>Let <var title="">control</var> be <var title="">region</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control" title="hit region&#39;s
   control">control</a>.</p></li>

   <li><p>If <var title="">control</var> is not a descendant of <var title="">ancestor</var>, then return nothing and abort these
   steps.</p></li>

   <li><p>Otherwise, return <var title="">control</var>.</p></li>

  </ol><p><dfn id="the-cursor-for-a-hit-region">The cursor for a hit region</dfn> <var title="">region</var> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element <var title="">ancestor</var> is the value returned by the following
  algorithm:</p>

  <ol><li><p><i>Loop</i>: If <var title="">region</var> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-cursor-specification" title="hit region&#39;s cursor specification">cursor
   specification</a> other than "<code title="">inherit</code>",
   then return that <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-cursor-specification">hit region's cursor specification</a>
   and abort these steps.</p></li>

   <li><p>If <var title="">region</var> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit
   region&#39;s parent">parent</a>, then let <var title="">region</var> be that <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent">hit region's parent</a>,
   and return to the step labeled <i>loop</i>.</p></li>

   <li><p>Otherwise, return the used value of the 'cursor' property
   for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSUI">[CSSUI]</a></p></li>

  </ol><p><dfn id="the-region-for-a-pixel">The region for a pixel</dfn> <var title="">pixel</var> on a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element <var title="">ancestor</var> is the
  value returned by the following algorithm (which can return a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> or nothing):</p>

  <ol><li><p>Let <var title="">list</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region
   list</a> associatd with <var title="">ancestor</var>'s
   bitmap.</p></li>

   <li><p>If there is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> in <var title="">list</var> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-set-of-pixels" title="hit region&#39;s set of
   pixels">set of pixels</a> contains <var title="">pixel</var>,
   then return that <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> and abort these
   steps.</p></li>

   <li><p>Otherwise, return nothing.</p></li>

  </ol><p>To <dfn id="clear-regions-that-cover-the-pixels">clear regions that cover the pixels</dfn> <var title="">pixels</var> on a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element <var title="">ancestor</var>, the user agent must run the following
  steps:</p>

  <ol><li><p>Let <var title="">list</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region
   list</a> associatd with <var title="">ancestor</var>'s
   bitmap.</p></li>

   <li><p>Remove all pixels in <var title="">pixels</var> from the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-set-of-pixels" title="hit region&#39;s set of pixels">set of pixels</a> of
   each <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> in <var title="">list</var>.</p></li>

   <li><p><i>Loop</i>: Let <var title="">victim</var> be the first
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> in <var title="">list</var> to have an
   empty <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-set-of-pixels" title="hit region&#39;s set of pixels">set of
   pixels</a> and a zero <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-child-count" title="hit region&#39;s child
   count">child count</a>, if any. If there is no such <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit
   region</a>, abort these steps.</p></li>

   <li><p>If <var title="">victim</var> has a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit
   region&#39;s parent">parent</a>, then decrement that <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-child-count">hit
   region's child count</a> by one.</p></li>

   <li><p>Remove <var title="">victim</var> from <var title="">list</var>.</p></li>

   <li><p>Jump back to the step labeled <i>loop</i>.</p></li>

  </ol><p class="note">Adding a new region and calling <code title="dom-context-2d-clearRect"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-clearrect">clearRect()</a></code> are the two ways
  this clearing algorithm can be invoked. Resizing the canvas also
  clears the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region list</a> (since it clears the canvas
  back to its initial state).</p>

  <hr><p>When the <dfn id="dom-context-2d-addhitregion" title="dom-context-2d-addHitRegion"><code>addHitRegion()</code></dfn>
  method is invoked, the user agent must run the following steps:</p>

  <ol><li><p>Let <var title="">arguments</var> be the dictionary object
   provided as the method's argument.</p></li>

   <li><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-path">path</code> member is not null,
   let <var title="">source path</var> be the <code title="dom-HitRegionOptions-path">path</code> member's value.
   Otherwise, let it be the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvasrenderingcontext2d">CanvasRenderingContext2D</a></code>
   object's <a href="http://www.whatwg.org/specs/web-apps/current-work/#current-default-path">current default path</a>.</p></li>
<!--
   <li><p>If the <var title="">arguments</var> object's <code
   title="dom-HitRegionOptions-path">path</code> member is null, but
   the <code title="dom-HitRegionOptions-transform">transform</code>
   member is not, then throw a <code>NotSupportedError</code>
   exception and abort these steps.</p></li>

   <li><p>Transform all the coordinates and lines in <var
   title="">source path</var> by the transform matrix given by the
   <var title="">arguments</var> object's <code
   title="dom-HitRegionOptions-transform">transform</code> member, if
   it is not null.</p></li>
-->
   <li><p>Transform all the coordinates and lines in <var title="">source path</var> by the current transform matrix, if the
   <var title="">arguments</var> object's <code title="dom-HitRegionOptions-path">path</code> member is not
   null.</p></li>

   <li><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-id">id</code> member is the
   empty string, let it be null instead.</p></li>

   <li><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-id">id</code> member is not null, then
   let <var title="">previous region for this ID</var> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-region-identified-by-the-id">the
   region identified by the ID</a> given by the <code title="dom-HitRegionOptions-id">id</code> member's value in this
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, if any. If the <code title="dom-HitRegionOptions-id">id</code> member is null or no such
   region currently exists, let <var title="">previous region for this
   ID</var> be null.</p></li>

   <li><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-parent">parent</code> member is the
   empty string, let it be null instead.</p></li>

   <li><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-parent">parent</code> member is not
   null, then let <var title="">parent region</var> be <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-region-identified-by-the-id">the
   region identified by the ID</a> given by the <code title="dom-HitRegionOptions-parent">parent</code> member's value in
   this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, if any. If the <code title="dom-HitRegionOptions-parent">parent</code> member is null or
   no such region currently exists, let <var title="">parent
   region</var> be null.</p></li>

   <li><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-label">label</code> member is the
   empty string, let it be null instead.</p></li>

   <li>

    <p>If any of the following conditions are met, throw a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception and abort these
    steps.</p>

    <ul class="brief"><!--
     <li>The <var title="">arguments</var> object's <code
     title="dom-HitRegionOptions-path">path</code> member is null, but
     its <code title="dom-HitRegionOptions-transform">transform</code>
     member is not.</li>
--><li>The <var title="">arguments</var> object's <code title="dom-HitRegionOptions-control">control</code> and <code title="dom-HitRegionOptions-label">label</code> members are both
     non-null.</li>

     <li>The <var title="">arguments</var> object's <code title="dom-HitRegionOptions-control">control</code> and <code title="dom-HitRegionOptions-role">role</code> members are both
     non-null.</li>

     <li>The <var title="">arguments</var> object's <code title="dom-HitRegionOptions-role">role</code> member's value is
     the empty string, and the <code title="dom-HitRegionOptions-label">label</code> member's value is
     either null or the empty string.</li>

     <li>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#path">path</a> <var title="">source path</var>
     describes a shape with no pixels.</li>

     <li>The <var title="">arguments</var> object's <code title="dom-HitRegionOptions-control">control</code> member is not
     null but is neither an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-a-element">a</a></code> element that
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a>, a
     <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-button-element">button</a></code> element, an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element whose
     <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute is in one of
     the <a href="http://www.whatwg.org/specs/web-apps/current-work/#checkbox-state-(type=checkbox)" title="attr-input-type-checkbox">Checkbox</a> or
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#radio-button-state-(type=radio)" title="attr-input-type-radio">Radio Button</a> states,
     nor an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element that is a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-button" title="concept-button">button</a>.</li>

     <li>The <var title="">parent region</var> is not null but has a
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control" title="hit region&#39;s control">control</a>.</li>

     <li>The <var title="">previous region for this ID</var> is the
     same <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> as the <var title="">parent
     region</var>.</li>

     <li>The <var title="">previous region for this ID</var> is an
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#ancestor-region">ancestor region</a> of the <var title="">parent
     region</var>.</li>

    </ul></li>

   <li><p>If the <code title="dom-HitRegionOptions-parent">parent</code> member is not
   null but <var title="">parent region</var> is null, then throw a
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notfounderror">NotFoundError</a></code> exception and abort these
   steps.</p></li>

   <li>

    <p>If any of the following conditions are met, throw a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#syntaxerror">SyntaxError</a></code> exception and abort these
    steps.</p>

    <ul class="brief"><li>The <var title="">arguments</var> object's <code title="dom-HitRegionOptions-cursor">cursor</code> member is not
     null but is neither an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">ASCII case-insensitive</a> match
     for the string "<code title="">inherit</code>", nor a valid CSS
     'cursor' property value. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSUI">[CSSUI]</a></li>

     <li>The <var title="">arguments</var> object's <code title="dom-HitRegionOptions-role">role</code> member is not null
     but its value is not an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ordered-set-of-unique-space-separated-tokens">ordered set of unique
     space-separated tokens</a> whose tokens are all
     <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a> matches for names of non-abstract
     WAI-ARIA roles. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsARIA">[ARIA]</a></li>

    </ul></li>

   <li>

    <p>Let <var title="">region</var> be a newly created <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit
    region</a>, with its information configured as follows:</p>

    <dl><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-set-of-pixels">Hit region's set of pixels</a>

     </dt><dd><p>The pixels contained in <var title="">source path</var>.


     </p></dd><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-bounding-circumference">Hit region's bounding circumference</a>

     </dt><dd><p>A user-agent-defined shape that wraps the pixels contained
     in <var title="">source path</var>. (In the simplest case, this
     can just be the bounding rectangle; this specification allows it
     to be any shape in order to allow other interfaces.)


     </p></dd><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-id">Hit region's ID</a>

     </dt><dd><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-id">id</code> member is not null: the
     value of the <code title="dom-HitRegionOptions-id">id</code>
     member. Otherwise, <var title="">region</var> has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-id" title="hit region&#39;s id">id</a>.


     </p></dd><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent">Hit region's parent</a>

     </dt><dd><p>If <var title="">parent region</var> is not null: <var title="">parent region</var>. Otherwise, <var title="">region</var> has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit region&#39;s
     parent">parent</a>.


     </p></dd><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-child-count">Hit region's child count</a>

     </dt><dd><p>Initially zero.


     </p></dd><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-cursor-specification">Hit region's cursor specification</a>

     </dt><dd><p>If <var title="">parent region</var> is not null: <var title="">parent region</var>. Otherwise, <var title="">region</var> has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit region&#39;s
     parent">parent</a>.


     </p></dd><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control">Hit region's control</a>

     </dt><dd><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-control">control</code> member is not
     null: the value of the <code title="dom-HitRegionOptions-control">control</code> member.
     Otherwise, <var title="">region</var> has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control" title="hit
     region&#39;s control">control</a>.


     </p></dd><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-label">Hit region's label</a>

     </dt><dd><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-label">label</code> member is not
     null: the value of the <code title="dom-HitRegionOptions-label">label</code> member.
     Otherwise, <var title="">region</var> has no <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-label" title="hit
     region&#39;s label">label</a>.


     </p></dd><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-aria-role">Hit region's ARIA role</a>

     </dt><dd><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-role">role</code> member is not null:
     the value of the <code title="dom-HitRegionOptions-role">role</code> member (which might
     be the empty string). Otherwise, if the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-label">label</code> member is not
     null: the empty string. Otherwise, <var title="">region</var> has
     no <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-aria-role" title="hit region&#39;s ARIA role">ARIA role</a>.


    </p></dd></dl></li>

   <li>

    <p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-cursor">cursor</code> member is not
    null, then act as if a CSS rule for the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>
    element setting its 'cursor' property had been seen, whose value
    was the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-cursor-specification">hit region's cursor specification</a>.</p>

    <p class="note">For example, if the user agent prefetches cursor
    values, this would cause that to happen in response to an
    appropriately-formed <code title="dom-context-2d-addHitRegion"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-addhitregion">addHitRegion()</a></code>
    call.</p>

   </li>

   <li><p>If the <var title="">arguments</var> object's <code title="dom-HitRegionOptions-control">control</code> member is not
   null, then let <var title="">previous region for the control</var>
   be <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-region-representing-the-control">the region representing the control</a> given by the
   <code title="dom-HitRegionOptions-control">control</code> member's
   value for this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, if any. If the <code title="dom-HitRegionOptions-control">control</code> member is null
   or no such region currently exists, let <var title="">previous
   region for the control</var> be null.</p></li>

   <!-- the parent region can't have a control, because no region with
   a control can be a parent - we check for that above. Thus, it is
   safe to remove the previous region for the control without worrying
   that our parent is going to be affected.

   It's also safe to remove the previous region with this ID and all
   its descendants, as we know that our parent isn't part of that
   subtree. -->

   <li><p>If there is a <var title="">previous region with this
   control</var>, remove it from the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region list</a>; then, if it had a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit
   region&#39;s parent">parent</a> region, decrement that <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-child-count">hit
   region's child count</a> by one.</p></li> <!-- we garbage
   collect the regions below -->

   <li><p>If there is a <var title="">previous region with this
   ID</var>, remove it, and all <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region" title="hit region">hit
   regions</a> for which it is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#ancestor-region">ancestor region</a>,
   from the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region
   list</a>; then, if it had a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit region&#39;s
   parent">parent</a> region, decrement that <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-child-count">hit region's
   child count</a> by one.</p></li> <!-- we garbage collect the
   regions below -->

   <li><p>If there is a <var title="">parent region</var>, increment
   its <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-child-count">hit region's child count</a> by one.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#clear-regions-that-cover-the-pixels">Clear regions that cover the pixels</a> in <var title="">region</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-set-of-pixels" title="hit region&#39;s set of
   pixels">set of pixels</a> on this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>
   element.</p></li> <!-- this is what garbage collects the earlier
   regions -->

   <li><p>Add <var title="">region</var> to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>
   element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region list</a>.</p></li>

  </ol></div>

  <hr><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mouseevent">MouseEvent</a></code> interface is extended to support hit
  regions:</p>

  <pre class="idl">partial interface <a href="http://www.whatwg.org/specs/web-apps/current-work/#mouseevent">MouseEvent</a> {
  readonly attribute DOMString? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mouseevent-region" title="dom-MouseEvent-region">region</a>;
};

partial dictionary <a href="http://www.whatwg.org/specs/web-apps/current-work/#mouseeventinit">MouseEventInit</a> {
  DOMString? region;
};</pre>

  <dl class="domintro"><dt><var title="">event</var> . <code title="dom-MouseEvent-region"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mouseevent-region">region</a></code></dt>

   <dd>

    <p>If the mouse was over a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a>, then this returns the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-id">hit region's ID</a>, if it has one.</p>

    <p>Otherwise, returns null.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-mouseevent-region" title="dom-MouseEvent-region"><code>region</code></dfn>
  attribute on <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mouseevent">MouseEvent</a></code> objects must return the value
  it was initialized to. When the object is created, this attribute
  must be initialized to null. It represents the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-id">hit region's
  ID</a> if the mouse was over a hit region when the event was
  fired.</p>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#mouseevent">MouseEvent</a></code> is to be fired at a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element by the user agent in response to a
  pointing device action, the user agent must instead follow these
  steps. If these steps say to <i>act as normal</i>, that means that
  the event must be fired as it would have had these requirements not
  been applied.</p>

  <ol><li><p>If the pointing device is not indicating a pixel on the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>, act as normal and abort these steps.</p></li>

   <li><p>Let <var title="">pixel</var> be the pixel indicated by the
   pointing device.</p></li>

   <li><p>Let <var title="">region</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit
   region</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-region-for-a-pixel" title="the region for a pixel">the
   region for the pixel</a> <var title="">pixel</var> on this
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, if any.</p></li>

   <li><p>If there is no <var title="">region</var>, then act as
   normal and abort these steps.</p></li>

   <li><p>Let <var title="">id</var> be the <var title="">region</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-id" title="hit region&#39;s ID">ID</a>, if
   any.</p></li>

   <li><p>If there is an <var title="">id</var>, then initialize the
   event object's <code title="dom-MouseEvent-region"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-mouseevent-region">region</a></code>
   attribute to <var title="">id</var>.</p></li>

   <li><p>Let <var title="">control</var> be the <var title="">region</var>'s <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control" title="hit region&#39;s
   control">control</a>, if any.</p></li>

   <li><p>If there is a <var title="">control</var>, then target the
   event object at <var title="">control</var> instead of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element.</p></li>

   <li><p>Continue dispatching the event, but with the updated event
   object and target as given in the above steps.</p></li>

  </ol><hr><p>When a user's pointing device cursor is positioned over a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, user agents should render the pointing
  device cursor according to the cursor specification described by
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-cursor-for-a-hit-region" title="the cursor for a hit region">the cursor for the hit
  region</a> that is <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-region-for-a-pixel" title="the region for a pixel">the
  region for the pixel</a> that the pointing device designates.</p>

  <hr><p>User agents are encouraged to make use of the information present
  in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region-list">hit region list</a> to
  improve the accessibility of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> elements.</p>

  <p>Each <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> should be handled in a fashion
  equivalent to a node in a virtual DOM tree rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element. The hierarchy of this virtual DOM tree
  must match the hierarchy of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region" title="hit region">hit
  regions</a>, as described by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit region&#39;s
  parent">parent</a> of each region. Regions without a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-parent" title="hit region&#39;s parent">parent</a> must be treated as
  children of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element for the purpose of this
  virtual DOM tree. For each node in such a DOM tree, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-bounding-circumference">hit
  region's bounding circumference</a> gives the region of the
  screen to use when representing the node (if appropriate).</p>

  <p>The semantics of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> for the purposes of
  this virtual DOM tree are those of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control">hit region's
  control</a>, if it has one, or else of a non-interactive element
  whose ARIA role, if any, is that given by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-aria-role">hit region's
  ARIA role</a>, and whose textual representation, if any, is given
  by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-label">hit region's label</a>.</p>

  <p>For the purposes of accessibility tools, when an element <var title="">C</var> is a descendant of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element
  and there is <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-region-representing-the-control" title="the region representing the control">a
  region representing the control</a> <var title="">C</var> for that
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element, then the element's position relative to
  the document should be presented as if it was that region in the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's virtual DOM tree.</p>

  <p>The semantics of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region">hit region</a> for the purposes of
  this virtual DOM tree are those of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-control">hit region's
  control</a>, if it has one, or else of a non-interactive element
  whose ARIA role, if any, is that given by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-aria-role">hit region's
  ARIA role</a>, and whose textual representation, if any, is given
  by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-label">hit region's label</a>.</p>

  <p class="note">Thus, for instance, a user agent on a touch-screen
  device could provide haptic feedback when the user croses over a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-bounding-circumference">hit region's bounding circumference</a>, and then read the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-label">hit region's label</a> to the user. Similarly, a desktop
  user agent with a virtual accessibility focus separate from the
  keyboard input focus could allow the user to navigate through the
  hit regions, using the virtual DOM tree described above to enable
  hierarchical navigation. When an interactive control inside the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element is focused, if the control has a
  corresponding region, then that <a href="http://www.whatwg.org/specs/web-apps/current-work/#hit-region's-bounding-circumference">hit region's bounding
  circumference</a> could be used to determine what area of the
  display to magnify.</p>

  </div>


  <h6 id="pixel-manipulation"><span class="secno">4.8.11.1.14 </span><dfn>Pixel manipulation</dfn></h6>

  <dl class="domintro"><dt><var title="">imagedata</var> = <var title="">context</var> . <code title="dom-context-2d-createImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createimagedata">createImageData</a></code>(<var title="">sw</var>, <var title="">sh</var>)</dt>

   <dd>

    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object with the given
    dimensions in CSS pixels (which might map to a different number of
    actual device pixels exposed by the object itself). All the pixels
    in the returned object are transparent black.</p>

   </dd>

   <dt><var title="">imagedata</var> = <var title="">context</var> . <code title="dom-context-2d-createImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createimagedata">createImageData</a></code>(<var title="">imagedata</var>)</dt>

   <dd>

    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object with the same
    dimensions as the argument. All the pixels in the returned object
    are transparent black.</p>

   </dd>

   <dt><var title="">imagedata</var> = <var title="">context</var> . <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData</a></code>(<var title="">sx</var>, <var title="">sy</var>, <var title="">sw</var>, <var title="">sh</var>)</dt>

   <dd>

    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object containing the image
    data for the given rectangle of the canvas.</p>

    <p>Throws a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception if any of the
    arguments are not finite. Throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code>
    exception if the either of the width or height arguments are
    zero.</p>

   </dd>

   <dt><var title="">imagedata</var> . <code title="dom-imagedata-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-width">width</a></code></dt>
   <dt><var title="">imagedata</var> . <code title="dom-imagedata-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-height">height</a></code></dt>

   <dd>

    <p>Returns the actual dimensions of the data in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object, in device pixels.</p>

   </dd>

   <dt><var title="">imagedata</var> . <code title="dom-imagedata-data"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-data">data</a></code></dt>

   <dd>

    <p>Returns the one-dimensional array containing the data in RGBA order, as integers in the range 0 to 255.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-putImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-putimagedata">putImageData</a></code>(<var title="">imagedata</var>, <var title="">dx</var>, <var title="">dy</var> [, <var title="">dirtyX</var>, <var title="">dirtyY</var>, <var title="">dirtyWidth</var>, <var title="">dirtyHeight</var> ])</dt>

   <dd>

    <p>Paints the data from the given <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object
    onto the canvas. If a dirty rectangle is provided, only the pixels
    from that rectangle are painted.</p>

    <p>The <code title="dom-context-2d-globalAlpha"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha">globalAlpha</a></code>
    and <code title="dom-context-2d-globalCompositeOperation"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation">globalCompositeOperation</a></code>
    attributes, as well as the shadow attributes, are ignored for the
    purposes of this method call; pixels in the canvas are replaced
    wholesale, with no composition, alpha blending, no shadows,
    etc.</p>

    <p>Throws a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception if any of the
    arguments are not finite.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-context-2d-createimagedata" title="dom-context-2d-createImageData"><code>createImageData()</code></dfn>
  method is used to instantiate new blank <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code>
  objects. When the method is invoked with two arguments <var title="">sw</var> and <var title="">sh</var>, it must return an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object representing a rectangle with a width
  in CSS pixels equal to the absolute magnitude of <var title="">sw</var> and a height in CSS pixels equal to the absolute
  magnitude of <var title="">sh</var>. When invoked with a single <var title="">imagedata</var> argument, it must return an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object representing a rectangle with the same
  dimensions as the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object passed as the
  argument. The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object returned must be filled
  with transparent black.</p>

  <p>The <dfn id="dom-context-2d-getimagedata" title="dom-context-2d-getImageData"><code>getImageData(<var title="">sx</var>, <var title="">sy</var>, <var title="">sw</var>,
  <var title="">sh</var>)</code></dfn> method must,
<!--ADD-TOPIC:Security-->
  if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element's <i>origin-clean</i> flag is set
  to false, throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code> exception; otherwise, it
<!--REMOVE-TOPIC:Security-->
  must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object representing the
  underlying pixel data for the area of the canvas denoted by the
  rectangle whose corners are the four points (<var title="">sx</var>,
  <var title="">sy</var>), (<span title=""><var title="">sx</var>+<var title="">sw</var></span>, <var title="">sy</var>), (<span title=""><var title="">sx</var>+<var title="">sw</var></span>, <span title=""><var title="">sy</var>+<var title="">sh</var></span>),
  (<var title="">sx</var>, <span title=""><var title="">sy</var>+<var title="">sh</var></span>), in canvas coordinate space units. Pixels
  outside the canvas must be returned as transparent black. Pixels
  must be returned as non-premultiplied alpha values.</p>

  <p>If any of the arguments to <code title="dom-context-2d-createImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-createimagedata">createImageData()</a></code> or
  <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData()</a></code>
  are infinite or NaN, the method must instead throw a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception. If either the <var title="">sw</var> or <var title="">sh</var> arguments are zero,
  the method must instead throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code>
  exception.</p>

  <p><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> objects must be initialized so that their
  <dfn id="dom-imagedata-width" title="dom-imagedata-width"><code>width</code></dfn> attribute
  is set to <var title="">w</var>, the number of physical device
  pixels per row in the image data, their <dfn id="dom-imagedata-height" title="dom-imagedata-height"><code>height</code></dfn> attribute is
  set to <var title="">h</var>, the number of rows in the image data,
  and their <dfn id="dom-imagedata-data" title="dom-imagedata-data"><code>data</code></dfn>
  attribute is initialized to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#uint8clampedarray">Uint8ClampedArray</a></code> object.
  The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#uint8clampedarray">Uint8ClampedArray</a></code> object must use a <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvas-pixel-arraybuffer">Canvas
  Pixel <code>ArrayBuffer</code></a> for its storage, and must have
  a zero start offset and a length equal to the length of its storage,
  in bytes. The <a href="http://www.whatwg.org/specs/web-apps/current-work/#canvas-pixel-arraybuffer">Canvas Pixel <code>ArrayBuffer</code></a>
  must contain the image data. At least one pixel's worth of image
  data must be returned. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsTYPEDARRAY">[TYPEDARRAY]</a></p>

  <p>A <dfn id="canvas-pixel-arraybuffer">Canvas Pixel <code>ArrayBuffer</code></dfn> is an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#arraybuffer">ArrayBuffer</a></code> that whose data is represented in
  left-to-right order, row by row top to bottom, starting with the top
  left, with each pixel's red, green, blue, and alpha components being
  given in that order for each pixel. Each component of each device
  pixel represented in this array must be in the range 0..255,
  representing the 8 bit value for that component. The components must
  be assigned consecutive indices starting with 0 for the top left
  pixel's red component. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsTYPEDARRAY">[TYPEDARRAY]</a></p>

  <p>The <dfn id="dom-context-2d-putimagedata" title="dom-context-2d-putImageData"><code>putImageData(<var title="">imagedata</var>, <var title="">dx</var>, <var title="">dy</var>, <var title="">dirtyX</var>, <var title="">dirtyY</var>, <var title="">dirtyWidth</var>, <var title="">dirtyHeight</var>)</code></dfn> method writes data from
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> structures back to the canvas.</p>

  <p>If any of the arguments to the method are infinite or NaN, the
  method must throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#notsupportederror">NotSupportedError</a></code> exception.</p>

  <p>When the last four arguments are omitted, they must be assumed to
  have the values 0, 0, the <code title="dom-imagedata-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-width">width</a></code> member of the <var title="">imagedata</var> structure, and the <code title="dom-imagedata-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-height">height</a></code> member of the <var title="">imagedata</var> structure, respectively.</p>

  <p>When invoked with arguments that do not, per the last few
  paragraphs, cause an exception to be thrown, the <code title="dom-context-2d-putImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-putimagedata">putImageData()</a></code> method
  must act as follows:</p>

  <ol><li>

    <p>Let <var title="">dx<sub>device</sub></var> be the x-coordinate
    of the device pixel in the underlying pixel data of the canvas
    corresponding to the <var title="">dx</var> coordinate in the
    canvas coordinate space.</p>

    <p>Let <var title="">dy<sub>device</sub></var> be the y-coordinate
    of the device pixel in the underlying pixel data of the canvas
    corresponding to the <var title="">dy</var> coordinate in the
    canvas coordinate space.</p>

   </li>

   <li>

    <p>If <var title="">dirtyWidth</var> is negative, let <var title="">dirtyX</var> be <span title=""><var title="">dirtyX</var>+<var title="">dirtyWidth</var></span>, and let <var title="">dirtyWidth</var> be equal to the absolute magnitude of
    <var title="">dirtyWidth</var>.</p>

    <p>If <var title="">dirtyHeight</var> is negative, let <var title="">dirtyY</var> be <span title=""><var title="">dirtyY</var>+<var title="">dirtyHeight</var></span>, and let <var title="">dirtyHeight</var> be equal to the absolute magnitude of
    <var title="">dirtyHeight</var>.</p>

   </li>

   <li>

    <p>If <var title="">dirtyX</var> is negative, let <var title="">dirtyWidth</var> be <span title=""><var title="">dirtyWidth</var>+<var title="">dirtyX</var></span>, and
    let <var title="">dirtyX</var> be zero.</p>

    <p>If <var title="">dirtyY</var> is negative, let <var title="">dirtyHeight</var> be <span title=""><var title="">dirtyHeight</var>+<var title="">dirtyY</var></span>, and
    let <var title="">dirtyY</var> be zero.</p>

   </li>

   <li>

    <p>If <span title=""><var title="">dirtyX</var>+<var title="">dirtyWidth</var></span> is greater than the <code title="dom-imagedata-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-width">width</a></code> attribute of the <var title="">imagedata</var> argument, let <var title="">dirtyWidth</var> be the value of that <code title="dom-imagedata-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-width">width</a></code> attribute, minus the
    value of <var title="">dirtyX</var>.</p>

    <p>If <span title=""><var title="">dirtyY</var>+<var title="">dirtyHeight</var></span> is greater than the <code title="dom-imagedata-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-height">height</a></code> attribute of the <var title="">imagedata</var> argument, let <var title="">dirtyHeight</var> be the value of that <code title="dom-imagedata-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-imagedata-height">height</a></code> attribute, minus the
    value of <var title="">dirtyY</var>.</p>

   </li>

   <li>

    <p>If, after those changes, either <var title="">dirtyWidth</var>
    or <var title="">dirtyHeight</var> is negative or zero, stop these
    steps without affecting the canvas.</p>

   </li>

   <li><p>Otherwise, for all integer values of <var title="">x</var>
   and <var title="">y</var> where <span title=""><var title="">dirtyX</var>&nbsp;≤&nbsp;<var title="">x</var>&nbsp;&lt;&nbsp;<span title=""><var title="">dirtyX</var>+<var title="">dirtyWidth</var></span></span>
   and <span title=""><var title="">dirtyY</var>&nbsp;≤&nbsp;<var title="">y</var>&nbsp;&lt;&nbsp;<span title=""><var title="">dirtyY</var>+<var title="">dirtyHeight</var></span></span>, copy the four channels of
   the pixel with coordinate (<var title="">x</var>, <var title="">y</var>) in the <var title="">imagedata</var> data
   structure to the pixel with coordinate (<span title=""><var title="">dx<sub>device</sub></var>+<var title="">x</var></span>,
   <span title=""><var title="">dy<sub>device</sub></var>+<var title="">y</var></span>) in the underlying pixel data of the
   canvas.</p></li>

  </ol><p>The handling of pixel rounding when the specified coordinates do
  not exactly map to the device coordinate space is not defined by
  this specification, except that the following must result in no
  visible changes to the rendering:</p>

  <pre>context.putImageData(context.getImageData(x, y, w, h), p, q);</pre>

  <p>...for any value of <var title="">x</var>, <var title="">y</var>,
  <var title="">w</var>, and <var title="">h</var> and where <var title="">p</var> is the smaller of <var title="">x</var> and the sum
  of <var title="">x</var> and <var title="">w</var>, and <var title="">q</var> is the smaller of <var title="">y</var> and the sum
  of <var title="">y</var> and <var title="">h</var>; and except that
  the following two calls:</p>

  <pre>context.createImageData(w, h);
context.getImageData(0, 0, w, h);</pre>

  <p>...must return <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> objects with the same
  dimensions, for any value of <var title="">w</var> and <var title="">h</var>. In other words, while user agents may round the
  arguments of these methods so that they map to device pixel
  boundaries, any rounding performed must be performed consistently
  for all of the <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">createImageData()</a></code>, <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData()</a></code> and <code title="dom-context-2d-putImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-putimagedata">putImageData()</a></code>
  operations.</p>

  <p class="note">This implies that the data returned by <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData()</a></code> is at the
  resolution of the canvas backing store. This is likely to not be one
  device pixel to each CSS pixel if the display used is a high
  resolution display.</p>

  <p class="note">Due to the lossy nature of converting to and from
  premultiplied alpha color values, pixels that have just been set
  using <code title="dom-context-2d-putImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-putimagedata">putImageData()</a></code> might be
  returned to an equivalent <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData()</a></code> as
  different values.</p>

  <p>The current path, <a href="http://www.whatwg.org/specs/web-apps/current-work/#transformations" title="dom-context-2d-transformation">transformation matrix</a>,
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#shadows" title="shadows">shadow attributes</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha" title="dom-context-2d-globalAlpha">global alpha</a>, the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation" title="dom-context-2d-globalCompositeOperation">global composition
  operator</a> must not affect the <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData()</a></code> and <code title="dom-context-2d-putImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-putimagedata">putImageData()</a></code>
  methods.</p>

  </div>

  <div class="example">

   <p>In the following example, the script generates an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#imagedata">ImageData</a></code> object so that it can draw onto it.</p>

   <pre>// canvas is a reference to a &lt;canvas&gt; element
var context = canvas.getContext('2d');

// create a blank slate
var data = context.createImageData(canvas.width, canvas.height);

// create some plasma
FillPlasma(data, 'green'); // green plasma

// add a cloud to the plasma
AddCloud(data, data.width/2, data.height/2); // put a cloud in the middle

// paint the plasma+cloud on the canvas
context.putImageData(data, 0, 0);

// support methods
function FillPlasma(data, color) { ... }
function AddCloud(data, x, y) { ... }</pre>

  </div>

  <div class="example">

   <p>Here is an example of using <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData()</a></code> and <code title="dom-context-2d-putImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-putimagedata">putImageData()</a></code> to
   implement an edge detection filter.</p>

   <pre>&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Edge detection demo&lt;/title&gt;
  &lt;script&gt;
   var image = new Image();
   function init() {
     image.onload = demo;
     image.src = "image.jpeg";
   }
   function demo() {
     var canvas = document.getElementsByTagName('canvas')[0];
     var context = canvas.getContext('2d');

     // draw the image onto the canvas
     context.drawImage(image, 0, 0);

     // get the image data to manipulate
     var input = context.getImageData(0, 0, canvas.width, canvas.height);

     // get an empty slate to put the data into
     var output = context.createImageData(canvas.width, canvas.height);

     // alias some variables for convenience
     // notice that we are using input.width and input.height here
     // as they might not be the same as canvas.width and canvas.height
     // (in particular, they might be different on high-res displays)
     var w = input.width, h = input.height;
     var inputData = input.data;
     var outputData = output.data;

     // edge detection
     for (var y = 1; y &lt; h-1; y += 1) {
       for (var x = 1; x &lt; w-1; x += 1) {
         for (var c = 0; c &lt; 3; c += 1) {
           var i = (y*w + x)*4 + c;
           outputData[i] = 127 + -inputData[i - w*4 - 4] -   inputData[i - w*4] - inputData[i - w*4 + 4] +
                                 -inputData[i - 4]       + 8*inputData[i]       - inputData[i + 4] +
                                 -inputData[i + w*4 - 4] -   inputData[i + w*4] - inputData[i + w*4 + 4];
         }
         outputData[(y*w + x)*4 + 3] = 255; // alpha
       }
     }

     // put the image data back after manipulation
     context.putImageData(output, 0, 0);
   }
  &lt;/script&gt;
 &lt;/head&gt;
 &lt;body onload="init()"&gt;
  &lt;canvas&gt;&lt;/canvas&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  </div>




  <h6 id="compositing"><span class="secno">4.8.11.1.15 </span>Compositing</h6>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-globalAlpha"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha">globalAlpha</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current alpha value applied to rendering operations.</p>

    <p>Can be set, to change the alpha value. Values outside of the
    range 0.0 .. 1.0 are ignored.</p>

   </dd>


   <dt><var title="">context</var> . <code title="dom-context-2d-globalCompositeOperation"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation">globalCompositeOperation</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current composition operation, from the list below.</p>

    <p>Can be set, to change the composition operation. Unknown values
    are ignored.</p>

   </dd>

  </dl><div class="impl">

  <p>All drawing operations are affected by the global compositing
  attributes, <code title="dom-context-2d-globalAlpha"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha">globalAlpha</a></code> and <code title="dom-context-2d-globalCompositeOperation"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation">globalCompositeOperation</a></code>.</p>

  <!-- conformance criteria for painting are described in the "drawing
  model" section below -->

  <p>The <dfn id="dom-context-2d-globalalpha" title="dom-context-2d-globalAlpha"><code>globalAlpha</code></dfn>
  attribute gives an alpha value that is applied to shapes and images
  before they are composited onto the canvas. The value must be in the
  range from 0.0 (fully transparent) to 1.0 (no additional
  transparency). If an attempt is made to set the attribute to a value
  outside this range, including Infinity and Not-a-Number (NaN)
  values, the attribute must retain its previous value. When the
  context is created, the <code title="dom-context-2d-globalAlpha"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha">globalAlpha</a></code> attribute must
  initially have the value 1.0.</p>

  <p>The <dfn id="dom-context-2d-globalcompositeoperation" title="dom-context-2d-globalCompositeOperation"><code>globalCompositeOperation</code></dfn>
  attribute sets how shapes and images are drawn onto the existing
  bitmap, once they have had <code title="dom-context-2d-globalAlpha"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha">globalAlpha</a></code> and the
  current transformation matrix applied. It must be set to a value
  from the following list. In the descriptions below, the source
  image, <var title="">A</var>, is the shape or image being rendered,
  and the destination image, <var title="">B</var>, is the current
  state of the bitmap.</p>

  </div>

  <dl><dt><dfn id="gcop-source-atop" title="gcop-source-atop"><code>source-atop</code></dfn></dt>

   <dd><var title="">A</var> atop <var title="">B</var>. <span class="note">Display the
   source image wherever both images are opaque. Display the
   destination image wherever the destination image is opaque but the
   source image is transparent. Display transparency elsewhere.</span></dd>

   <dt><dfn id="gcop-source-in" title="gcop-source-in"><code>source-in</code></dfn></dt>

   <dd><var title="">A</var> in <var title="">B</var>. <span class="note">Display the
   source image wherever both the source image and destination image
   are opaque. Display transparency elsewhere.</span></dd>

   <dt><dfn id="gcop-source-out" title="gcop-source-out"><code>source-out</code></dfn></dt>

   <dd><var title="">A</var> out <var title="">B</var>. <span class="note">Display the
   source image wherever the source image is opaque and the
   destination image is transparent. Display transparency
   elsewhere.</span></dd>

   <dt><dfn id="gcop-source-over" title="gcop-source-over"><code>source-over</code></dfn> (default)</dt>

   <dd><var title="">A</var> over <var title="">B</var>. <span class="note">Display the
   source image wherever the source image is opaque. Display the
   destination image elsewhere.</span></dd>


   <dt><dfn id="gcop-destination-atop" title="gcop-destination-atop"><code>destination-atop</code></dfn></dt>

   <dd><var title="">B</var> atop <var title="">A</var>. <span class="note">Same as <code title="gcop-source-atop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#gcop-source-atop">source-atop</a></code> but using the
   destination image instead of the source image and vice versa.</span></dd>

   <dt><dfn id="gcop-destination-in" title="gcop-destination-in"><code>destination-in</code></dfn></dt>

   <dd><var title="">B</var> in <var title="">A</var>. <span class="note">Same as <code title="gcop-source-in"><a href="http://www.whatwg.org/specs/web-apps/current-work/#gcop-source-in">source-in</a></code> but using the destination
   image instead of the source image and vice versa.</span></dd>

   <dt><dfn id="gcop-destination-out" title="gcop-destination-out"><code>destination-out</code></dfn></dt>

   <dd><var title="">B</var> out <var title="">A</var>. <span class="note">Same as <code title="gcop-source-out"><a href="http://www.whatwg.org/specs/web-apps/current-work/#gcop-source-out">source-out</a></code> but using the destination
   image instead of the source image and vice versa.</span></dd>

   <dt><dfn id="gcop-destination-over" title="gcop-destination-over"><code>destination-over</code></dfn></dt>

   <dd><var title="">B</var> over <var title="">A</var>. <span class="note">Same as <code title="gcop-source-over"><a href="http://www.whatwg.org/specs/web-apps/current-work/#gcop-source-over">source-over</a></code> but using the
   destination image instead of the source image and vice versa.</span></dd>


<!-- no clear definition of this operator (doesn't correspond to a PorterDuff operator)
   <dt><dfn title="gcop-darker"><code>darker</code></dfn></dt>

   <dd><span class="note">Display the sum of the source image and destination image,
   with color values approaching 0 as a limit.</span></dd>
-->

   <dt><dfn id="gcop-lighter" title="gcop-lighter"><code>lighter</code></dfn></dt>

   <dd><var title="">A</var> plus <var title="">B</var>. <span class="note">Display the
   sum of the source image and destination image, with color values
   approaching 255 (100%) as a limit.</span></dd>


   <dt><dfn id="gcop-copy" title="gcop-copy"><code>copy</code></dfn></dt>

   <dd><var title="">A</var> (<var title="">B</var> is
   ignored). <span class="note">Display the source image instead of the destination
   image.</span></dd>


   <dt><dfn id="gcop-xor" title="gcop-xor"><code>xor</code></dfn></dt>

   <dd><var title="">A</var> xor <var title="">B</var>. <span class="note">Exclusive OR
   of the source image and destination image.</span></dd>


   <dt class="impl"><code><var title="">vendorName</var>-<var title="">operationName</var></code></dt>

   <dd class="impl">Vendor-specific extensions to the list of
   composition operators should use this syntax.</dd>

  </dl><div class="impl">

  <p>The operators in the above list must be treated as described by
  the Porter-Duff operator given at the start of their description
  (e.g. <var title="">A</var> over <var title="">B</var>). They are to
  be applied as part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#drawing-model">drawing model</a>, at which point the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a> is also applied. (Without a clipping
  region, these operators act on the whole bitmap with every
  operation.) <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsPORTERDUFF">[PORTERDUFF]</a></p>

  <p>These values are all case-sensitive — they must be used
  exactly as shown. User agents must not recognize values that are not
  a <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a> match for one of the values given
  above.</p>

  <p>On setting, if the user agent does not recognize the specified
  value, it must be ignored, leaving the value of <code title="dom-context-2d-globalCompositeOperation"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation">globalCompositeOperation</a></code>
  unaffected.</p>

  <p>When the context is created, the <code title="dom-context-2d-globalCompositeOperation"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalcompositeoperation">globalCompositeOperation</a></code>
  attribute must initially have the value
  <code>source-over</code>.</p>

  </div>




  <h6 id="shadows"><span class="secno">4.8.11.1.16 </span><dfn>Shadows</dfn></h6>

  <p>All drawing operations are affected by the four global shadow
  attributes.</p>

  <dl class="domintro"><dt><var title="">context</var> . <code title="dom-context-2d-shadowColor"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowcolor">shadowColor</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current shadow color.</p>

    <p>Can be set, to change the shadow color. Values that cannot be parsed as CSS colors are ignored.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-shadowOffsetX"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsetx">shadowOffsetX</a></code> [ = <var title="">value</var> ]</dt>
   <dt><var title="">context</var> . <code title="dom-context-2d-shadowOffsetY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsety">shadowOffsetY</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current shadow offset.</p>

    <p>Can be set, to change the shadow offset. Values that are not finite numbers are ignored.</p>

   </dd>

   <dt><var title="">context</var> . <code title="dom-context-2d-shadowBlur"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowblur">shadowBlur</a></code> [ = <var title="">value</var> ]</dt>

   <dd>

    <p>Returns the current level of blur applied to shadows.</p>

    <p>Can be set, to change the blur level. Values that are not finite numbers greater than or equal to zero are ignored.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-context-2d-shadowcolor" title="dom-context-2d-shadowColor"><code>shadowColor</code></dfn>
  attribute sets the color of the shadow.</p>

  <p>When the context is created, the <code title="dom-context-2d-shadowColor"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowcolor">shadowColor</a></code> attribute
  initially must be fully-transparent black.</p>

  <p>On getting, the <a href="http://www.whatwg.org/specs/web-apps/current-work/#serialization-of-a-color" title="serialization of a
  color">serialization of the color</a> must be returned.</p>

  <p>On setting, the new value must be <a href="http://www.whatwg.org/specs/web-apps/current-work/#parsed-as-a-css-color-value">parsed as a CSS
  &lt;color&gt; value</a> and the color assigned. If the value
  cannot be parsed as a CSS &lt;color&gt; value then it must be
  ignored, and the attribute must retain its previous value. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsCSSCOLOR">[CSSCOLOR]</a></p>

  <p>The <dfn id="dom-context-2d-shadowoffsetx" title="dom-context-2d-shadowOffsetX"><code>shadowOffsetX</code></dfn>
  and <dfn id="dom-context-2d-shadowoffsety" title="dom-context-2d-shadowOffsetY"><code>shadowOffsetY</code></dfn>
  attributes specify the distance that the shadow will be offset in
  the positive horizontal and positive vertical distance
  respectively. Their values are in coordinate space units. They are
  not affected by the current transformation matrix.</p>

  <p>When the context is created, the shadow offset attributes must
  initially have the value <code>0</code>.</p>

  <p>On getting, they must return their current value. On setting, the
  attribute being set must be set to the new value, except if the
  value is infinite or NaN, in which case the new value must be
  ignored.</p>

  <p>The <dfn id="dom-context-2d-shadowblur" title="dom-context-2d-shadowBlur"><code>shadowBlur</code></dfn>
  attribute specifies the level of the blurring effect. (The units do
  not map to coordinate space units, and are not affected by the
  current transformation matrix.)</p>

  <p>When the context is created, the <code title="dom-context-2d-shadowBlur"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowblur">shadowBlur</a></code> attribute must
  initially have the value <code>0</code>.</p>

  <p>On getting, the attribute must return its current value. On
  setting the attribute must be set to the new value, except if the
  value is negative, infinite or NaN, in which case the new value must
  be ignored.</p>

  <p><dfn id="when-shadows-are-drawn" title="when shadows are drawn">Shadows are only drawn
  if</dfn> the opacity component of the alpha component of the color
  of <code title="dom-context-2d-shadowColor"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowcolor">shadowColor</a></code> is
  non-zero and either the <code title="dom-context-2d-shadowBlur"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowblur">shadowBlur</a></code> is non-zero, or
  the <code title="dom-context-2d-shadowOffsetX"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsetx">shadowOffsetX</a></code>
  is non-zero, or the <code title="dom-context-2d-shadowOffsetY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsety">shadowOffsetY</a></code> is
  non-zero.</p>

  <p class="critical">It is likely that this will change: browser
  vendors have indicated an interest in changing the processing model
  for shadows such that they only draw when the composition operator
  is "source-over" (the default). <a href="http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2011-May/thread.html#31457">Read
  more...</a></p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#when-shadows-are-drawn">When shadows are drawn</a>, they must be rendered as follows:</p>

  <ol><li> <p>Let <var title="">A</var> be an infinite transparent black
   bitmap on which the source image for which a shadow is being
   created has been rendered.</p> </li>

   <li> <p>Let <var title="">B</var> be an infinite transparent black
   bitmap, with a coordinate space and an origin identical to <var title="">A</var>.</p> </li>

   <li> <p>Copy the alpha channel of <var title="">A</var> to <var title="">B</var>, offset by <code title="dom-context-2d-shadowOffsetX"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsetx">shadowOffsetX</a></code> in the
   positive <var title="">x</var> direction, and <code title="dom-context-2d-shadowOffsetY"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowoffsety">shadowOffsetY</a></code> in the
   positive <var title="">y</var> direction.</p> </li>

   <li> <p>If <code title="dom-context-2d-shadowBlur"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowblur">shadowBlur</a></code> is greater than
   0:</p>

    <ol><li> <p>Let <var title="">σ</var> be half the value of
     <code title="dom-context-2d-shadowBlur"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowblur">shadowBlur</a></code>.</p></li>

     <li> <p>Perform a 2D Gaussian Blur on <var title="">B</var>,
     using <var title="">σ</var> as the standard deviation.</p>
     <!-- wish i could find a reference for this --> </li>

    </ol><p>User agents may limit values of <var title="">σ</var> to
    an implementation-specific maximum value to avoid exceeding
    hardware limitations during the Gaussian blur operation.</p>

   </li>

   <li> <p>Set the red, green, and blue components of every pixel in
   <var title="">B</var> to the red, green, and blue components
   (respectively) of the color of <code title="dom-context-2d-shadowColor"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowcolor">shadowColor</a></code>.</p> </li>

   <li> <p>Multiply the alpha component of every pixel in <var title="">B</var> by the alpha component of the color of <code title="dom-context-2d-shadowColor"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-shadowcolor">shadowColor</a></code>.</p> </li>

   <li> <p>The shadow is in the bitmap <var title="">B</var>, and is
   rendered as part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#drawing-model">drawing model</a> described below.</p> </li>

  </ol></div>

  <p>If the current composition operation is <code title="gcop-copy"><a href="http://www.whatwg.org/specs/web-apps/current-work/#gcop-copy">copy</a></code>, shadows effectively won't render
  (since the shape will overwrite the shadow).</p>



  <div class="impl">

  <h6 id="drawing-model"><span class="secno">4.8.11.1.17 </span><dfn>Drawing model</dfn></h6>

  <p>When a shape or image is painted, user agents must follow these
  steps, in the order given (or act as if they do):</p>

  <ol><li><p>Render the shape or image onto an infinite transparent black
   bitmap, creating image <var title="">A</var>, as described in the
   previous sections. For shapes, the current fill, stroke, and line
   styles must be honored, and the stroke must itself also be
   subjected to the current transformation matrix.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#when-shadows-are-drawn">When shadows are drawn</a>, render the shadow from
   image <var title="">A</var>, using the current shadow styles,
   creating image <var title="">B</var>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#when-shadows-are-drawn">When shadows are drawn</a>, multiply the alpha
   component of every pixel in <var title="">B</var> by <code title="dom-context-2d-globalAlpha"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha">globalAlpha</a></code>.</p></li>

   <li><p><a href="http://www.whatwg.org/specs/web-apps/current-work/#when-shadows-are-drawn">When shadows are drawn</a>, composite <var title="">B</var> within the <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping region</a> over the
   current canvas bitmap using the current composition
   operator.</p></li>

   <li><p>Multiply the alpha component of every pixel in <var title="">A</var> by <code title="dom-context-2d-globalAlpha"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-globalalpha">globalAlpha</a></code>.</p></li>

   <li><p>Composite <var title="">A</var> within the <a href="http://www.whatwg.org/specs/web-apps/current-work/#clipping-region">clipping
   region</a> over the current canvas bitmap using the current
   composition operator.</p></li>

  </ol></div>


  <h6 id="best-practices"><span class="secno">4.8.11.1.18 </span>Best practices</h6>

  <p><i>This section is non-normative.</i></p>

  <p>When a canvas is interactive, authors should include focusable
  elements in the element's fallback content corresponding to each
  focusable part of the canvas, as in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#drawCustomFocusRingExample">example above</a>.</p>

  <p>To indicate which focusable part of the canvas is currently
  focused, authors should use the <code title="dom-context-2d-drawSystemFocusRing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawsystemfocusring">drawSystemFocusRing()</a></code>
  method, passing it the element for which a ring is being drawn. This
  method only draws the focus ring if the element is focused, so that
  it can simply be called whenever drawing the element, without
  checking whether the element is focused or not first.</p>

  <p>Authors should avoid implementing text editing controls using the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element. Doing so has a large number of
  disadvantages:</p>

  <ul><li>Mouse placement of the caret has to be reimplemented.</li>

   <li>Keyboard movement of the caret has to be reimplemented (possibly across lines, for multiline text input).</li>

   <li>Scrolling of the text field has to be implemented (horizontally for long lines, vertically for multiline input).</li>

   <li>Native features such as copy-and-paste have to be reimplemented.</li>

   <li>Native features such as spell-checking have to be reimplemented.</li>

   <li>Native features such as drag-and-drop have to be reimplemented.</li>

   <li>Native features such as page-wide text search have to be reimplemented.</li>

   <li>Native features specific to the user, for example custom text
   services, have to be reimplemented. This is close to impossible
   since each user might have different services installed, and there
   is an unbounded set of possible such services.</li>

   <li>Bidirectional text editing has to be reimplemented.</li>

   <li>For multiline text editing, line wrapping has to be implemented for all relevant languages.</li>

   <li>Text selection has to be reimplemented.</li>

   <li>Dragging of bidirectional text selections has to be reimplemented.</li>

   <li>Platform-native keyboard shortcuts have to be reimplemented.</li>

   <li>Platform-native input method editors (IMEs) have to be reimplemented.</li>

   <li>Undo and redo functionality has to be reimplemented.</li>

   <li>Accessibility features such as magnification following the
   caret or selection have to be reimplemented.</li>

  </ul><p>This is a huge amount of work, and authors are most strongly
  encouraged to avoid doing any of it by instead using the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> element, the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-textarea-element">textarea</a></code> element, or
  the <code title="attr-contenteditable"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-contenteditable">contenteditable</a></code>
  attribute.</p>


  <h6 id="examples"><span class="secno">4.8.11.1.19 </span>Examples</h6>

  <p><i>This section is non-normative.</i></p>

  <div class="example">

  <p>Here is an example of a script that uses canvas to draw <a href="data:text/html;charset=utf-8;base64,PCFET0NUWVBFIEhUTUw%2BDQo8aHRtbCBsYW5nPSJlbiI%2BDQogPGhlYWQ%2BDQogIDx0aXRsZT5QcmV0dHkgR2xvd2luZyBMaW5lczwvdGl0bGU%2BDQogPC9oZWFkPg0KIDxib2R5Pg0KPGNhbnZhcyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCI%2BPC9jYW52YXM%2BDQo8c2NyaXB0Pg0KDQogdmFyIGNvbnRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FudmFzJylbMF0uZ2V0Q29udGV4dCgnMmQnKTsNCg0KIHZhciBsYXN0WCA9IGNvbnRleHQuY2FudmFzLndpZHRoICogTWF0aC5yYW5kb20oKTsNCiB2YXIgbGFzdFkgPSBjb250ZXh0LmNhbnZhcy5oZWlnaHQgKiBNYXRoLnJhbmRvbSgpOw0KIHZhciBodWUgPSAwOw0KIGZ1bmN0aW9uIGxpbmUoKSB7DQogICBjb250ZXh0LnNhdmUoKTsNCiAgIGNvbnRleHQudHJhbnNsYXRlKGNvbnRleHQuY2FudmFzLndpZHRoLzIsIGNvbnRleHQuY2FudmFzLmhlaWdodC8yKTsNCiAgIGNvbnRleHQuc2NhbGUoMC45LCAwLjkpOw0KICAgY29udGV4dC50cmFuc2xhdGUoLWNvbnRleHQuY2FudmFzLndpZHRoLzIsIC1jb250ZXh0LmNhbnZhcy5oZWlnaHQvMik7DQogICBjb250ZXh0LmJlZ2luUGF0aCgpOw0KICAgY29udGV4dC5saW5lV2lkdGggPSA1ICsgTWF0aC5yYW5kb20oKSAqIDEwOw0KICAgY29udGV4dC5tb3ZlVG8obGFzdFgsIGxhc3RZKTsNCiAgIGxhc3RYID0gY29udGV4dC5jYW52YXMud2lkdGggKiBNYXRoLnJhbmRvbSgpOw0KICAgbGFzdFkgPSBjb250ZXh0LmNhbnZhcy5oZWlnaHQgKiBNYXRoLnJhbmRvbSgpOw0KICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKGNvbnRleHQuY2FudmFzLndpZHRoICogTWF0aC5yYW5kb20oKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgKiBNYXRoLnJhbmRvbSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2FudmFzLndpZHRoICogTWF0aC5yYW5kb20oKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgKiBNYXRoLnJhbmRvbSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RYLCBsYXN0WSk7DQoNCiAgIGh1ZSA9IGh1ZSArIDEwICogTWF0aC5yYW5kb20oKTsNCiAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnaHNsKCcgKyBodWUgKyAnLCA1MCUsIDUwJSknOw0KICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICd3aGl0ZSc7DQogICBjb250ZXh0LnNoYWRvd0JsdXIgPSAxMDsNCiAgIGNvbnRleHQuc3Ryb2tlKCk7DQogICBjb250ZXh0LnJlc3RvcmUoKTsNCiB9DQogc2V0SW50ZXJ2YWwobGluZSwgNTApOw0KDQogZnVuY3Rpb24gYmxhbmsoKSB7DQogICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMSknOw0KICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjb250ZXh0LmNhbnZhcy53aWR0aCwgY29udGV4dC5jYW52YXMuaGVpZ2h0KTsNCiB9DQogc2V0SW50ZXJ2YWwoYmxhbmssIDQwKTsNCg0KPC9zY3JpcHQ%2BDQogPC9ib2R5Pg0KPC9odG1sPg0K">pretty glowing lines</a>.</p>

  <pre>&lt;canvas width="800" height="450"&gt;&lt;/canvas&gt;
&lt;script&gt;

 var context = document.getElementsByTagName('canvas')[0].getContext('2d');

 var lastX = context.canvas.width * Math.random();
 var lastY = context.canvas.height * Math.random();
 var hue = 0;
 function line() {
   context.save();
   context.translate(context.canvas.width/2, context.canvas.height/2);
   context.scale(0.9, 0.9);
   context.translate(-context.canvas.width/2, -context.canvas.height/2);
   context.beginPath();
   context.lineWidth = 5 + Math.random() * 10;
   context.moveTo(lastX, lastY);
   lastX = context.canvas.width * Math.random();
   lastY = context.canvas.height * Math.random();
   context.bezierCurveTo(context.canvas.width * Math.random(),
                         context.canvas.height * Math.random(),
                         context.canvas.width * Math.random(),
                         context.canvas.height * Math.random(),
                         lastX, lastY);

   hue = hue + 10 * Math.random();
   context.strokeStyle = 'hsl(' + hue + ', 50%, 50%)';
   context.shadowColor = 'white';
   context.shadowBlur = 10;
   context.stroke();
   context.restore();
 }
 setInterval(line, 50);

 function blank() {
   context.fillStyle = 'rgba(0,0,0,0.1)';
   context.fillRect(0, 0, context.canvas.width, context.canvas.height);
 }
 setInterval(blank, 40);

&lt;/script&gt;</pre>

  </div>

  

  </div><!--data-component-->

  <!--2DCONTEXT-->

  <div class="impl">

  <h5 id="color-spaces-and-color-correction"><span class="secno">4.8.11.2 </span>Color spaces and color correction</h5>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> APIs must perform color correction at
  only two points: when rendering images with their own gamma
  correction and color space information onto the canvas, to convert
  the image to the color space used by the canvas (e.g. using the 2D
  Context's <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage()</a></code>
  method with an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code> object), and when
  rendering the actual canvas bitmap to the output device.</p>

  <p class="note">Thus, in the 2D context, colors used to draw shapes
  onto the canvas will exactly match colors obtained through the <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData()</a></code>
  method.</p>

  <p>The <code title="dom-canvas-toDataURL"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-todataurl">toDataURL()</a></code> method
  must not include color space information in the resource
  returned. Where the output format allows it, the color of pixels in
  resources created by <code title="dom-canvas-toDataURL"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-todataurl">toDataURL()</a></code> must match those
  returned by the <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData()</a></code>
  method.</p>

  <p>In user agents that support CSS, the color space used by a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element must match the color space used for
  processing any colors for that element in CSS.</p>

  <p>The gamma correction and color space information of images must
  be handled in such a way that an image rendered directly using an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element would use the same colors as one painted on
  a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element that is then itself
  rendered. Furthermore, the rendering of images that have no color
  correction information (such as those returned by the <code title="dom-canvas-toDataURL"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-todataurl">toDataURL()</a></code> method) must be
  rendered with no color correction.</p>

  <p class="note">Thus, in the 2D context, calling the <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage()</a></code> method to render
  the output of the <code title="dom-canvas-toDataURL"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-todataurl">toDataURL()</a></code> method to the
  canvas, given the appropriate dimensions, has no visible effect.</p>

  </div>


<!--ADD-TOPIC:Security-->
  <div class="impl">

  <h5 id="security-with-canvas-elements"><span class="secno">4.8.11.3 </span>Security with <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> elements</h5>

  <p><strong>Information leakage</strong> can occur if scripts from
  one <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> can access information (e.g. read pixels)
  from images from another origin (one that isn't the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin" title="same origin">same</a>).</p>

  <p>To mitigate this, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> elements are defined to
  have a flag indicating whether they are <i>origin-clean</i>. All
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> elements must start with their
  <i>origin-clean</i> set to true. The flag must be set to false if
  any of the following actions occur:</p>

  <ul><li><p>The element's 2D context's <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage()</a></code> method is
   called with an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code> or an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code> whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> is not the
   <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin" title="same origin">same</a> as that of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object that owns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>
   element.</p></li>

   <li><p>The element's 2D context's <code title="dom-context-2d-drawImage"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-drawimage">drawImage()</a></code> method is
   called with an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a></code> whose
   <i>origin-clean</i> flag is false.</p></li>

   <li><p>The element's 2D context's <code title="dom-context-2d-fillStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle">fillStyle</a></code> attribute is set
   to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code> object that was created from an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code> or an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code>
   whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> was not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin" title="same
   origin">same</a> as that of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object
   that owns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element when the pattern was
   created.</p></li>

   <li><p>The element's 2D context's <code title="dom-context-2d-fillStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-fillstyle">fillStyle</a></code> attribute is set
   to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code> object that was created from an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a></code> whose <i>origin-clean</i> flag was
   false when the pattern was created.</p></li>

   <li><p>The element's 2D context's <code title="dom-context-2d-strokeStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle">strokeStyle</a></code> attribute is
   set to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code> object that was created from an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlimageelement">HTMLImageElement</a></code> or an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlvideoelement">HTMLVideoElement</a></code>
   whose <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a> was not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin" title="same
   origin">same</a> as that of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object
   that owns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code> element when the pattern was
   created.</p></li>

   <li><p>The element's 2D context's <code title="dom-context-2d-strokeStyle"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-strokestyle">strokeStyle</a></code> attribute is
   set to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#canvaspattern">CanvasPattern</a></code> object that was created from an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcanvaselement">HTMLCanvasElement</a></code> whose <i>origin-clean</i> flag was
   false when the pattern was created.</p></li>

   <li><p>The element's 2D context's <code title="dom-context-2d-fillText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-filltext">fillText()</a></code> or <code title="dom-context-2d-fillText"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-filltext">strokeText()</a></code> methods are
   invoked and consider using a font that has an <a href="http://www.whatwg.org/specs/web-apps/current-work/#origin">origin</a>
   that is not the <a href="http://www.whatwg.org/specs/web-apps/current-work/#same-origin" title="same origin">same</a> as that of
   the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> object that owns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-canvas-element">canvas</a></code>
   element. (The font doesn't even have to be used; all that matters
   is whether the font was considered for any of the glyphs
   drawn.)</p></li> <!-- because fonts could consider sensitive
   material, I guess; and because that sensitivity could extend to
   whether or not a particular glyph is in the font in the first
   place. -->

  </ul><p>The <code title="dom-canvas-toDataURL"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-todataurl">toDataURL()</a></code>, <code title="dom-canvas-toBlob"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-canvas-toblob">toBlob()</a></code>, and <code title="dom-context-2d-getImageData"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata">getImageData()</a></code> methods
  check the flag and will throw a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#securityerror">SecurityError</a></code> exception
  rather than leak cross-origin data.</p>

  <p class="note">Even resetting the canvas state by changing its
  <code title="attr-canvas-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-canvas-width">width</a></code> or <code title="attr-canvas-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-canvas-height">height</a></code> attributes doesn't reset
  the <i>origin-clean</i> flag.</p>

  </div>
<!--REMOVE-TOPIC:Security-->


<!--TOPIC:HTML-->
  <h4 id="the-map-element"><span class="secno">4.8.12 </span>The <dfn><code>map</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd>When the element only contains <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>: <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>When the element only contains <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected.</dd>
   <dd>Otherwise: where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#transparent">Transparent</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-map-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-map-name">name</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlmapelement">HTMLMapElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-map-name" title="dom-map-name">name</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-map-areas" title="dom-map-areas">areas</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-map-images" title="dom-map-images">images</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element, in conjunction with any
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element descendants, defines an <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-map">image
  map</a>. The element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> its children.</p>

  <p>The <dfn id="attr-map-name" title="attr-map-name"><code>name</code></dfn> attribute
  gives the map a name so that it can be referenced. The attribute
  must be present and must have a non-empty value with no <a href="http://www.whatwg.org/specs/web-apps/current-work/#space-character" title="space character">space characters</a>. The value of the
  <code title="attr-map-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-map-name">name</a></code> attribute must not be a
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#compatibility-caseless" title="compatibility caseless">compatibility-caseless</a>
  match for the value of the <code title="attr-map-name"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-map-name">name</a></code>
  attribute of another <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element in the same
  document. If the <code title="attr-id"><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-id-attribute">id</a></code> attribute is also
  specified, both attributes must have the same value.</p>

<!--TOPIC:DOM APIs-->
  <dl class="domintro"><dt><var title="">map</var> . <code title="dom-map-areas"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-map-areas">areas</a></code></dt>

   <dd>

    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code>.</p>

   </dd>

   <dt><var title="">map</var> . <code title="dom-map-images"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-map-images">images</a></code></dt>

   <dd>

    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements that use the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code>.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-map-areas" title="dom-map-areas"><code>areas</code></dfn> attribute
  must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element, whose filter matches only
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements.</p>

  <p>The <dfn id="dom-map-images" title="dom-map-images"><code>images</code></dfn>
  attribute must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#document">Document</a></code> node, whose filter matches only
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements that are
  associated with this <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element according to the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-map">image map</a> processing model.</p>

  <p>The IDL attribute <dfn id="dom-map-name" title="dom-map-name"><code>name</code></dfn> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the same name.</p>

  </div>
<!--TOPIC:HTML-->

  <div class="example">

   <p>Image maps can be defined in conjunction with other content on
   the page, to ease maintenance. This example is of a page with an
   image map at the top of the page and a corresponding set of text
   links at the bottom.</p>

   <pre>&lt;!DOCTYPE HTML&gt;
&lt;TITLE&gt;Babies™: Toys&lt;/TITLE&gt;
&lt;HEADER&gt;
 &lt;H1&gt;Toys&lt;/H1&gt;
 &lt;IMG SRC="/images/menu.gif"
      ALT="Babies™ navigation menu. Select a department to go to its page."
      USEMAP="#NAV"&gt;
&lt;/HEADER&gt;
 ...
&lt;FOOTER&gt;
 &lt;MAP NAME="NAV"&gt;
  &lt;P&gt;
   &lt;A HREF="/clothes/"&gt;Clothes&lt;/A&gt;
   &lt;AREA ALT="Clothes" COORDS="0,0,100,50" HREF="/clothes/"&gt; |
   &lt;A HREF="/toys/"&gt;Toys&lt;/A&gt;
   &lt;AREA ALT="Toys" COORDS="0,0,100,50" HREF="/toys/"&gt; |
   &lt;A HREF="/food/"&gt;Food&lt;/A&gt;
   &lt;AREA ALT="Food" COORDS="0,0,100,50" HREF="/food/"&gt; |
   &lt;A HREF="/books/"&gt;Books&lt;/A&gt;
   &lt;AREA ALT="Books" COORDS="0,0,100,50" HREF="/books/"&gt;
 &lt;/MAP&gt;
&lt;/FOOTER&gt;</pre>

  </div>



  <h4 id="the-area-element"><span class="secno">4.8.13 </span>The <dfn><code>area</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">Phrasing content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a> is expected, but only if there is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element ancestor.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-area-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-alt">alt</a></code></dd>
   <dd><code title="attr-area-coords"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-coords">coords</a></code></dd>
   <dd><code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code></dd>
   <dd><code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code></dd>
   <dd><code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code></dd>
<!--DOWNLOAD--><!--PING-->
   <dd><code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code></dd>
   <dd><code title="attr-hyperlink-ping"><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping">ping</a></code></dd>
<!--DOWNLOAD--><!--PING-->
   <dd><code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel</a></code></dd>
   <dd><code title="attr-hyperlink-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-media">media</a></code></dd>
   <dd><code title="attr-hyperlink-hreflang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-hreflang">hreflang</a></code></dd>
   <dd><code title="attr-hyperlink-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-type">type</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmlareaelement">HTMLAreaElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-alt" title="dom-area-alt">alt</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-coords" title="dom-area-coords">coords</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-shape" title="dom-area-shape">shape</a>;
  stringifier attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-href" title="dom-area-href">href</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-target" title="dom-area-target">target</a>;
<!--DOWNLOAD--><!--PING-->
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-download" title="dom-area-download">download</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-ping" title="dom-area-ping">ping</a>;
<!--DOWNLOAD--><!--PING-->
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-rel" title="dom-area-rel">rel</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domtokenlist">DOMTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-rellist" title="dom-area-relList">relList</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-media" title="dom-area-media">media</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-hreflang" title="dom-area-hreflang">hreflang</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-type" title="dom-area-type">type</a>;

  // <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL decomposition IDL attributes</a>
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-protocol" title="dom-area-protocol">protocol</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-host" title="dom-area-host">host</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-hostname" title="dom-area-hostname">hostname</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-port" title="dom-area-port">port</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-pathname" title="dom-area-pathname">pathname</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-search" title="dom-area-search">search</a>;
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-area-hash" title="dom-area-hash">hash</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> either a
  hyperlink with some text and a corresponding area on an <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-map">image
  map</a>, or a dead area on an image map.</p>

  <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element has an <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute, then the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element represents a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a>. In
  this case, the <dfn id="attr-area-alt" title="attr-area-alt"><code>alt</code></dfn>
  attribute must be present. It specifies the text of the
  hyperlink. Its value must be text that, when presented with the
  texts specified for the other hyperlinks of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-map">image
  map</a>, and with the alternative text of the image, but without
  the image itself, provides the user with the same kind of choice as
  the hyperlink would when used without its text but with its shape
  applied to the image. The <code title="attr-area-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-alt">alt</a></code>
  attribute may be left blank if there is another <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code>
  element in the same <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-map">image map</a> that points to the same
  resource and has a non-blank <code title="attr-area-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-alt">alt</a></code>
  attribute.</p>

  <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element has no <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute, then the area
  represented by the element cannot be selected, and the <code title="attr-area-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-alt">alt</a></code> attribute must be omitted.</p>

  <p>In both cases, the <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code> and
  <code title="attr-area-coords"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-coords">coords</a></code> attributes specify the
  area.</p>

  <p>The <dfn id="attr-area-shape" title="attr-area-shape"><code>shape</code></dfn>
  attribute is an <a href="http://www.whatwg.org/specs/web-apps/current-work/#enumerated-attribute">enumerated attribute</a>. The following
  table lists the keywords defined for this attribute. The states
  given in the first cell of the rows with keywords give the states to
  which those keywords map. <span class="impl">Some of the keywords
  are non-conforming, as noted in the last column.</span></p>

  <table><thead><tr><th>State
     </th><th>Keywords
     </th><th class="impl">Notes
   </th></tr></thead><tbody><tr><td rowspan="2"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-circle" title="attr-area-shape-circle">Circle state</a>
     </td><td><dfn id="attr-area-shape-keyword-circle" title="attr-area-shape-keyword-circle"><code>circle</code></dfn>
     </td><td class="impl">
    </td></tr><tr><td class="impl"><dfn id="attr-area-shape-keyword-circ" title="attr-area-shape-keyword-circ"><code>circ</code></dfn>
     </td><td class="impl">Non-conforming
    </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-default" title="attr-area-shape-default">Default state</a>
     </td><td><dfn id="attr-area-shape-keyword-default" title="attr-area-shape-keyword-default"><code>default</code></dfn>
     </td><td class="impl">
    </td></tr><tr><td rowspan="2"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-poly" title="attr-area-shape-poly">Polygon state</a>
     </td><td><dfn id="attr-area-shape-keyword-poly" title="attr-area-shape-keyword-poly"><code>poly</code></dfn>
     </td><td class="impl">
    </td></tr><tr><td class="impl"><dfn id="attr-area-shape-keyword-polygon" title="attr-area-shape-keyword-polygon"><code>polygon</code></dfn>
     </td><td class="impl">Non-conforming
    </td></tr><tr><td rowspan="2"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-rect" title="attr-area-shape-rect">Rectangle state</a>
     </td><td><dfn id="attr-area-shape-keyword-rect" title="attr-area-shape-keyword-rect"><code>rect</code></dfn>
     </td><td class="impl">
    </td></tr><tr><td class="impl"><dfn id="attr-area-shape-keyword-rectangle" title="attr-area-shape-keyword-rectangle"><code>rectangle</code></dfn>
     </td><td class="impl">Non-conforming
  </td></tr></tbody></table><p>The attribute may be omitted. The <i>missing value default</i> is
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-rect" title="attr-area-shape-rect">rectangle</a> state.</p>

  <p>The <dfn id="attr-area-coords" title="attr-area-coords"><code>coords</code></dfn>
  attribute must, if specified, contain a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-list-of-integers">valid list of
  integers</a>. This attribute gives the coordinates for the shape
  described by the <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code>
  attribute. <span class="impl">The processing for this attribute is
  described as part of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-map">image map</a> processing
  model.</span></p>

  <!-- v2: It was suggested by John S. Urban that coords should
  support percentages as well as pixels, so that one could use the
  same image map for images of various sizes. -->

  <p>In the <dfn id="attr-area-shape-circle" title="attr-area-shape-circle">circle state</dfn>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements must have a <code title="attr-area-coords"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-coords">coords</a></code> attribute present, with three
  integers, the last of which must be non-negative. The first integer
  must be the distance in CSS pixels from the left edge of the image
  to the center of the circle, the second integer must be the distance
  in CSS pixels from the top edge of the image to the center of the
  circle, and the third integer must be the radius of the circle,
  again in CSS pixels.</p>

  <p>In the <dfn id="attr-area-shape-default" title="attr-area-shape-default">default state</dfn>
  state, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements must not have a <code title="attr-area-coords"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-coords">coords</a></code> attribute. (The area is the
  whole image.)</p>

  <p>In the <dfn id="attr-area-shape-poly" title="attr-area-shape-poly">polygon state</dfn>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements must have a <code title="attr-area-coords"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-coords">coords</a></code> attribute with at least six
  integers, and the number of integers must be even. Each pair of
  integers must represent a coordinate given as the distances from the
  left and the top of the image in CSS pixels respectively, and all
  the coordinates together must represent the points of the polygon,
  in order.</p>

  <p>In the <dfn id="attr-area-shape-rect" title="attr-area-shape-rect">rectangle state</dfn>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements must have a <code title="attr-area-coords"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-coords">coords</a></code> attribute with exactly four
  integers, the first of which must be less than the third, and the
  second of which must be less than the fourth. The four points must
  represent, respectively, the distance from the left edge of the
  image to the left side of the rectangle, the distance from the
  top edge to the top side, the distance from the left edge to the
  right side, and the distance from the top edge to the bottom side,
  all in CSS pixels.</p>

  <div class="impl">

  <p>When user agents allow users to <a href="http://www.whatwg.org/specs/web-apps/current-work/#following-hyperlinks" title="following
  hyperlinks">follow hyperlinks</a>
<!--DOWNLOAD-->
  or <a href="http://www.whatwg.org/specs/web-apps/current-work/#downloading-hyperlinks" title="downloading hyperlinks">download hyperlinks</a>
<!--DOWNLOAD-->
  created using the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element, as described in the
  next section, the
  <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code>,
  <code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code>,
<!--DOWNLOAD--><!--PING-->
  <code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code>, and
  <code title="attr-hyperlink-ping"><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping">ping</a></code>
<!--DOWNLOAD--><!--PING-->
  attributes decide how the link is followed.
  The <code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel</a></code>,
  <code title="attr-hyperlink-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-media">media</a></code>, <code title="attr-hyperlink-hreflang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-hreflang">hreflang</a></code>, and <code title="attr-hyperlink-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-type">type</a></code> attributes may be used to
  indicate to the user the likely nature of the target resource before
  the user follows the link.</p>

  </div>

  <p>The <code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code>,
<!--DOWNLOAD--><!--PING-->
  <code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code>,
  <code title="attr-hyperlink-ping"><a href="http://www.whatwg.org/specs/web-apps/current-work/#ping">ping</a></code>,
<!--DOWNLOAD--><!--PING-->
  <code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel</a></code>, <code title="attr-hyperlink-media"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-media">media</a></code>, <code title="attr-hyperlink-hreflang"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-hreflang">hreflang</a></code>, and <code title="attr-hyperlink-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-type">type</a></code> attributes must be omitted
  if the <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute is
  not present.</p>

<!--MD-->
  <p>If the <code title="attr-itemprop"><a href="http://www.whatwg.org/specs/web-apps/current-work/#names:-the-itemprop-attribute">itemprop</a></code> is specified
  on an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element, then the <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute must also be
  specified.</p>
<!--MD-->

  <div class="impl">

  <p>The <a href="http://www.whatwg.org/specs/web-apps/current-work/#activation-behavior">activation behavior</a> of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code>
  elements is to run the following steps:</p>

  <ol><li><p>If the <code title="event-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#event-click">click</a></code> event in
   question is not <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-events-trusted" title="concept-events-trusted">trusted</a>
   (i.e. a <code title="dom-click"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-click">click()</a></code> method call was the
   reason for the event being dispatched), and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code>
<!--DOWNLOAD-->
   element has a <code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code> attribute or the
<!--DOWNLOAD-->
   element's <code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code>
   attribute is present and applying <a href="http://www.whatwg.org/specs/web-apps/current-work/#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name">the rules for choosing a
   browsing context given a browsing context name</a>, using the
   value of the <code title="attr-hyperlink-target"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-target">target</a></code>
   attribute as the browsing context name, would result in there not
   being a chosen browsing context, then throw an
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#invalidaccesserror">InvalidAccessError</a></code> exception and abort these
   steps.</p></li>

   <li><p>Otherwise, the user agent must <a href="http://www.whatwg.org/specs/web-apps/current-work/#following-hyperlinks" title="following
   hyperlinks">follow the hyperlink</a>
<!--DOWNLOAD-->
   or <a href="http://www.whatwg.org/specs/web-apps/current-work/#downloading-hyperlinks" title="downloading hyperlinks">download the hyperlink</a>
<!--DOWNLOAD-->
   created by the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element, if any, and as determined by
<!--DOWNLOAD-->
   the <code title="attr-hyperlink-download"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-download">download</a></code> attribute and
<!--DOWNLOAD-->
   any expressed user preference.</p></li>

  </ol><p>The IDL attributes <dfn id="dom-area-alt" title="dom-area-alt"><code>alt</code></dfn>, <dfn id="dom-area-coords" title="dom-area-coords"><code>coords</code></dfn>, <dfn id="dom-area-href" title="dom-area-href"><code>href</code></dfn>, <dfn id="dom-area-target" title="dom-area-target"><code>target</code></dfn>,
<!--DOWNLOAD--><!--PING-->
  <dfn id="dom-area-download" title="dom-area-download"><code>download</code></dfn>,
  <dfn id="dom-area-ping" title="dom-area-ping"><code>ping</code></dfn>,
<!--DOWNLOAD--><!--PING-->
  <dfn id="dom-area-rel" title="dom-area-rel"><code>rel</code></dfn>, <dfn id="dom-area-media" title="dom-area-media"><code>media</code></dfn>, <dfn id="dom-area-hreflang" title="dom-area-hreflang"><code>hreflang</code></dfn>, and <dfn id="dom-area-type" title="dom-area-type"><code>type</code></dfn>, each must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the respective content attributes of the same
  name.</p>

  <p>The IDL attribute <dfn id="dom-area-shape" title="dom-area-shape"><code>shape</code></dfn> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code>
  content attribute.</p>

  <p>The IDL attribute <dfn id="dom-area-rellist" title="dom-area-rellist"><code>relList</code></dfn> must
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-hyperlink-rel"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-rel">rel</a></code>
  content attribute.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element also supports the complement of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL decomposition IDL attributes</a>, <dfn id="dom-area-protocol" title="dom-area-protocol"><code>protocol</code></dfn>, <dfn id="dom-area-host" title="dom-area-host"><code>host</code></dfn>, <dfn id="dom-area-port" title="dom-area-port"><code>port</code></dfn>, <dfn id="dom-area-hostname" title="dom-area-hostname"><code>hostname</code></dfn>, <dfn id="dom-area-pathname" title="dom-area-pathname"><code>pathname</code></dfn>, <dfn id="dom-area-search" title="dom-area-search"><code>search</code></dfn>, and <dfn id="dom-area-hash" title="dom-area-hash"><code>hash</code></dfn>. These must follow the
  rules given for <a href="http://www.whatwg.org/specs/web-apps/current-work/#url-decomposition-idl-attributes">URL decomposition IDL attributes</a>, with
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-input" title="concept-uda-input">input</a> being the result of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#resolve-a-url" title="resolve a url">resolving</a> the element's <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute relative to the
  element, if there is such an attribute and resolving it is
  successful, or the empty string otherwise; and the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-uda-setter" title="concept-uda-setter">common setter action</a> being the
  same as setting the element's <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute to the new output
  value.</p>

  </div>



  <h4 id="image-maps"><span class="secno">4.8.14 </span>Image maps</h4>

  <!-- TESTS
  http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/smallcats%22%20usemap%3D%23a%20onclick%3Dw%28%27img%27%29%3E%0A%3Cmap%20name%3Da%3E%0A%20%3Carea%20onclick%3Dw%28%271%27%29%20coords%3D%270%25%200%25%20100%25%20100%25%27%20href%3Djavascript%3A%3E%0A%3C/map%3E
  http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cbody%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/smallcats%22%20usemap%3D%23a%20onclick%3Dw%28%27img%27%29%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/sample%22%20usemap%3D%23a%20onclick%3Dw%28%27img%27%29%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3Cmap%20name%3Da%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%20%3Carea%20onclick%3Dw%28%271%27%29%20coords%3D%270%200%2050%2050%27%20href%3Djavascript%3A%20onfocus%3D%22w%28document.activeElement.tagName%29%22%3E%0A%3C/map%3E%0A%3Cscript%3E%0A%20var%20x%20%3D%20document.getElementsByTagName%28%27img%27%29%5B0%5D%3B%0A%20x.parentNode.appendChild%28x%29%3B%0A%20document.getElementsByTagName%28%27area%27%29%5B0%5D.focus%28%29%3B%0A%3C/script%3E
  http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3Ex%3Cmap%3E%3Carea%20shape%3Dpolyg%20coords%3D%221%2C2%203%22%3E%3C/map%3E%0A%3Cscript%3Ex%20%3D%20document.getElementsByTagName%28%27area%27%29%5B0%5D%3B%20w%28x.shape%20+%20%27%20%27%20+%20x.coords%29%3C/script%3E
  http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0D%0A%3Cp%3E%3Cimg%20src%3D%22http%3A//hixie.ch/resources/images/astrophy/128%22%20usemap%3D%23a%3E%0D%0A%3Cmap%20name%3Da%3E%3Carea%20shape%3Dcirc%20coords%3D%2220%2C20%2C10%25%22%20href%3D%23%3E%3Carea%20shape%3Dcirc%20coords%3D%2220%2C20%2C10%22%20href%3D%23%3E%3C/map%3E%0D%0A%3Cscript%3Edocument.write%28document.getElementsByTagName%28%27area%27%29%5B0%5D.coords%29%3C/script%3E
  -->

  <div class="impl">

  <h5 id="authoring"><span class="secno">4.8.14.1 </span>Authoring</h5>

  </div>

  <p>An <dfn id="image-map">image map</dfn> allows geometric areas on an image to be
  associated with <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink" title="hyperlink">hyperlinks</a>.</p>

  <p>An image, in the form of an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element or an
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element representing an image, may be associated
  with an image map (in the form of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element) by
  specifying a <dfn id="attr-hyperlink-usemap" title="attr-hyperlink-usemap"><code>usemap</code></dfn> attribute on
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element. The <code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code> attribute, if specified,
  must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-hash-name-reference">valid hash-name reference</a> to a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element.</p>

  <div class="example">

   <p>Consider an image that looks as follows:</p>

   <p><img alt="A line with four shapes in it, equally spaced: a red hollow box, a green circle, a blue triangle, and a yellow four-pointed star." height="150" src="./HTML Standard_files/sample-usemap.png" width="600"></p>

   <p>If we wanted just the colored areas to be clickable, we could
   do it as follows:</p>

   <pre>&lt;p&gt;
 Please select a shape:
 &lt;img src="shapes.png" usemap="#shapes"
      alt="Four shapes are available: a red hollow box, a green circle, a blue triangle, and a yellow four-pointed star."&gt;
 &lt;map name="shapes"&gt;
  &lt;area shape=rect coords="50,50,100,100"&gt; &lt;!-- the hole in the red box --&gt;
  &lt;area shape=rect coords="25,25,125,125" href="red.html" alt="Red box."&gt;
  &lt;area shape=circle coords="200,75,50" href="green.html" alt="Green circle."&gt;
  &lt;area shape=poly coords="325,25,262,125,388,125" href="blue.html" alt="Blue triangle."&gt;
  &lt;area shape=poly coords="450,25,435,60,400,75,435,90,450,125,465,90,500,75,465,60"
        href="yellow.html" alt="Yellow star."&gt;
 &lt;/map&gt;
&lt;/p&gt;</pre>

  </div>

  <div class="impl">

  <h5 id="processing-model"><span class="secno">4.8.14.2 </span>Processing model</h5>

  <p>If an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element or an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> element
  representing an image has a <code title="attr-hyperlink-usemap"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-usemap">usemap</a></code> attribute specified,
  user agents must process it as follows:</p>

  <ol><li><p>First, <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-a-hash-name-reference">rules for parsing a hash-name reference</a>
   to a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element must be followed. This will return
   either an element (the <var title="">map</var>) or null.</p></li>

   <li><p>If that returned null, then abort these steps. The image is
   not associated with an image map after all.</p></li>

   <li><p>Otherwise, the user agent must collect all the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements that are descendants of the <var title="">map</var>. Let those be the <var title="">areas</var>.</p></li>

  </ol><p>Having obtained the list of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements that form
  the image map (the <var title="">areas</var>), interactive user
  agents must process the list in one of two ways.</p>

  <p>If the user agent intends to show the text that the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> element represents, then it must use the following
  steps.</p>

  <p class="note">In user agents that do not support images, or that
  have images disabled, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements cannot represent
  images, and thus this section never applies (the <a href="http://www.whatwg.org/specs/web-apps/current-work/#fallback-content">fallback
  content</a> is shown instead). The following steps therefore only
  apply to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> elements.</p>

  <ol><li><p>Remove all the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements in <var title="">areas</var> that have no <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute.</p></li>

   <li><p>Remove all the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements in <var title="">areas</var> that have no <code title="attr-area-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-alt">alt</a></code> attribute, or whose <code title="attr-area-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-alt">alt</a></code> attribute's value is the empty
   string, <em>if</em> there is another <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element in
   <var title="">areas</var> with the same value in the <code title="attr-hyperlink-href"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-hyperlink-href">href</a></code> attribute and with a
   non-empty <code title="attr-area-alt"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-alt">alt</a></code> attribute.</p></li>

   <li><p>Each remaining <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element in <var title="">areas</var> represents a <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink">hyperlink</a>. Those
   hyperlinks should all be made available to the user in a manner
   associated with the text of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>.</p>

   <p>In this context, user agents may represent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> and
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> elements with no specified <code title="">alt</code> attributes, or whose <code title="">alt</code>
   attributes are the empty string or some other non-visible text, in
   a user-agent-defined fashion intended to indicate the lack of
   suitable author-provided text.</p></li>

  </ol><p>If the user agent intends to show the image and allow interaction
  with the image to select hyperlinks, then the image must be
  associated with a set of layered shapes, taken from the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements in <var title="">areas</var>, in reverse
  tree order (so the last specified <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element in the
  <var title="">map</var> is the bottom-most shape, and the first
  element in the <var title="">map</var>, in tree order, is the
  top-most shape).</p>

  <p>Each <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element in <var title="">areas</var> must
  be processed as follows to obtain a shape to layer onto the
  image:</p>

  <ol><li><p>Find the state that the element's <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code> attribute represents.</p></li>

   <li><p>Use the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-a-list-of-integers">rules for parsing a list of integers</a> to
   parse the element's <code title="attr-area-coords"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-coords">coords</a></code>
   attribute, if it is present, and let the result be the <var title="">coords</var> list. If the attribute is absent, let the
   <var title="">coords</var> list be the empty list.</p></li>

   <li><p>If the number of items in the <var title="">coords</var>
   list is less than the minimum number given for the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element's current state, as per the following
   table, then the shape is empty; abort these steps.</p>
    <table><thead><tr><th>State
       </th><th>Minimum number of items
     </th></tr></thead><tbody><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-circle" title="attr-area-shape-circle">Circle state</a>
       </td><td>3
      </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-default" title="attr-area-shape-default">Default state</a>
       </td><td>0
      </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-poly" title="attr-area-shape-poly">Polygon state</a>
       </td><td>6
      </td></tr><tr><td><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-rect" title="attr-area-shape-rect">Rectangle state</a>
       </td><td>4
    </td></tr></tbody></table></li>

   <li><p>Check for excess items in the <var title="">coords</var>
   list as per the entry in the following list corresponding to the
   <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code> attribute's state:</p>
    <dl class="switch"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-circle" title="attr-area-shape-circle">Circle state</a></dt>
     <dd>Drop any items in the list beyond the third.</dd>
     <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-default" title="attr-area-shape-default">Default state</a></dt>
     <dd>Drop all items in the list.</dd>
     <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-poly" title="attr-area-shape-poly">Polygon state</a></dt>
     <dd>Drop the last item if there's an odd number of items.</dd>
     <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-rect" title="attr-area-shape-rect">Rectangle state</a></dt>
     <dd>Drop any items in the list beyond the fourth.</dd>
    </dl></li>

   <li><p>If the <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code> attribute
   represents the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-rect" title="attr-area-shape-rect">rectangle
   state</a>, and the first number in the list is numerically less
   than the third number in the list, then swap those two numbers
   around.</p></li>

   <li><p>If the <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code> attribute
   represents the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-rect" title="attr-area-shape-rect">rectangle
   state</a>, and the second number in the list is numerically less
   than the fourth number in the list, then swap those two numbers
   around.</p></li>

   <li><p>If the <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code> attribute
   represents the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-circle" title="attr-area-shape-circle">circle
   state</a>, and the third number in the list is less than or
   equal to zero, then the shape is empty; abort these steps.</p></li>

   <li><p>Now, the shape represented by the element is the one
   described for the entry in the list below corresponding to the
   state of the <code title="attr-area-shape"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape">shape</a></code>
   attribute:</p>

    <dl class="switch"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-circle" title="attr-area-shape-circle">Circle state</a></dt>
     <dd>
      <p>Let <var title="">x</var> be the first number in <var title="">coords</var>, <var title="">y</var> be the second
      number, and <var title="">r</var> be the third number.</p>
      <p>The shape is a circle whose center is <var title="">x</var>
      CSS pixels from the left edge of the image and <var title="">y</var> CSS pixels from the top edge of the image, and
      whose radius is <var title="">r</var> pixels.</p>
     </dd>

     <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-default" title="attr-area-shape-default">Default state</a></dt>
     <dd>
      <p>The shape is a rectangle that exactly covers the entire
      image.</p>
     </dd>

     <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-poly" title="attr-area-shape-poly">Polygon state</a></dt>
     <dd>

      <p>Let <var title="">x<sub title=""><var title="">i</var></sub></var> be the <span title="">(2<var title="">i</var>)</span>th entry in <var title="">coords</var>,
      and <var title="">y<sub title=""><var title="">i</var></sub></var> be the <span title="">(2<var title="">i</var>+1)</span>th entry in <var title="">coords</var>
      (the first entry in <var title="">coords</var> being the one
      with index 0).</p>

      <p>Let <var title="">the coordinates</var> be (<var title="">x<sub title=""><var title="">i</var></sub></var>, <var title="">y<sub title=""><var title="">i</var></sub></var>),
      interpreted in CSS pixels measured from the top left of the
      image, for all integer values of <var title="">i</var> from 0 to
      <span title="">(<var title="">N</var>/2)-1</span>, where <var title="">N</var> is the number of items in <var title="">coords</var>.</p>

      <p>The shape is a polygon whose vertices are given by <var title="">the coordinates</var>, and whose interior is
      established using the even-odd rule. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsGRAPHICS">[GRAPHICS]</a></p>

      <!--
        browsers implement the even-odd rule / even winding rule:
        http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E%0A%3Cimg%20usemap%3D%22%23x%22%20src%3D%22/resources/images/sample%22%3E%0A%3Cmap%20name%3D%22x%22%3E%0A%20%20%3Carea%20shape%3Dpolygon%20coords%3D%220%2C0%200%2C100%20100%2C100%20100%2C2%201%2C2%202%2C1%202%2C99%2099%2C99%2099%2C0%22%20href%3Da%3E%0A%3C/map%3E%0A
       -->

     </dd>

     <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-area-shape-rect" title="attr-area-shape-rect">Rectangle state</a></dt>

     <dd>

      <p>Let <var title="">x<sub title="">1</sub></var> be the first
      number in <var title="">coords</var>, <var title="">y<sub title="">1</sub></var> be the second number, <var title="">x<sub title="">2</sub></var> be the third number, and <var title="">y<sub title="">2</sub></var> be the fourth number.</p>

      <p>The shape is a rectangle whose top-left corner is given by
      the coordinate (<var title="">x<sub title="">1</sub></var>, <var title="">y<sub title="">1</sub></var>) and whose bottom right
      corner is given by the coordinate (<var title="">x<sub title="">2</sub></var>, <var title="">y<sub title="">2</sub></var>), those coordinates being interpreted as
      CSS pixels from the top left corner of the image.</p>

     </dd>

    </dl><p>For historical reasons, the coordinates must be interpreted
    relative to the <em>displayed</em> image after any stretching
    caused by the CSS 'width' and 'height' properties (or, for non-CSS
    browsers, the image element's <code title="">width</code> and
    <code title="">height</code> attributes — CSS browsers map
    those attributes to the aforementioned CSS properties).</p>

    <p class="note">Browser zoom features and transforms applied using
    CSS or SVG do not affect the coordinates.</p>

   </li>

  </ol><p>Pointing device interaction with an image associated with a set
  of layered shapes per the above algorithm must result in the
  relevant user interaction events being first fired to the top-most
  shape covering the point that the pointing device indicated, if any,
  or to the image element itself, if there is no shape covering that
  point. User agents may also allow individual <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code>
  elements representing <a href="http://www.whatwg.org/specs/web-apps/current-work/#hyperlink" title="hyperlink">hyperlinks</a> to
  be selected and activated (e.g. using a keyboard).</p>

  <p class="note">Because a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-map-element">map</a></code> element (and its
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> elements) can be associated with multiple
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> elements, it is possible
  for an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-area-element">area</a></code> element to correspond to multiple focusable
  areas of the document.</p>

  <p>Image maps are <a href="http://www.whatwg.org/specs/web-apps/current-work/#live">live</a>; if the DOM is mutated, then the
  user agent must act as if it had rerun the algorithms for image
  maps.</p>

  </div>



  <h4 id="mathml"><span class="secno">4.8.15 </span>MathML</h4>

  <p>The <dfn id="math"><code>math</code></dfn> element from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mathml-namespace">MathML
  namespace</a> falls into the <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a>,
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>
  categories for the purposes of the content models in this
  specification.</p>

  <div class="impl">

  <!-- apparently we get to define error handling, so: -->

  <p>User agents must handle text other than <a href="http://www.whatwg.org/specs/web-apps/current-work/#inter-element-whitespace">inter-element
  whitespace</a> found in MathML elements whose content models do
  not allow straight text by pretending for the purposes of MathML
  content models, layout, and rendering that that text is actually
  wrapped in an <code title="">mtext</code> element in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#mathml-namespace">MathML namespace</a>. (Such text is not, however,
  conforming.)</p>

  <p>User agents must act as if any MathML element whose contents does
  not match the element's content model was replaced, for the purposes
  of MathML layout and rendering, by an <code title="">merror</code>
  element in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#mathml-namespace">MathML namespace</a> containing some
  appropriate error message.</p>

  <p>To enable authors to use MathML tools that only accept MathML in
  its XML form, interactive HTML user agents are encouraged to provide
  a way to export any MathML fragment as an XML namespace-well-formed
  XML fragment.</p>

  </div>

  <p>The semantics of MathML elements are defined by the MathML
  specification and <a href="http://www.whatwg.org/specs/web-apps/current-work/#other-applicable-specifications">other applicable specifications</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsMATHML">[MATHML]</a></p>

  <div class="example">

   <p>Here is an example of the use of MathML in an HTML document:</p>

   <pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;The quadratic formula&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;h1&gt;The quadratic formula&lt;/h1&gt;
  &lt;p&gt;
   &lt;math&gt;
    &lt;mi&gt;x&lt;/mi&gt;
    &lt;mo&gt;=&lt;/mo&gt;
    &lt;mfrac&gt;
     &lt;mrow&gt;
      &lt;mo form="prefix"&gt;−&lt;/mo&gt; &lt;mi&gt;b&lt;/mi&gt;
      &lt;mo&gt;±&lt;/mo&gt;
      &lt;msqrt&gt;
       &lt;msup&gt; &lt;mi&gt;b&lt;/mi&gt; &lt;mn&gt;2&lt;/mn&gt; &lt;/msup&gt;
       &lt;mo&gt;−&lt;/mo&gt;
       &lt;mn&gt;4&lt;/mn&gt; &lt;mo&gt;⁢&lt;/mo&gt; &lt;mi&gt;a&lt;/mi&gt; &lt;mo&gt;⁢&lt;/mo&gt; &lt;mi&gt;c&lt;/mi&gt;
      &lt;/msqrt&gt;
     &lt;/mrow&gt;
     &lt;mrow&gt;
      &lt;mn&gt;2&lt;/mn&gt; &lt;mo&gt;⁢&lt;/mo&gt; &lt;mi&gt;a&lt;/mi&gt;
     &lt;/mrow&gt;
    &lt;/mfrac&gt;
   &lt;/math&gt;
  &lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  </div>



  <h4 id="svg-0"><span class="secno">4.8.16 </span>SVG</h4>

  <p>The <dfn id="svg"><code>svg</code></dfn> element from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#svg-namespace">SVG
  namespace</a> falls into the <a href="http://www.whatwg.org/specs/web-apps/current-work/#embedded-content">embedded content</a>,
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>
  categories for the purposes of the content models in this
  specification.</p>

  <div class="impl">

  <p>To enable authors to use SVG tools that only accept SVG in its
  XML form, interactive HTML user agents are encouraged to provide a
  way to export any SVG fragment as an XML namespace-well-formed XML
  fragment.</p>

  </div>

  <p>When the SVG <code title="">foreignObject</code> element contains
  elements from the <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-namespace-0">HTML namespace</a>, such elements must
  all be <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSVG">[SVG]</a></p>

  <p>The content model for <code title="">title</code> elements in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#svg-namespace">SVG namespace</a> inside <a href="http://www.whatwg.org/specs/web-apps/current-work/#html-documents">HTML documents</a> is
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#phrasing-content">phrasing content</a>. (This further constrains the
  requirements given in the SVG specification.)</p>

  <p>The semantics of SVG elements are defined by the SVG
  specification and <a href="http://www.whatwg.org/specs/web-apps/current-work/#other-applicable-specifications">other applicable specifications</a>. <a href="http://www.whatwg.org/specs/web-apps/current-work/#refsSVG">[SVG]</a></p>

  <!-- The following paragraph is for bug 7510 -->
  <p>The SVG specification includes requirements regarding the
  handling of elements in the DOM that are not in the SVG namespace,
  that are in SVG fragments, and that are not included in a
  <code title="">foreignObject</code> element. <em>This</em>
  specification does not define any processing for elements in SVG
  fragments that are not in the HTML namespace; they are considered
  neither conforming nor non-conforming from the perspective of this
  specification.</p>



  <h4 id="dimension-attributes"><span class="secno">4.8.17 </span><dfn>Dimension attributes</dfn></h4>

  <p><span class="impl"><strong>Author requirements</strong>:</span>
  The <dfn id="attr-dim-width" title="attr-dim-width"><code>width</code></dfn> and <dfn id="attr-dim-height" title="attr-dim-height"><code>height</code></dfn> attributes on
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-img-element">img</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code>, and, when their <code title="attr-input-type"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-input-type">type</a></code> attribute is in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#image-button-state-(type=image)" title="attr-input-type-image">Image Button</a> state,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-input-element">input</a></code> elements may be specified to give the dimensions
  of the visual content of the element (the width and height
  respectively, relative to the nominal direction of the output
  medium), in CSS pixels. The attributes, if specified, must have
  values that are <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer" title="valid non-negative integer">valid
  non-negative integers</a>.</p>

  <p>The specified dimensions given may differ from the dimensions
  specified in the resource itself, since the resource may have a
  resolution that differs from the CSS pixel resolution. (On screens,
  CSS pixels have a resolution of 96ppi, but in general the CSS pixel
  resolution depends on the reading distance.) If both attributes are
  specified, then one of the following statements must be true:</p>

  <ul><li><span title=""><var title="">specified width</var> - 0.5 ≤
             <var title="">specified height</var> * <var title="">target ratio</var> ≤
             <var title="">specified width</var> + 0.5</span></li>

   <li><span title=""><var title="">specified height</var> - 0.5 ≤
             <var title="">specified width</var> / <var title="">target ratio</var> ≤
             <var title="">specified height</var> + 0.5</span></li>

   <li><span title=""><var title="">specified height</var> = <var title="">specified width</var> = 0</span></li>

  </ul><p>The <var title="">target ratio</var> is the ratio of the
  intrinsic width to the intrinsic height in the resource. The <var title="">specified width</var> and <var title="">specified
  height</var> are the values of the <code title="attr-dim-width"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-width">width</a></code> and <code title="attr-dim-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-dim-height">height</a></code> attributes respectively.</p>

  <p>The two attributes must be omitted if the resource in question
  does not have both an intrinsic width and an intrinsic height.</p>

  <p>If the two attributes are both zero, it indicates that the
  element is not intended for the user (e.g. it might be a part of a
  service to count page views).</p>

  <p class="note">The dimension attributes are not intended to be used
  to stretch the image.</p>

  <div class="impl">

  <p><strong>User agent requirements</strong>: User agents are
  expected to use these attributes <a href="http://www.whatwg.org/specs/web-apps/current-work/#dimRendering">as hints
  for the rendering</a>.</p>

  <p>The <dfn id="dom-dim-width" title="dom-dim-width"><code>width</code></dfn> and <dfn id="dom-dim-height" title="dom-dim-height"><code>height</code></dfn> IDL attributes on
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code>,
  and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> elements must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the
  respective content attributes of the same name.</p>

  <p class="note">For <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-iframe-element">iframe</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-embed-element">embed</a></code>, and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-object-element">object</a></code> the IDL attributes are <code>DOMString</code>;
  for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-video-element">video</a></code> the IDL attributes are <code>unsigned
  long</code>.</p>

  <p class="note">The corresponding IDL attributes for <code title="dom-img-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-img-height">img</a></code> and <code title="dom-input-height"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-input-height">input</a></code> elements are defined in those
  respective elements' sections, as they are slightly more specific to
  those elements' other behaviors.</p>

  </div>



  <h3 id="tabular-data"><span class="secno">4.9 </span>Tabular data</h3>


  <h4 id="the-table-element"><span class="secno">4.9.1 </span>The <dfn><code>table</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#palpable-content">Palpable content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>Where <a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">flow content</a> is expected.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>In this order: optionally a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element,
   followed by zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> elements, followed
   optionally by a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element, followed optionally by
   a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element, followed by either zero or more
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> elements or one or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>
   elements, followed optionally by a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element (but
   there can only be one <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element child in
   total).</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-table-border"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-table-border">border</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmltableelement">HTMLTableElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablecaptionelement">HTMLTableCaptionElement</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-caption" title="dom-table-caption">caption</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-createcaption" title="dom-table-createCaption">createCaption</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-deletecaption" title="dom-table-deleteCaption">deleteCaption</a>();
           attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablesectionelement">HTMLTableSectionElement</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-thead" title="dom-table-tHead">tHead</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-createthead" title="dom-table-createTHead">createTHead</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-deletethead" title="dom-table-deleteTHead">deleteTHead</a>();
           attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablesectionelement">HTMLTableSectionElement</a>? <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-tfoot" title="dom-table-tFoot">tFoot</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-createtfoot" title="dom-table-createTFoot">createTFoot</a>();
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-deletetfoot" title="dom-table-deleteTFoot">deleteTFoot</a>();
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-tbodies" title="dom-table-tBodies">tBodies</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-createtbody" title="dom-table-createTBody">createTBody</a>();
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows" title="dom-table-rows">rows</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-insertrow" title="dom-table-insertRow">insertRow</a>(optional long index);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-deleterow" title="dom-table-deleteRow">deleteRow</a>(long index);
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-border" title="dom-table-border">border</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> data with
  more than one dimension, in the form of a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table" title="concept-table">table</a>.</p>

  <p><span class="impl">The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element takes part in
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table model</a>.</span> Tables have rows, columns, and
  cells given by their descendants. The rows and columns form a grid;
  a table's cells must completely cover that grid without overlap.</p>

  <div class="impl">
  <p class="note">Precise rules for determining whether this
  conformance requirement is met are described in the description of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table model</a>.</p>
  </div>

  <p>Authors are encouraged to provide information describing how to
  interpret complex tables. Guidance on how <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-descriptions-techniques">provide such information</a>
  is given below.</p>

  <div class="impl">
  <p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element has a (non-conforming) <code title="attr-table-summary"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-table-summary">summary</a></code> attribute, and the user
  agent has not classified the table as a layout table, the user agent
  may report the contents of that attribute to the user.</p>
  </div>

<!--FORK-->

  <p>Tables must not be used as layout aids.

  Historically, some Web authors have misused tables in HTML as a way
  to control their page layout. This usage is non-conforming, because
  tools attempting to extract tabular data from such documents would
  obtain very confusing results.

  In particular, users of accessibility tools like screen readers are
  likely to find it very difficult to navigate pages with tables used
  for layout.</p>

  <!-- The paragraph below replaces the above one in the W3C copy due
  to a WG decision. It is not used in the WHATWG copy for the
  following reasons:

   * "should not" implies that there may be valid reasons to use
     tables for layout, which there are not.

   * The second sentence appears to be grammatically incorrect, and
     more importantly, does not clearly state that use of tables for
     layout has always been a misuse. This implies it may have once
     been correct (even though that is not the case), and that further
     may reduce the effectiveness of advocacy on this topic.

   * The third sentence (in the paragraph below) is identical to the
     fourth one in the paragraph above except for comma usage which
     seems incorrect (it implies that the users are the screen
     readers, as opposed to the tools, if I'm reading it right).

   * The final sentence below flat out legitimizes layout tables.

   * The paragraph below seems to assume that only ARIA-enabled ATs
     are a concern, when in fact there are numerous UAs other than
     ARIA-enabled ATs that are harmed by this use of layout tables.

   * The paragraph below fails to suggest that UAs will need
     heuristics to deal with the existing content.

   * The text below actually contradicts other requirements in this
     specification (<table>s represent tables, and elements must be
     used per their semantics, so the requirement that tables not be
     used for layout is in fact technically redundant, and the
     paragraph below doesn't change that).

   * There really is no good reason to use tables for layout anymore,
     and conformance criteria should support best practices, not
     obsolete authoring practices.

  -->


  <p class="note">There are a variety of alternatives to using HTML
  tables for layout, primarily using CSS positioning and the CSS table
  model.</p>

  <p>The <dfn id="attr-table-border" title="attr-table-border"><code>border</code></dfn>
  attribute may be specified on a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element to
  explicitly indicate that the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element is not being
  used for layout purposes. If specified, the attribute's value must
  either be the empty string or the value "<code title="">1</code>".
  The attribute is used by certain user agents as an indication that
  borders should be drawn around cells of the table.</p>
  <!--!--> <!-- http://lists.w3.org/Archives/Public/public-html/2011Apr/0419.html -->


  <div class="impl">
  <hr><p>Tables can be complicated to understand and navigate. To help
  users with this, user agents should clearly delineate cells in a
  table from each other, unless the user agent has classified the
  table as a
<!--FORK-->
  (non-conforming)
<!--FORK-->
  layout table.</p>
  </div>

  <p class="note">Authors <span class="impl">and implementors</span>
  are encouraged to consider using some of the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-layout-techniques">table layout techniques</a>
  described below to make tables easier to navigate for users.</p>

  <div class="impl">

  <p>User agents, especially those that do table analysis on arbitrary
  content, are encouraged to find heuristics to determine which tables
  actually contain data and which are merely being used for layout.
  This specification does not define a precise heuristic, but the
  following are suggested as possible indicators:</p>

  <table><thead><tr><th>Feature
     </th><th>Indication
   </th></tr></thead><tbody><tr><td>The use of the <code title="attr-aria-role">role</code> attribute with the value <code title="attr-aria-role-presentation">presentation</code>
     </td><td>Probably a layout table
    </td></tr><tr><td>The use of the <code title="attr-table-border"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-table-border">border</a></code> attribute with the non-conforming value 0
     </td><td>Probably a layout table
    </td></tr><tr><td>The use of the non-conforming <code title="attr-table-cellspacing"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-table-cellspacing">cellspacing</a></code> and <code title="attr-table-cellpadding"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-table-cellpadding">cellpadding</a></code> attributes with the value 0
     </td><td>Probably a layout table
   </td></tr></tbody><tbody><tr><td>The use of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>, or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements        
     </td><td>Probably a non-layout table
    </td></tr><tr><td>The use of the <code title="attr-tdth-headers"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-headers">headers</a></code> and <code title="attr-th-scope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope">scope</a></code> attributes
     </td><td>Probably a non-layout table
    </td></tr><tr><td>The use of the <code title="attr-table-border"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-table-border">border</a></code> attribute with a value other than 0
     </td><td>Probably a non-layout table
    </td></tr><tr><td>Explicit visible borders set using CSS
     </td><td>Probably a non-layout table
   </td></tr></tbody><tbody><tr><td>The use of the <code title="attr-table-summary"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-table-summary">summary</a></code> attribute
     </td><td>Not a good indicator (both layout and non-layout tables have historically been given this attribute)
  </td></tr></tbody></table><p class="note">It is quite possible that the above suggestions are
  wrong. Implementors are urged to provide feedback elaborating on
  their experiences with trying to create a layout table detection
  heuristic.</p>

  </div>

  <hr><!--TOPIC:DOM APIs--><dl class="domintro"><dt><var title="">table</var> . <code title="dom-table-caption"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-caption">caption</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the table's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element.</p>
    <p>Can be set, to replace the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element. If the
    new value is not a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element, throws a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code> exception.</p>
   </dd>

   <dt><var title="">caption</var> = <var title="">table</var> . <code title="dom-table-createCaption"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-createcaption">createCaption</a></code>()</dt>
   <dd>
    <p>Ensures the table has a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element, and returns it.</p>
   </dd>

   <dt><var title="">table</var> . <code title="dom-table-deleteCaption"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-deletecaption">deleteCaption</a></code>()</dt>
   <dd>
    <p>Ensures the table does not have a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element.</p>
   </dd>

   <dt><var title="">table</var> . <code title="dom-table-tHead"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-thead">tHead</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the table's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element.</p>
    <p>Can be set, to replace the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element. If the
    new value is not a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element, throws a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code> exception.</p>
   </dd>

   <dt><var title="">thead</var> = <var title="">table</var> . <code title="dom-table-createTHead"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-createthead">createTHead</a></code>()</dt>
   <dd>
    <p>Ensures the table has a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element, and returns it.</p>
   </dd>

   <dt><var title="">table</var> . <code title="dom-table-deleteTHead"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-deletethead">deleteTHead</a></code>()</dt>
   <dd>
    <p>Ensures the table does not have a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element.</p>
   </dd>

   <dt><var title="">table</var> . <code title="dom-table-tFoot"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-tfoot">tFoot</a></code> [ = <var title="">value</var> ]</dt>
   <dd>
    <p>Returns the table's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element.</p>
    <p>Can be set, to replace the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element. If the
    new value is not a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element, throws a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code> exception.</p>
   </dd>

   <dt><var title="">tfoot</var> = <var title="">table</var> . <code title="dom-table-createTFoot"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-createtfoot">createTFoot</a></code>()</dt>
   <dd>
    <p>Ensures the table has a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element, and returns it.</p>
   </dd>

   <dt><var title="">table</var> . <code title="dom-table-deleteTFoot"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-deletetfoot">deleteTFoot</a></code>()</dt>
   <dd>
    <p>Ensures the table does not have a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element.</p>
   </dd>

   <dt><var title="">table</var> . <code title="dom-table-tBodies"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-tbodies">tBodies</a></code></dt>
   <dd>
    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> elements of the table.</p>
   </dd>

   <dt><var title="">tbody</var> = <var title="">table</var> . <code title="dom-table-createTBody"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-createtbody">createTBody</a></code>()</dt>
   <dd>
    <p>Creates a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element, inserts it into the table, and returns it.</p>
   </dd>

   <dt><var title="">table</var> . <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code></dt>
   <dd>
    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements of the table.</p>
   </dd>

   <dt><var title="">tr</var> = <var title="">table</var> . <code title="dom-table-insertRow"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-insertrow">insertRow</a></code>(<var title="">index</var>)</dt>
   <dd>
    <p>Creates a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element, along with a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> if required, inserts them into the table at the position given by the argument, and returns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>.</p>
    <p>The position is relative to the rows in the table. The index −1 is equivalent to inserting at the end of the table.</p>
    <p>If the given position is less than −1 or greater than the number of rows, throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>
   </dd>

   <dt><var title="">table</var> . <code title="dom-table-deleteRow"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-deleterow">deleteRow</a></code>(<var title="">index</var>)</dt>
   <dd>
    <p>Removes the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element with the given position in the table.</p>
    <p>The position is relative to the rows in the table. The index −1 is equivalent to deleting the last row of the table.</p>
    <p>If the given position is less than −1 or greater than the index of the last row, or if there are no rows, throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-table-caption" title="dom-table-caption"><code>caption</code></dfn> IDL
  attribute must return, on getting, the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>
  element child of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any, or null
  otherwise. On setting, if the new value is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>
  element, the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element child of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any, must be removed, and the new
  value must be inserted as the first node of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>
  element. If the new value is not a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element,
  then a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code> DOM exception must be
  thrown instead.</p>

  <p>The <dfn id="dom-table-createcaption" title="dom-table-createCaption"><code>createCaption()</code></dfn>
  method must return the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element child of
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any; otherwise a new
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element must be created, inserted as the first
  node of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, and then returned.</p>

  <p>The <dfn id="dom-table-deletecaption" title="dom-table-deleteCaption"><code>deleteCaption()</code></dfn>
  method must remove the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element child of
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any.</p>

  <p>The <dfn id="dom-table-thead" title="dom-table-tHead"><code>tHead</code></dfn> IDL
  attribute must return, on getting, the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>
  element child of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any, or null
  otherwise. On setting, if the new value is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>
  element, the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element child of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any, must be removed, and the new
  value must be inserted immediately before the first element in the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element that is neither a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>
  element nor a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element, if any, or at the end
  of the table if there are no such elements. If the new value is not
  a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element, then a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code> DOM exception must be thrown
  instead.</p>

  <p>The <dfn id="dom-table-createthead" title="dom-table-createTHead"><code>createTHead()</code></dfn>
  method must return the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element child of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any; otherwise a new
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element must be created and inserted immediately
  before the first element in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element that is
  neither a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element nor a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>
  element, if any, or at the end of the table if there are no such
  elements, and then that new element must be returned.</p>

  <p>The <dfn id="dom-table-deletethead" title="dom-table-deleteTHead"><code>deleteTHead()</code></dfn>
  method must remove the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element child of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any.</p>

  <p>The <dfn id="dom-table-tfoot" title="dom-table-tFoot"><code>tFoot</code></dfn> IDL
  attribute must return, on getting, the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code>
  element child of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any, or null
  otherwise. On setting, if the new value is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code>
  element, the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element child of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any, must be removed, and the new
  value must be inserted immediately before the first element in the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element that is neither a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>
  element, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element, nor a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>
  element, if any, or at the end of the table if there are no such
  elements. If the new value is not a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element, then
  a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#hierarchyrequesterror">HierarchyRequestError</a></code> DOM exception must be thrown
  instead.</p>

  <p>The <dfn id="dom-table-createtfoot" title="dom-table-createTFoot"><code>createTFoot()</code></dfn>
  method must return the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element child of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any; otherwise a new
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element must be created and inserted immediately
  before the first element in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element that is
  neither a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element, a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>
  element, nor a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element, if any, or at the end of
  the table if there are no such elements, and then that new element
  must be returned.</p>

  <p>The <dfn id="dom-table-deletetfoot" title="dom-table-deleteTFoot"><code>deleteTFoot()</code></dfn>
  method must remove the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element child of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any.</p>

  <p>The <dfn id="dom-table-tbodies" title="dom-table-tBodies"><code>tBodies</code></dfn>
  attribute must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> node, whose filter matches only
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> elements that are children of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element.</p>

  <p>The <dfn id="dom-table-createtbody" title="dom-table-createTBody"><code>createTBody()</code></dfn>
  method must create a new <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element, insert it
  immediately after the last <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element in the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if any, or at the end of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element has no
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element children, and then must return the new
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element.</p>

  <p>The <dfn id="dom-table-rows" title="dom-table-rows"><code>rows</code></dfn> attribute
  must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> node, whose filter matches only <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>
  elements that are either children of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element,
  or children of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code>, or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> elements that are themselves children of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element. The elements in the collection must be
  ordered such that those elements whose parent is a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> are included first, in tree order, followed by
  those elements whose parent is either a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element, again in tree order, followed finally by
  those elements whose parent is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element, still
  in tree order.</p>

  <p>The behavior of the <dfn id="dom-table-insertrow" title="dom-table-insertRow"><code>insertRow(<var title="">index</var>)</code></dfn> method depends on the state of
  the table. When it is called, the method must act as required by the
  first item in the following list of conditions that describes the
  state of the table and the <var title="">index</var> argument:</p>

  <dl class="switch"><dt>If <var title="">index</var> is less than −1 or greater than
   the number of elements in <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code>
   collection:</dt>

   <dd>The method must throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code>
   exception.</dd>

   <dt>If the <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> collection has
   zero elements in it, and the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> has no
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> elements in it:</dt>

   <dd>The method must create a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element, then
   create a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element, then append the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>
   element to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element, then append the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, and
   finally return the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element.</dd>

   <dt>If the <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> collection has
   zero elements in it:</dt>

   <dd>The method must create a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element, append it to
   the last <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element in the table, and return the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element.</dd>

   <dt>If <var title="">index</var> is missing, equal to −1, or
   equal to the number of items in <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> collection:</dt>

   <dd>The method must create a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element, and append it
   to the parent of the last <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element in the <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> collection. Then, the newly
   created <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element must be returned.</dd>

   <dt>Otherwise:</dt>

   <dd>The method must create a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element, insert it
   immediately before the <var title="">index</var>th <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>
   element in the <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> collection,
   in the same parent, and finally must return the newly created
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element.</dd>

  </dl><p>When the <dfn id="dom-table-deleterow" title="dom-table-deleteRow"><code>deleteRow(<var title="">index</var>)</code></dfn> method is called, the user agent
  must run the following steps:</p>

  <ol><li><p>If <var title="">index</var> is equal to −1, then
   <var title="">index</var> must be set to the number if items in the
   <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> collection, minus
   one.</p></li>

   <li><p>Now, if <var title="">index</var> is less than zero, or
   greater than or equal to the number of elements in the <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> collection, the method must
   instead throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception, and these
   steps must be aborted.</p></li>

   <li><p>Otherwise, the method must remove the <var title="">index</var>th element in the <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> collection from its parent.</p>

  </li></ol><p>The <dfn id="dom-table-border" title="dom-table-border"><code>border</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name.</p>

  </div>
<!--TOPIC:HTML-->

  <div class="example">

   <p>Here is an example of a table being used to mark up a Sudoku
   puzzle. Observe the lack of headers, which are not necessary in
   such a table.</p>

   <pre>&lt;section&gt;
 &lt;style scoped&gt;
  table { border-collapse: collapse; border: solid thick; }
  colgroup, tbody { border: solid medium; }
  td { border: solid thin; height: 1.4em; width: 1.4em; text-align: center; padding: 0; }
 &lt;/style&gt;
 &lt;h1&gt;Today's Sudoku&lt;/h1&gt;
 &lt;table&gt;
  &lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;
  &lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;
  &lt;colgroup&gt;&lt;col&gt;&lt;col&gt;&lt;col&gt;
  &lt;tbody&gt;
   &lt;tr&gt; &lt;td&gt; 1 &lt;td&gt;   &lt;td&gt; 3 &lt;td&gt; 6 &lt;td&gt;   &lt;td&gt; 4 &lt;td&gt; 7 &lt;td&gt;   &lt;td&gt; 9
   &lt;tr&gt; &lt;td&gt;   &lt;td&gt; 2 &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 9 &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 1 &lt;td&gt;
   &lt;tr&gt; &lt;td&gt; 7 &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 6
  &lt;tbody&gt;
   &lt;tr&gt; &lt;td&gt; 2 &lt;td&gt;   &lt;td&gt; 4 &lt;td&gt;   &lt;td&gt; 3 &lt;td&gt;   &lt;td&gt; 9 &lt;td&gt;   &lt;td&gt; 8
   &lt;tr&gt; &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;
   &lt;tr&gt; &lt;td&gt; 5 &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 9 &lt;td&gt;   &lt;td&gt; 7 &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 1
  &lt;tbody&gt;
   &lt;tr&gt; &lt;td&gt; 6 &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 5 &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 2
   &lt;tr&gt; &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 7 &lt;td&gt;   &lt;td&gt;   &lt;td&gt;   &lt;td&gt;
   &lt;tr&gt; &lt;td&gt; 9 &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 8 &lt;td&gt;   &lt;td&gt; 2 &lt;td&gt;   &lt;td&gt;   &lt;td&gt; 5
 &lt;/table&gt;
&lt;/section&gt;</pre>

  </div>




  <h5 id="table-descriptions-techniques"><span class="secno">4.9.1.1 </span>Techniques for describing tables</h5>

  <p id="table-descriptions">For tables that consist of more than just
  a grid of cells with headers in the first row and headers in the
  first column, and for any table in general where the reader might
  have difficulty understanding the content, authors should include
  explanatory information introducing the table. This information is
  useful for all users, but is especially useful for users who cannot
  see the table, e.g. users of screen readers.</p>

  <p>Such explanatory information should introduce the purpose of the
  table, outline its basic cell structure, highlight any trends or
  patterns, and generally teach the user how to use the table.</p>

  <!--Describing the conclusions of the data in a table is useful to
  everyone; explaining how to read the table, if not obvious from the
  headers alone, is useful to everyone; describing the structure of
  the table, if it is easy to grasp visually, might not be useful to
  everyone, but it might also not be useful to users who can quickly
  navigate the table with an accessibility tool.-->

  <p>For instance, the following table:</p>

  <table><caption>Characteristics with positive and negative sides</caption>
   <thead><tr><th id="n"> Negative
     </th><th> Characteristic
     </th><th> Positive
   </th></tr></thead><tbody><tr><td headers="n r1"> Sad
     </td><th id="r1"> Mood
     </th><td> Happy
    </td></tr><tr><td headers="n r2"> Failing
     </td><th id="r2"> Grade
     </th><td> Passing
  </td></tr></tbody></table><p>...might benefit from a description explaining the way the table
  is laid out, something like "Characteristics are given in the
  second column, with the negative side in the left column and the
  positive side in the right column".</p>

  <p>There are a variety of ways to include this information, such as:</p>

  <dl><dt>In prose, surrounding the table</dt>

   <dd>
    <div class="example"><pre>&lt;p&gt;In the following table, characteristics are given in the second
column, with the negative side in the left column and the positive
side in the right column.&lt;/p&gt;
&lt;table&gt;
 &lt;caption&gt;Characteristics with positive and negative sides&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th id="n"&gt; Negative
   &lt;th&gt; Characteristic
   &lt;th&gt; Positive
 &lt;tbody&gt;
  &lt;tr&gt;
   &lt;td headers="n r1"&gt; Sad
   &lt;th id="r1"&gt; Mood
   &lt;td&gt; Happy
  &lt;tr&gt;
   &lt;td headers="n r2"&gt; Failing
   &lt;th id="r2"&gt; Grade
   &lt;td&gt; Passing
&lt;/table&gt;</pre></div>
   </dd>

   <dt>In the table's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code></dt>

   <dd>
    <div class="example"><pre>&lt;table&gt;
 &lt;caption&gt;
  &lt;strong&gt;Characteristics with positive and negative sides.&lt;/strong&gt;
  &lt;p&gt;Characteristics are given in the second column, with the
  negative side in the left column and the positive side in the right
  column.&lt;/p&gt;
 &lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th id="n"&gt; Negative
   &lt;th&gt; Characteristic
   &lt;th&gt; Positive
 &lt;tbody&gt;
  &lt;tr&gt;
   &lt;td headers="n r1"&gt; Sad
   &lt;th id="r1"&gt; Mood
   &lt;td&gt; Happy
  &lt;tr&gt;
   &lt;td headers="n r2"&gt; Failing
   &lt;th id="r2"&gt; Grade
   &lt;td&gt; Passing
&lt;/table&gt;</pre></div>
   </dd>

   <dt>In the table's <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>, in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-details-element">details</a></code> element</dt>

   <dd>
    <div class="example"><pre>&lt;table&gt;
 &lt;caption&gt;
  &lt;strong&gt;Characteristics with positive and negative sides.&lt;/strong&gt;
  &lt;details&gt;
   &lt;summary&gt;Help&lt;/summary&gt;
   &lt;p&gt;Characteristics are given in the second column, with the
   negative side in the left column and the positive side in the right
   column.&lt;/p&gt;
  &lt;/details&gt;
 &lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th id="n"&gt; Negative
   &lt;th&gt; Characteristic
   &lt;th&gt; Positive
 &lt;tbody&gt;
  &lt;tr&gt;
   &lt;td headers="n r1"&gt; Sad
   &lt;th id="r1"&gt; Mood
   &lt;td&gt; Happy
  &lt;tr&gt;
   &lt;td headers="n r2"&gt; Failing
   &lt;th id="r2"&gt; Grade
   &lt;td&gt; Passing
&lt;/table&gt;</pre></div>
   </dd>

   <dt>Next to the table, in the same <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code></dt>

   <dd>
    <div class="example"><pre>&lt;figure&gt;
 &lt;figcaption&gt;Characteristics with positive and negative sides&lt;/figcaption&gt;
 &lt;p&gt;Characteristics are given in the second column, with the
 negative side in the left column and the positive side in the right
 column.&lt;/p&gt;
 &lt;table&gt;
  &lt;thead&gt;
   &lt;tr&gt;
    &lt;th id="n"&gt; Negative
    &lt;th&gt; Characteristic
    &lt;th&gt; Positive
  &lt;tbody&gt;
   &lt;tr&gt;
    &lt;td headers="n r1"&gt; Sad
    &lt;th id="r1"&gt; Mood
    &lt;td&gt; Happy
   &lt;tr&gt;
    &lt;td headers="n r2"&gt; Failing
    &lt;th id="r2"&gt; Grade
    &lt;td&gt; Passing
 &lt;/table&gt;
&lt;/figure&gt;</pre></div>
   </dd>

   <dt>Next to the table, in a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code>'s <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code></dt>

   <dd>
    <div class="example"><pre>&lt;figure&gt;
 &lt;figcaption&gt;
  &lt;strong&gt;Characteristics with positive and negative sides&lt;/strong&gt;
  &lt;p&gt;Characteristics are given in the second column, with the
  negative side in the left column and the positive side in the right
  column.&lt;/p&gt;
 &lt;/figcaption&gt;
 &lt;table&gt;
  &lt;thead&gt;
   &lt;tr&gt;
    &lt;th id="n"&gt; Negative
    &lt;th&gt; Characteristic
    &lt;th&gt; Positive
  &lt;tbody&gt;
   &lt;tr&gt;
    &lt;td headers="n r1"&gt; Sad
    &lt;th id="r1"&gt; Mood
    &lt;td&gt; Happy
   &lt;tr&gt;
    &lt;td headers="n r2"&gt; Failing
    &lt;th id="r2"&gt; Grade
    &lt;td&gt; Passing
 &lt;/table&gt;
&lt;/figure&gt;</pre></div>
   </dd>

  </dl><p>Authors may also use other techniques, or combinations of the
  above techniques, as appropriate.</p>

  <p>The best option, of course, rather than writing a description
  explaining the way the table is laid out, is to adjust the table
  such that no explanation is needed.</p>

  <div class="example">

   <p>In the case of the table used in the examples above, a simple
   rearrangement of the table so that the headers are on the top and
   left sides removes the need for an explanation as well as removing
   the need for the use of <code title="attr-tdth-headers"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-headers">headers</a></code> attributes:</p>

   <pre>&lt;table&gt;
 &lt;caption&gt;Characteristics with positive and negative sides&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th&gt; Characteristic
   &lt;th&gt; Negative
   &lt;th&gt; Positive
 &lt;tbody&gt;
  &lt;tr&gt;
   &lt;th&gt; Mood
   &lt;td&gt; Sad
   &lt;td&gt; Happy
  &lt;tr&gt;
   &lt;th&gt; Grade
   &lt;td&gt; Failing
   &lt;td&gt; Passing
&lt;/table&gt;</pre>

  </div>



  <h5 id="table-layout-techniques"><span class="secno">4.9.1.2 </span>Techniques for table layout</h5>

  <p>Good table layout is key to making tables more readable and usable.</p>

  <p>In visual media, providing column and row borders and alternating
  row backgrounds can be very effective to make complicated tables
  more readable.</p>

  <p>For tables with large volumes of numeric content, using
  monospaced fonts can help users see patterns, especially in
  situations where a user agent does not render the borders.
  (Unfortunately, for historical reasons, not rendering borders on
  tables is a common default.)</p>

  <p>In speech media, table cells can be distinguished by reporting
  the corresponding headers before reading the cell's contents, and by
  allowing users to navigate the table in a grid fashion, rather than
  serializing the entire contents of the table in source order.</p>

  <p>Authors are encouraged to use CSS to achieve these effects.</p>

  <div class="impl">
  <p>User agents are encouraged to render tables using these
  techniques whenever the page does not use CSS and the table is not
  classified as a layout table.</p>
  </div>




  <h4 id="the-caption-element"><span class="secno">4.9.2 </span>The <dfn><code>caption</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As the first element child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>, but with no descendant <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmltablecaptionelement">HTMLTableCaptionElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the title of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> that is its parent, if it has a parent and that
  is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element takes part in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table
  model</a>.</p>

  </div>

  <p>When a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element is the only content in a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figure-element">figure</a></code> element other than the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code>,
  the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element should be omitted in favor of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-figcaption-element">figcaption</a></code>.</p>

  <p>A caption can introduce context for a table, making it
  significantly easier to understand.</p>

  <div class="example">

   <p>Consider, for instance, the following table:</p>

   <table class="dice-example"><tbody><tr><th>   </th><th> 1 </th><th> 2 </th><th> 3 </th><th> 4 </th><th> 5 </th><th> 6
    </th></tr><tr><th> 1 </th><td> 2 </td><td> 3 </td><td> 4 </td><td> 5 </td><td> 6 </td><td> 7
    </td></tr><tr><th> 2 </th><td> 3 </td><td> 4 </td><td> 5 </td><td> 6 </td><td> 7 </td><td> 8
    </td></tr><tr><th> 3 </th><td> 4 </td><td> 5 </td><td> 6 </td><td> 7 </td><td> 8 </td><td> 9
    </td></tr><tr><th> 4 </th><td> 5 </td><td> 6 </td><td> 7 </td><td> 8 </td><td> 9 </td><td> 10
    </td></tr><tr><th> 5 </th><td> 6 </td><td> 7 </td><td> 8 </td><td> 9 </td><td> 10 </td><td> 11
    </td></tr><tr><th> 6 </th><td> 7 </td><td> 8 </td><td> 9 </td><td> 10 </td><td> 11 </td><td> 12
   </td></tr></tbody></table><p>In the abstract, this table is not clear. However, with a
   caption giving the table's number (for reference in the main prose)
   and explaining its use, it makes more sense:</p>

   <pre>&lt;caption&gt;
&lt;p&gt;Table 1.
&lt;p&gt;This table shows the total score obtained from rolling two
six-sided dice. The first row represents the value of the first die,
the first column the value of the second die. The total is given in
the cell that corresponds to the values of the two dice.
&lt;/caption&gt;</pre>

<!--HTML4POLICE (hidden in w3c version because w3c version has to be valid HTML4) --><!--FORK-->
   <p>This provides the user with more context:</p>

   <table class="dice-example"><caption>
     <p>Table 1.
     </p><p>This table shows the total score obtained from rolling two
     six-sided dice. The first row represents the value of the first
     die, the first column the value of the second die. The total is
     given in the cell that corresponds to the values of the two dice.
    </p></caption>
    <tbody><tr><th>   </th><th> 1 </th><th> 2 </th><th> 3 </th><th> 4 </th><th> 5 </th><th> 6
    </th></tr><tr><th> 1 </th><td> 2 </td><td> 3 </td><td> 4 </td><td> 5 </td><td> 6 </td><td> 7
    </td></tr><tr><th> 2 </th><td> 3 </td><td> 4 </td><td> 5 </td><td> 6 </td><td> 7 </td><td> 8
    </td></tr><tr><th> 3 </th><td> 4 </td><td> 5 </td><td> 6 </td><td> 7 </td><td> 8 </td><td> 9
    </td></tr><tr><th> 4 </th><td> 5 </td><td> 6 </td><td> 7 </td><td> 8 </td><td> 9 </td><td> 10
    </td></tr><tr><th> 5 </th><td> 6 </td><td> 7 </td><td> 8 </td><td> 9 </td><td> 10 </td><td> 11
    </td></tr><tr><th> 6 </th><td> 7 </td><td> 8 </td><td> 9 </td><td> 10 </td><td> 11 </td><td> 12
   </td></tr></tbody></table><!--HTML4POLICE--><!--FORK--></div>




  <h4 id="the-colgroup-element"><span class="secno">4.9.3 </span>The <dfn><code>colgroup</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, after any
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> elements and before any <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>,
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>
   elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>If the <code title="attr-colgroup-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-colgroup-span">span</a></code> attribute is present: Empty.</dd>
   <dd>If the <code title="attr-colgroup-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-colgroup-span">span</a></code> attribute is absent: Zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> elements.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-colgroup-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-colgroup-span">span</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">interface <dfn id="htmltablecolelement">HTMLTableColElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-colgroup-span" title="dom-colgroup-span">span</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column-group" title="concept-column-group">group</a> of one or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column" title="concept-column">columns</a> in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> that
  is its parent, if it has a parent and that is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>
  element.</p>

  <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element contains no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code>
  elements, then the element may have a <dfn id="attr-colgroup-span" title="attr-colgroup-span"><code>span</code></dfn> content attribute
  specified, whose value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative
  integer</a> greater than zero.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element and its <code title="attr-colgroup-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-colgroup-span">span</a></code> attribute take part in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table model</a>.</p>

  <p>The <dfn id="dom-colgroup-span" title="dom-colgroup-span"><code>span</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name. The value must be <a href="http://www.whatwg.org/specs/web-apps/current-work/#limited-to-only-non-negative-numbers-greater-than-zero">limited to only non-negative
  numbers greater than zero</a>.</p>

  </div>


  <h4 id="the-col-element"><span class="secno">4.9.4 </span>The <dfn><code>col</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element that doesn't have
   a <code title="attr-col-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-col-span">span</a></code> attribute.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Empty.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-col-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-col-span">span</a></code></dd>
   <!-- v2: char, to specify the decimal character used in numeric data cells in the column (not header cells) -->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <p><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablecolelement">HTMLTableColElement</a></code>, same as for
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> elements. This interface defines one member,
    <code title="dom-col-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-col-span">span</a></code>.</p>
   </dd>
  </dl><!--TOPIC:HTML--><p>If a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element has a parent and that is a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element that itself has a parent that is a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, then the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> one or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column" title="concept-column">columns</a> in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column-group" title="concept-column-group">column group</a> represented by that
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>.</p>

  <p>The element may have a <dfn id="attr-col-span" title="attr-col-span"><code>span</code></dfn> content attribute
  specified, whose value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative
  integer</a> greater than zero.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element and its <code title="attr-col-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-col-span">span</a></code> attribute take part in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table model</a>.</p>

  <p>The <dfn id="dom-col-span" title="dom-col-span"><code>span</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name. The value must be <a href="http://www.whatwg.org/specs/web-apps/current-work/#limited-to-only-non-negative-numbers-greater-than-zero">limited to only non-negative
  numbers greater than zero</a>.</p>

  </div>


  <h4 id="the-tbody-element"><span class="secno">4.9.5 </span>The <dfn><code>tbody</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, after any
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>, and
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> elements, but only if there are no
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements that are children of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmltablesectionelement">HTMLTableSectionElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-rows" title="dom-tbody-rows">rows</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-insertrow" title="dom-tbody-insertRow">insertRow</a>(optional long index);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-deleterow" title="dom-tbody-deleteRow">deleteRow</a>(long index);
};</pre>
    <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablesectionelement">HTMLTableSectionElement</a></code> interface is also
    used for <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> elements.</p>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row-group" title="concept-row-group">block</a> of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row" title="concept-row">rows</a> that consist of a body of data for
  the parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code>
  element has a parent and it is a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element takes part in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table
  model</a>.</p>

  </div>

<!--TOPIC:DOM APIs-->
  <dl class="domintro"><dt><var title="">tbody</var> . <code title="dom-tbody-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-rows">rows</a></code></dt>
   <dd>
    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements of the table section.</p>
   </dd>

   <dt><var title="">tr</var> = <var title="">tbody</var> . <code title="dom-tbody-insertRow"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-insertrow">insertRow</a></code>( [ <var title="">index</var> ] )</dt>
   <dd>
    <p>Creates a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element, inserts it into the table section at the position given by the argument, and returns the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>.</p>
    <p>The position is relative to the rows in the table section. The index −1, which is the default if the argument is omitted, is equivalent to inserting at the end of the table section.</p>
    <p>If the given position is less than −1 or greater than the number of rows, throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>
   </dd>

   <dt><var title="">tbody</var> . <code title="dom-tbody-deleteRow"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-deleterow">deleteRow</a></code>(<var title="">index</var>)</dt>
   <dd>
    <p>Removes the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element with the given position in the table section.</p>
    <p>The position is relative to the rows in the table section. The index −1 is equivalent to deleting the last row of the table section.</p>
    <p>If the given position is less than −1 or greater than the index of the last row, or if there are no rows, throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>
   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-tbody-rows" title="dom-tbody-rows"><code>rows</code></dfn> attribute
  must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the element,
  whose filter matches only <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements that are children
  of the element.</p>

  <p>The <dfn id="dom-tbody-insertrow" title="dom-tbody-insertRow"><code>insertRow(<var title="">index</var>)</code></dfn> method must, when invoked on an
  element <var title="">table section</var>, act as follows:</p>

  <p>If <var title="">index</var> is less than −1 or greater than the
  number of elements in the <code title="dom-tbody-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-rows">rows</a></code>
  collection, the method must throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code>
  exception.</p>

  <p>If <var title="">index</var> is missing, equal to −1, or
  equal to the number of items in the <code title="dom-tbody-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-rows">rows</a></code> collection, the method must
  create a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element, append it to the element <var title="">table section</var>, and return the newly created
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element.</p>

  <p>Otherwise, the method must create a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element,
  insert it as a child of the <var title="">table section</var>
  element, immediately before the <var title="">index</var>th
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element in the <code title="dom-tbody-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-rows">rows</a></code> collection, and finally must
  return the newly created <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element.</p>

  <p>The <dfn id="dom-tbody-deleterow" title="dom-tbody-deleteRow"><code>deleteRow(<var title="">index</var>)</code></dfn> method must remove the <var title="">index</var>th element in the <code title="dom-tbody-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-rows">rows</a></code> collection from its parent. If
  <var title="">index</var> is less than zero or greater than or equal
  to the number of elements in the <code title="dom-tbody-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-rows">rows</a></code> collection, the method must
  instead throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>

  </div>
<!--TOPIC:HTML-->


  <h4 id="the-thead-element"><span class="secno">4.9.6 </span>The <dfn><code>thead</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, after any
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>
   elements and before any <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code>, and
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements, but only if there are no other
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> elements that are children of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablesectionelement">HTMLTableSectionElement</a></code>, as defined for
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> elements.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row-group" title="concept-row-group">block</a> of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row" title="concept-row">rows</a> that consist of the column labels
  (headers) for the parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element has a parent and it is a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element takes part in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table
  model</a>.</p>

  </div>

  <div class="example">

   <p>This example shows a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element being used.
   Notice the use of both <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> elements
   in the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element: the first row is the headers,
   and the second row is an explanation of how to fill in the
   table.</p>

   <pre>&lt;table&gt;
 &lt;caption&gt; School auction sign-up sheet &lt;/caption&gt;
<strong> &lt;thead&gt;
  &lt;tr&gt;
   &lt;th&gt;&lt;label for=e1&gt;Name&lt;/label&gt;
   &lt;th&gt;&lt;label for=e2&gt;Product&lt;/label&gt;
   &lt;th&gt;&lt;label for=e3&gt;Picture&lt;/label&gt;
   &lt;th&gt;&lt;label for=e4&gt;Price&lt;/label&gt;
  &lt;tr&gt;
   &lt;td&gt;Your name here
   &lt;td&gt;What are you selling?
   &lt;td&gt;Link to a picture
   &lt;td&gt;Your reserve price
</strong> &lt;tbody&gt;
  &lt;tr&gt;
   &lt;td&gt;Ms Danus
   &lt;td&gt;Doughnuts
   &lt;td&gt;&lt;img src="http://example.com/mydoughnuts.png" title="Doughnuts from Ms Danus"&gt;
   &lt;td&gt;$45
  &lt;tr&gt;
   &lt;td&gt;&lt;input id=e1 type=text name=who required form=f&gt;
   &lt;td&gt;&lt;input id=e2 type=text name=what required form=f&gt;
   &lt;td&gt;&lt;input id=e3 type=url name=pic form=f&gt;
   &lt;td&gt;&lt;input id=e4 type=number step=0.01 min=0 value=0 required form=f&gt;
&lt;/table&gt;
&lt;form id=f action="/auction.cgi"&gt;
 &lt;input type=button name=add value="Submit"&gt;
&lt;/form&gt;</pre>

  </div>


  <h4 id="the-tfoot-element"><span class="secno">4.9.7 </span>The <dfn><code>tfoot</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, after any
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>
   elements and before any <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>
   elements, but only if there are no other <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code>
   elements that are children of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element.</dd>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, after any
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>,
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements, but only if there
   are no other <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> elements that are children of the
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablesectionelement">HTMLTableSectionElement</a></code>, as defined for
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> elements.</dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row-group" title="concept-row-group">block</a> of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row" title="concept-row">rows</a> that consist of the column summaries
  (footers) for the parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, if the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element has a parent and it is a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element takes part in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table
  model</a>.</p>

  </div>


  <h4 id="the-tr-element"><span class="secno">4.9.8 </span>The <dfn><code>tr</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code> element.</dd>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> element.</dd>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element.</dd>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, after any
   <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>, and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>
   elements, but only if there are no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code> elements that
   are children of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd>Zero or more <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmltablerowelement">HTMLTableRowElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
  readonly attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-rowindex" title="dom-tr-rowIndex">rowIndex</a>;
  readonly attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-sectionrowindex" title="dom-tr-sectionRowIndex">sectionRowIndex</a>;
  readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-cells" title="dom-tr-cells">cells</a>;
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-insertcell" title="dom-tr-insertCell">insertCell</a>(optional long index);
  void <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-deletecell" title="dom-tr-deleteCell">deleteCell</a>(long index);
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row" title="concept-row">row</a> of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-cell" title="concept-cell">cells</a> in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table" title="concept-table">table</a>.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element takes part in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table
  model</a>.</p>

  </div>

<!--TOPIC:DOM APIs-->
  <dl class="domintro"><dt><var title="">tr</var> . <code title="dom-tr-rowIndex"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-rowindex">rowIndex</a></code></dt>

   <dd>

    <p>Returns the position of the row in the table's <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> list.</p>

    <p>Returns −1 if the element isn't in a table.</p>

   </dd>

   <dt><var title="">tr</var> . <code title="dom-tr-sectionRowIndex"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-sectionrowindex">sectionRowIndex</a></code></dt>

   <dd>

    <p>Returns the position of the row in the table section's <code title="dom-tbody-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-rows">rows</a></code> list.</p>

    <p>Returns −1 if the element isn't in a table section.</p>

   </dd>

   <dt><var title="">tr</var> . <code title="dom-tr-cells"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-cells">cells</a></code></dt>
   <dd>

    <p>Returns an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements of the row.</p>

   </dd>

   <dt><var title="">cell</var> = <var title="">tr</var> . <code title="dom-tr-insertCell"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-insertcell">insertCell</a></code>( [ <var title="">index</var> ] )</dt>

   <dd>

    <p>Creates a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> element, inserts it into the table
    row at the position given by the argument, and returns the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code>.</p>

    <p>The position is relative to the cells in the row. The
    index −1, which is the default if the argument is omitted,
    is equivalent to inserting at the end of the row.</p>

    <p>If the given position is less than −1 or greater than
    the number of cells, throws an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code>
    exception.</p>

   </dd>

   <dt><var title="">tr</var> . <code title="dom-tr-deleteCell"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-deletecell">deleteCell</a></code>(<var title="">index</var>)</dt>
   <dd>

    <p>Removes the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element with the
    given position in the row.</p>

    <p>The position is relative to the cells in the row. The index
    −1 is equivalent to deleting the last cell of the row.</p>

    <p>If the given position is less than −1 or greater than
    the index of the last cell, or if there are no cells, throws an
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-tr-rowindex" title="dom-tr-rowIndex"><code>rowIndex</code></dfn>
  attribute must, if the element has a parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>
  element, or a parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>, or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> element and a <em>grandparent</em>
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, return the index of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>
  element in that <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element's <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">rows</a></code> collection. If there is no such
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, then the attribute must return
  −1.</p>

  <p>The <dfn id="dom-tr-sectionrowindex" title="dom-tr-sectionRowIndex"><code>sectionRowIndex</code></dfn>
  attribute must, if the element has a parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>,
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>, or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code>
  element, return the index of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element in the
  parent element's <code title="">rows</code> collection (for tables,
  that's the <code title="dom-table-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-table-rows">HTMLTableElement.rows</a></code>
  collection; for table sections, that's the <code title="dom-tbody-rows"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tbody-rows">HTMLTableRowElement.rows</a></code>
  collection). If there is no such parent element, then the attribute
  must return −1.</p>

  <p>The <dfn id="dom-tr-cells" title="dom-tr-cells"><code>cells</code></dfn> attribute
  must return an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlcollection">HTMLCollection</a></code> rooted at the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element, whose filter matches only <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code>
  and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements that are children of the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element.</p>

  <p>The <dfn id="dom-tr-insertcell" title="dom-tr-insertCell"><code>insertCell(<var title="">index</var>)</code></dfn> method must act as follows:</p>

  <p>If <var title="">index</var> is less than −1 or greater than the
  number of elements in the <code title="dom-tr-cells"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-cells">cells</a></code>
  collection, the method must throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code>
  exception.</p>

  <p>If <var title="">index</var> is missing, equal to −1, or
  equal to the number of items in <code title="dom-tr-cells"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-cells">cells</a></code> collection, the method must create
  a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> element, append it to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element,
  and return the newly created <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> element.</p>

  <p>Otherwise, the method must create a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> element,
  insert it as a child of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element, immediately
  before the <var title="">index</var>th <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> or
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element in the <code title="dom-tr-cells"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-cells">cells</a></code> collection, and finally must
  return the newly created <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> element.</p>

  <p>The <dfn id="dom-tr-deletecell" title="dom-tr-deleteCell"><code>deleteCell(<var title="">index</var>)</code></dfn> method must remove the <var title="">index</var>th element in the <code title="dom-tr-cells"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-cells">cells</a></code> collection from its parent. If
  <var title="">index</var> is less than zero or greater than or equal
  to the number of elements in the <code title="dom-tr-cells"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-cells">cells</a></code> collection, the method must
  instead throw an <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#indexsizeerror">IndexSizeError</a></code> exception.</p>

  </div>
<!--TOPIC:HTML-->


  <h4 id="the-td-element"><span class="secno">4.9.9 </span>The <dfn><code>td</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-root">Sectioning root</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-tdth-colspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-colspan">colspan</a></code></dd>
   <dd><code title="attr-tdth-rowspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-rowspan">rowspan</a></code></dd>
   <dd><code title="attr-tdth-headers"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-headers">headers</a></code></dd>
   <!-- v2 char, to specify the decimal character used in numeric cells -->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmltabledatacellelement">HTMLTableDataCellElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablecellelement">HTMLTableCellElement</a> {};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a data <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-cell" title="concept-cell">cell</a> in a table.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> element and its <code title="attr-tdth-colspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-colspan">colspan</a></code>, <code title="attr-tdth-rowspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-rowspan">rowspan</a></code>, and <code title="attr-tdth-headers"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-headers">headers</a></code> attributes take part in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table model</a>.</p>

  </div>


  <h4 id="the-th-element"><span class="secno">4.9.10 </span>The <dfn><code>th</code></dfn> element</h4>

  <dl class="element"><dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-categories" title="element-dfn-categories">Categories</a>:</dt>
   <dd>None.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-contexts" title="element-dfn-contexts">Contexts in which this element can be used</a>:</dt>
   <dd>As a child of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> element.</dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-content-model" title="element-dfn-content-model">Content model</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#flow-content">Flow content</a>, but with no <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-header-element">header</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-footer-element">footer</a></code>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#sectioning-content">sectioning content</a>, or <a href="http://www.whatwg.org/specs/web-apps/current-work/#heading-content">heading content</a> descendants.</dd>
   <!-- EDITING NOTE: If you remove 'heading content' from the list above, make sure to fix the definition of 'sectioning root' to include <th> -->
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-attributes" title="element-dfn-attributes">Content attributes</a>:</dt>
   <dd><a href="http://www.whatwg.org/specs/web-apps/current-work/#global-attributes">Global attributes</a></dd>
   <dd><code title="attr-tdth-colspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-colspan">colspan</a></code></dd>
   <dd><code title="attr-tdth-rowspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-rowspan">rowspan</a></code></dd>
   <dd><code title="attr-tdth-headers"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-headers">headers</a></code></dd>
   <dd><code title="attr-th-scope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope">scope</a></code></dd>
   <dt><a href="http://www.whatwg.org/specs/web-apps/current-work/#element-dfn-dom" title="element-dfn-dom">DOM interface</a>:</dt><!--TOPIC:DOM APIs-->
   <dd>
    <pre class="idl">interface <dfn id="htmltableheadercellelement">HTMLTableHeaderCellElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablecellelement">HTMLTableCellElement</a> {
           attribute DOMString <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-th-scope" title="dom-th-scope">scope</a>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML--><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element <a href="http://www.whatwg.org/specs/web-apps/current-work/#represents">represents</a> a header <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-cell" title="concept-cell">cell</a> in a table.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element may have a <dfn id="attr-th-scope" title="attr-th-scope"><code>scope</code></dfn> content attribute
  specified. The <code title="attr-th-scope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope">scope</a></code> attribute is
  an <a href="http://www.whatwg.org/specs/web-apps/current-work/#enumerated-attribute">enumerated attribute</a> with five states, four of which
  have explicit keywords:</p>

  <dl><dt>The <dfn id="attr-th-scope-row" title="attr-th-scope-row"><code>row</code></dfn>
   keyword, which maps to the <i>row</i> state</dt>

   <dd>The <i>row</i> state means the header cell applies to some of
   the subsequent cells in the same row(s).</dd>

   <dt>The <dfn id="attr-th-scope-col" title="attr-th-scope-col"><code>col</code></dfn>
   keyword, which maps to the <i>column</i> state</dt>

   <dd>The <i>column</i> state means the header cell applies to some
   of the subsequent cells in the same column(s).</dd>

   <dt>The <dfn id="attr-th-scope-rowgroup" title="attr-th-scope-rowgroup"><code>rowgroup</code></dfn> keyword,
   which maps to the <i>row group</i> state</dt>

   <dd>The <i>row group</i> state means the header cell applies to all
   the remaining cells in the row group. A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element's
   <code title="attr-th-scope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope">scope</a></code> attribute must not be in
   the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope-rowgroup" title="attr-th-scope-rowgroup">row group</a> state if
   the element is not anchored in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row-group" title="concept-row-group">row group</a>.</dd>

   <dt>The <dfn id="attr-th-scope-colgroup" title="attr-th-scope-colgroup"><code>colgroup</code></dfn> keyword,
   which maps to the <i>column group</i> state</dt>

   <dd>The <i>column group</i> state means the header cell applies to
   all the remaining cells in the column group. A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code>
   element's <code title="attr-th-scope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope">scope</a></code> attribute must
   not be in the <a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope-colgroup" title="attr-th-scope-colgroup">column
   group</a> state if the element is not anchored in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column-group" title="concept-column-group">column group</a>.</dd>

   <dt>The <dfn id="attr-th-scope-auto" title="attr-th-scope-auto">auto</dfn> state</dt>

   <dd>The <i>auto</i> state makes the header cell apply to a set of
   cells selected based on context.</dd>

  </dl><p>The <code title="attr-th-scope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope">scope</a></code> attribute's
  <i>missing value default</i> is the <i>auto</i> state.</p>

  <div class="impl">

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element and its <code title="attr-tdth-colspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-colspan">colspan</a></code>, <code title="attr-tdth-rowspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-rowspan">rowspan</a></code>, <code title="attr-tdth-headers"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-headers">headers</a></code>, and <code title="attr-th-scope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope">scope</a></code> attributes take part in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table model</a>.</p>

  <p>The <dfn id="dom-th-scope" title="dom-th-scope"><code>scope</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name, <a href="http://www.whatwg.org/specs/web-apps/current-work/#limited-to-only-known-values">limited to only known values</a>.</p>

  </div>

  <div class="example">

   <p>The following example shows how the <code title="attr-th-scope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope">scope</a></code> attribute's <code title="attr-th-scope-rowgroup"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope-rowgroup">rowgroup</a></code> value affects which
   data cells a header cell applies to.</p>

   <p>Here is a markup fragment showing a table:</p>

   <pre>&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt; &lt;th&gt; ID &lt;th&gt; Measurement &lt;th&gt; Average &lt;th&gt; Maximum
 &lt;tbody&gt;
  &lt;tr&gt; &lt;td&gt; &lt;th scope=rowgroup&gt; Cats &lt;td&gt; &lt;td&gt;
  &lt;tr&gt; &lt;td&gt; 93 &lt;th scope=row&gt; Legs &lt;td&gt; 3.5 &lt;td&gt; 4
  &lt;tr&gt; &lt;td&gt; 10 &lt;th scope=row&gt; Tails &lt;td&gt; 1 &lt;td&gt; 1
 &lt;tbody&gt;
  &lt;tr&gt; &lt;td&gt; &lt;th scope=rowgroup&gt; English speakers &lt;td&gt; &lt;td&gt;
  &lt;tr&gt; &lt;td&gt; 32 &lt;th scope=row&gt; Legs &lt;td&gt; 2.67 &lt;td&gt; 4
  &lt;tr&gt; &lt;td&gt; 35 &lt;th scope=row&gt; Tails &lt;td&gt; 0.33 &lt;td&gt; 1
&lt;/table&gt;</pre>

   <p>This would result in the following table:</p>

   <table><thead><tr><th> ID </th><th> Measurement </th><th> Average </th><th> Maximum
    </th></tr></thead><tbody><tr><td> </td><th scope="rowgroup"> Cats </th><td> </td><td>
     </td></tr><tr><td> 93 </td><th scope="row"> Legs </th><td> 3.5 </td><td> 4
     </td></tr><tr><td> 10 </td><th scope="row"> Tails </th><td> 1 </td><td> 1
    </td></tr></tbody><tbody><tr><td> </td><th scope="rowgroup"> English speakers </th><td> </td><td>
     </td></tr><tr><td> 32 </td><th scope="row"> Legs </th><td> 2.67 </td><td> 4
     </td></tr><tr><td> 35 </td><th scope="row"> Tails </th><td> 0.33 </td><td> 1
   </td></tr></tbody></table><p>The headers in the first row all apply directly down to the rows
   in their column.</p>

   <p>The headers with the explicit <code title="attr-th-scope"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-th-scope">scope</a></code> attributes apply to all the
   cells in their row group other than the cells in the first column.</p>

   <p>The remaining headers apply just to the cells to the right of
   them.</p>

   <!-- image source: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/151 -->
   <img alt="" height="256" src="./HTML Standard_files/table-scope-diagram.png" width="459"><!-- (alt is empty because the diagram is completely described by the previous paragraphs) --></div>



  <h4 id="attributes-common-to-td-and-th-elements"><span class="secno">4.9.11 </span>Attributes common to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements</h4>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements may have a <dfn id="attr-tdth-colspan" title="attr-tdth-colspan"><code>colspan</code></dfn> content
  attribute specified, whose value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative
  integer</a> greater than zero.</p>

  <p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements may also have a
  <dfn id="attr-tdth-rowspan" title="attr-tdth-rowspan"><code>rowspan</code></dfn> content
  attribute specified, whose value must be a <a href="http://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">valid non-negative
  integer</a>.</p>

  <p>These attributes give the number of columns and rows respectively
  that the cell is to span. These attributes must not be used to
  overlap cells<span class="impl">, as described in the description of
  the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table model</a></span>.</p> <!-- conformance criteria
  for determining when this is violated are given in the processing
  model -->

  <hr><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element may have a <dfn id="attr-tdth-headers" title="attr-tdth-headers"><code>headers</code></dfn> content
  attribute specified. The <code title="attr-tdth-headers"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-headers">headers</a></code> attribute, if specified,
  must contain a string consisting of an <a href="http://www.whatwg.org/specs/web-apps/current-work/#unordered-set-of-unique-space-separated-tokens">unordered set of unique
  space-separated tokens</a> that are <a href="http://www.whatwg.org/specs/web-apps/current-work/#case-sensitive">case-sensitive</a>,
  each of which must have the value of an <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">ID</a> of a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element taking
  part in the same <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table" title="concept-table">table</a> as the
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element<span class="impl"> (as
  defined by the <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table model</a>)</span>.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element with <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">ID</a> <var title="">id</var> is said
  to be <i>directly targeted</i> by all <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements in the same <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table" title="concept-table">table</a> that have <code title="attr-tdth-headers"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-headers">headers</a></code> attributes whose values
  include as one of their tokens the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-id" title="concept-id">ID</a> <var title="">id</var>. A
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element <var title="">A</var> is said to be
  <i>targeted</i> by a <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> or <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> element
  <var title="">B</var> if either <var title="">A</var> is <i>directly
  targeted</i> by <var title="">B</var> or if there exists an element
  <var title="">C</var> that is itself <i>targeted</i> by the element
  <var title="">B</var> and <var title="">A</var> is <i>directly
  targeted</i> by <var title="">C</var>.</p>

  <p>A <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> element must not be <i>targeted</i> by
  itself.</p>

  <div class="impl">

  <p>The <code title="attr-tdth-colspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-colspan">colspan</a></code>, <code title="attr-tdth-rowspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-rowspan">rowspan</a></code>, and <code title="attr-tdth-headers"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-headers">headers</a></code> attributes take part in the
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model">table model</a>.</p>

  </div>

  <hr><p>The <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> and <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements implement
  interfaces that inherit from the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#htmltablecellelement">HTMLTableCellElement</a></code>
  interface:</p>

  <pre class="idl">interface <dfn id="htmltablecellelement">HTMLTableCellElement</dfn> : <a href="http://www.whatwg.org/specs/web-apps/current-work/#htmlelement">HTMLElement</a> {
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tdth-colspan" title="dom-tdth-colSpan">colSpan</a>;
           attribute unsigned long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tdth-rowspan" title="dom-tdth-rowSpan">rowSpan</a>;
  [PutForwards=<span title="dom-DOMSettableTokenList-value">value</span>] readonly attribute <a href="http://www.whatwg.org/specs/web-apps/current-work/#domsettabletokenlist">DOMSettableTokenList</a> <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tdth-headers" title="dom-tdth-headers">headers</a>;
  readonly attribute long <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tdth-cellindex" title="dom-tdth-cellIndex">cellIndex</a>;
};</pre>

<!--TOPIC:DOM APIs-->
  <dl class="domintro"><dt><var title="">cell</var> . <code title="dom-tdth-cellIndex"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tdth-cellindex">cellIndex</a></code></dt>

   <dd>

    <p>Returns the position of the cell in the row's <code title="dom-tr-cells"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-cells">cells</a></code> list. This does not necessarily
    correspond to the <var title="">x</var>-position of the cell in
    the table, since earlier cells might cover multiple rows or
    columns.</p>

    <p>Returns 0 if the element isn't in a row.</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn id="dom-tdth-colspan" title="dom-tdth-colSpan"><code>colSpan</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-tdth-colspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-colspan">colspan</a></code> content attribute. The
  value must be <a href="http://www.whatwg.org/specs/web-apps/current-work/#limited-to-only-non-negative-numbers-greater-than-zero">limited to only non-negative numbers greater
  than zero</a>.</p>

  <p>The <dfn id="dom-tdth-rowspan" title="dom-tdth-rowSpan"><code>rowSpan</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the <code title="attr-tdth-rowspan"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-tdth-rowspan">rowspan</a></code> content attribute. Its
  default value, which must be used if <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers" title="rules for parsing
  non-negative integers">parsing the attribute as a non-negative
  integer</a> returns an error, is 1.</p>

  <p>The <dfn id="dom-tdth-headers" title="dom-tdth-headers"><code>headers</code></dfn> IDL
  attribute must <a href="http://www.whatwg.org/specs/web-apps/current-work/#reflect">reflect</a> the content attribute of the
  same name.</p>

  <p>The <dfn id="dom-tdth-cellindex" title="dom-tdth-cellIndex"><code>cellIndex</code></dfn>
  IDL attribute must, if the element has a parent <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>
  element, return the index of the cell's element in the parent
  element's <code title="dom-tr-cells"><a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-tr-cells">cells</a></code> collection. If
  there is no such parent element, then the attribute must return
  0.</p>

  </div>
<!--TOPIC:HTML-->


  <div class="impl">

  <h4 id="processing-model-0"><span class="secno">4.9.12 </span>Processing model</h4>

  <p>The various table elements and their content attributes together
  define the <dfn id="table-model">table model</dfn>.</p>

  <p>A <dfn id="concept-table" title="concept-table">table</dfn> consists of cells
  aligned on a two-dimensional grid of <dfn id="concept-slots" title="concept-slots">slots</dfn> with coordinates (<var title="">x</var>, <var title="">y</var>). The grid is finite, and is
  either empty or has one or more slots. If the grid has one or more
  slots, then the <var title="">x</var> coordinates are always in the
  range <span title="">0&nbsp;≤&nbsp;<var title="">x</var>&nbsp;&lt;&nbsp;<var title="">x<sub title="">width</sub></var></span>, and the <var title="">y</var>
  coordinates are always in the range <span title="">0&nbsp;≤&nbsp;<var title="">y</var>&nbsp;&lt;&nbsp;<var title="">y<sub title="">height</sub></var></span>. If one or both of <var title="">x<sub title="">width</sub></var> and <var title="">y<sub title="">height</sub></var> are zero, then the table is empty (has
  no slots). Tables correspond to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> elements.</p>

  <p>A <dfn id="concept-cell" title="concept-cell">cell</dfn> is a set of slots anchored
  at a slot (<var title="">cell<sub title="">x</sub></var>, <var title="">cell<sub title="">y</sub></var>), and with a particular
  <var title="">width</var> and <var title="">height</var> such that
  the cell covers all the slots with coordinates (<var title="">x</var>, <var title="">y</var>) where <span title=""><var title="">cell<sub title="">x</sub></var>&nbsp;≤&nbsp;<var title="">x</var>&nbsp;&lt;&nbsp;<var title="">cell<sub title="">x</sub></var>+<var title="">width</var></span> and
  <span title=""><var title="">cell<sub title="">y</sub></var>&nbsp;≤&nbsp;<var title="">y</var>&nbsp;&lt;&nbsp;<var title="">cell<sub title="">y</sub></var>+<var title="">height</var></span>. Cells can
  either be <em>data cells</em> or <em>header cells</em>. Data cells
  correspond to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-td-element">td</a></code> elements, and header cells correspond
  to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-th-element">th</a></code> elements. Cells of both types can have zero or
  more associated header cells.</p>

  <p>It is possible, in certain error cases, for two cells to occupy
  the same slot.</p>

  <p>A <dfn id="concept-row" title="concept-row">row</dfn> is a complete set of slots
  from <span title=""><var title="">x</var>=0</span> to <span title=""><var title="">x</var>=<var title="">x<sub title="">width</sub></var>-1</span>, for a particular value of <var title="">y</var>. Rows correspond to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code> elements.</p>

  <p>A <dfn id="concept-column" title="concept-column">column</dfn> is a complete set of
  slots from <span title=""><var title="">y</var>=0</span> to <span title=""><var title="">y</var>=<var title="">y<sub title="">height</sub></var>-1</span>, for a particular value of <var title="">x</var>. Columns can correspond to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code>
  elements. In the absence of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> elements, columns are
  implied.</p>

  <p>A <dfn id="concept-row-group" title="concept-row-group">row group</dfn> is a set of
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row" title="concept-row">rows</a> anchored at a slot (0, <var title="">group<sub title="">y</sub></var>) with a particular <var title="">height</var> such that the row group covers all the slots
  with coordinates (<var title="">x</var>, <var title="">y</var>)
  where <span title="">0&nbsp;≤&nbsp;<var title="">x</var>&nbsp;&lt;&nbsp;<var title="">x<sub title="">width</sub></var></span> and <span title=""><var title="">group<sub title="">y</sub></var>&nbsp;≤&nbsp;<var title="">y</var>&nbsp;&lt;&nbsp;<var title="">group<sub title="">y</sub></var>+<var title="">height</var></span>. Row groups
  correspond to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code>, <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code>, and
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> elements. Not every row is necessarily in a row
  group.</p>

  <p>A <dfn id="concept-column-group" title="concept-column-group">column group</dfn> is a set
  of <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column" title="concept-column">columns</a> anchored at a slot
  (<var title="">group<sub title="">x</sub></var>, 0) with a
  particular <var title="">width</var> such that the column group
  covers all the slots with coordinates (<var title="">x</var>, <var title="">y</var>) where <span title=""><var title="">group<sub title="">x</sub></var>&nbsp;≤&nbsp;<var title="">x</var>&nbsp;&lt;&nbsp;<var title="">group<sub title="">x</sub></var>+<var title="">width</var></span> and
  <span title="">0&nbsp;≤&nbsp;<var title="">y</var>&nbsp;&lt;&nbsp;<var title="">y<sub title="">height</sub></var></span>. Column groups
  correspond to <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> elements. Not every column is
  necessarily in a column group.</p>

  <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row-group" title="concept-row-group">Row groups</a> cannot overlap
  each other. Similarly, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column-group" title="concept-column-group">column
  groups</a> cannot overlap each other.</p>

  <p>A <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-cell" title="concept-cell">cell</a> cannot cover slots that
  are from two or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row-group" title="concept-row-group">row
  groups</a>. It is, however, possible for a cell to be in multiple
  <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column-group" title="concept-column-group">column groups</a>. All the
  slots that form part of one cell are part of zero or one <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row-group" title="concept-row-group">row groups</a> and zero or more <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column-group" title="concept-column-group">column groups</a>.</p>

  <p>In addition to <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-cell" title="concept-cell">cells</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column" title="concept-column">columns</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row" title="concept-row">rows</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-row-group" title="concept-row-group">row
  groups</a>, and <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column-group" title="concept-column-group">column
  groups</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table" title="concept-table">tables</a> can have a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element associated with them. This gives the
  table a heading, or legend.</p>

  <p>A <dfn id="table-model-error">table model error</dfn> is an error with the data
  represented by <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> elements and their
  descendants. Documents must not have table model errors.</p>


  <h5 id="forming-a-table"><span class="secno">4.9.12.1 </span>Forming a table</h5>

  <p>To determine which elements correspond to which slots in a <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table" title="concept-table">table</a> associated with a
  <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element, to determine the dimensions of the table
  (<var title="">x<sub title="">width</sub></var> and <var title="">y<sub title="">height</sub></var>), and to determine if
  there are any <a href="http://www.whatwg.org/specs/web-apps/current-work/#table-model-error" title="table model error">table model
  errors</a>, user agents must use the following algorithm:</p>

  <ol><li>
    <p>Let <var title="">x<sub title="">width</sub></var> be zero.</p>
   </li>

   <li>
    <p>Let <var title="">y<sub title="">height</sub></var> be zero.</p>
   </li>

   <li>

    <p>Let <var title="">pending <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> elements</var> be
    a list of <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code> elements, initially empty.</p>

   </li>

   <li>
    <p>Let <var title="">the table</var> be the <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table" title="concept-table">table</a> represented by the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element. The <var title="">x<sub title="">width</sub></var> and <var title="">y<sub title="">height</sub></var> variables give <var title="">the
    table</var>'s dimensions. <var title="">The table</var> is
    initially empty.</p>
   </li>

   <li>

    <!-- this step is here just so that we can be sure to have a first
    element in the next step, so that we can set up the "advance"
    exception-handling thingy below; otherwise it'd be more
    complicated. it's not a perf optimization per se. -->

    <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element has no children elements,
    then return <var title="">the table</var> (which will be empty),
    and abort these steps.</p>

   </li>

   <li>

    <p>Associate the first <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element child of the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element with <var title="">the table</var>. If
    there are no such children, then it has no associated
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-caption-element">caption</a></code> element.</p>

   </li>

   <li>

    <p>Let the <var title="">current element</var> be the first
    element child of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code> element.</p>

    <p>If a step in this algorithm ever requires the <var title="">current element</var> to be <dfn id="concept-table-advance" title="concept-table-advance">advanced to the next child of the
    <code>table</code></dfn> when there is no such next child, then
    the user agent must jump to the step labeled <i>end</i>, near the
    end of this algorithm.</p>

   </li>

   <li>

    <p>While the <var title="">current element</var> is not one of the
    following elements, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table-advance" title="concept-table-advance">advance</a> the <var title="">current element</var> to the next child of the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>:</p>

    <ul class="brief"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code></li>
     <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code></li>
     <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code></li>
     <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code></li>
     <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code></li>
    </ul></li>

   <li>

    <p>If the <var title="">current element</var> is a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>, follow these substeps:</p>

    <ol><li>

      <p><i>Column groups</i>: Process the <var title="">current
      element</var> according to the appropriate case below:</p>

      <dl class="switch"><dt>If the <var title="">current element</var> has any
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element children</dt>

       <dd>

        <p>Follow these steps:</p>

        <ol><li>

          <p>Let <var title="">x<sub title="">start</sub></var> have
          the value of <span title=""><var title="">x<sub title="">width</sub></var></span>.</p>

         </li>

         <li>

          <p>Let the <var title="">current column</var> be the first
          <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element child of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>
          element.</p>

         </li>

         <li>

          <p><i>Columns</i>: If the <var title="">current column</var>
          <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element has a <code title="attr-col-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-col-span">span</a></code> attribute, then parse its
          value using the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers">rules for parsing non-negative
          integers</a>.</p>

          <p>If the result of parsing the value is not an error or
          zero, then let <var title="">span</var> be that value.</p>

          <p>Otherwise, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element has no <code title="attr-col-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-col-span">span</a></code> attribute, or if trying to
          parse the attribute's value resulted in an error or zero,
          then let <var title="">span</var> be 1.</p>

         </li>

         <li>

          <p>Increase <var title="">x<sub title="">width</sub></var> by
          <var title="">span</var>.</p>

         </li>

         <li>

          <p>Let the last <var title="">span</var> <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column" title="concept-column">columns</a> in <var title="">the
          table</var> correspond to the <var title="">current
          column</var> <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element.</p>

         </li>

         <li>

          <p>If <var title="">current column</var> is not the last
          <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element child of the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code>
          element, then let the <var title="">current column</var> be
          the next <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element child of the
          <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element, and return to the step
          labeled <i>columns</i>.</p>

         </li>

         <li>

          <p>Let all the last <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column" title="concept-column">columns</a> in <var title="">the
          table</var> from <span title="">x=<var title="">x<sub title="">start</sub></var></span> to <span title="">x=<var title="">x<sub title="">width</sub></var>-1</span> form a
          new <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column-group" title="concept-column-group">column group</a>,
          anchored at the slot (<var title="">x<sub title="">start</sub></var>, 0), with width <span title=""><var title="">x<sub title="">width</sub></var>-<var title="">x<sub title="">start</sub></var></span>,
          corresponding to the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element.</p>

         </li>

        </ol></dd>


       <dt>If the <var title="">current element</var> has no
       <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-col-element">col</a></code> element children</dt>

       <dd>

        <ol><li>

          <p>If the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element has a <code title="attr-colgroup-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-colgroup-span">span</a></code> attribute, then parse
          its value using the <a href="http://www.whatwg.org/specs/web-apps/current-work/#rules-for-parsing-non-negative-integers">rules for parsing non-negative
          integers</a>.</p>

          <p>If the result of parsing the value is not an error or
          zero, then let <var title="">span</var> be that value.</p>

          <p>Otherwise, if the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element has no
          <code title="attr-colgroup-span"><a href="http://www.whatwg.org/specs/web-apps/current-work/#attr-colgroup-span">span</a></code> attribute, or
          if trying to parse the attribute's value resulted in an
          error or zero, then let <var title="">span</var> be 1.</p>

         </li>

         <li>

          <p>Increase <var title="">x<sub title="">width</sub></var> by
          <var title="">span</var>.</p>

         </li>

         <li>

          <p>Let the last <var title="">span</var> <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column" title="concept-column">columns</a> in <var title="">the
          table</var> form a new <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-column-group" title="concept-column-group">column group</a>, anchored
          at the slot (<span title=""><var title="">x<sub title="">width</sub></var>-<var title="">span</var></span>,
          0), with width <var title="">span</var>, corresponding to
          the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element.</p>

         </li>

        </ol></dd>

      </dl></li>

     <li>

      <p><a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table-advance" title="concept-table-advance">Advance</a> the <var title="">current element</var> to the next child of the
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>.</p>

     </li>

     <li>

      <p>While the <var title="">current element</var> is not one of
      the following elements, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table-advance" title="concept-table-advance">advance</a> the <var title="">current element</var> to the next child of the
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>:</p>

      <ul class="brief"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code></li>
       <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code></li>
       <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code></li>
       <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code></li>
       <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code></li>
      </ul></li>

     <li>

      <p>If the <var title="">current element</var> is a
      <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-colgroup-element">colgroup</a></code> element, jump to the step labeled
      <i>column groups</i> above.</p>

     </li>

    </ol></li>

   <li>

    <p>Let <var title="">y<sub title="">current</sub></var> be
    zero.</p>

   </li>

   <li>

    <p>Let the <var title="">list of downward-growing cells</var> be
    an empty list.</p>

   </li>

   <li>

    <p><i>Rows</i>: While the <var title="">current element</var> is
    not one of the following elements, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table-advance" title="concept-table-advance">advance</a> the <var title="">current element</var> to the next child of the
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-table-element">table</a></code>:</p>

    <ul class="brief"><li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-thead-element">thead</a></code></li>
     <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tbody-element">tbody</a></code></li>
     <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tfoot-element">tfoot</a></code></li>
     <li><code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code></li>
    </ul></li>

   <li>

    <p>If the <var title="">current element</var> is a
    <code><a href="http://www.whatwg.org/specs/web-apps/current-work/#the-tr-element">tr</a></code>, then run the <a href="http://www.whatwg.org/specs/web-apps/current-work/#algorithm-for-processing-rows">algorithm for processing
    rows</a>, <a href="http://www.whatwg.org/specs/web-apps/current-work/#concept-table-advance" title="concept-table-advance">advance</a>
    the <var title="">current element</var> </p></li></ol></div></body></html>