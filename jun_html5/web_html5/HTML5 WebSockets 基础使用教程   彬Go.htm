<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0046)http://blog.bingo929.com/html5-websockets.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>HTML5 WebSockets 基础使用教程 | 彬Go</title>

<link rel="shortcut icon" href="http://blog.bingo929.com/favicon.ico" type="image/x-icon">
<meta http-equiv="Content-Language" content="zh-CN">
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="cache-control" content="no-cache">
<link rel="stylesheet" type="text/css" href="./HTML5 WebSockets 基础使用教程   彬Go_files/style.css">
<script type="text/javascript" src="./HTML5 WebSockets 基础使用教程   彬Go_files/imghover.js"> </script>
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://blog.bingo929.com/feed">
<link rel="alternate" type="text/xml" title="RSS .92" href="http://blog.bingo929.com/feed/rss">
<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://blog.bingo929.com/feed/atom">
<link rel="shortcut icon" href="http://blog.bingo929.com/wp-content/themes/illacrimo/favicon.ico" type="image/x-icon">
<link rel="pingback" href="http://blog.bingo929.com/xmlrpc.php">
<link title="RSS 2.0" type="application/rss+xml" href="http://feed.feedsky.com/bingo929" rel="alternate">
<link rel="alternate" type="application/rss+xml" title="彬Go » HTML5 WebSockets 基础使用教程 评论 feed" href="http://blog.bingo929.com/html5-websockets.html/feed">
<link rel="stylesheet" id="codecolorer-css" href="./HTML5 WebSockets 基础使用教程   彬Go_files/codecolorer.css" type="text/css" media="screen">
<script type="text/javascript" src="./HTML5 WebSockets 基础使用教程   彬Go_files/swfobject.js"></script>
<script type="text/javascript" src="./HTML5 WebSockets 基础使用教程   彬Go_files/jquery.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.bingo929.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.bingo929.com/wp-includes/wlwmanifest.xml"> 
<link rel="index" title="彬Go" href="http://blog.bingo929.com/">
<link rel="start" title="IIS安装出现问题的解决办法小汇总" href="http://blog.bingo929.com/iis-installed-solution-to-the-problems-of-small-aggregate.html">
<link rel="prev" title="HTML5和CSS3工具资源汇总" href="http://blog.bingo929.com/html5-and-css3-tools-list.html">
<link rel="next" title="人人网招聘 前端架构师、Javascript开发工程师" href="http://blog.bingo929.com/renren-wanted-fed.html">
<meta name="generator" content="WordPress 3.0.4">
<link rel="shortlink" href="http://blog.bingo929.com/?p=3003">

<!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[-1,-1] -->
<meta name="description" content="HTML5之中一个很酷的新特性就是WebSockets，它可以让我们无需AJAX请求即可与服务器端对话。本教程将通过javascript、php完成一个WebSocket实例，并讲解WebSocket的onopen、onmessage、onclose等事件。">
<meta name="keywords" content="html5,html5 websockets,html5 实例教程,html5 websockets实例教程,javascript websocket">
<link rel="canonical" href="./HTML5 WebSockets 基础使用教程   彬Go_files/HTML5 WebSockets 基础使用教程   彬Go.htm">
<!-- /all in one seo pack -->

<!-- Start Of Script Generated By WP-PostViews 1.60 -->
<script type="text/javascript">
/* <![CDATA[ */
jQuery.ajax({type:'GET',url:'http://blog.bingo929.com/wp-content/plugins/wp-postviews/wp-postviews.php',data:'postviews_id=3003',cache:false});/* ]]> */
</script>
<!-- End Of Script Generated By WP-PostViews 1.60 -->
<!-- Vipers Video Quicktags v6.3.0 | http://www.viper007bond.com/wordpress-plugins/vipers-video-quicktags/ -->
<style type="text/css">
.vvqbox { display: block; max-width: 100%; visibility: visible !important; margin: 10px auto; } .vvqbox img { max-width: 100%; height: 100%; } .vvqbox object { max-width: 100%; } 
</style>
<script type="text/javascript">
// <![CDATA[
	var vvqflashvars = {};
	var vvqparams = { wmode: "opaque", allowfullscreen: "true", allowscriptaccess: "always" };
	var vvqattributes = {};
	var vvqexpressinstall = "http://blog.bingo929.com/wp-content/plugins/vipers-video-quicktags/resources/expressinstall.swf";
// ]]>
</script>
</head>

<body>
<div class="BGC">
<!-- start header -->


 <div class="Header"><div class="LS"></div>
  <h1><a href="http://blog.bingo929.com/">彬Go</a></h1>
   <p class="Desc">关注前端开发/网页设计/网站可用性/用户体验</p>
  </div>
  
 <div class="Menu">
  <div class="MTL"></div><div class="MTR"></div>
   <ul>
   <li><a class="" href="http://blog.bingo929.com/"><span>首页</span></a></li>
<li class="page_item page-item-2"><a href="http://blog.bingo929.com/about-squall-li" title="关于彬Go"><span>关于彬Go</span></a></li>
<li class="page_item page-item-312"><a href="http://blog.bingo929.com/sitemap" title="网站地图"><span>网站地图</span></a></li>
  </ul> 
 <img id="feedCount" alt="彬Go读者统计" src="./HTML5 WebSockets 基础使用教程   彬Go_files/gif">
 </div>
 

 <!-- start content items -->
<div class="CON">


<!-- start center -->
<div class="SC">


<div class="Post" id="post-3003">
<div class="PostHead">
<h1>HTML5 WebSockets 基础使用教程</h1>
<small class="PostAuthor">2010年08月10日 | 彬Go</small>
<p class="PostDate">
<script charset="utf8" type="text/javascript">cT="1";nc="#0097FF";nBgc="#F1F8FA";nBorder="#E7E6EB";tc="#FFFFFF";tBgc="#19A1FE";tBorder="#196FCB";tDigg="";tDugg="";defaultItemUrl="WEB_URL";defaultFeedUrl ="http://blog.bingo929.com/feed";</script><script type="text/javascript" charset="utf8" src="./HTML5 WebSockets 基础使用教程   彬Go_files/diggthis.js"></script>
</p>
</div>

<div class="PostContent">
 <div class="post-left">上一篇：<a href="http://blog.bingo929.com/html5-and-css3-tools-list.html" rel="prev">HTML5和CSS3工具资源汇总</a> «</div>
 <div class="post-left">下一篇：<a href="http://blog.bingo929.com/renren-wanted-fed.html" rel="next">人人网招聘 前端架构师、Javascript开发工程师</a> »</div>
 <div class="clear"></div>
 <p><a href="./HTML5 WebSockets 基础使用教程   彬Go_files/HTML5 WebSockets 基础使用教程   彬Go.htm"><img class="alignnone size-full wp-image-3004" title="html5-websockets-教程" src="./HTML5 WebSockets 基础使用教程   彬Go_files/html5-websockets-title.jpg" alt="html5-websockets-教程" width="500" height="150"></a></p>
<p>　　<a href="http://blog.bingo929.com/category/technology/html5">HTML5</a>之中一个很酷的新特性就是WebSockets，它可以让我们无需AJAX请求即可与服务器端对话。今天彬Go将让大家通过Php环境的服务器端运行WebSocket，创建客户端并通过WebSockets协议发送和接收服务器端信息。</p>
<p><span id="more-3003"></span></p>
<p><strong><span style="color: #ff6600;">您还可以参考以下HTML5相关文章:</span></strong><br>
《<a href="http://blog.bingo929.com/html-5-canvas-the-basics-html5.html">关于HTML 5 canvas 的基础教程</a>》<br>
《<a href="http://blog.bingo929.com/html5-ie-enabling-script.html">让所有IE支持HTML5的解决方案</a>》<br>
《<a href="http://blog.bingo929.com/power-of-html5-css3-div-css.html">一起感受HTML5和CSS3的能量</a>》</p>
<h3>什么是WebSockets？</h3>
<p>　　<strong>WebSockets是在一个(TCP)接口进行双向通信的技术，PUSH技术类型。同时WebSockets仍将基于W3C标准，目前为止，Chrome和Safari的最新版本浏览器已经支持WebSockets了。</strong></p>
<h3>WebSockets将会替代什么？</h3>
<p>　　WebSockets可以替代Long Polling(PHP服务端推送技术)，这是一个有趣的概念。客户端发送一个请求到服务器，现在，服务器端并不会响应还没准备好的数据，它会保持连接的打开状态直到最新的数据准备就绪发送，之后客户端收到数据，然后发送另一个请求。这有它的好处：减少任一连接的延迟，当一个连接已经打开时就不需要创建另一个新的连接。但是Long-Polling并不是什么花俏技术，他仍有可能发生请求暂停，因此会需要建立新的连接。</p>
<p>　　一些AJAX应用使用上述技术-这经常是归因于低资源利用。</p>
<p>　　试想一下，如果服务器在早晨会自启动并发送数据到那些希望接收而不用提前建立一些连接端口的客户端，这是一件多棒的事情啊！欢迎来到PUSH技术的世界！</p>
<h3>第一步：搞定WebSocket服务器</h3>
<p>　　这篇教程会把更多的精力放在客户端的创建而不是服务器端的执行等操作。</p>
<p>　　我使用基于windows 7的<a href="http://www.apachefriends.org/en/xampp.html" target="_blank">XAMPP</a>来实现本地运行PHP。<a href="http://code.google.com/p/phpwebsockets/" target="_blank">phpwebsockets</a>是PHP WebSocket服务器。(以我的经验这个版本存在一些小问题，我已对它做了些修改并上传源文件共享给大家)下面的这些不同版本也可以实现WebSocket，如果某个不能用，你可以试试其它版本或者继续看下面的教程。</p>
<p>　　<a href="http://jwebsocket.org/" target="_blank">jWebSocket</a> (Java)<br>
　　<a href="http://github.com/gimite/web-socket-ruby" target="_blank">web-socket-ruby</a> (ruby)<br>
　　<a href="http://github.com/LearnBoost/Socket.IO-node" target="_blank">Socket IO-node</a> (node.js)</p>
<h4>启动Apache服务器</h4>
<p><img src="./HTML5 WebSockets 基础使用教程   彬Go_files/1.jpg" alt="html5-websocket-apache" title="html5-websocket-apache" width="451" height="383" class="alignnone size-full wp-image-3019"></p>
<h3>第二步：修改URLs和端口</h3>
<p>　　根据你之前的安装修改服务器，下面是setup.class.php中的例子：</p>
<div class="codecolorer-container php blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="php codecolorer"><span class="kw2">public</span> <span class="kw2">function</span> __construct<span class="br0">(</span><span class="re0">$host</span><span class="sy0">=</span><span class="st_h">'localhost'</span><span class="sy0">,</span><span class="re0">$port</span><span class="sy0">=</span><span class="nu0">8000</span><span class="sy0">,</span><span class="re0">$max</span><span class="sy0">=</span><span class="nu0">100</span><span class="br0">)</span> &nbsp;<br>
<span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="re0">$this</span><span class="sy0">-&gt;</span><span class="me1">createSocket</span><span class="br0">(</span><span class="re0">$host</span><span class="sy0">,</span><span class="re0">$port</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span></div></div>
<p>　　浏览文件并在适当情况下进行更改。</p>
<h3>第三步：开始创建客户端</h3>
<p>　　下面来创建基本模板，这是我的client.php文件：</p>
<div class="codecolorer-container html4strict blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="html4strict codecolorer"><span class="sc0">&lt;!DOCTYPE html&gt;</span> &nbsp;<br>
<span class="sc2">&lt;<span class="kw2">html</span>&gt;</span> &nbsp;<br>
<span class="sc2">&lt;<span class="kw2">head</span>&gt;</span> &nbsp;<br>
<span class="sc2">&lt;<span class="kw2">script</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"</span>&gt;&lt;<span class="sy0">/</span><span class="kw2">script</span>&gt;</span> &nbsp;<br>
&nbsp; <br>
<span class="sc2">&lt;<span class="kw2">title</span>&gt;</span>WebSockets Client<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">title</span>&gt;</span> &nbsp;<br>
&nbsp; <br>
<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">head</span>&gt;</span> &nbsp;<br>
<span class="sc2">&lt;<span class="kw2">body</span>&gt;</span> &nbsp;<br>
<span class="sc2">&lt;<span class="kw2">div</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"wrapper"</span>&gt;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; <span class="sc2">&lt;<span class="kw2">div</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"container"</span>&gt;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="sc2">&lt;<span class="kw2">h1</span>&gt;</span>WebSockets Client<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">h1</span>&gt;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="sc2">&lt;<span class="kw2">div</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"chatLog"</span>&gt;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">div</span>&gt;</span><span class="sc-1">&lt;!-- #chatLog --&gt;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="sc2">&lt;<span class="kw2">p</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"examples"</span>&gt;</span>e.g. try 'hi', 'name', 'age', 'today'<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="sc2">&lt;<span class="kw2">input</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"text"</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text"</span> <span class="sy0">/</span>&gt;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="sc2">&lt;<span class="kw2">button</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"disconnect"</span>&gt;</span>Disconnect<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">button</span>&gt;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; <span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">div</span>&gt;</span><span class="sc-1">&lt;!-- #container --&gt;</span> &nbsp;<br>
&nbsp; <br>
<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">div</span>&gt;</span> &nbsp;<br>
<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">body</span>&gt;</span> &nbsp;<br>
<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">html</span>&gt;</span>​</div></div>
<p>　　我们已经创建里基本模板：一个chat log容器，一个input输入框和一个断开连接的按钮。</p>
<h3>第四步：添加一些CSS</h3>
<p>　　没什么花俏代码，只是处理一下标签的样式。</p>
<div class="codecolorer-container css blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="css codecolorer">body <span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">font-family</span><span class="re2">:Arial</span><span class="sy0">,</span> Helvetica<span class="sy0">,</span> <span class="kw2">sans-serif</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span> &nbsp;<br>
<span class="re0">#container</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">border</span><span class="sy0">:</span><span class="re3">5px</span> <span class="kw2">solid</span> grey<span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">width</span><span class="sy0">:</span><span class="re3">800px</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">margin</span><span class="sy0">:</span><span class="nu0">0</span> <span class="kw2">auto</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">padding</span><span class="sy0">:</span><span class="re3">10px</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span> &nbsp;<br>
<span class="re0">#chatLog</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">padding</span><span class="sy0">:</span><span class="re3">5px</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">border</span><span class="sy0">:</span><span class="re3">1px</span> <span class="kw2">solid</span> <span class="kw1">black</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span> &nbsp;<br>
<span class="re0">#chatLog</span> p <span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">margin</span><span class="sy0">:</span><span class="nu0">0</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span> &nbsp;<br>
<span class="re1">.event</span> <span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">color</span><span class="sy0">:</span><span class="re0">#999</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span> &nbsp;<br>
<span class="re1">.warning</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">font-weight</span><span class="sy0">:</span><span class="kw2">bold</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">color</span><span class="sy0">:</span><span class="re0">#CCC</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span></div></div>
<h3>第五步：WebSocket事件</h3>
<p>首先让我们尝试并理解WebSocket事件的概念：<br>
<img src="./HTML5 WebSockets 基础使用教程   彬Go_files/events-500x250.jpg" alt="WebSocket-事件" title="WebSocket-事件" width="500" height="250" class="alignnone size-medium wp-image-3028"></p>
<p><strong>WebSocket事件：</strong><br>
我们将使用三个WebSocket事件：<br>
onopen: 当接口打开时<br>
onmessage: 当收到信息时<br>
onclose: 当接口关闭时</p>
<p>我们如何来实现呢？<br>
首先创建WebSocket对象</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer"><span class="kw2">var</span> socket <span class="sy0">=</span> <span class="kw2">new</span> WebSocket<span class="br0">(</span><span class="st0">"ws://localhost:8000/socket/server/startDaemon.php"</span><span class="br0">)</span><span class="sy0">;</span></div></div>
<p>然后向下面这样检测事件</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer">socket.<span class="me1">onopen</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw3">alert</span><span class="br0">(</span><span class="st0">"Socket has been opened!"</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span></div></div>
<p>当我们收到信息时这样做：</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer">socket.<span class="me1">onmessage</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">(</span>msg<span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw3">alert</span><span class="br0">(</span>msg<span class="br0">)</span><span class="sy0">;</span> <span class="co1">//Awesome! &nbsp;</span><br>
<span class="br0">}</span></div></div>
<p>但我们还是尽量避免使用alert，现在我们可以把我们学的东西整合到客户端页面中了。</p>
<h3>第六步：JavaScript</h3>
<p>　　首先我们将代码放到<a href="http://blog.bingo929.com/tag/jquery">jQuery</a> 的 document.ready函数中，然后我们还要检查用户的浏览器是否支持WebSocket。如果不支持，我们就添加一个链向Chrome浏览器页面的链接。</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer">$<span class="br0">(</span>document<span class="br0">)</span>.<span class="me1">ready</span><span class="br0">(</span><span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">if</span><span class="br0">(</span><span class="sy0">!</span><span class="br0">(</span><span class="st0">"WebSocket"</span> <span class="kw1">in</span> window<span class="br0">)</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; $<span class="br0">(</span><span class="st0">'#chatLog, input, button, #examples'</span><span class="br0">)</span>.<span class="me1">fadeOut</span><span class="br0">(</span><span class="st0">"fast"</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; $<span class="br0">(</span><span class="st0">'&lt;p&gt;Oh no, you need a browser that supports WebSockets. How about &lt;a href="http://www.google.com/chrome"&gt;Google Chrome&lt;/a&gt;?&lt;/p&gt;'</span><span class="br0">)</span>.<span class="me1">appendTo</span><span class="br0">(</span><span class="st0">'#container'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="br0">}</span><span class="kw1">else</span><span class="br0">{</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; <span class="co1">//The user has WebSockets &nbsp;</span><br>
&nbsp; <br>
&nbsp; &nbsp; connect<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; <span class="kw2">function</span> connect<span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">//the connect function code is below &nbsp;</span><br>
&nbsp; <br>
&nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span></div></div>
<p>　　如你所见，如果用户浏览器支持WebSocket，我们将执行connect()函数。这里是核心功能，我们将开始创建open、close和receive事件。</p>
<p>我们将在我们的服务器定义URL。</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer"><span class="kw2">var</span> socket<span class="sy0">;</span> &nbsp;<br>
<span class="kw2">var</span> host <span class="sy0">=</span> <span class="st0">"ws://localhost:8000/socket/server/startDaemon.php"</span><span class="sy0">;</span></div></div>
<p>　　你可能会发现URL中怎么没有http？恩，是的，这是一个WebSocket URL，使用了不同的协议。下面是URL分解图示：<br>
<img src="./HTML5 WebSockets 基础使用教程   彬Go_files/url-500x125.jpg" alt="html5-websocket-url" title="html5-websocket-url" width="500" height="125" class="alignnone size-medium wp-image-3035"></p>
<p>　　下面让我们继续完成connect()函数，我们将代码放入try/catch块，这样如果代码出现问题，我们能让用户知道。我们创建WebSocket，并将信息传递到message()函数，之后会做讲解。我们创建我们的onopen、onmessage和onclose函数. 需要注意的是我们为用户提供了端口状态，这并不是必需的，但我们把它放进来主要是为了方便调试。</p>
<p>CONNECTING = 0<br>
OPEN = 1<br>
CLOSED = 2</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer"><span class="kw2">function</span> connect<span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">try</span><span class="br0">{</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; <span class="kw2">var</span> socket<span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw2">var</span> host <span class="sy0">=</span> <span class="st0">"ws://localhost:8000/socket/server/startDaemon.php"</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw2">var</span> socket <span class="sy0">=</span> <span class="kw2">new</span> WebSocket<span class="br0">(</span>host<span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; message<span class="br0">(</span><span class="st0">'&lt;p class="event"&gt;Socket Status: '</span><span class="sy0">+</span>socket.<span class="me1">readyState</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; socket.<span class="me1">onopen</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message<span class="br0">(</span><span class="st0">'&lt;p class="event"&gt;Socket Status: '</span><span class="sy0">+</span>socket.<span class="me1">readyState</span><span class="sy0">+</span><span class="st0">' (open)'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; socket.<span class="me1">onmessage</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">(</span>msg<span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message<span class="br0">(</span><span class="st0">'&lt;p class="message"&gt;Received: '</span><span class="sy0">+</span>msg.<span class="me1">data</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; socket.<span class="me1">onclose</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message<span class="br0">(</span><span class="st0">'&lt;p class="event"&gt;Socket Status: '</span><span class="sy0">+</span>socket.<span class="me1">readyState</span><span class="sy0">+</span><span class="st0">' (Closed)'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>
&nbsp; <br>
&nbsp; &nbsp; <span class="br0">}</span> <span class="kw1">catch</span><span class="br0">(</span>exception<span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message<span class="br0">(</span><span class="st0">'&lt;p&gt;Error'</span><span class="sy0">+</span>exception<span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
<span class="br0">}</span></div></div>
<p>　　message()函数很简单, 它将我们想展现给用户的文本填入chat log容器内。 我们在socket事件函数中为段落(&lt;p&gt;)标签创建适当的class，我们在message函数中只有一个段落结束标签。</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer"><span class="kw2">function</span> message<span class="br0">(</span>msg<span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; $<span class="br0">(</span><span class="st0">'#chatLog'</span><span class="br0">)</span>.<span class="me1">append</span><span class="br0">(</span>msg<span class="sy0">+</span><span class="st0">'&lt;/p&gt;'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span></div></div>
<h3>目前的成果</h3>
<p>　　如果你已按上面教程按部就班的做的话，很好，我们已经创建了 <a href="http://blog.bingo929.com/tag/divcss">HTML/CSS</a> 模板、创建并建立Websocket连接、通过创建连接保持用户的进展更新。</p>
<p><img src="./HTML5 WebSockets 基础使用教程   彬Go_files/page.jpg" alt="HTML5-websocket" title="HTML5-websocket" width="369" height="209" class="alignnone size-full wp-image-3042"></p>
<h3>第七步：发送数据</h3>
<p>　　现在我们已经有了提交按钮，但我们还需要监听用户按下键盘的事件，并运行send函数，下面的’13′便是回车键对应的ASCII码。</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer">$<span class="br0">(</span><span class="st0">'#text'</span><span class="br0">)</span>.<span class="me1">keypress</span><span class="br0">(</span><span class="kw2">function</span><span class="br0">(</span>event<span class="br0">)</span> <span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">(</span>event.<span class="me1">keyCode</span> <span class="sy0">==</span> <span class="st0">'13'</span><span class="br0">)</span> <span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; send<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span></div></div>
<p>下面是send()函数：</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer"><span class="kw2">function</span> send<span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; <span class="kw2">var</span> text <span class="sy0">=</span> $<span class="br0">(</span><span class="st0">'#text'</span><span class="br0">)</span>.<span class="me1">val</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">if</span><span class="br0">(</span>text<span class="sy0">==</span><span class="st0">""</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; message<span class="br0">(</span><span class="st0">'&lt;p class="warning"&gt;Please enter a message'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">try</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; socket.<span class="me1">send</span><span class="br0">(</span>text<span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; message<span class="br0">(</span><span class="st0">'&lt;p class="event"&gt;Sent: '</span><span class="sy0">+</span>text<span class="br0">)</span> &nbsp;<br>
&nbsp; &nbsp; <span class="br0">}</span> <span class="kw1">catch</span><span class="br0">(</span>exception<span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; message<span class="br0">(</span><span class="st0">'&lt;p class="warning"&gt; Error:'</span> <span class="sy0">+</span> exception<span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; $<span class="br0">(</span><span class="st0">'#text'</span><span class="br0">)</span>.<span class="me1">val</span><span class="br0">(</span><span class="st0">""</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
<span class="br0">}</span></div></div>
<p>下面我们需要：</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer">socket.<span class="me1">send</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span></div></div>
<p>　　那些额外的代码做了以下工作：检测用户是否什么都没输入却仍点击返回、清空input输入框、执行message()函数。</p>
<h3>关闭Socket</h3>
<p>　　关闭Socket操作相当简单，添加对断开连接按钮的click事件监听就可以。</p>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer">$<span class="br0">(</span><span class="st0">'#disconnect'</span><span class="br0">)</span>.<span class="me1">click</span><span class="br0">(</span><span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; socket.<span class="kw3">close</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span></div></div>
<p><img src="./HTML5 WebSockets 基础使用教程   彬Go_files/close.jpg" alt="websocket-close" title="websocket-close" width="324" height="77" class="alignnone size-full wp-image-3053"></p>
<h3>完整<a href="http://blog.bingo929.com/category/technology/javascript">JavaScript</a>代码</h3>
<div class="codecolorer-container javascript blackboard" style="overflow:auto;white-space:nowrap;width:500px;"><div class="javascript codecolorer">$<span class="br0">(</span>document<span class="br0">)</span>.<span class="me1">ready</span><span class="br0">(</span><span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> &nbsp;<br>
&nbsp; <br>
&nbsp; <span class="kw1">if</span><span class="br0">(</span><span class="sy0">!</span><span class="br0">(</span><span class="st0">"WebSocket"</span> <span class="kw1">in</span> window<span class="br0">)</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; $<span class="br0">(</span><span class="st0">'#chatLog, input, button, #examples'</span><span class="br0">)</span>.<span class="me1">fadeOut</span><span class="br0">(</span><span class="st0">"fast"</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; $<span class="br0">(</span><span class="st0">'&lt;p&gt;Oh no, you need a browser that supports WebSockets. How about &lt;a href="http://www.google.com/chrome"&gt;Google Chrome&lt;/a&gt;?&lt;/p&gt;'</span><span class="br0">)</span>.<span class="me1">appendTo</span><span class="br0">(</span><span class="st0">'#container'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <span class="br0">}</span><span class="kw1">else</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; <span class="co1">//The user has WebSockets &nbsp;</span><br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; connect<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; <span class="kw2">function</span> connect<span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">var</span> socket<span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">var</span> host <span class="sy0">=</span> <span class="st0">"ws://localhost:8000/socket/server/startDaemon.php"</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">try</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">var</span> socket <span class="sy0">=</span> <span class="kw2">new</span> WebSocket<span class="br0">(</span>host<span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message<span class="br0">(</span><span class="st0">'&lt;p class="event"&gt;Socket Status: '</span><span class="sy0">+</span>socket.<span class="me1">readyState</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; socket.<span class="me1">onopen</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message<span class="br0">(</span><span class="st0">'&lt;p class="event"&gt;Socket Status: '</span><span class="sy0">+</span>socket.<span class="me1">readyState</span><span class="sy0">+</span><span class="st0">' (open)'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; socket.<span class="me1">onmessage</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">(</span>msg<span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message<span class="br0">(</span><span class="st0">'&lt;p class="message"&gt;Received: '</span><span class="sy0">+</span>msg.<span class="me1">data</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; socket.<span class="me1">onclose</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message<span class="br0">(</span><span class="st0">'&lt;p class="event"&gt;Socket Status: '</span><span class="sy0">+</span>socket.<span class="me1">readyState</span><span class="sy0">+</span><span class="st0">' (Closed)'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> <span class="kw1">catch</span><span class="br0">(</span>exception<span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message<span class="br0">(</span><span class="st0">'&lt;p&gt;Error'</span><span class="sy0">+</span>exception<span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">function</span> send<span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">var</span> text <span class="sy0">=</span> $<span class="br0">(</span><span class="st0">'#text'</span><span class="br0">)</span>.<span class="me1">val</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span><span class="br0">(</span>text<span class="sy0">==</span><span class="st0">""</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message<span class="br0">(</span><span class="st0">'&lt;p class="warning"&gt;Please enter a message'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">try</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; socket.<span class="me1">send</span><span class="br0">(</span>text<span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message<span class="br0">(</span><span class="st0">'&lt;p class="event"&gt;Sent: '</span><span class="sy0">+</span>text<span class="br0">)</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> <span class="kw1">catch</span><span class="br0">(</span>exception<span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message<span class="br0">(</span><span class="st0">'&lt;p class="warning"&gt;'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $<span class="br0">(</span><span class="st0">'#text'</span><span class="br0">)</span>.<span class="me1">val</span><span class="br0">(</span><span class="st0">""</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">function</span> message<span class="br0">(</span>msg<span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $<span class="br0">(</span><span class="st0">'#chatLog'</span><span class="br0">)</span>.<span class="me1">append</span><span class="br0">(</span>msg<span class="sy0">+</span><span class="st0">'&lt;/p&gt;'</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $<span class="br0">(</span><span class="st0">'#text'</span><span class="br0">)</span>.<span class="me1">keypress</span><span class="br0">(</span><span class="kw2">function</span><span class="br0">(</span>event<span class="br0">)</span> <span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">(</span>event.<span class="me1">keyCode</span> <span class="sy0">==</span> <span class="st0">'13'</span><span class="br0">)</span> <span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; send<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span> &nbsp; &nbsp; <br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $<span class="br0">(</span><span class="st0">'#disconnect'</span><span class="br0">)</span>.<span class="me1">click</span><span class="br0">(</span><span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;socket.<span class="kw3">close</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span> &nbsp;<br>
&nbsp; <br>
&nbsp; &nbsp; &nbsp; <span class="br0">}</span><span class="co1">//End connect &nbsp;</span><br>
&nbsp; <br>
&nbsp; <span class="br0">}</span><span class="co1">//End else &nbsp;</span><br>
&nbsp; <br>
<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span></div></div>
<h3>第九步：运行WebSocket服务器</h3>
<p>我们要输入一些命令行，XAMPP提供了比较方便的shell选项。点击XAMPP控制面板的’shell’按钮并输入：<br>
php -q path\to\server.php<br>
现在你已经运行了WebSocket服务器！<br>
<img src="./HTML5 WebSockets 基础使用教程   彬Go_files/2-500x166.jpg" alt="HTML5-webSocket" title="HTML5-webSocket" width="500" height="166" class="alignnone size-medium wp-image-3056"></p>
<h3>大功告成！</h3>
<p>　　当页面读取后，将尝试创建一个WebSocket连接，然后用户可以输入信息并从服务器接收信息。<br>
<img src="./HTML5 WebSockets 基础使用教程   彬Go_files/example.jpg" alt="html5-websocket-教程实例" title="html5-websocket-教程实例" width="484" height="433" class="alignnone size-full wp-image-3057"></p>
<p>　　感谢大家耐心阅读本教程，希望你能从中学到有用的知识，HTML5 WebSocket的确令人兴奋不已！大家可以通过<a href="http://dev.w3.org/html5/websockets/" target="_blank">The WebSocket API</a>了解HTML5 WebSocket的最新动态。</p>
<p><strong><a href="http://www.bingo929.com/mytest/websocket_source_files.rar">点击这里下载源文件</a></strong></p>
<h3>留意更新</h3>
<p><a href="http://feed.feedsky.com/bingo929" target="_blank">订阅彬Go</a>以查看HTML5最新资源、教程。 </p>
<p>英文原文:<a title="Start Using HTML5 WebSockets Today" href="http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/" target="_blank">Start Using HTML5 WebSockets Today</a><br>
翻译原文:<a title="HTML5 WebSockets 基础使用教程" href="./HTML5 WebSockets 基础使用教程   彬Go_files/HTML5 WebSockets 基础使用教程   彬Go.htm">HTML5 WebSockets 基础使用教程</a>(<a href="http://blog.bingo929.com/">彬Go</a>)</p>
<div style="border: 1px solid #afedff; padding: 10px; display: block; background-color: #e9faff;"><strong><span style="color: #ff0000;">转载声明:</span></strong><br>
原载:<a href="http://blog.bingo929.com/">彬Go</a>——集前端开发/网页设计/网站可用性/用户体验于一体的趣味互联网生活<br>
本文链接:<a title="HTML5 WebSockets 基础使用教程" href="./HTML5 WebSockets 基础使用教程   彬Go_files/HTML5 WebSockets 基础使用教程   彬Go.htm">http://blog.bingo929.com/html5-websockets.html<br>
</a>如需转载必须以链接形式注明原载或原文地址，谢谢合作</div>
 <br>
</div>
<div class="PostDet">
 <li class="PostCateg">分类: <a href="http://blog.bingo929.com/category/technology/html5" title="查看 HTML5 的全部文章" rel="category tag">HTML5</a>, <a href="http://blog.bingo929.com/category/technology/javascript" title="查看 Javascript 的全部文章" rel="category tag">Javascript</a></li>
 <li>浏览:18,293</li>
</div>
</div>
<br clear="all">

<ul class="Note">
<li class="NoteTrackBack"><a href="http://blog.bingo929.com/html5-websockets.html/feed"><abbr title="Really Simple Syndication">RSS</abbr> feed for comments on this post</a></li>
<li class="NoteRss"><a href="http://blog.bingo929.com/html5-websockets.html/trackback" rel="trackback">TrackBack <abbr title="Uniform Resource Identifier">URI</abbr></a></li>
</ul>


<div class="Comments">
<div class="List">
<!-- Start CommentsList-->

<!-- You can start editing here. -->
<h3 id="comments">36 条 关于 "HTML5 WebSockets 基础使用教程" 的评论</h3> 
<ol>

<li class="ComListLi" id="comment-4746"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar.php" alt="熠熠">
 </span>
  <big><a href="http://www.bigwar.cn/" rel="external nofollow" class="url">熠熠</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4746" title="">八月 10th, 2010 at 08:29</a></small>
 <span class="ListNr">1</span>
 <span class="ListContent">
  <p></p><p>mark，<br>
确实很让人兴奋。<br>
HTML5不光让前设计更简洁方便，更让程序等后端更深入浅出了。</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4747"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(1).php" alt="Daniel">
 </span>
  <big>Daniel</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4747" title="">八月 10th, 2010 at 10:13</a></small>
 <span class="ListNr">2</span>
 <span class="ListContent">
  <p></p><p>更新频率低了。怎想今天来了居然还没占到沙发。悲剧。</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4748"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(2).php" alt="tangoboy">
 </span>
  <big><a href="http://hi.baidu.com/tangoboy" rel="external nofollow" class="url">tangoboy</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4748" title="">八月 10th, 2010 at 13:29</a></small>
 <span class="ListNr">3</span>
 <span class="ListContent">
  <p></p><p>在不支持websocket的浏览器使用flashsocket解决</p>
<p><a href="http://github.com/gimite/web-socket-js" rel="nofollow">http://github.com/gimite/web-socket-js</a></p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4750"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="Tweets that mention HTML5 WebSockets 基础使用教程 | 彬Go — Topsy.com">
 </span>
  <big><a href="http://topsy.com/blog.bingo929.com/html5-websockets.html?utm_source=pingback&utm_campaign=L2" rel="external nofollow" class="url">Tweets that mention HTML5 WebSockets 基础使用教程 | 彬Go -- Topsy.com</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4750" title="">八月 10th, 2010 at 17:56</a></small>
 <span class="ListNr">4</span>
 <span class="ListContent">
  <p></p><p>[...] This post was mentioned on Twitter by iVane Hwang, kiven. kiven said: RT @ivane: HTML5 WebSockets 基础使用教程 <a href="http://is.gd/eaOKP" rel="nofollow">http://is.gd/eaOKP</a> 【之前发过英文版的，现在终于有中文版的了~】 [...]</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4755"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(4).php" alt="6227">
 </span>
  <big><a href="http://6227.info/" rel="external nofollow" class="url">6227</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4755" title="">八月 11th, 2010 at 15:10</a></small>
 <span class="ListNr">5</span>
 <span class="ListContent">
  <p></p><p>mark~</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4756"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(5).php" alt="rain">
 </span>
  <big><a href="http://www.webdevelopmentmachine.com/" rel="external nofollow" class="url">rain</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4756" title="">八月 11th, 2010 at 18:43</a></small>
 <span class="ListNr">6</span>
 <span class="ListContent">
  <p></p><p>问下<br>
php不会<br>
jsp可以做这个不？</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4759"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(6).php" alt="wkylin">
 </span>
  <big>wkylin</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4759" title="">八月 12th, 2010 at 21:23</a></small>
 <span class="ListNr">7</span>
 <span class="ListContent">
  <p></p><p>期待html5…….</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4768"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="sharp">
 </span>
  <big>sharp</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4768" title="">八月 14th, 2010 at 11:46</a></small>
 <span class="ListNr">8</span>
 <span class="ListContent">
  <p></p><p>aspx.net<br>
可以吗？</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4776"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(7).php" alt="cnzhenyu">
 </span>
  <big>cnzhenyu</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4776" title="">八月 15th, 2010 at 02:05</a></small>
 <span class="ListNr">9</span>
 <span class="ListContent">
  <p></p><p>试过了，不成功啊，握手之后再发送的时候没有反应..</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4784"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(8).php" alt="锋">
 </span>
  <big>锋</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4784" title="">八月 16th, 2010 at 03:30</a></small>
 <span class="ListNr">10</span>
 <span class="ListContent">
  <p></p><p>相当不错的网站。学习学习，不知道咋回事。我邮箱今天订阅不了。怪！</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4791"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(9).php" alt="ikeeptrying">
 </span>
  <big><a href="http://www.ikeeptrying.cn/" rel="external nofollow" class="url">ikeeptrying</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4791" title="">八月 17th, 2010 at 10:20</a></small>
 <span class="ListNr">11</span>
 <span class="ListContent">
  <p></p><p>对html一窍不通啊~</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4792"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(9).php" alt="ikeeptrying">
 </span>
  <big><a href="http://www.ikeeptrying.cn/" rel="external nofollow" class="url">ikeeptrying</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4792" title="">八月 17th, 2010 at 10:21</a></small>
 <span class="ListNr">12</span>
 <span class="ListContent">
  <p></p><p>说错了 是html5</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4846"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(10).php" alt="online date">
 </span>
  <big><a href="http://www.money-now.webs.com/" rel="external nofollow" class="url">online date</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4846" title="">九月 1st, 2010 at 03:05</a></small>
 <span class="ListNr">13</span>
 <span class="ListContent">
  <p></p><p>Thanks for all the nice thinks here at the site.</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4856"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(11).php" alt="xlmxbg">
 </span>
  <big>xlmxbg</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4856" title="">九月 3rd, 2010 at 14:58</a></small>
 <span class="ListNr">14</span>
 <span class="ListContent">
  <p></p><p>帅哥，偶最近在学习您的代码~~<br>
使用的是 wamp 集成环境</p>
<p>为啥握手以后 我在页面中的状态 始终为0</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4894"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(12).php" alt="web前端寒风">
 </span>
  <big><a href="http://www.webbise.com/" rel="external nofollow" class="url">web前端寒风</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4894" title="">九月 18th, 2010 at 10:18</a></small>
 <span class="ListNr">15</span>
 <span class="ListContent">
  <p></p><p>教程很不错，多谢博主分享</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4923"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="HTML5 In China » Blog Archive » HTML5 WebSocket 教程">
 </span>
  <big><a href="http://www.html5inchina.com/?p=17" rel="external nofollow" class="url">HTML5 In China » Blog Archive » HTML5 WebSocket 教程</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4923" title="">九月 26th, 2010 at 14:27</a></small>
 <span class="ListNr">16</span>
 <span class="ListContent">
  <p></p><p>[...] Using HTML5 WebSockets Today 翻译原文:HTML5 WebSockets 基础使用教程(彬Go) 转载声明: [...]</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-4943"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(13).php" alt="afc163">
 </span>
  <big><a href="http://www.ilovespringna.com/" rel="external nofollow" class="url">afc163</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-4943" title="">十月 13th, 2010 at 11:01</a></small>
 <span class="ListNr">17</span>
 <span class="ListContent">
  <p></p><p>有了websockets后，ajax还有什么意义么？</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5205"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(14).php" alt="azure">
 </span>
  <big>azure</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5205" title="">一月 13th, 2011 at 17:10</a></small>
 <span class="ListNr">18</span>
 <span class="ListContent">
  <p></p><p>请问，port您程式是用8000，是因为XAMPP预设port是8000吗? 如果别的架站包预设port不是8000，是否就要改成为8000 ?</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5223"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(15).php" alt="sailer">
 </span>
  <big>sailer</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5223" title="">一月 20th, 2011 at 16:05</a></small>
 <span class="ListNr">19</span>
 <span class="ListContent">
  <p></p><p>Hi 彬Go，我把server和client程序放在web server上，把代码里的localhost改为对应ip，在chrome里运行以后，netstat命令可以看到server和client已经在8000端口上建立了tcp连接，但是在客户端chrome里只显示“Socket Status: 0”，没有显示socket状态1，在输入框里输入文字以后在显示栏里也没有任何显示，不知道是哪里的问题？</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5298"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="HTML5 WebSockets 基础教程">
 </span>
  <big><a href="http://www.ziluobo.com/html5-websockets-basic-tutorail.html" rel="external nofollow" class="url">HTML5 WebSockets 基础教程</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5298" title="">三月 1st, 2011 at 12:01</a></small>
 <span class="ListNr">20</span>
 <span class="ListContent">
  <p></p><p>[...] 翻译原文：HTML5 WebSockets 基础使用教程 [...]</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5431"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(16).php" alt="coco">
 </span>
  <big><a href="http://www.syinflatable.com/" rel="external nofollow" class="url">coco</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5431" title="">五月 4th, 2011 at 09:51</a></small>
 <span class="ListNr">21</span>
 <span class="ListContent">
  <p></p><p>dfgb fgb</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5531"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="james">
 </span>
  <big>james</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5531" title="">六月 30th, 2011 at 10:28</a></small>
 <span class="ListNr">22</span>
 <span class="ListContent">
  <p></p><p>这个示例代码有错误，没有处理握手时的hash值，所以可以连接，但客户端无法响应onopen事件。</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5538"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(17).php" alt="猫公子">
 </span>
  <big><a href="http://maoshanhai.com/" rel="external nofollow" class="url">猫公子</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5538" title="">七月 5th, 2011 at 21:31</a></small>
 <span class="ListNr">23</span>
 <span class="ListContent">
  <p></p><p>兄弟,我刚刚架上去了,可是send不了消息啊,握手是成功了,但是,就是send不出去消息,不知道是为什么啊,希望给个回复给大家!谢谢!</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5594"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(18).php" alt="木頭">
 </span>
  <big>木頭</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5594" title="">八月 11th, 2011 at 12:53</a></small>
 <span class="ListNr">24</span>
 <span class="ListContent">
  <p></p><p>用上面的代码，发送不成功，跟踪了一下错误。</p>
<p>socket.send(text);</p>
<p>总是发生这样的异常，why？<br>
Error: INVALID_STATE_ERR: DOM Exception 11</p>
<p>浏览器：chrome10</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5596"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(19).php" alt="Ai.sinceow">
 </span>
  <big>Ai.sinceow</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5596" title="">八月 11th, 2011 at 19:26</a></small>
 <span class="ListNr">25</span>
 <span class="ListContent">
  <p></p><p>我把代码运行了一下报错，请问一下为什么会找不到函数？<br>
Fatal error: Call to undefined function socket_create() in D:\ProgramFiles\Apache\htdocs\socket\server\socket.class.php on line 38</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5624"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="jessie">
 </span>
  <big>jessie</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5624" title="">八月 29th, 2011 at 09:39</a></small>
 <span class="ListNr">26</span>
 <span class="ListContent">
  <p></p><p>cwwap不支持websocket~</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5642"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(20).php" alt="程序员之家">
 </span>
  <big><a href="http://www.chengxuyuans.com/" rel="external nofollow" class="url">程序员之家</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5642" title="">九月 2nd, 2011 at 10:26</a></small>
 <span class="ListNr">27</span>
 <span class="ListContent">
  <p></p><p>好东西 就是这方面的资料太少了啊</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-5812"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="匿名">
 </span>
  <big>匿名</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-5812" title="">九月 18th, 2011 at 03:50</a></small>
 <span class="ListNr">28</span>
 <span class="ListContent">
  <p></p><p>试了下，用Chrome连接时发送的头信息格式不正确，总是连接失败。<br>
而在Safari可以成功。<br>
Chrome的版本时14.0.835.163<br>
服务器是web-socket-ruby (ruby)<br>
Chrome的header是：<br>
{<br>
    “sec-websocket-version”=&gt;”8″,<br>
    “connection”=&gt;”Upgrade”,<br>
    “Sec-WebSocket-Version”=&gt;”8″,<br>
    “cookie”=&gt;”_tumblr_cn_session=BAh7B0kiD3Nlc3Npb25faWQGOgZFRiIlNGU0NGFlYmUyNGM4YTA4YTEwZjRiMDIwMTEwOWFmY2NJIhBfY3NyZl90b2tlbgY7AEZJIjFLLyt0WWZ4N1ZONFZSTmJmRmpKYzJQT1hHU05xZVVuQ3JTY0szT1FZWEw0PQY7AEY%3D–cffa0022a6c42da633ca6159f2847ed6f8df648a”,<br>
    “Cookie”=&gt;”_tumblr_cn_session=BAh7B0kiD3Nlc3Npb25faWQGOgZFRiIlNGU0NGFlYmUyNGM4YTA4YTEwZjRiMDIwMTEwOWFmY2NJIhBfY3NyZl90b2tlbgY7AEZJIjFLLyt0WWZ4N1ZONFZSTmJmRmpKYzJQT1hHU05xZVVuQ3JTY0szT1FZWEw0PQY7AEY%3D–cffa0022a6c42da633ca6159f2847ed6f8df648a”,<br>
    “Upgrade”=&gt;”websocket”,<br>
    “sec-websocket-key”=&gt;”CtRXwwluDmRDdDUVvFpV9Q==”,<br>
    “host”=&gt;”localhost:10081″,<br>
    “Sec-WebSocket-Key”=&gt;”CtRXwwluDmRDdDUVvFpV9Q==”,<br>
    “sec-websocket-origin”=&gt;”http://127.0.0.1:3000″,<br>
    “Sec-WebSocket-Origin”=&gt;”http://127.0.0.1:3000″,<br>
    “Host”=&gt;”localhost:10081″,<br>
    “Connection”=&gt;”Upgrade”,<br>
    “upgrade”=&gt;”websocket”<br>
}</p>
<p>Safari的header是：<br>
{<br>
    “sec-websocket-key1″=&gt;”`4Q2;w/M3 = d Q_58995’6Z6″,<br>
    “Sec-WebSocket-Key1″=&gt;”`4Q2;w/M3 = d Q_58995’6Z6″,<br>
    “sec-websocket-key2″=&gt;”1]2&amp;6477% “1]2&amp;6477% “Upgrade”,<br>
    “origin”=&gt;”http://127.0.0.1:3000″,<br>
    “Upgrade”=&gt;”WebSocket”,<br>
    “Origin”=&gt;”http://127.0.0.1:3000″,<br>
    “host”=&gt;”localhost:10081″,<br>
    “Host”=&gt;”localhost:10081″,<br>
    “Connection”=&gt;”Upgrade”,<br>
    “upgrade”=&gt;”WebSocket”<br>
}</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-6325"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(21).php" alt="tofu">
 </span>
  <big><a href="http://www.7bus.net/" rel="external nofollow" class="url">tofu</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-6325" title="">十月 28th, 2011 at 18:16</a></small>
 <span class="ListNr">29</span>
 <span class="ListContent">
  <p></p><p>大大，一定要XAMPP吗？我是自己安装的php+apache，运行不了命令行，所以导致我只有Socket Status: 0  Socket Status: 3 (Closed)？<br>
求运行。</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-6428"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(22).php" alt="chzcb">
 </span>
  <big><a href="http://www.chzcb.com/" rel="external nofollow" class="url">chzcb</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-6428" title="">十二月 16th, 2011 at 10:09</a></small>
 <span class="ListNr">30</span>
 <span class="ListContent">
  <p></p><p>这里面的例子不能运行的，大家都去google code 里面下载一个php websocket 的正确代码吧http://code.google.com/p/phpwebsocket/</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-6631"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="八足趴 » 设计与素材 – 2012年第一周 – beta">
 </span>
  <big><a href="http://bazu.me/blog/?p=24" rel="external nofollow" class="url">八足趴 » 设计与素材 – 2012年第一周 – beta</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-6631" title="">一月 8th, 2012 at 21:14</a></small>
 <span class="ListNr">31</span>
 <span class="ListContent">
  <p></p><p>[...] HTML5 WebSockets 基础使用教程&nbsp;（来自：彬GO） [...]</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-6721"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="Comet 相关–服务器推技术 – GoLuffy!">
 </span>
  <big><a href="http://www.goluffy.com/peichao/blog/archives/829" rel="external nofollow" class="url">Comet 相关–服务器推技术 – GoLuffy!</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-6721" title="">二月 9th, 2012 at 14:17</a></small>
 <span class="ListNr">32</span>
 <span class="ListContent">
  <p></p><p>[...]  ③HTML5–WebSocket 一起来用Websocket（一）开篇 Websocket！Socket在HTML5复活 HTML5 WebSockets 基础使用教程 The WebSocket API ( W3C ) WebSocket（维基百科） [...]</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-6727"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="Demen">
 </span>
  <big>Demen</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-6727" title="">二月 20th, 2012 at 09:27</a></small>
 <span class="ListNr">33</span>
 <span class="ListContent">
  <p></p><p>文中没有指明里面使用的websocket key的处理用的是那个草案协议, 这在各个游览器的差异非常巨大啊</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-6765"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="风月先生">
 </span>
  <big>风月先生</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-6765" title="">三月 16th, 2012 at 11:44</a></small>
 <span class="ListNr">34</span>
 <span class="ListContent">
  <p></p><p>我项目发布之后，首页是连接正常，但用window.open另开一个页面，去连接的时候，就连不上了。window.WebSocket不支持</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-6843"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="匿名">
 </span>
  <big>匿名</big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-6843" title="">四月 2nd, 2012 at 19:05</a></small>
 <span class="ListNr">35</span>
 <span class="ListContent">
  <p></p><p>服务器，输入命令行：<br>
php -q htdocs\socket\server\startDaemon.php<br>
后显示如下：<br>
2012-04-02 18：59：17 System:Socket Resource id #7 created<br>
2012-04-02 18：59：17 System:Socket bound to localhost:800.<br>
2012-04-02 18：59：17 System:Start listening on Socket.</p>
<p>然后我再去到版本为18.0.1025.142的谷歌浏览器中运行<br>
<a href="http://localhost/socket/client/client.php" rel="nofollow">http://localhost/socket/client/client.php</a><br>
浏览器中显示如下：<br>
Socket Status: 0 (0)<br>
Socket Status: 3 (Closed)</p>
<p>服务器中显示如下：<br>
2012-04-02 19：03：00 WebSocket:Resource id #8 CONNECTED!<br>
2012-04-02 19：03：00 WebSocket:Requesting handshake…<br>
2012-04-02 19：03：00 WebSocket:Handshaking…<br>
2012-04-02 19：03：00 WebSocket:Resource id #8 disconnected!</p>
<p>求哪位大神指点下是怎么回事？好像socket一连接就断开了</p>
<p></p> 
 </span>
  
</li><li class="ComListLi" id="comment-6851"><div class="ComListLiTop"></div>

 <span class="ListGrav">
 <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/avatar(3).php" alt="天堂皓月 » HTML5 之 WebSocket 通信协议介绍">
 </span>
  <big><a href="http://www.hackecho.com/archives/1068.html" rel="external nofollow" class="url">天堂皓月 » HTML5 之 WebSocket 通信协议介绍</a></big>
 <small><a href="http://blog.bingo929.com/html5-websockets.html#comment-6851" title="">四月 15th, 2012 at 01:21</a></small>
 <span class="ListNr">36</span>
 <span class="ListContent">
  <p></p><p>[...] 《HTML5 WebSockets 基础使用教程》 [...]</p>
<p></p> 
 </span>
  
</li></ol>
<br>
<!-- Ends CommentsList-->
</div>




<!-- Start Comments Form-->
<h3 id="respond" style="color:#000; letter-spacing: -1px;">我要评论 &gt;&gt;</h3> 
<div class="Form"><div class="FormTop"></div>

<form action="http://blog.bingo929.com/wp-comments-post.php" method="post" id="commentform">

<p>
<label for="author">
<small>昵称 </small>
<input type="text" name="author" id="author" value="" tabindex="1" class="TextField" style="width: 375px;">
</label>
</p>
		
<p>
<label for="email">
<small>E-mail ()</small>
<input type="text" name="email" id="email" value="" tabindex="2" class="TextField" style="width: 375px;">
</label>
</p>
		
<p>
<label for="url">
<small><abbr title="Uniform Resource Identifier">网站</abbr></small>
<input type="text" name="url" id="url" value="" tabindex="3" class="TextField" style="width: 375px;">
</label>
</p>

<br clear="all">
<p><textarea name="comment" id="comment" rows="10" tabindex="4" class="TextArea" style="width: 375px;"></textarea></p>

<p><input name="SubmitComment" type="image" class="SubmitComment" onmouseover="javascript:changeSty(&#39;SubmitCommentIE&#39;);" onmouseout="javascript:changeSty(&#39;SubmitComment&#39;);" title="Post Your Comment" src="./HTML5 WebSockets 基础使用教程   彬Go_files/ButtonTransparent.png" alt="Post Your Comment">
<input type="hidden" name="comment_post_ID" value="3003"></p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="0b784f92ed"></p></form>
</div>

</div></div> 
<!-- end center -->
<!-- start content left -->
<div class="SR">
<div class="SR"><div class="SRL">

<div class="Search">
<form action="http://blog.bingo929.com/index.php" method="post">
<input type="text" name="s" class="keyword">
<div id="buttonsearch"><input name="submit" type="image" class="search" title="Search" src="./HTML5 WebSockets 基础使用教程   彬Go_files/ButtonTransparent.png" alt="Search">
</div>
</form>
</div>

<!--<div class="Syn"><div class="SynTop"></div>
 <ul>
  <li class="rss_havebtn"><a href="http://blog.bingo929.com/feed">订阅日志</a> (RSS)</li>
  <li class="rss_havebtn"><a href="http://blog.bingo929.com/comments/feed">订阅评论</a> (RSS)</li>  
    <li><a href="http://technorati.com/faves?sub=addfavbtn&amp;add=http://blog.bingo929.com"><img src="http://static.technorati.com/pix/fave/tech-fav-1.png" alt="Add to Technorati Favorites" /></a><li>
 </ul>
</div>
-->

<!-- Start Flickr Photostream -->
<!-- End Flickr Photostream -->

<div id="views-3" class="widget widget_views"><div class="widgetTop"></div><h2 class="widgettitle">热门文章</h2><ul>
<li><a href="http://blog.bingo929.com/css-frameworks-15.html" title="精选15个国外CSS框架">精选15个国外CSS框架</a></li><li><a href="http://blog.bingo929.com/43-div-css-psd-xhtml-css.html" title="43个实例xHTML+CSS(DIV+CSS)网页及导航布局教程">43个实例xHTML+CSS(DIV+CSS)网页及导航布局教程</a></li><li><a href="http://blog.bingo929.com/most-beautiful-websites-of-2008.html" title="2008年国外最漂亮的50个网站欣赏">2008年国外最漂亮的50个网站欣赏</a></li><li><a href="http://blog.bingo929.com/300-jquery-css-mootools-js-navigation-menus.html" title="300+Jquery, CSS, MooTools 和 JS的导航菜单资源">300+Jquery, CSS, MooTools 和 JS的导航菜单资源</a></li><li><a href="http://blog.bingo929.com/31-practical-web-interface-design-tutorials.html" title="精选31个网站界面设计实践教程">精选31个网站界面设计实践教程</a></li><li><a href="http://blog.bingo929.com/99-high-quality-free-xhtml-css-div-templates.html" title="99款高质量免费(X)HTML/CSS模板">99款高质量免费(X)HTML/CSS模板</a></li><li><a href="http://blog.bingo929.com/12-free-text-editors-for-web-developer.html" title="推荐12款可用于前端开发的免费文本编辑器">推荐12款可用于前端开发的免费文本编辑器</a></li><li><a href="http://blog.bingo929.com/css-sprites-css-techniques-tools-tutorials.html" title="CSS Sprites(CSS图像拼合技术)教程、工具集合">CSS Sprites(CSS图像拼合技术)教程、工具集合</a></li><li><a href="http://blog.bingo929.com/10-ajax-effects-website-fanciness.html" title="10种JavaScript特效实例让你的网站更吸引人">10种JavaScript特效实例让你的网站更吸引人</a></li><li><a href="http://blog.bingo929.com/15-jquery-plugins-for-better-table-manipulation.html" title="15款提高表格操作的jQuery插件">15款提高表格操作的jQuery插件</a></li></ul>
</div><div id="linkcat-163" class="widget widget_links"><div class="widgetTop"></div><h2 class="widgettitle">彬Go推荐文章</h2>
	<ul class="xoxo blogroll">
<li><a href="http://blog.bingo929.com/css-browser-support.html" rel="me" title="为了方便大家的工作，下面提供了最新版本的CSS选择器浏览器支持情况，其中包括最新的CSS3和Safari 4.0 Beta的支持情况。">浏览器CSS选择器兼容性总结(及时更新)</a></li>

	</ul>
</div>
		<div id="recent-posts-2" class="widget widget_recent_entries"><div class="widgetTop"></div>		<h2 class="widgettitle">最新日志</h2>		<ul>
				<li><a href="http://blog.bingo929.com/renren-drag-drop-photo-filereader-formdata.html" title="人人网首页拖拽上传详解(HTML5 Drag&amp;Drop、FileReader API、formdata)">人人网首页拖拽上传详解(HTML5 Drag&amp;Drop、FileReader API、formdata)</a></li>
				<li><a href="http://blog.bingo929.com/renren-fed-offer-2011.html" title="人人网FED团队 招聘前端工程师(长期有效)">人人网FED团队 招聘前端工程师(长期有效)</a></li>
				<li><a href="http://blog.bingo929.com/google-enjoy-html5-drag-drop-filereaderenren.html" title="给力的 Google HTML5 训练营(HTML5 Drag&amp;Drop 拖拽、FileReader实例教程)">给力的 Google HTML5 训练营(HTML5 Drag&amp;Drop 拖拽、FileReader实例教程)</a></li>
				<li><a href="http://blog.bingo929.com/dojo-javascript-style-guide.html" title="规范自己的JavaScript书写 – Dojo Javascript 编程规范">规范自己的JavaScript书写 – Dojo Javascript 编程规范</a></li>
				<li><a href="http://blog.bingo929.com/renren-wanted-fed.html" title="人人网招聘 前端架构师、Javascript开发工程师">人人网招聘 前端架构师、Javascript开发工程师</a></li>
				<li><a href="./HTML5 WebSockets 基础使用教程   彬Go_files/HTML5 WebSockets 基础使用教程   彬Go.htm" title="HTML5 WebSockets 基础使用教程">HTML5 WebSockets 基础使用教程</a></li>
				<li><a href="http://blog.bingo929.com/html5-and-css3-tools-list.html" title="HTML5和CSS3工具资源汇总">HTML5和CSS3工具资源汇总</a></li>
				<li><a href="http://blog.bingo929.com/html-5-canvas-the-basics-html5.html" title="关于HTML 5 canvas 的基础教程">关于HTML 5 canvas 的基础教程</a></li>
				<li><a href="http://blog.bingo929.com/50-awesome-css3-animations.html" title="用CSS3制作50个超棒动画效果教程">用CSS3制作50个超棒动画效果教程</a></li>
				<li><a href="http://blog.bingo929.com/15-jquery-plugins-for-better-table-manipulation.html" title="15款提高表格操作的jQuery插件">15款提高表格操作的jQuery插件</a></li>
				</ul>
		</div><div id="categories-198273331" class="widget widget_categories"><div class="widgetTop"></div><h2 class="widgettitle">彬GO分类</h2>		<ul>
	<li class="cat-item cat-item-62"><a href="http://blog.bingo929.com/category/google" title="查看 Google 下的所有文章">Google</a>
</li>
	<li class="cat-item cat-item-123"><a href="http://blog.bingo929.com/category/google-earth" title="Google Earth看地球系列会带你领略地球上你从未去过的地方，包含各种Google Earth有趣地标，无论是军事基地、旅游景点还是有趣的坐标，暴风彬彬将在每周更新Google Earth看地球系列，并详细的通过Google Earth截图为您讲解世界上的各种有趣地标，并提供Google Earth坐标以供参考。">Google Earth看地球</a>
</li>
	<li class="cat-item cat-item-120"><a href="http://blog.bingo929.com/category/remi-gaillard" title="法国牛人Remi Gaillard现在已经是法国的网络红人，Remi Gaillard视频在全球视频网站不停的转载使得Remi Gaillard越来越出名，Remi Gaillard以恶搞著名，他能混入足球场、排球场等体育比赛也能恶搞警察，Remi Gaillard搞笑举动在不听的被世人津津乐道，彬Go会经常为您更新Remi Gaillard的最新恶搞视频。">Remi Gaillard系列</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://blog.bingo929.com/category/seo" title="查看 SEO 下的所有文章">SEO</a>
</li>
	<li class="cat-item cat-item-68"><a href="http://blog.bingo929.com/category/wordpress" title="查看 WordPress 下的所有文章">WordPress</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://blog.bingo929.com/category/my-works" title="查看 我的作品 下的所有文章">我的作品</a>
</li>
	<li class="cat-item cat-item-134"><a href="http://blog.bingo929.com/category/my-life" title="查看 我的生活 下的所有文章">我的生活</a>
</li>
	<li class="cat-item cat-item-151"><a href="http://blog.bingo929.com/category/technology" title="查看 技术 下的所有文章">技术</a>
<ul class="children">
	<li class="cat-item cat-item-7"><a href="http://blog.bingo929.com/category/technology/ajax" title="查看 Ajax 下的所有文章">Ajax</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://blog.bingo929.com/category/technology/css" title="查看 CSS 下的所有文章">CSS</a>
</li>
	<li class="cat-item cat-item-162"><a href="http://blog.bingo929.com/category/technology/html5" title="查看 HTML5 下的所有文章">HTML5</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://blog.bingo929.com/category/technology/javascript" title="查看 Javascript 下的所有文章">Javascript</a>
</li>
	<li class="cat-item cat-item-164"><a href="http://blog.bingo929.com/category/technology/jquery-technology" title="查看 jQuery 下的所有文章">jQuery</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://blog.bingo929.com/category/technology/xhtml" title="查看 XHTML 下的所有文章">XHTML</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-93"><a href="http://blog.bingo929.com/category/funnys" title="查看 有趣的东西 下的所有文章">有趣的东西</a>
<ul class="children">
	<li class="cat-item cat-item-145"><a href="http://blog.bingo929.com/category/funnys/gaming" title="查看 在线游戏 下的所有文章">在线游戏</a>
</li>
	<li class="cat-item cat-item-126"><a href="http://blog.bingo929.com/category/funnys/funny-photoshop" title="查看 搞笑PS系列 下的所有文章">搞笑PS系列</a>
</li>
	<li class="cat-item cat-item-136"><a href="http://blog.bingo929.com/category/funnys/funnypics" title="查看 搞笑图片系列 下的所有文章">搞笑图片系列</a>
</li>
	<li class="cat-item cat-item-147"><a href="http://blog.bingo929.com/category/funnys/funnyvideo" title="查看 搞笑视频 下的所有文章">搞笑视频</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-1"><a href="http://blog.bingo929.com/category/uncategorized" title="查看 未分类 下的所有文章">未分类</a>
</li>
	<li class="cat-item cat-item-154"><a href="http://blog.bingo929.com/category/user-experience" title="查看 用户体验 下的所有文章">用户体验</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://blog.bingo929.com/category/web-usability" title="查看 网站可用性 下的所有文章">网站可用性</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://blog.bingo929.com/category/web-design" title="查看 网页设计 下的所有文章">网页设计</a>
</li>
	<li class="cat-item cat-item-152"><a href="http://blog.bingo929.com/category/resources" title="查看 资源 下的所有文章">资源</a>
</li>
		</ul>
</div><div id="archives-2" class="widget widget_archive"><div class="widgetTop"></div><h2 class="widgettitle">按月存档</h2>		<ul>
			<li><a href="http://blog.bingo929.com/2011/12" title="2011 年十二月">2011 年十二月</a></li>
	<li><a href="http://blog.bingo929.com/2011/09" title="2011 年九月">2011 年九月</a></li>
	<li><a href="http://blog.bingo929.com/2011/01" title="2011 年一月">2011 年一月</a></li>
	<li><a href="http://blog.bingo929.com/2010/10" title="2010 年十月">2010 年十月</a></li>
	<li><a href="http://blog.bingo929.com/2010/08" title="2010 年八月">2010 年八月</a></li>
	<li><a href="http://blog.bingo929.com/2010/06" title="2010 年六月">2010 年六月</a></li>
	<li><a href="http://blog.bingo929.com/2010/03" title="2010 年三月">2010 年三月</a></li>
	<li><a href="http://blog.bingo929.com/2009/12" title="2009 年十二月">2009 年十二月</a></li>
	<li><a href="http://blog.bingo929.com/2009/11" title="2009 年十一月">2009 年十一月</a></li>
	<li><a href="http://blog.bingo929.com/2009/10" title="2009 年十月">2009 年十月</a></li>
	<li><a href="http://blog.bingo929.com/2009/09" title="2009 年九月">2009 年九月</a></li>
	<li><a href="http://blog.bingo929.com/2009/08" title="2009 年八月">2009 年八月</a></li>
	<li><a href="http://blog.bingo929.com/2009/07" title="2009 年七月">2009 年七月</a></li>
	<li><a href="http://blog.bingo929.com/2009/06" title="2009 年六月">2009 年六月</a></li>
	<li><a href="http://blog.bingo929.com/2009/05" title="2009 年五月">2009 年五月</a></li>
	<li><a href="http://blog.bingo929.com/2009/04" title="2009 年四月">2009 年四月</a></li>
	<li><a href="http://blog.bingo929.com/2009/03" title="2009 年三月">2009 年三月</a></li>
	<li><a href="http://blog.bingo929.com/2009/02" title="2009 年二月">2009 年二月</a></li>
	<li><a href="http://blog.bingo929.com/2009/01" title="2009 年一月">2009 年一月</a></li>
	<li><a href="http://blog.bingo929.com/2008/12" title="2008 年十二月">2008 年十二月</a></li>
	<li><a href="http://blog.bingo929.com/2008/11" title="2008 年十一月">2008 年十一月</a></li>
	<li><a href="http://blog.bingo929.com/2008/10" title="2008 年十月">2008 年十月</a></li>
	<li><a href="http://blog.bingo929.com/2008/09" title="2008 年九月">2008 年九月</a></li>
	<li><a href="http://blog.bingo929.com/2008/08" title="2008 年八月">2008 年八月</a></li>
		</ul>
</div></div><div class="SRR">
<div style="padding:5px 0 15px 25px;">
<!-- Feedsky FEED发布代码开始 -->
<!-- FEED自动发现标记开始 已移至header.php页面 -->
<!-- FEED自动发现标记结束 -->
<script type="text/javascript"><!-- 
main_sub="c1s16";
more_subs="zhuaxia_01,pageflakes_01,rojo_01,google_01,netvibes_01,yahoo_01,newsgator_01,bloglines_01,xianguo_01,nazha_01,youdao_01";
is_new="yes";
--> </script>
<script type="text/javascript" src="./HTML5 WebSockets 基础使用教程   彬Go_files/publishlist_v2.js"></script><a href="http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_sub_c1s16.gif" alt="feedsky" vspace="2" style="margin-bottom:3px"></a><br><a href="http://www.zhuaxia.com/add_channel.php?url=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_zhuaxia.gif" alt="抓虾" vspace="2" style="margin-bottom:3px"></a><br><a href="http://www.pageflakes.com/subscribe.aspx?url=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_pageflakes.gif" alt="pageflakes" vspace="2" style="margin-bottom:3px"></a><br><a href="http://www.rojo.com/add-subscription?resource=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_rojo.gif" alt="Rojo" vspace="2" style="margin-bottom:3px"></a><br><a href="http://fusion.google.com/add?feedurl=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_google.gif" alt="google reader" vspace="2" style="margin-bottom:3px"></a><br><a href="http://www.netvibes.com/subscribe.php?url=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_netvibes.gif" alt="netvibes" vspace="2" style="margin-bottom:3px"></a><br><a href="http://add.my.yahoo.com/rss?url=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_yahoo.gif" alt="my yahoo" vspace="2" style="margin-bottom:3px"></a><br><a href="http://www.newsgator.com/ngs/subscriber/subfext.aspx?url=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_newsgator.gif" alt="newsgator" vspace="2" style="margin-bottom:3px"></a><br><a href="http://www.bloglines.com/sub/http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_bloglines.gif" alt="bloglines" vspace="2" style="margin-bottom:3px"></a><br><a href="http://www.xianguo.com/subscribe.php?url=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_xianguo.gif" alt="鲜果" vspace="2" style="margin-bottom:3px"></a><br><a href="http://inezha.com/add?url=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_nazha.gif" alt="哪吒" vspace="2" style="margin-bottom:3px"></a><br><a href="http://reader.youdao.com/b.do?keyfrom=feedsky&url=http://feed.feedsky.com/bingo929" target="_blank"><img border="0" src="./HTML5 WebSockets 基础使用教程   彬Go_files/icon_subshot01_youdao.gif" alt="有道" vspace="2" style="margin-bottom:3px"></a>
<!-- Feedsky FEED发布代码结束 -->
</div>

<div id="tag_cloud-2" class="widget widget_tag_cloud"><div class="widgetTop"></div><h2 class="widgettitle">彬GO标签云</h2><div><a href="http://blog.bingo929.com/tag/works" class="tag-link-86" title="8 个话题" style="font-size: 12.6666666667pt;">作品</a>
<a href="http://blog.bingo929.com/tag/creativity" class="tag-link-112" title="9 个话题" style="font-size: 13.1631205674pt;">创意</a>
<a href="http://blog.bingo929.com/tag/web-develop" class="tag-link-159" title="36 个话题" style="font-size: 18.8226950355pt;">前端开发</a>
<a href="http://blog.bingo929.com/tag/animal" class="tag-link-121" title="4 个话题" style="font-size: 10.1843971631pt;">动物</a>
<a href="http://blog.bingo929.com/tag/beijing-olympics" class="tag-link-104" title="10 个话题" style="font-size: 13.5602836879pt;">北京奥运会</a>
<a href="http://blog.bingo929.com/tag/witkey" class="tag-link-34" title="3 个话题" style="font-size: 9.1914893617pt;">威客</a>
<a href="http://blog.bingo929.com/tag/tool" class="tag-link-148" title="6 个话题" style="font-size: 11.6737588652pt;">工具</a>
<a href="http://blog.bingo929.com/tag/effect-picture" class="tag-link-32" title="4 个话题" style="font-size: 10.1843971631pt;">效果图</a>
<a href="http://blog.bingo929.com/tag/tutorial" class="tag-link-158" title="36 个话题" style="font-size: 18.8226950355pt;">教程</a>
<a href="http://blog.bingo929.com/tag/funny" class="tag-link-129" title="76 个话题" style="font-size: 22pt;">有趣</a>
<a href="http://blog.bingo929.com/tag/enjoy" class="tag-link-157" title="6 个话题" style="font-size: 11.6737588652pt;">欣赏</a>
<a href="http://blog.bingo929.com/tag/game" class="tag-link-131" title="9 个话题" style="font-size: 13.1631205674pt;">游戏</a>
<a href="http://blog.bingo929.com/tag/photo" class="tag-link-119" title="6 个话题" style="font-size: 11.6737588652pt;">照片</a>
<a href="http://blog.bingo929.com/tag/user-experience" class="tag-link-154" title="14 个话题" style="font-size: 14.9503546099pt;">用户体验</a>
<a href="http://blog.bingo929.com/tag/group-pic" class="tag-link-114" title="29 个话题" style="font-size: 17.9290780142pt;">组图</a>
<a href="http://blog.bingo929.com/tag/website" class="tag-link-31" title="9 个话题" style="font-size: 13.1631205674pt;">网站</a>
<a href="http://blog.bingo929.com/tag/usability" class="tag-link-146" title="16 个话题" style="font-size: 15.4468085106pt;">网站可用性</a>
<a href="http://blog.bingo929.com/tag/web-design" class="tag-link-3" title="46 个话题" style="font-size: 19.8156028369pt;">网页设计</a>
<a href="http://blog.bingo929.com/tag/videos" class="tag-link-108" title="32 个话题" style="font-size: 18.3262411348pt;">视频</a>
<a href="http://blog.bingo929.com/tag/resource" class="tag-link-141" title="44 个话题" style="font-size: 19.6170212766pt;">资源</a>
<a href="http://blog.bingo929.com/tag/funny-pics" class="tag-link-117" title="15 个话题" style="font-size: 15.1489361702pt;">趣图</a>
<a href="http://blog.bingo929.com/tag/football" class="tag-link-128" title="3 个话题" style="font-size: 9.1914893617pt;">足球</a>
<a href="http://blog.bingo929.com/tag/match-color" class="tag-link-78" title="2 个话题" style="font-size: 8pt;">配色</a>
<a href="http://blog.bingo929.com/tag/ajax" class="tag-link-7" title="8 个话题" style="font-size: 12.6666666667pt;">Ajax</a>
<a href="http://blog.bingo929.com/tag/css" class="tag-link-4" title="49 个话题" style="font-size: 20.1134751773pt;">CSS</a>
<a href="http://blog.bingo929.com/tag/css%e5%85%bc%e5%ae%b9%e9%97%ae%e9%a2%98" class="tag-link-87" title="11 个话题" style="font-size: 13.9574468085pt;">CSS兼容问题</a>
<a href="http://blog.bingo929.com/tag/css%e6%a1%86%e6%9e%b6" class="tag-link-160" title="6 个话题" style="font-size: 11.6737588652pt;">CSS框架</a>
<a href="http://blog.bingo929.com/tag/css3" class="tag-link-161" title="5 个话题" style="font-size: 10.9787234043pt;">CSS3</a>
<a href="http://blog.bingo929.com/tag/css-hack" class="tag-link-88" title="5 个话题" style="font-size: 10.9787234043pt;">css Hack</a>
<a href="http://blog.bingo929.com/tag/divcss" class="tag-link-66" title="41 个话题" style="font-size: 19.3191489362pt;">DIV+CSS</a>
<a href="http://blog.bingo929.com/tag/google" class="tag-link-62" title="26 个话题" style="font-size: 17.4326241135pt;">Google</a>
<a href="http://blog.bingo929.com/tag/google-chrome" class="tag-link-132" title="7 个话题" style="font-size: 12.170212766pt;">Google Chrome</a>
<a href="http://blog.bingo929.com/tag/google-earth" class="tag-link-123" title="7 个话题" style="font-size: 12.170212766pt;">Google Earth看地球</a>
<a href="http://blog.bingo929.com/tag/html5" class="tag-link-162" title="7 个话题" style="font-size: 12.170212766pt;">HTML5</a>
<a href="http://blog.bingo929.com/tag/javascript" class="tag-link-8" title="18 个话题" style="font-size: 15.9432624113pt;">Javascript</a>
<a href="http://blog.bingo929.com/tag/jquery" class="tag-link-138" title="6 个话题" style="font-size: 11.6737588652pt;">JQuery</a>
<a href="http://blog.bingo929.com/tag/logo" class="tag-link-55" title="7 个话题" style="font-size: 12.170212766pt;">LOGO</a>
<a href="http://blog.bingo929.com/tag/mootools" class="tag-link-139" title="3 个话题" style="font-size: 9.1914893617pt;">Mootools</a>
<a href="http://blog.bingo929.com/tag/photoshop" class="tag-link-127" title="19 个话题" style="font-size: 16.1418439716pt;">photoshop</a>
<a href="http://blog.bingo929.com/tag/ps-rip" class="tag-link-130" title="4 个话题" style="font-size: 10.1843971631pt;">PS破绽</a>
<a href="http://blog.bingo929.com/tag/remi-gaillard" class="tag-link-120" title="12 个话题" style="font-size: 14.2553191489pt;">Remi Gaillard系列</a>
<a href="http://blog.bingo929.com/tag/seo" class="tag-link-6" title="6 个话题" style="font-size: 11.6737588652pt;">SEO</a>
<a href="http://blog.bingo929.com/tag/web-standard" class="tag-link-29" title="17 个话题" style="font-size: 15.7446808511pt;">web标准</a>
<a href="http://blog.bingo929.com/tag/web20" class="tag-link-57" title="4 个话题" style="font-size: 10.1843971631pt;">Web2.0</a>
<a href="http://blog.bingo929.com/tag/wordpress" class="tag-link-68" title="8 个话题" style="font-size: 12.6666666667pt;">WordPress</a></div>
</div><div id="linkcat-2" class="widget widget_links"><div class="widgetTop"></div><h2 class="widgettitle">前端同僚</h2>
	<ul class="xoxo blogroll">
<li><a href="http://www.cssforest.org/blog/" rel="friend" target="_blank">CSS森林</a></li>
<li><a href="http://www.hozin.com/" rel="friend" target="_blank">HoZiN</a></li>
<li><a href="http://www.html5cn.org/" rel="co-worker" target="_blank">HTML5中国</a></li>
<li><a href="http://fed.renren.com/" rel="acquaintance" title="人人网FED" target="_blank">人人网FED</a>
人人网FED</li>
<li><a href="http://jingwei.li/blog/" rel="colleague" target="_blank">宇义' s blog</a></li>
<li><a href="http://www.soberma.com/" rel="acquaintance" target="_blank">寂寞哥的前端往事</a></li>
<li><a href="http://www.css88.com/" rel="friend" target="_blank">愚人码头</a></li>

	</ul>
</div>
<div id="meta-2" class="widget widget_meta"><div class="widgetTop"></div><h2 class="widgettitle">彬GO功能</h2>			<ul>
						<li><a href="http://blog.bingo929.com/wp-login.php">登录</a></li>
			<li><a href="http://blog.bingo929.com/feed" title="使用 RSS 2.0 同步站点内容">文章 <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://blog.bingo929.com/comments/feed" title="使用 RSS 同步站点的近期评论">评论 <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.org/" title="基于 WordPress，优美的个人信息发布平台。">WordPress.org</a></li>
						</ul>
</div></div></div>

</div> 
<!-- end content left -->
</div> 
<div class="Footer"><div class="FL"></div><div class="FR"></div>
<p>Copyright © 2008-2009 - <strong>彬Go </strong><br><br>  
  <a target="_blank" href="http://validator.w3.org/check?uri=referer">
  <img src="./HTML5 WebSockets 基础使用教程   彬Go_files/valid-xhtml10-blue" alt="Valid XHTML 1.0 Transitional" height="31" width="88"></a>
  <a target="_blank" href="http://jigsaw.w3.org/css-validator/validator?profile=css21&warning=0&uri=http%3A%2F%2Fblog.bingo929.com%2Findex.php">
  <img style="border:0;width:88px;height:31px" src="./HTML5 WebSockets 基础使用教程   彬Go_files/vcss" alt="Valid CSS!">
  </a>
</p>
</div>

</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./HTML5 WebSockets 基础使用教程   彬Go_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7349190-2");
pageTracker._trackPageview();
} catch(err) {}</script>



<!-- Dynamic page generated in 1.286 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2012-05-21 21:52:51 -->
<!-- super cache --></body></html>